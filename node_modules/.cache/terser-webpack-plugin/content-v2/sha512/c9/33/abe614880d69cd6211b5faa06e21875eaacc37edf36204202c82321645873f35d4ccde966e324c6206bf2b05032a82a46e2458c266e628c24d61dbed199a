{"code":"(this[\"webpackJsonpnitro-react\"]=this[\"webpackJsonpnitro-react\"]||[]).push([[0],{133:function(e,t,s){},134:function(e,t,s){\"use strict\";s.r(t);var n=s(38),r=s(86),c=s(1),i=s(72),a=s(2);function o(){return a.ef.instance}function l(e){o().addLinkEventTracker(e)}function d(){return o().avatar}function u(e){return d().structureData.getPalette(e)}function j(e){return d().structureData.getSetType(e)}function h(){return o().cameraManager}function b(){return o().core}function g(){return b().configuration}function m(e){e=e.startsWith(\"event:\")?e.substring(6):e,o().createLinkEvent(e)}function O(){return o().communication}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o().getConfiguration(e,t)}function f(){return O().connection}function x(){return o().localization}function _(){return o().ticker}const I=e=>{e&&e.length&&(e.startsWith(\"http\")?a.ce.openWebPage(e):m(e))};function E(e){o().removeLinkEventTracker(e)}function C(){return o().roomEngine}let v=!1,N=0,T=0;const S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const s=e.clientX,n=e.clientY;let r=e.type;switch(r===a.Ve.MOUSE_CLICK&&(N&&(T=1,N>=Date.now()-300&&T++),N=Date.now(),2===T&&(v||(r=a.Ve.DOUBLE_CLICK),T=0,N=null)),r){case a.Ve.MOUSE_CLICK:case a.Ve.DOUBLE_CLICK:break;case a.Ve.MOUSE_MOVE:v=!0;break;case a.Ve.MOUSE_DOWN:v=!1;break;case a.Ve.MOUSE_UP:case a.Ve.RIGHT_CLICK:break;default:return}C().dispatchMouseEvent(t,s,n,r,e.altKey,e.ctrlKey||e.metaKey,e.shiftKey,!1)};let w=!1,R=0,y=0;const k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=0,o=0;e.touches[0]?(i=e.touches[0].clientX,o=e.touches[0].clientY):e.changedTouches[0]&&(i=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY);let l=e.type;switch(s&&(l=a.hi.TOUCH_LONG),l!==a.Ve.MOUSE_CLICK&&l!==a.hi.TOUCH_END||(l=a.Ve.MOUSE_CLICK,R&&(y=1,R>=Date.now()-300&&y++),R=Date.now(),2===y&&(w||(l=a.Ve.DOUBLE_CLICK),y=0,R=null)),l){case a.Ve.MOUSE_CLICK:case a.Ve.DOUBLE_CLICK:break;case a.hi.TOUCH_START:l=a.Ve.MOUSE_DOWN,w=!1;break;case a.hi.TOUCH_MOVE:l=a.Ve.MOUSE_MOVE,w=!0;break;case a.hi.TOUCH_END:l=a.Ve.MOUSE_UP;break;case a.hi.TOUCH_LONG:l=a.Ve.MOUSE_DOWN_LONG;break;default:return}l===a.hi.TOUCH_START&&C().dispatchMouseEvent(t,i,o,l,n,r,c,!1),C().dispatchMouseEvent(t,i,o,l,n,r,c,!1)};function A(e){if(!e||!e.model)return!1;return F().userId===e.model.getValue(a.ch.FURNITURE_OWNER_ID)}function D(e,t,s){return!!e&&(e.isRoomOwner||e.controllerLevel>=a.yg.GUEST||F().isModerator||A(C().getRoomObject(e.roomId,t,s)))}function L(){return o().roomSessionManager}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;L().createSession(e,t)}function U(){const e=pe();if(!e)return a.l.POSTURE_STAND;return e.model.getValue(a.ch.FIGURE_CAN_STAND_UP)}function M(){const e=pe();if(!e)return!1;const t=e.model.getValue(a.ch.FIGURE_EFFECT);return!(29===t||30===t||185===t)}function F(){return o().sessionDataManager}function B(){return p(\"hc.disabled\",!1)?a.Xd.VIP:F().clubLevel}class H{}H.OKAY=0,H.MISSING_OFFER=1,H.FURNI_LIMIT_REACHED=2,H.NOT_IN_ROOM=3,H.NOT_ROOM_OWNER=4,H.GUILD_ROOM=5,H.VISITORS_IN_ROOM=6;class G{constructor(e,t,s){this._depth=0,this._localization=\"\",this._pageId=-1,this._pageName=\"\",this._iconId=0,this._children=void 0,this._offerIds=void 0,this._parent=void 0,this._isVisible=void 0,this._isActive=void 0,this._isOpen=void 0,this._depth=t,this._parent=s,this._localization=e.localization,this._pageId=e.pageId,this._pageName=e.pageName,this._iconId=e.icon,this._children=[],this._offerIds=e.offerIds,this._isVisible=e.visible,this._isActive=!1,this._isOpen=!1}activate(){this._isActive=!0}deactivate(){this._isActive=!1}open(){this._isOpen=!0}close(){this._isOpen=!1}addChild(e){e&&this._children.push(e)}get depth(){return this._depth}get isBranch(){return this._children.length>0}get isLeaf(){return 0===this._children.length}get localization(){return this._localization}get pageId(){return this._pageId}get pageName(){return this._pageName}get iconId(){return this._iconId}get children(){return this._children}get offerIds(){return this._offerIds}get parent(){return this._parent}get isVisible(){return this._isVisible}get isActive(){return this._isActive}get isOpen(){return this._isOpen}}class W{constructor(e,t,s,n,r){let c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;this._pageId=void 0,this._layoutCode=void 0,this._localization=void 0,this._offers=void 0,this._acceptSeasonCurrencyAsCredits=void 0,this._mode=void 0,this._pageId=e,this._layoutCode=t,this._localization=s,this._offers=n,this._acceptSeasonCurrencyAsCredits=r;for(const i of n)i.page=this;this._mode=-1===c?W.MODE_NORMAL:c}get pageId(){return this._pageId}get layoutCode(){return this._layoutCode}get localization(){return this._localization}get offers(){return this._offers}get acceptSeasonCurrencyAsCredits(){return this._acceptSeasonCurrencyAsCredits}get mode(){return this._mode}}W.MODE_NORMAL=0;class V{}V.DUCKET_INFO=\"ducket_info\",V.CREDITS=\"credits\",V.AVATAR_EFFECTS=\"avatar_effects\",V.HC_MEMBERSHIP=\"hc_membership\",V.CLUB_GIFTS=\"club_gifts\",V.LIMITED_SOLD=\"limited_sold\",V.PET_ACCESSORIES=\"pet_accessories\",V.TRAX_SONGS=\"trax_songs\",V.NEW_ADDITIONS=\"new_additions\",V.QUEST_SHELL=\"quest_shell\",V.QUEST_SNOWFLAKES=\"quest_snowflakes\",V.VAL_QUESTS=\"val_quests\",V.GUILD_CUSTOM_FURNI=\"guild_custom_furni\",V.GIFT_SHOP=\"gift_shop\",V.HORSE_STYLES=\"horse_styles\",V.HORSE_SHOE=\"horse_shoe\",V.SET_EASTER=\"set_easter\",V.ECOTRON_TRANSFORM=\"ecotron_transform\",V.LOYALTY_INFO=\"loyalty_info\",V.ROOM_BUNDLES=\"room_bundles\",V.ROOM_BUNDLES_MOBILE=\"room_bundles_mobile\",V.HABBO_CLUB_DESKTOP=\"habbo_club_desktop\",V.MOBILE_SUBSCRIPTIONS=\"mobile_subscriptions\";class q{constructor(e,t){this.breed=e,this.palettes=t}}class z{}z.NONE=0,z.CONFIRM=1,z.PURCHASE=2,z.NO_CREDITS=3,z.NO_POINTS=4,z.SOLD_OUT=5,z.FAILED=6;class Y{}Y.NORMAL=\"NORMAL\",Y.BUILDER=\"BUILDERS_CLUB\";const $=(e,t)=>{const s=e.get(t),n=[];if(s&&s.length)for(const r of s)r.isVisible&&n.push(r);return n},K=(e,t,s,n)=>{if(s.isVisible&&s.pageId>0){let r=!1;const c=[s.pageName,s.localization].join(\" \").toLowerCase().replace(/ /gi,\"\");if(c.indexOf(e)>-1&&(n.push(s),r=!0),!r)for(const e of t)if(c.indexOf(e)>=0){n.push(s);break}}for(const r of s.children)K(e,t,r,n)};class X{}X.WALL=\"i\",X.FLOOR=\"s\",X.EFFECT=\"e\",X.HABBO_CLUB=\"h\",X.BADGE=\"b\",X.GAME_TOKEN=\"GAME_TOKEN\",X.PET=\"p\",X.ROBOT=\"r\";class Q{constructor(e,t,s,n,r,c){let i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;this._productType=void 0,this._productClassId=void 0,this._extraParam=void 0,this._productCount=void 0,this._productData=void 0,this._furnitureData=void 0,this._isUniqueLimitedItem=void 0,this._uniqueLimitedItemSeriesSize=void 0,this._uniqueLimitedItemsLeft=void 0,this._productType=e.toLowerCase(),this._productClassId=t,this._extraParam=s,this._productCount=n,this._productData=r,this._furnitureData=c,this._isUniqueLimitedItem=i,this._uniqueLimitedItemSeriesSize=a,this._uniqueLimitedItemsLeft=o}static stripAddonProducts(e){return 1===e.length?e:e.filter((e=>e.productType!==X.BADGE&&e.productType!==X.EFFECT&&e.productClassId!==Q.EFFECT_CLASSID_NINJA_DISAPPEAR))}getIconUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(this._productType){case X.FLOOR:return C().getFurnitureFloorIconUrl(this.productClassId);case X.WALL:if(e&&this._furnitureData){let t=\"\";switch(this._furnitureData.className){case\"floor\":t=[\"th\",this._furnitureData.className,e.product.extraParam].join(\"_\");break;case\"wallpaper\":t=[\"th\",\"wall\",e.product.extraParam].join(\"_\");break;case\"landscape\":t=[\"th\",this._furnitureData.className,(e.product.extraParam||\"\").replace(\".\",\"_\"),\"001\"].join(\"_\")}if(\"\"!==t){return`${p(\"catalog.asset.url\")}/${t}.png`}}return C().getFurnitureWallIconUrl(this.productClassId,this._extraParam);case X.EFFECT:case X.HABBO_CLUB:return this.productClassId,\"\";case X.BADGE:return F().getBadgeUrl(this._extraParam);case X.ROBOT:return null}return null}get productType(){return this._productType}get productClassId(){return this._productClassId}get extraParam(){return this._extraParam}set extraParam(e){this._extraParam=e}get productCount(){return this._productCount}get productData(){return this._productData}get furnitureData(){return this._furnitureData}get isUniqueLimitedItem(){return this._isUniqueLimitedItem}get uniqueLimitedItemSeriesSize(){return this._uniqueLimitedItemSeriesSize}get uniqueLimitedItemsLeft(){return this._uniqueLimitedItemsLeft}set uniqueLimitedItemsLeft(e){this._uniqueLimitedItemsLeft=e}}Q.EFFECT_CLASSID_NINJA_DISAPPEAR=108;class J{constructor(e,t,s,n,r,c,i,a,o,l){this._pricingModel=void 0,this._priceType=void 0,this._offerId=void 0,this._localizationId=void 0,this._priceInCredits=void 0,this._priceInActivityPoints=void 0,this._activityPointType=void 0,this._giftable=void 0,this._isRentOffer=void 0,this._page=void 0,this._clubLevel=0,this._products=void 0,this._badgeCode=void 0,this._bundlePurchaseAllowed=!1,this._offerId=e,this._localizationId=t,this._isRentOffer=s,this._priceInCredits=n,this._priceInActivityPoints=r,this._activityPointType=c,this._giftable=i,this._clubLevel=a,this._products=o,this._bundlePurchaseAllowed=l,this.setPricingModelForProducts(),this.setPricingType();for(const d of o)if(d.productType===X.BADGE){this._badgeCode=d.extraParam;break}}activate(){}get clubLevel(){return this._clubLevel}get page(){return this._page}set page(e){this._page=e}get offerId(){return this._offerId}get localizationId(){return this._localizationId}get priceInCredits(){return this._priceInCredits}get priceInActivityPoints(){return this._priceInActivityPoints}get activityPointType(){return this._activityPointType}get giftable(){return this._giftable}get product(){if(!this._products||!this._products.length)return null;if(1===this._products.length)return this._products[0];const e=Q.stripAddonProducts(this._products);return e.length?e[0]:null}get pricingModel(){return this._pricingModel}get priceType(){return this._priceType}get bundlePurchaseAllowed(){return this._bundlePurchaseAllowed}get isRentOffer(){return this._isRentOffer}get badgeCode(){return this._badgeCode}get localizationName(){const e=je(this._localizationId);return e?e.name:We(this._localizationId)}get localizationDescription(){const e=je(this._localizationId);return e?e.description:We(this._localizationId)}get isLazy(){return!1}get products(){return this._products}setPricingModelForProducts(){const e=Q.stripAddonProducts(this._products);1===e.length?1===e[0].productCount?this._pricingModel=J.PRICING_MODEL_SINGLE:this._pricingModel=J.PRICING_MODEL_MULTI:e.length>1?this._pricingModel=J.PRICING_MODEL_BUNDLE:this._pricingModel=J.PRICING_MODEL_UNKNOWN}setPricingType(){this._priceInCredits>0&&this._priceInActivityPoints>0?this._priceType=J.PRICE_TYPE_CREDITS_ACTIVITYPOINTS:this._priceInCredits>0?this._priceType=J.PRICE_TYPE_CREDITS:this._priceInActivityPoints>0?this._priceType=J.PRICE_TYPE_ACTIVITYPOINTS:this._priceType=J.PRICE_TYPE_NONE}clone(){const e=[],t=je(this.localizationId);for(const n of this._products){const s=le(n.productClassId,n.productType);e.push(new Q(n.productType,n.productClassId,n.extraParam,n.productCount,t,s))}const s=new J(this.offerId,this.localizationId,this.isRentOffer,this.priceInCredits,this.priceInActivityPoints,this.activityPointType,this.giftable,this.clubLevel,e,this.bundlePurchaseAllowed);return s.page=this.page,s}}J.PRICING_MODEL_UNKNOWN=\"pricing_model_unknown\",J.PRICING_MODEL_SINGLE=\"pricing_model_single\",J.PRICING_MODEL_MULTI=\"pricing_model_multi\",J.PRICING_MODEL_BUNDLE=\"pricing_model_bundle\",J.PRICING_MODEL_FURNITURE=\"pricing_model_furniture\",J.PRICE_TYPE_NONE=\"price_type_none\",J.PRICE_TYPE_CREDITS=\"price_type_credits\",J.PRICE_TYPE_ACTIVITYPOINTS=\"price_type_activitypoints\",J.PRICE_TYPE_CREDITS_ACTIVITYPOINTS=\"price_type_credits_and_activitypoints\";class Z{constructor(e){this._furniData=void 0,this._page=void 0,this._product=void 0,this._furniData=e,this._product=new Q(this._furniData.type,this._furniData.id,this._furniData.customParams,1,je(this._furniData.className),this._furniData)}activate(){Ee(new a.Lc(this._furniData.rentOfferId>-1?this._furniData.rentOfferId:this._furniData.purchaseOfferId))}get offerId(){return this.isRentOffer?this._furniData.rentOfferId:this._furniData.purchaseOfferId}get priceInActivityPoints(){return 0}get activityPointType(){return 0}get priceInCredits(){return 0}get page(){return this._page}set page(e){this._page=e}get priceType(){return\"\"}get product(){return this._product}get products(){return[this._product]}get localizationId(){return\"roomItem.name.\"+this._furniData.id}get bundlePurchaseAllowed(){return!1}get isRentOffer(){return this._furniData.rentOfferId>-1}get giftable(){return!1}get pricingModel(){return J.PRICING_MODEL_FURNITURE}get clubLevel(){return 0}get badgeCode(){return\"\"}get localizationName(){return this._furniData.name}get localizationDescription(){return this._furniData.description}get isLazy(){return!0}}const ee=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=null;switch(e.toLocaleLowerCase()){case X.FLOOR:n=C().getFurnitureFloorIconUrl(t);break;case X.WALL:n=C().getFurnitureWallIconUrl(t,s)}return n};class te{constructor(e){this._isEnabled=!1,this._price=null,this._stuffTypes=null,this._boxTypes=null,this._ribbonTypes=null,this._defaultStuffTypes=null,this._isEnabled=e.isEnabled,this._price=e.price,this._boxTypes=e.boxTypes,this._ribbonTypes=e.ribbonTypes,this._stuffTypes=e.giftWrappers,this._defaultStuffTypes=e.giftFurnis}get isEnabled(){return this._isEnabled}get price(){return this._price}get stuffTypes(){return this._stuffTypes}get boxTypes(){return this._boxTypes}get ribbonTypes(){return this._ribbonTypes}get defaultStuffTypes(){return this._defaultStuffTypes}}class se{constructor(e,t,s,n,r,c,i,a){let o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1;this._offerId=void 0,this._furniId=void 0,this._furniType=void 0,this._extraData=void 0,this._stuffData=void 0,this._price=void 0,this._averagePrice=void 0,this._imageCallback=void 0,this._status=void 0,this._timeLeftMinutes=-1,this._offerCount=void 0,this._image=void 0,this._offerId=e,this._furniId=t,this._furniType=s,this._extraData=n,this._stuffData=r,this._price=c,this._status=i,this._averagePrice=a,this._offerCount=o}get offerId(){return this._offerId}set offerId(e){this._offerId=e}get furniId(){return this._furniId}get furniType(){return this._furniType}get extraData(){return this._extraData}get stuffData(){return this._stuffData}get price(){return this._price}set price(e){this._price=e}get averagePrice(){return this._averagePrice}get image(){return this._image}set image(e){this._image=e}get imageCallback(){return this._imageCallback}set imageCallback(e){this._imageCallback=e}get status(){return this._status}get timeLeftMinutes(){return this._timeLeftMinutes}set timeLeftMinutes(e){this._timeLeftMinutes=e}get offerCount(){return this._offerCount}set offerCount(e){this._offerCount=e}get isUniqueLimitedItem(){return this.stuffData&&this.stuffData.uniqueSeries>0}}se.TYPE_FLOOR=1,se.TYPE_WALL=2;class ne{}ne.ONGOING=1,ne.ONGOING_OWN=1,ne.SOLD=2,ne.EXPIRED=3;class re{}re.BY_ACTIVITY=1,re.BY_VALUE=2,re.ADVANCED=3;class ce{constructor(e,t){this._images=void 0,this._texts=void 0,this._images=e,this._texts=t}getText(e){let t=this._texts[e]||\"\";return t&&t.length&&(t=t.replace(/\\r\\n|\\r|\\n/g,\"<br />\")),t}getImage(e){const t=this._images[e]||\"\";if(!t||!t.length)return null;let s=p(\"catalog.asset.image.url\");return s=s.replace(\"%name%\",t),s}}class ie{constructor(e,t,s,n,r,c,i,a){this.roomId=e,this.objectId=t,this.category=s,this.wallLocation=n,this.x=r,this.y=c,this.direction=i,this.offer=a}get offerId(){return this.offer.offerId}get productClassId(){return this.offer.product.productClassId}get productData(){return this.offer.product.productData}get furniData(){return this.offer.product.furnitureData}get extraParam(){return this.offer.product.extraParam}}class ae{constructor(){this._requestType=void 0,this._requestById=void 0,this._requestedByOfferId=void 0,this._requestByName=void 0,this._requestType=ae.REQUEST_TYPE_NONE}resetRequest(){this._requestType=ae.REQUEST_TYPE_NONE,this._requestById=-1,this._requestedByOfferId=-1,this._requestByName=null}get requestType(){return this._requestType}get requestById(){return this._requestById}set requestById(e){this._requestType=ae.REQUEST_TYPE_ID,this._requestById=e}get requestedByOfferId(){return this._requestedByOfferId}set requestedByOfferId(e){this._requestType=ae.REQUEST_TYPE_OFFER,this._requestedByOfferId=e}get requestByName(){return this._requestByName}set requestByName(e){this._requestType=ae.REQUEST_TYPE_NAME,this._requestByName=e}}ae.REQUEST_TYPE_NONE=0,ae.REQUEST_TYPE_ID=1,ae.REQUEST_TYPE_OFFER=2,ae.REQUEST_TYPE_NAME=3;class oe{constructor(e,t,s){this.searchValue=e,this.offers=t,this.filteredNodes=s}}function le(e,t){let s=null;switch(t.toLowerCase()){case X.FLOOR:s=F().getFloorItemData(e);break;case X.WALL:s=F().getWallItemData(e)}return s}function de(e,t,s){const n=C().getRoomObject(e,t,s);if(!n)return;const r=n.model.getValue(a.ch.FURNITURE_TYPE_ID);switch(s){case a.Wg.FLOOR:return F().getFloorItemData(r);case a.Wg.WALL:return F().getWallItemData(r)}return null}function ue(){const e=pe();if(!e)return a.l.POSTURE_STAND;return e.model.getValue(a.ch.FIGURE_POSTURE)}function je(e){return e?F().getProductData(e):null}function he(){return L().getSession(-1)}function be(){Ee(new a.Db)}function ge(){return F().clubLevel>=a.Xd.CLUB}function me(){return F().clubLevel>=a.Xd.VIP}const Oe=()=>{he()&&(be(),L().removeSession(-1))};function pe(){const e=F().userId,t=C().activeRoomId,s=a.Wg.UNIT,n=C().getTotalObjectsForManager(t,s);let r=0;for(;r<n;){const n=C().getRoomObjectByIndex(t,r,s);if(n){const t=he().userDataManager.getUserDataByIndex(n.id);if(t&&t.webID===e)return n}r++}return null}const fe=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=C().getRoomObjectBoundingRectangle(e,t,s,n);return r?(r.x=Math.round(r.x),r.y=Math.round(r.y),r):null},xe=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=C().getRoomObjectScreenLocation(e,t,s,n);return r?(r.x=Math.round(r.x),r.y=Math.round(r.y),r):null};function _e(e,t,s){C().processRoomObjectOperation(e,t,s)}function Ie(e){C().setActiveRoomId(e)}const Ee=e=>f().send(e),Ce=e=>{o().sendWorkerEvent(e)};class ve{static getAchievementBadgeCode(e){if(!e)return null;let t=e.badgeId;return e.finalLevel||(t=x().getPreviousLevelBadgeId(t)),t}static getAchievementCategoryImageUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=p(\"achievements.images.url\");let r=s?\"achicon_\":\"achcategory_\";return r+=e.code,null!==t&&(r+=\"_\"+(t>0?\"active\":\"inactive\")),n.replace(\"%image%\",r)}static getAchievementCategoryMaxProgress(e){if(!e)return 0;let t=0;for(const s of e.achievements)t+=s.levelCount;return t}static getAchievementCategoryProgress(e){if(!e)return 0;let t=0;for(const s of e.achievements)t+=s.finalLevel?s.level:s.level-1;return t}static getAchievementCategoryTotalUnseen(e){if(!e)return 0;let t=0;for(const s of e.achievements)s.unseen>0&&t++;return t}static getAchievementHasStarted(e){return!!e&&!!(e.finalLevel||e.level-1>0)}static getAchievementIsIgnored(e){if(!e)return!1;const t=p(\"achievements.unseen.ignored\"),s=e.badgeId.replace(/[0-9]/g,\"\");return t.indexOf(s)>=0}static getAchievementLevel(e){return e?e.finalLevel?e.level:e.level-1:0}}class Ne{constructor(e){this._code=void 0,this._achievements=void 0,this._code=e,this._achievements=[]}getProgress(){return ve.getAchievementCategoryProgress(this)}getMaxProgress(){return ve.getAchievementCategoryMaxProgress(this)}get code(){return this._code}get achievements(){return this._achievements}set achievements(e){this._achievements=e}}class Te{}Te.ACTION_SAVE=\"AEA_ACTION_SAVE\",Te.ACTION_CLEAR=\"AEA_ACTION_CLEAR\",Te.ACTION_RESET=\"AEA_ACTION_RESET\",Te.ACTION_RANDOMIZE=\"AEA_ACTION_RANDOMIZE\";class Se{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._partColor=void 0,this._isDisabled=void 0,this._isHC=void 0,this._isSelected=void 0,this._notifier=void 0,this._partColor=e,this._isDisabled=t,this._isHC=this._partColor.clubLevel>0,this._isSelected=!1}dispose(){this._partColor=null}get partColor(){return this._partColor}get color(){return a.sb.int2rgb(this._partColor.rgb)}get isDisabled(){return this._isDisabled}get isHC(){return this._isHC}get isSelected(){return this._isSelected}set isSelected(e){this._isSelected=e,this.notify&&this.notify()}get notify(){return this._notifier}set notify(e){this._notifier=e}}class we{constructor(e,t,s){this._name=void 0,this._parts=void 0,this._palettes=void 0,this._selectedPartIndex=-1,this._paletteIndexes=void 0,this._name=e,this._parts=t,this._palettes=s,this._selectedPartIndex=-1}static defaultColorId(e,t){if(!e||!e.length)return-1;let s=0;for(;s<e.length;){const n=e[s];if(n.partColor&&n.partColor.clubLevel<=t)return n.partColor.id;s++}return-1}init(){for(const e of this._parts)e&&e.init()}dispose(){if(this._parts){for(const e of this._parts)e.dispose();this._parts=null}if(this._palettes){for(const e of this._palettes)for(const t of e)t.dispose();this._palettes=null}this._selectedPartIndex=-1,this._paletteIndexes=null}selectPartId(e){if(!this._parts)return;let t=0;for(;t<this._parts.length;){if(this._parts[t].id===e)return void this.selectPartIndex(t);t++}}selectColorIds(e){if(!e||!this._palettes)return;this._paletteIndexes=new Array(e.length);let t=0;for(;t<this._palettes.length;){const s=this.getPalette(t);if(s){let n=0;if(e.length>t)n=e[t];else{const e=s[0];e&&e.partColor&&(n=e.partColor.id)}let r=0;for(;r<s.length;){const e=s[r];e.partColor.id===n?(this._paletteIndexes[t]=r,e.isSelected=!0):e.isSelected=!1,r++}}t++}this.updatePartColors()}selectPartIndex(e){if(!this._parts)return null;if(this._selectedPartIndex>=0&&this._parts.length>this._selectedPartIndex){const e=this._parts[this._selectedPartIndex];e&&(e.isSelected=!1)}if(this._parts.length>e){const t=this._parts[e];if(t)return t.isSelected=!0,this._selectedPartIndex=e,t}return null}selectColorIndex(e,t){const s=this.getPalette(t);if(!s)return null;if(s.length<=e)return null;this.deselectColorIndex(this._paletteIndexes[t],t),this._paletteIndexes[t]=e;const n=s[e];return n?(n.isSelected=!0,this.updatePartColors(),n):null}getCurrentColorIndex(e){return this._paletteIndexes[e]}deselectColorIndex(e,t){const s=this.getPalette(t);if(!s)return;if(s.length<=e)return;const n=s[e];n&&(n.isSelected=!1)}getSelectedColorIds(){if(!this._paletteIndexes||!this._paletteIndexes.length)return null;if(!this._palettes||!this._palettes.length)return null;const e=this._palettes[0];if(!e||!e.length)return null;const t=e[0];if(!t||!t.partColor)return null;const s=t.partColor.id,n=[];let r=0;for(;r<this._paletteIndexes.length;){const e=this._palettes[r];if(e&&!(e.length<=r))if(e.length>this._paletteIndexes[r]){const t=e[this._paletteIndexes[r]];t&&t.partColor?n.push(t.partColor.id):n.push(s)}else n.push(s);r++}const c=this.getCurrentPart();return c?n.slice(0,Math.max(c.maxColorIndex,1)):null}getSelectedColors(){const e=[];let t=0;for(;t<this._paletteIndexes.length;){const s=this.getSelectedColor(t);s?e.push(s.partColor):e.push(null),t++}return e}getSelectedColor(e){const t=this.getPalette(e);return!t||t.length<=this._paletteIndexes[e]?null:t[this._paletteIndexes[e]]}getSelectedColorId(e){const t=this.getSelectedColor(e);return t&&t.partColor?t.partColor.id:0}getPalette(e){return!this._paletteIndexes||!this._palettes||this._palettes.length<=e?null:this._palettes[e]}getCurrentPart(){return this._parts[this._selectedPartIndex]}updatePartColors(){const e=this.getSelectedColors();for(const t of this._parts)t&&(t.partColors=e)}hasClubSelectionsOverLevel(e){let t=!1;const s=this.getSelectedColors();if(s){let n=0;for(;n<s.length;){const r=s[n];r&&r.clubLevel>e&&(t=!0),n++}}const n=this.getCurrentPart();if(n&&n.partSet){const s=n.partSet;s&&s.clubLevel>e&&(t=!0)}return t}hasInvalidSelectedItems(e){const t=this.getCurrentPart();if(!t)return!1;const s=t.partSet;return s&&s.isSellable?e.indexOf(s.id)>-1:void 0}stripClubItemsOverLevel(e){const t=this.getCurrentPart();if(t&&t.partSet){if(t.partSet.clubLevel>e){const e=this.selectPartIndex(0);return e&&!e.partSet&&this.selectPartIndex(1),!0}}return!1}stripClubColorsOverLevel(e){const t=[],s=this.getSelectedColors(),n=this.getPalette(0);let r=!1;const c=we.defaultColorId(n,e);if(-1===c)return!1;let i=0;for(;i<s.length;){const n=s[i];n?n.clubLevel>e?(t.push(c),r=!0):t.push(n.id):(t.push(c),r=!0),i++}return r&&this.selectColorIds(t),r}get name(){return this._name}get parts(){return this._parts}get selectedPartIndex(){return this._selectedPartIndex}}class Re{static getGender(e){switch(e){case ye.MALE:case\"m\":case\"M\":e=ye.MALE;break;case ye.FEMALE:case\"f\":case\"F\":e=ye.FEMALE;break;default:e=ye.MALE}return e}static hasFigureSetId(e){return this.FIGURE_SET_IDS.indexOf(e)>=0}static createCategory(e,t){if(!e||!t||!this.CURRENT_FIGURE)return null;const s=[],n=[];let r=0;for(;r<this.MAX_PALETTES;)n.push([]),r++;const c=j(t);if(!c)return null;const i=u(c.paletteID);if(!i)return null;let a=this.CURRENT_FIGURE.getColorIds(t);a||(a=[]);const o=new Array(a.length),l=this.clubItemsDimmed,h=B();for(const d of i.colors.getValues())if(d.isSelectable&&(l||h>=d.clubLevel)){let e=0;for(;e<this.MAX_PALETTES;){const t=h<d.clubLevel,s=new Se(d,t);n[e].push(s),e++}if(t!==ye.FACE){let e=0;for(;e<a.length;)d.id===a[e]&&(o[e]=d),e++}}let b=[];b=l?d().getMandatoryAvatarPartSetIds(this.CURRENT_FIGURE.gender,2):d().getMandatoryAvatarPartSetIds(this.CURRENT_FIGURE.gender,h);if(-1===b.indexOf(t)){const e=new ke(null,null,!1);e.isClear=!0,s.push(e)}const g=t!==ye.FACE,m=c.partSets;for(r=m.length-1;r>=0;){const e=m.getWithIndex(r);let t=!1;if((e.gender===ye.UNISEX||e.gender===this.CURRENT_FIGURE.gender)&&(t=!0),e.isSelectable&&t&&(l||h>=e.clubLevel)){const t=h<e.clubLevel;let n=!0;e.isSellable&&(n=this.hasFigureSetId(e.id)),n&&s.push(new ke(e,o,g,t))}r--}for(s.sort(this.clubItemsFirst?this.clubSorter:this.noobSorter),r=0;r<this.MAX_PALETTES;)n[r].sort(this.colorSorter),r++;return new we(t,s,n)}static clubSorter(e,t){const s=e.partSet?e.partSet.clubLevel:9999999999,n=t.partSet?t.partSet.clubLevel:9999999999,r=!!e.partSet&&e.partSet.isSellable,c=!!t.partSet&&t.partSet.isSellable;return r&&!c?1:c&&!r||s>n?-1:s<n?1:e.partSet.id>t.partSet.id?-1:e.partSet.id<t.partSet.id?1:0}static colorSorter(e,t){const s=e.partColor?e.partColor.clubLevel:-1,n=t.partColor?t.partColor.clubLevel:-1;return s<n?-1:s>n?1:e.partColor.index<t.partColor.index?-1:e.partColor.index>t.partColor.index?1:0}static noobSorter(e,t){const s=e.partSet?e.partSet.clubLevel:-1,n=t.partSet?t.partSet.clubLevel:-1,r=!!e.partSet&&e.partSet.isSellable,c=!!t.partSet&&t.partSet.isSellable;return r&&!c?1:c&&!r||s<n?-1:s>n?1:e.partSet.id<t.partSet.id?-1:e.partSet.id>t.partSet.id?1:0}static avatarSetFirstSelectableColor(e){const t=j(e);if(!t)return-1;const s=u(t.paletteID);if(!s)return-1;for(const n of s.colors.getValues())if(n.isSelectable&&!(B()<n.clubLevel))return n.id;return-1}static get clubItemsFirst(){return p(\"avatareditor.show.clubitems.first\",!0)}static get clubItemsDimmed(){return p(\"avatareditor.show.clubitems.dimmed\",!0)}}Re.MAX_PALETTES=2,Re.CURRENT_FIGURE=null,Re.FIGURE_SET_IDS=[],Re.BOUND_FURNITURE_NAMES=[];class ye{constructor(){this._data=void 0,this._colors=void 0,this._gender=\"M\",this._direction=ye.DEFAULT_DIRECTION,this._avatarEffectType=-1,this._notifier=null}loadAvatarData(e,t){this._data=new Map,this._colors=new Map,this._gender=t,this.parseFigureString(e),this.updateView()}parseFigureString(e){if(!e)return;const t=e.split(\".\");if(t&&t.length)for(const s of t){const e=s.split(\"-\");if(!e.length)continue;const t=e[0],n=parseInt(e[1]),r=[];let c=2;for(;c<e.length;)r.push(parseInt(e[c])),c++;r.length||r.push(0),this.savePartSetId(t,n,!1),this.savePartSetColourId(t,r,!1)}}getPartSetId(e){const t=this._data.get(e);return void 0!==t?t:-1}getColorIds(e){const t=this._colors.get(e);return void 0!==t?t:[Re.avatarSetFirstSelectableColor(e)]}getFigureString(){let e=\"\";const t=[];for(const[n,r]of this._data.entries()){const e=this._colors.get(n);let s=n+\"-\"+r;if(e&&e.length){let t=0;for(;t<e.length;)s=s+\"-\"+e[t],t++}t.push(s)}let s=0;for(;s<t.length;)e+=t[s],s<t.length-1&&(e+=\".\"),s++;return e}savePartData(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.savePartSetId(e,t,n),this.savePartSetColourId(e,s,n)}savePartSetId(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case ye.FACE:case ye.HAIR:case ye.HAT:case ye.HEAD_ACCESSORIES:case ye.EYE_ACCESSORIES:case ye.FACE_ACCESSORIES:case ye.SHIRT:case ye.JACKET:case ye.CHEST_ACCESSORIES:case ye.CHEST_PRINTS:case ye.TROUSERS:case ye.SHOES:case ye.TROUSER_ACCESSORIES:t>=0?this._data.set(e,t):this._data.delete(e)}s&&this.updateView()}savePartSetColourId(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case ye.FACE:case ye.HAIR:case ye.HAT:case ye.HEAD_ACCESSORIES:case ye.EYE_ACCESSORIES:case ye.FACE_ACCESSORIES:case ye.SHIRT:case ye.JACKET:case ye.CHEST_ACCESSORIES:case ye.CHEST_PRINTS:case ye.TROUSERS:case ye.SHOES:case ye.TROUSER_ACCESSORIES:this._colors.set(e,t)}s&&this.updateView()}getFigureStringWithFace(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=\"\";const n=[ye.FACE],r=[];for(const i of n){const s=this._colors.get(i);if(!s)continue;let n=this._data.get(i);i===ye.FACE&&t&&(n=e);let c=i+\"-\"+n;if(n>=0){let e=0;for(;e<s.length;)c=c+\"-\"+s[e],e++}r.push(c)}let c=0;for(;c<r.length;)s+=r[c],c<r.length-1&&(s+=\".\"),c++;return s}updateView(){this.notify&&this.notify()}get gender(){return this._gender}get direction(){return this._direction}set direction(e){this._direction=e,this.updateView()}set avatarEffectType(e){this._avatarEffectType=e}get avatarEffectType(){return this._avatarEffectType}get notify(){return this._notifier}set notify(e){this._notifier=e}}ye.DEFAULT_DIRECTION=4,ye.MALE=\"M\",ye.FEMALE=\"F\",ye.UNISEX=\"U\",ye.SCALE=\"h\",ye.STD=\"std\",ye.DEFAULT_FRAME=\"0\",ye.FACE=\"hd\",ye.HAIR=\"hr\",ye.HAT=\"ha\",ye.HEAD_ACCESSORIES=\"he\",ye.EYE_ACCESSORIES=\"ea\",ye.FACE_ACCESSORIES=\"fa\",ye.JACKET=\"cc\",ye.SHIRT=\"ch\",ye.CHEST_ACCESSORIES=\"ca\",ye.CHEST_PRINTS=\"cp\",ye.TROUSERS=\"lg\",ye.SHOES=\"sh\",ye.TROUSER_ACCESSORIES=\"wa\",ye.SET_TYPES=[ye.FACE,ye.HAIR,ye.HAT,ye.HEAD_ACCESSORIES,ye.EYE_ACCESSORIES,ye.FACE_ACCESSORIES,ye.JACKET,ye.SHIRT,ye.CHEST_ACCESSORIES,ye.CHEST_PRINTS,ye.TROUSERS,ye.SHOES,ye.TROUSERS];class ke{constructor(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._renderManager=void 0,this._partSet=void 0,this._partColors=void 0,this._useColors=void 0,this._isDisabled=void 0,this._thumbContainer=void 0,this._imageUrl=void 0,this._maxColorIndex=void 0,this._isValidFigure=void 0,this._isHC=void 0,this._isSellable=void 0,this._isClear=void 0,this._isSelected=void 0,this._disposed=void 0,this._isInitalized=void 0,this._notifier=void 0,this._renderManager=d(),this._partSet=e,this._partColors=t,this._useColors=s,this._isDisabled=n,this._thumbContainer=null,this._imageUrl=null,this._maxColorIndex=0,this._isValidFigure=!1,this._isHC=!1,this._isSellable=!1,this._isClear=!1,this._isSelected=!1,this._disposed=!1,this._isInitalized=!1,e){const t=e.parts;for(const e of t)this._maxColorIndex=Math.max(this._maxColorIndex,e.colorLayerIndex)}}init(){this._isInitalized||(this._isInitalized=!0,this.update())}dispose(){this._disposed||(this._renderManager=null,this._partSet=null,this._partColors=null,this._imageUrl=null,this._disposed=!0,this._isInitalized=!1,this._thumbContainer&&(this._thumbContainer.destroy(),this._thumbContainer=null))}update(){this.updateThumbVisualization()}analyzeFigure(){if(!this._renderManager||!this._partSet||!this._partSet.parts||!this._partSet.parts.length)return!1;const e=this._renderManager.createFigureContainer(this.partSet.type+\"-\"+this.partSet.id);return this._renderManager.isFigureContainerReady(e)?(this._isValidFigure=!0,!0):(this._renderManager.downloadAvatarFigure(e,this),!1)}renderThumb(){if(!this._renderManager||!this._partSet)return null;if(!this._isValidFigure&&!this.analyzeFigure())return null;const e=this._partSet.parts.concat().sort(this.sortByDrawOrder),t=new a.if;for(const s of e){if(!s)continue;let e=null,n=0,r=!1;for(;!r&&n<ke.THUMB_DIRECTIONS.length;){const t=ye.SCALE+\"_\"+ye.STD+\"_\"+s.type+\"_\"+s.id+\"_\"+ke.THUMB_DIRECTIONS[n]+\"_\"+ye.DEFAULT_FRAME;e=this._renderManager.getAssetByName(t),e&&e.texture?r=!0:n++}if(!r)continue;const c=e.offsetX,i=e.offsetY;let o=null;if(this._useColors&&s.colorLayerIndex>0){const e=this._partColors[s.colorLayerIndex-1];e&&(o=e)}const l=new a.rf(e.texture);l.position.set(c,i),o&&(l.tint=o.rgb),t.addChild(l)}return t}updateThumbVisualization(){if(!this._isInitalized)return;let e=this._thumbContainer;e||(e=this.renderThumb()),e&&(this._partSet?(this._isHC=this._partSet.clubLevel>0,this._isSellable=this._partSet.isSellable):(this._isHC=!1,this._isSellable=!1),this._isDisabled&&this.setAlpha(e,.2),this._imageUrl=a.fi.generateImageUrl(e),this.notify&&this.notify())}setAlpha(e,t){return e.filters=[ke.ALPHA_FILTER],e}sortByDrawOrder(e,t){const s=ke.DRAW_ORDER.indexOf(e.type),n=ke.DRAW_ORDER.indexOf(t.type);return s<n?-1:s>n?1:e.index<t.index?-1:e.index>t.index?1:0}resetFigure(e){this.analyzeFigure()&&this.update()}get disposed(){return this._disposed}get id(){return this._partSet?this._partSet.id:-1}get partSet(){return this._partSet}set partColors(e){this._partColors=e,this.update()}get isDisabled(){return this._isDisabled}set thumbContainer(e){this._thumbContainer=e,this.update()}get imageUrl(){return this._imageUrl}get maxColorIndex(){return this._maxColorIndex}get isHC(){return this._isHC}get isSellable(){return this._isSellable}get isClear(){return this._isClear}set isClear(e){this._isClear=e}get isSelected(){return this._isSelected}set isSelected(e){this._isSelected=e,this.notify&&this.notify()}get notify(){return this._notifier}set notify(e){this._notifier=e}}ke.ALPHA_FILTER=new a.gf(.2),ke.THUMB_DIRECTIONS=[2,6,0,4,3,1],ke.DRAW_ORDER=[a.q.LEFT_HAND_ITEM,a.q.LEFT_HAND,a.q.LEFT_SLEEVE,a.q.LEFT_COAT_SLEEVE,a.q.BODY,a.q.SHOES,a.q.LEGS,a.q.CHEST,a.q.CHEST_ACCESSORY,a.q.COAT_CHEST,a.q.CHEST_PRINT,a.q.WAIST_ACCESSORY,a.q.RIGHT_HAND,a.q.RIGHT_SLEEVE,a.q.RIGHT_COAT_SLEEVE,a.q.HEAD,a.q.FACE,a.q.EYES,a.q.HAIR,a.q.HAIR_BIG,a.q.FACE_ACCESSORY,a.q.EYE_ACCESSORY,a.q.HEAD_ACCESSORY,a.q.HEAD_ACCESSORY_EXTRA,a.q.RIGHT_HAND_ITEM];class Ae{constructor(){this._categories=void 0,this._isInitalized=void 0,this._maxPaletteCount=void 0,this._disposed=void 0,this._isInitalized=!1,this._maxPaletteCount=0}dispose(){this._categories=null,this._disposed=!0}get disposed(){return this._disposed}init(){this._categories||(this._categories=new Map)}reset(){if(this._isInitalized=!1,this._categories)for(const e of this._categories.values())e&&e.dispose();this._categories=new Map}addCategory(e){let t=this._categories.get(e);t||(t=Re.createCategory(this,e),t&&(this._categories.set(e,t),this.updateSelectionsFromFigure(e)))}updateSelectionsFromFigure(e){const t=this._categories.get(e);if(!t)return;const s=Re.CURRENT_FIGURE.getPartSetId(e);let n=Re.CURRENT_FIGURE.getColorIds(e);n||(n=[]),t.selectPartId(s),t.selectColorIds(n)}hasClubSelectionsOverLevel(e){if(!this._categories)return!1;for(const t of this._categories.values())if(t&&t.hasClubSelectionsOverLevel(e))return!0;return!1}hasInvalidSelectedItems(e){if(!this._categories)return!1;for(const t of this._categories.values())if(t.hasInvalidSelectedItems(e))return!0;return!1}stripClubItemsOverLevel(e){if(!this._categories)return!1;let t=!1;for(const[s,n]of this._categories.entries()){let r=!1;if(n.stripClubItemsOverLevel(e)&&(r=!0),n.stripClubColorsOverLevel(e)&&(r=!0),r){const e=n.getCurrentPart();e&&Re.CURRENT_FIGURE&&Re.CURRENT_FIGURE.savePartData(s,e.id,n.getSelectedColorIds(),!0),t=!0}}return t}stripInvalidSellableItems(){if(!this._categories)return!1;let e=!1;for(const[t,s]of this._categories.entries()){if(!1){const n=s.getCurrentPart();n&&Re.CURRENT_FIGURE&&Re.CURRENT_FIGURE.savePartData(t,n.id,s.getSelectedColorIds(),!0),e=!0}}return e}selectPart(e,t){const s=this._categories.get(e);if(!s)return;const n=s.selectedPartIndex;s.selectPartIndex(t);const r=s.getCurrentPart();r&&(r.isDisabled?s.selectPartIndex(n):(this._maxPaletteCount=r.maxColorIndex,Re.CURRENT_FIGURE.savePartData(e,r.id,s.getSelectedColorIds(),!0)))}selectColor(e,t,s){const n=this._categories.get(e);if(!n)return;const r=n.getCurrentColorIndex(s);n.selectColorIndex(t,s);n.getSelectedColor(s).isDisabled?n.selectColorIndex(r,s):Re.CURRENT_FIGURE.savePartSetColourId(e,n.getSelectedColorIds(),!0)}getCategoryData(e){return this._isInitalized||this.init(),this._categories?this._categories.get(e):null}get categories(){return this._categories}get canSetGender(){return!1}get maxPaletteCount(){return this._maxPaletteCount||1}set maxPaletteCount(e){this._maxPaletteCount=e}get name(){return null}}class De extends Ae{constructor(){super(...arguments),this._imageCallBackHandled=!1}init(){super.init(),this.addCategory(ye.FACE),this._isInitalized=!0}selectColor(e,t,s){super.selectColor(e,t,s),this.updateSelectionsFromFigure(ye.FACE)}updateSelectionsFromFigure(e){if(!this._categories||!Re.CURRENT_FIGURE)return;const t=this._categories.get(e);if(!t)return;const s=Re.CURRENT_FIGURE.getPartSetId(e);let n=Re.CURRENT_FIGURE.getColorIds(e);n||(n=[]),t.selectPartId(s),t.selectColorIds(n);for(const r of t.parts){const e=t=>{const s=Re.CURRENT_FIGURE.getFigureStringWithFace(r.id),n=d().createAvatarImage(s,a.r.LARGE,null,{resetFigure:e,dispose:null,disposed:!1}),c=n.getImageAsSprite(a.s.HEAD);c&&(c.y=10,r.thumbContainer=c,setTimeout((()=>n.dispose()),0))};e(null)}}get canSetGender(){return!0}get name(){return a.n.GENERIC}}const Le=e=>{if(null==e||\"object\"!=typeof e)return e;const t=new e.constructor;for(const s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t};class Pe{static makeColorHex(e){return\"#\"+e}static makeColorNumberHex(e){let t=e.toString(16);if(t.length<6){const e=6-t.length;for(let s=0;s<e;s++)t=\"0\"+t}return\"#\"+t}static convertFromHex(e){return parseInt(e.replace(\"#\",\"\"),16)}}const Ue=e=>{let t=Math.floor(e/86400),s=Math.floor(e%86400/3600),n=Math.floor(e%86400%3600/60),r=e%86400%3600%60;return t.toString().padStart(2,\"0\")+\":\"+s.toString().padStart(2,\"0\")+\":\"+n.toString().padStart(2,\"0\")+\":\"+r.toString().padStart(2,\"0\")},Me=e=>{var t;return null!==(t=JSON.parse(window.localStorage.getItem(e)))&&void 0!==t?t:null},Fe=e=>{let t=o().localization.getBadgeDesc(e);return t&&t.length||(t=`badge_desc_${e}`),t},Be=e=>{let t=o().localization.getBadgeName(e);return t&&t.length||(t=`badge_name_${e}`),t};function He(e){return!e||isNaN(e)?\"0\":e.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\" \")}function Ge(e){if(!e||isNaN(e))return\"0\";let t=Math.abs(e);const s=Math.pow(10,1),n=e<0;let r=\"\";const c=[{key:\"Q\",value:Math.pow(10,15)},{key:\"T\",value:Math.pow(10,12)},{key:\"B\",value:Math.pow(10,9)},{key:\"M\",value:Math.pow(10,6)},{key:\"K\",value:1e3}];for(const i of c){let e=t/i.value;if(e=Math.round(e*s)/s,e>=1){t=e,r=i.key;break}}return(n?\"-\":\"\")+t+r}function We(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return o().getLocalizationWithParameters(e,t,s)}class Ve{}Ve.CATALOG_PLACE_MULTIPLE_OBJECTS=\"catalogPlaceMultipleObjects\",Ve.CATALOG_SKIP_PURCHASE_CONFIRMATION=\"catalogSkipPurchaseConfirmation\";const qe=(e,t)=>e.dispatchEvent(t),ze=e=>qe(o().events,e),Ye=new a.Jb,$e=e=>qe(Ye,e);let Ke=!1;const Xe=e=>{Ke&&ze(new a.qf(a.qf.PLAY_SOUND,e))},Qe=[a.Ve.MOUSE_CLICK];(()=>{const e=t=>(Ke=!0)&&Qe.forEach((t=>window.removeEventListener(t,e)));Qe.forEach((t=>window.addEventListener(t,e)))})();class Je{}Je.DEFAULT=1,Je.WALL_PAPER=2,Je.FLOOR=3,Je.LANDSCAPE=4,Je.POST_IT=5,Je.POSTER=6,Je.SOUND_SET=7,Je.TRAX_SONG=8,Je.PRESENT=9,Je.ECOTRON_BOX=10,Je.TROPHY=11,Je.CREDIT_FURNI=12,Je.PET_SHAMPOO=13,Je.PET_CUSTOM_PART=14,Je.PET_CUSTOM_PART_SHAMPOO=15,Je.PET_SADDLE=16,Je.GUILD_FURNI=17,Je.GAME_FURNI=18,Je.MONSTERPLANT_SEED=19,Je.MONSTERPLANT_REVIVAL=20,Je.MONSTERPLANT_REBREED=21,Je.MONSTERPLANT_FERTILIZE=22,Je.FIGURE_PURCHASABLE_SET=23;class Ze{constructor(e){this._expirationTimeStamp=void 0,this._isWallItem=void 0,this._songId=void 0,this._locked=void 0,this._id=void 0,this._ref=void 0,this._category=void 0,this._type=void 0,this._stuffData=void 0,this._extra=void 0,this._recyclable=void 0,this._tradeable=void 0,this._groupable=void 0,this._sellable=void 0,this._secondsToExpiration=void 0,this._hasRentPeriodStarted=void 0,this._creationDay=void 0,this._creationMonth=void 0,this._creationYear=void 0,this._slotId=void 0,this._isRented=void 0,this._flatId=void 0,e&&(this._locked=!1,this._id=e.itemId,this._type=e.spriteId,this._ref=e.ref,this._category=e.category,this._groupable=e.isGroupable&&!e.rentable,this._tradeable=e.tradable,this._recyclable=e.isRecycleable,this._sellable=e.sellable,this._stuffData=e.stuffData,this._extra=e.extra,this._secondsToExpiration=e.secondsToExpiration,this._expirationTimeStamp=e.expirationTimeStamp,this._hasRentPeriodStarted=e.hasRentPeriodStarted,this._creationDay=e.creationDay,this._creationMonth=e.creationMonth,this._creationYear=e.creationYear,this._slotId=e.slotId,this._songId=e.songId,this._flatId=e.flatId,this._isRented=e.rentable,this._isWallItem=e.isWallItem)}get rentable(){return this._isRented}get id(){return this._id}get ref(){return this._ref}get category(){return this._category}get type(){return this._type}get stuffData(){return this._stuffData}set stuffData(e){this._stuffData=e}get extra(){return this._extra}get recyclable(){return this._recyclable}get isTradable(){return this._tradeable}get isGroupable(){return this._groupable}get sellable(){return this._sellable}get secondsToExpiration(){if(-1===this._secondsToExpiration)return-1;let e=-1;return this._hasRentPeriodStarted?(e=this._secondsToExpiration-(o().time-this._expirationTimeStamp)/1e3,e<0&&(e=0)):e=this._secondsToExpiration,e}get creationDay(){return this._creationDay}get creationMonth(){return this._creationMonth}get creationYear(){return this._creationYear}get slotId(){return this._slotId}get songId(){return this._songId}get locked(){return this._locked}set locked(e){this._locked=e}get flatId(){return this._flatId}get isWallItem(){return this._isWallItem}get hasRentPeriodStarted(){return this._hasRentPeriodStarted}get expirationTimeStamp(){return this._expirationTimeStamp}update(e){this._type=e.spriteId,this._ref=e.ref,this._category=e.category,this._groupable=e.isGroupable&&!e.rentable,this._tradeable=e.tradable,this._recyclable=e.isRecycleable,this._sellable=e.sellable,this._stuffData=e.stuffData,this._extra=e.extra,this._secondsToExpiration=e.secondsToExpiration,this._expirationTimeStamp=e.expirationTimeStamp,this._hasRentPeriodStarted=e.hasRentPeriodStarted,this._creationDay=e.creationDay,this._creationMonth=e.creationMonth,this._creationYear=e.creationYear,this._slotId=e.slotId,this._songId=e.songId,this._flatId=e.flatId,this._isRented=e.rentable,this._isWallItem=e.isWallItem}clone(){const e=new Ze(null);return e._expirationTimeStamp=this._expirationTimeStamp,e._isWallItem=this._isWallItem,e._songId=this._songId,e._locked=this._locked,e._id=this._id,e._ref=this._ref,e._category=this._category,e._type=this._type,e._stuffData=this._stuffData,e._extra=this._extra,e._recyclable=this._recyclable,e._tradeable=this._tradeable,e._groupable=this._groupable,e._sellable=this._sellable,e._secondsToExpiration=this._secondsToExpiration,e._hasRentPeriodStarted=this._hasRentPeriodStarted,e._creationDay=this._creationDay,e._creationMonth=this._creationMonth,e._creationYear=this._creationYear,e._slotId=this._slotId,e._isRented=this._isRented,e._flatId=this._flatId,e}}class et{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this._type=void 0,this._category=void 0,this._roomEngine=void 0,this._stuffData=void 0,this._extra=void 0,this._isWallItem=void 0,this._iconUrl=void 0,this._name=void 0,this._description=void 0,this._locked=void 0,this._selected=void 0,this._hasUnseenItems=void 0,this._items=void 0,this._type=e,this._category=t,this._roomEngine=s,this._stuffData=n,this._extra=r,this._isWallItem=!1,this._iconUrl=null,this._name=null,this._description=null,this._locked=!1,this._selected=!1,this._hasUnseenItems=!1,this._items=[]}clone(){const e=new et;return e._type=this._type,e._category=this._category,e._roomEngine=this._roomEngine,e._stuffData=this._stuffData,e._extra=this._extra,e._isWallItem=this._isWallItem,e._iconUrl=this._iconUrl,e._name=this._name,e._description=this._description,e._locked=this._locked,e._selected=this._selected,e._hasUnseenItems=this._hasUnseenItems,e._items=this._items,e}prepareGroup(){this.setIcon(),this.setName(),this.setDescription()}dispose(){}getItemByIndex(e){return this._items[e]}getItemById(e){for(const t of this._items)if(t.id===e)return t;return null}getTradeItems(e){const t=[],s=this.getLastItem();if(!s)return t;let n=0,r=0;for(;r<this._items.length&&!(n>=e);){const e=this.getItemByIndex(r);!e.locked&&e.isTradable&&e.type===s.type&&(t.push(e),n++),r++}return t}push(e){const t=[...this._items];let s=0;for(;s<t.length;){let n=t[s];if(n.id===e.id)return n=n.clone(),n.locked=!1,t.splice(s,1),t.push(n),void(this._items=t);s++}t.push(e),this._items=t,1===this._items.length&&this.prepareGroup()}pop(){const e=[...this._items];let t=null;if(e.length>0){const s=e.length-1;t=e[s],e.splice(s,1)}return this._items=e,t}remove(e){const t=[...this._items];let s=0;for(;s<t.length;){let n=t[s];if(n.id===e)return t.splice(s,1),this._items=t,n;s++}return null}getTotalCount(){if(this._category===Je.POST_IT){let e=0,t=0;for(;t<this._items.length;){const s=this.getItemByIndex(t);e+=parseInt(s.stuffData.getLegacyString()),t++}return e}return this._items.length}getUnlockedCount(){if(this.category===Je.POST_IT)return this.getTotalCount();let e=0,t=0;for(;t<this._items.length;){this.getItemByIndex(t).locked||e++,t++}return e}getLastItem(){if(!this._items.length)return null;return this.getItemByIndex(this._items.length-1)}unlockAllItems(){const e=[...this._items];let t=0;for(;t<e.length;){const s=e[t];if(s.locked){const n=s.clone();n.locked=!1,e[t]=n}t++}this._items=e}lockItemIds(e){const t=[...this._items];let s=0,n=!1;for(;s<t.length;){const r=t[s],c=e.indexOf(r.ref)>=0;if(r.locked!==c){n=!0;const e=r.clone();e.locked=c,t[s]=e}s++}return this._items=t,n}setName(){const e=this.getLastItem();if(!e)return void(this._name=\"\");let t=\"\";switch(this._category){case Je.POSTER:t=\"poster_\"+e.stuffData.getLegacyString()+\"_name\";break;case Je.TRAX_SONG:return void(this._name=\"SONG_NAME\");default:t=this.isWallItem?\"wallItem.name.\"+e.type:\"roomItem.name.\"+e.type}this._name=We(t)}setDescription(){this._description=\"\"}setIcon(){if(this._iconUrl)return;let e=null;e=this.isWallItem?this._roomEngine.getFurnitureWallIconUrl(this._type,this._stuffData.getLegacyString()):this._roomEngine.getFurnitureFloorIconUrl(this._type),e&&(this._iconUrl=e)}get type(){return this._type}get category(){return this._category}get stuffData(){return this._stuffData}get extra(){return this._extra}get iconUrl(){return this._iconUrl}get name(){return this._name}get description(){return this._description}get hasUnseenItems(){return this._hasUnseenItems}set hasUnseenItems(e){this._hasUnseenItems=e}get locked(){return this._locked}set locked(e){this._locked=e}get selected(){return this._selected}set selected(e){this._selected=e}get isWallItem(){const e=this.getItemByIndex(0);return!!e&&e.isWallItem}get isGroupable(){const e=this.getItemByIndex(0);return!!e&&e.isGroupable}get isSellable(){const e=this.getItemByIndex(0);return!!e&&e.sellable}get items(){return this._items}set items(e){this._items=e}}const tt=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;return new et(e,t,C(),s,n)},st=(e,t,s)=>{t.isGroupable?((e,t,s)=>{let n=null;for(const r of e)if(r.type===t.type&&r.isWallItem===t.isWallItem&&r.isGroupable)if(t.category===Je.POSTER){if(r.stuffData.getLegacyString()===t.stuffData.getLegacyString()){n=r;break}}else{if(t.category!==Je.GUILD_FURNI){n=r;break}if(t.stuffData.compare(r.stuffData)){n=r;break}}if(n){if(n.push(t),s){n.hasUnseenItems=!0;const t=e.indexOf(n);t>=0&&e.splice(t,1),e.unshift(n)}return n}n=tt(t.type,t.category,t.stuffData,t.extra),n.push(t),s?(n.hasUnseenItems=!0,e.unshift(n)):e.push(n)})(e,t,s):((e,t,s)=>{const n=[];for(const c of e)c.type===t.type&&n.push(c);for(const c of n)if(c.getItemById(t.id))return c;const r=tt(t.type,t.category,t.stuffData,t.extra);r.push(t),s?(r.hasUnseenItems=!0,e.unshift(r)):e.push(r)})(e,t,s)};let nt=!1,rt=-1;const ct=e=>nt=e,it=()=>rt,at=e=>rt=e,ot=()=>{-1!==it()&&(C().cancelRoomObjectPlacement(),at(-1),ct(!1))},lt=function(e){const t=e.petData;if(!t)return!1;const s=L().getSession(1);return!!s&&(!(!s.isRoomOwner&&!s.allowPets)&&(m(\"inventory/hide\"),C().processRoomObjectPlacement(a.Zg.INVENTORY,-t.id,a.Wg.UNIT,a.ah.PET,t.figureData.figuredata)&&(at(t.id),ct(!0)),!0))},dt=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!e.getUnlockedCount())return!1;const s=e.getLastItem();if(!s)return!1;if(s.category===Je.FLOOR||s.category===Je.WALL_PAPER||s.category===Je.LANDSCAPE)return t||Ee(new a.lc(s.id)),!1;{m(\"inventory/hide\");let e=0,t=!1;e=s.isWallItem?a.Wg.WALL:a.Wg.FLOOR,t=s.category===Je.POSTER?C().processRoomObjectPlacement(a.Zg.INVENTORY,s.id,e,s.type,s.stuffData.getLegacyString()):C().processRoomObjectPlacement(a.Zg.INVENTORY,s.id,e,s.type,s.extra.toString(),s.stuffData),t&&(at(s.ref),ct(!0))}return!0},ut=function(e){const t=e.botData;if(!t)return!1;const s=L().getSession(1);return!(!s||!s.isRoomOwner)&&(m(\"inventory/hide\"),C().processRoomObjectPlacement(a.Zg.INVENTORY,-t.id,a.Wg.UNIT,a.ah.RENTABLE_BOT,t.figure)&&(at(t.id),ct(!0)),!0)};class jt{}jt.FURNI=1,jt.RENTABLE=2,jt.PET=3,jt.BADGE=4,jt.BOT=5,jt.GAMES=6;const ht=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n={petData:e};return s?t.unshift(n):t.push(n),n},bt=(e,t)=>{let s=0;for(;s<t.length;){const n=t[s];if(n&&n.petData.id===e)return it()===n.petData.id&&(ot(),m(\"inventory/open\")),t.splice(s,1),n;s++}return null};class gt{}gt.TRADING_STATE_READY=0,gt.TRADING_STATE_RUNNING=1,gt.TRADING_STATE_COUNTDOWN=2,gt.TRADING_STATE_CONFIRMING=3,gt.TRADING_STATE_CONFIRMED=4,gt.TRADING_STATE_COMPLETED=5,gt.TRADING_STATE_CANCELLED=6;class mt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new a.h,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.userId=e,this.userName=t,this.userItems=s,this.itemCount=n,this.creditsCount=r,this.accepts=c,this.canTrade=i}}class Ot{}Ot.ALERT_SCAM=0,Ot.HOTEL_TRADING_DISABLED=1,Ot.YOU_NOT_ALLOWED=2,Ot.THEY_NOT_ALLOWED=4,Ot.ROOM_DISABLED=6,Ot.YOU_OPEN=7,Ot.THEY_OPEN=8,Ot.ERROR_WHILE_COMMIT=9,Ot.THEY_CANCELLED=10;const pt=e=>{var t;return(null===(t=F().getWallItemData(e))||void 0===t?void 0:t.isExternalImage)||!1},ft=e=>{const t=new a.h;if(e.length)for(const s of e){const e=s.spriteId,n=s.category;let r=s.furniType+e;s.isGroupable&&!pt(e)||(r=\"itemid\"+s.itemId),s.category===Je.POSTER?r=s.itemId+\"poster\"+s.stuffData.getLegacyString():s.category===Je.GUILD_FURNI&&(r=\"\");let c=s.isGroupable&&!pt(s.spriteId)?t.getValue(r):null;c||(c=tt(e,n,s.stuffData),t.add(r,c)),c.push(new Ze(s))}return t};class xt{static getProductImageUrl(e,t,s){let n=null;switch(e){case a.fb.S:n=C().getFurnitureFloorIconUrl(t);break;case a.fb.I:const e=this.getProductCategory(a.fb.I,t);if(1===e)n=C().getFurnitureWallIconUrl(t,s);else switch(e){case Je.WALL_PAPER:case Je.LANDSCAPE:case Je.FLOOR:}case a.fb.E:}return n}static getProductCategory(e,t){if(e===a.fb.S)return 1;if(e===a.fb.I){if(3001===t)return Je.WALL_PAPER;if(3002===t)return Je.FLOOR;if(4057===t)return Je.LANDSCAPE}return 1}}class _t{static getRandomNumber(e){return Math.floor(Math.random()*e)}static getRandomElement(e){return e[this.getRandomNumber(e.length)]}static getRandomElements(e,t){const s=new Array(t);let n=e.length;const r=new Array(n);for(;t--;){var c=this.getRandomNumber(n);s[t]=e[c in r?r[c]:c],r[c]=--n in r?r[n]:n}return s}}var It=s(78);const Et=new Map;Et.set(\"r\",\"red\"),Et.set(\"b\",\"blue\"),Et.set(\"g\",\"green\"),Et.set(\"y\",\"yellow\"),Et.set(\"w\",\"white\"),Et.set(\"o\",\"orange\"),Et.set(\"c\",\"cyan\"),Et.set(\"br\",\"brown\"),Et.set(\"pr\",\"purple\"),Et.set(\"pk\",\"pink\"),Et.set(\"red\",\"red\"),Et.set(\"blue\",\"blue\"),Et.set(\"green\",\"green\"),Et.set(\"yellow\",\"yellow\"),Et.set(\"white\",\"white\"),Et.set(\"orange\",\"orange\"),Et.set(\"cyan\",\"cyan\"),Et.set(\"brown\",\"brown\"),Et.set(\"purple\",\"purple\"),Et.set(\"pink\",\"pink\");const Ct=(e,t)=>window.localStorage.setItem(e,JSON.stringify(t));class vt{}function Nt(e){const t=e.parts;let s=0;for(const n of t)s=Math.max(s,n.colorLayerIndex);return s}function Tt(e,t){return t=t.filter((t=>-1===e.indexOf(t))),[...e,..._t.getRandomElements(t,_t.getRandomNumber(t.length)+1)]}function St(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)return null;const r=e.partSets.getValues().filter((e=>!e.isSelectable||\"U\"!==e.gender&&e.gender!==t||e.clubLevel>s||e.isSellable&&-1===n.indexOf(e.id)?null:e));return r&&r.length?_t.getRandomElement(r):null}function wt(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)return[];const n=e.colors.getValues().filter((e=>!e.isSelectable||e.clubLevel>s?null:e));return n&&n.length?_t.getRandomElements(n,Nt(t)):null}vt.CAMERA_SHUTTER=\"camera_shutter\",vt.CREDITS=\"credits\",vt.DUCKETS=\"duckets\",vt.MESSENGER_NEW_THREAD=\"messenger_new_thread\",vt.MESSENGER_MESSAGE_RECEIVED=\"messenger_message_received\",vt.MODTOOLS_NEW_TICKET=\"modtools_new_ticket\";class Rt extends Ae{init(){super.init(),this.addCategory(ye.HAIR),this.addCategory(ye.HAT),this.addCategory(ye.HEAD_ACCESSORIES),this.addCategory(ye.EYE_ACCESSORIES),this.addCategory(ye.FACE_ACCESSORIES),this._isInitalized=!0}get name(){return a.n.HEAD}}class yt extends Ae{init(){super.init(),this.addCategory(ye.TROUSERS),this.addCategory(ye.SHOES),this.addCategory(ye.TROUSER_ACCESSORIES),this._isInitalized=!0}get name(){return a.n.LEGS}}class kt extends Ae{init(){super.init(),this.addCategory(ye.SHIRT),this.addCategory(ye.CHEST_PRINTS),this.addCategory(ye.JACKET),this.addCategory(ye.CHEST_ACCESSORIES),this._isInitalized=!0}get name(){return a.n.TORSO}}class At{}At.COLORMATRIX=\"colormatrix\",At.COMPOSITE=\"composite\";class Dt{constructor(e,t){this.texture=e,this.imageUrl=t}}class Lt{constructor(e,t){this.effectName=e,this.thumbnailUrl=t}}class Pt{constructor(e,t,s){this._productName=void 0,this._customImage=void 0,this._furnitureClassName=void 0,this._productName=e,this._customImage=t,this._furnitureClassName=s}get productName(){return this._productName}get customImage(){return this._customImage}get furnitureClassName(){return this._furnitureClassName}}class Ut{}Ut.STATE_UNLOCKED=1,Ut.STATE_LOCKED_AVAILABLE=2,Ut.STATE_LOCKED_EXPIRED=3,Ut.STATE_LOCKED_FUTURE=4;class Mt{}Mt.TYPE_CHAT=1,Mt.TYPE_ROOM_INFO=2,Mt.TYPE_IM=3;const Ft=()=>{const e=new Date;return`${e.getHours().toString().padStart(2,\"0\")}:${e.getMinutes().toString().padStart(2,\"0\")}`},Bt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=e?new Date(Date.now()-1e3*e):new Date;return`${t.getHours().toString().padStart(2,\"0\")}:${t.getMinutes().toString().padStart(2,\"0\")}`},Ht=e=>{if(!e||!e.length)return null;const t=e.split(\"/\");return{username:t[0],figure:t[1],userId:parseInt(t[2])}};class Gt{constructor(){this.id=-1,this.name=null,this.gender=0,this.online=!1,this.followingAllowed=!1,this.figure=null,this.categoryId=0,this.motto=null,this.realName=null,this.lastAccess=null,this.persistedMessageUser=!1,this.vipMember=!1,this.pocketHabboUser=!1,this.relationshipStatus=-1,this.unread=0}populate(e){this.id=e.id,this.name=e.name,this.gender=e.gender,this.online=e.online,this.followingAllowed=e.followingAllowed,this.figure=e.figure,this.categoryId=e.categoryId,this.motto=e.motto,this.realName=e.realName,this.lastAccess=e.lastAccess,this.persistedMessageUser=e.persistedMessageUser,this.vipMember=e.vipMember,this.pocketHabboUser=e.pocketHabboUser,this.relationshipStatus=e.relationshipStatus}}Gt.RELATIONSHIP_NONE=0,Gt.RELATIONSHIP_HEART=1,Gt.RELATIONSHIP_SMILE=2,Gt.RELATIONSHIP_BOBBA=3;class Wt{}Wt.GROUP_CHAT=0,Wt.PRIVATE_CHAT=1;class Vt{}Vt.HIDDEN=0,Vt.SHOW=1,Vt.UNREAD=2;class qt{constructor(){this._id=void 0,this._name=void 0,this._requesterUserId=void 0,this._figureString=void 0}populate(e){return!!e&&(this._id=e.requestId,this._name=e.requesterName,this._figureString=e.figureString,this._requesterUserId=e.requesterUserId,!0)}get id(){return this._id}get name(){return this._name}get requesterUserId(){return this._requesterUserId}get figureString(){return this._figureString}}class zt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this.userFriendLimit=e,this.normalFriendLimit=t,this.extendedFriendLimit=s,this.categories=n}}class Yt{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this._type=void 0,this._senderId=void 0,this._message=void 0,this._secondsSinceSent=void 0,this._extraData=void 0,this._date=void 0,this._type=r,this._senderId=e,this._message=t,this._secondsSinceSent=s,this._extraData=n,this._date=new Date}get type(){return this._type}get senderId(){return this._senderId}get message(){return this._message}get secondsSinceSent(){return this._secondsSinceSent}get extraData(){return this._extraData}get date(){return this._date}}Yt.CHAT=0,Yt.ROOM_INVITE=1,Yt.STATUS_NOTIFICATION=2,Yt.SECURITY_NOTIFICATION=3;class $t{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt.PRIVATE_CHAT;this._userId=void 0,this._chats=void 0,this._type=void 0,this._userId=e,this._chats=[],this._type=t}addChat(e){this._chats.push(e)}get userId(){return this._userId}get chats(){return this._chats}get type(){return this._type}set type(e){this._type=e}}class Kt{constructor(e){this._threadId=void 0,this._participant=void 0,this._groups=void 0,this._lastUpdated=void 0,this._unreadCount=void 0,this._threadId=++Kt.THREAD_ID,this._participant=e,this._groups=[],this._lastUpdated=new Date,this._unreadCount=0}addMessage(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const c=e<0&&n,i=c?Ht(n).userId:e,a=this.getLastGroup(i);if(!a)return;c&&(a.type=Wt.GROUP_CHAT);const o=new Yt(e,t,s,n,r);return a.addChat(o),this._lastUpdated=new Date,this._unreadCount++,o}getLastGroup(e){let t=this._groups[this._groups.length-1];return t&&t.userId===e||(t=new $t(e),this._groups.push(t)),t}setRead(){this._unreadCount=0}get threadId(){return this._threadId}get participant(){return this._participant}get groups(){return this._groups}get lastUpdated(){return this._lastUpdated}get unreadCount(){return this._unreadCount}get unread(){return this._unreadCount>0}}function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;m(0===e?\"friends-messenger/toggle\":`friends-messenger/${e}`)}Kt.MESSAGE_RECEIVED=\"MT_MESSAGE_RECEIVED\",Kt.THREAD_ID=0;function Qt(e){Ee(new a.md(e,!0))}function Jt(e){m(`groups/manage/${e}`)}function Zt(e,t){m(t?`group-members/${e}/${t}`:`group-members/${e}`)}class es{constructor(e,t,s,n){this.type=void 0,this.key=void 0,this.color=void 0,this.position=void 0,this.type=e,this.key=t||0,this.color=s||0,this.position=n||4}get code(){return 0===this.key&&this.type!==es.BASE?null:es.getCode(this.type,this.key,this.color,this.position)}static getCode(e,t,s,n){return e+(t<10?\"0\":\"\")+t+(s<10?\"0\":\"\")+s+n}}es.BASE=\"b\",es.SYMBOL=\"s\";class ts{}ts.NOT_MEMBER=0,ts.MEMBER=1,ts.REQUEST_PENDING=2;class ss{}ss.REGULAR=0,ss.EXCLUSIVE=1,ss.PRIVATE=2;const ns=e=>Ee(new a.od(e));class rs{}rs.NONE=\"NONE\",rs.ERROR=\"ERROR\",rs.REJECTED=\"REJECTED\",rs.USER_CREATE=\"USER_CREATE\",rs.USER_PENDING=\"USER_PENDING\",rs.USER_ONGOING=\"USER_ONGOING\",rs.USER_FEEDBACK=\"USER_FEEDBACK\",rs.USER_THANKS=\"USER_THANKS\",rs.USER_GUIDE_DISCONNECTED=\"USER_GUIDE_DISCONNECTED\",rs.GUIDE_TOOL_MENU=\"GUIDE_TOOL_MENU\",rs.GUIDE_ACCEPT=\"GUIDE_ACCEPT\",rs.GUIDE_ONGOING=\"GUIDE_ONGOING\",rs.GUIDE_CLOSED=\"GUIDE_CLOSED\",rs.GUARDIAN_CHAT_REVIEW_ACCEPT=\"GUARDIAN_CHAT_REVIEW_ACCEPT\",rs.GUARDIAN_CHAT_REVIEW_WAIT_FOR_VOTERS=\"GUARDIAN_CHAT_REVIEW_WAIT_FOR_VOTERS\",rs.GUARDIAN_CHAT_REVIEW_VOTE=\"GUARDIAN_CHAT_REVIEW_VOTE\",rs.GUARDIAN_CHAT_REVIEW_WAIT_FOR_RESULTS=\"GUARDIAN_CHAT_REVIEW_WAIT_FOR_RESULTS\",rs.GUARDIAN_CHAT_REVIEW_RESULTS=\"GUARDIAN_CHAT_REVIEW_RESULTS\";class cs{constructor(e,t){this._message=void 0,this._roomId=void 0,this._message=e,this._roomId=t}get message(){return this._message}get roomId(){return this._roomId}}class is{constructor(e){this._userId=void 0,this._messages=void 0,this._userId=e,this._messages=[]}addChat(e){this._messages.push(e)}get userId(){return this._userId}get messages(){return this._messages}}class as{}as.ACTIVE=\"active\",as.NONE=\"none\",as.EXPIRED=\"expired\";const os=[\"ACH_VipHC1\",\"ACH_VipHC2\",\"ACH_VipHC3\",\"ACH_VipHC4\",\"ACH_VipHC5\",\"HC1\",\"HC2\",\"HC3\",\"HC4\",\"HC5\"];class ls{}ls.TOO_MANY_PENDING_CALLS_CODE=1,ls.HAS_ABUSIVE_CALL_CODE=2;class ds{}ds.SELECT_USER=0,ds.SELECT_CHATS=1,ds.SELECT_TOPICS=2,ds.INPUT_REPORT_MESSAGE=3,ds.REPORT_SUMMARY=4;class us{}us.EMERGENCY=1,us.GUIDE=2,us.IM=3,us.ROOM=4,us.BULLY=6,us.THREAD=7,us.MESSAGE=8,us.PHOTO=9;const js=e=>{switch(e){case 1:case 2:return\"Normal\";case 3:return\"Automatic\";case 4:return\"Automatic IM\";case 5:return\"Guide System\";case 6:return\"IM\";case 7:return\"Room\";case 8:return\"Panic\";case 9:return\"Guardian\";case 10:return\"Automatic Helper\";case 11:return\"Discussion\";case 12:return\"Selfie\";case 14:return\"Photo\";case 15:return\"Ambassador\"}return\"Unknown\"};class hs{constructor(e,t,s,n,r){this._actionId=void 0,this._name=void 0,this._actionType=void 0,this._sanctionTypeId=void 0,this._actionLengthHours=void 0,this._actionId=e,this._name=t,this._actionType=s,this._sanctionTypeId=n,this._actionLengthHours=r}get actionId(){return this._actionId}get name(){return this._name}get actionType(){return this._actionType}get sanctionTypeId(){return this._sanctionTypeId}get actionLengthHours(){return this._actionLengthHours}}hs.ALERT=1,hs.MUTE=2,hs.BAN=3,hs.KICK=4,hs.TRADE_LOCK=5,hs.MESSAGE=6;class bs{}bs.NONE=0,bs.START_DOORBELL=1,bs.START_PASSWORD=2,bs.STATE_PENDING_SERVER=3,bs.UPDATE_STATE=4,bs.STATE_WAITING=5,bs.STATE_NO_ANSWER=6,bs.STATE_WRONG_PASSWORD=7,bs.STATE_ACCEPTED=8;class gs{}gs.LIST=0,gs.THUMBNAILS=1,gs.FORCED_THUMBNAILS=2;const ms=(()=>{const e=[];for(let t=10;t<=100;t+=10)e.push(t);return e})(),Os=[{name:\"anything\",query:null},{name:\"room.name\",query:\"roomname\"},{name:\"owner\",query:\"owner\"},{name:\"tag\",query:\"tag\"},{name:\"group\",query:\"group\"}];function ps(e){Ee(new a.Cc(e,!1,!0))}class fs{}fs.DEFAULT=\"default\",fs.MOTD=\"motd\",fs.MODERATION=\"moderation\",fs.EVENT=\"event\",fs.NITRO=\"nitro\",fs.SEARCH=\"search\",fs.ALERT=\"alert\";class xs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs.DEFAULT,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this._id=void 0,this._messages=void 0,this._alertType=void 0,this._clickUrl=void 0,this._clickUrlText=void 0,this._title=void 0,this._imageUrl=void 0,xs.ITEM_ID+=1,this._id=xs.ITEM_ID,this._messages=e,this._alertType=t,this._clickUrl=s,this._clickUrlText=n,this._title=r,this._imageUrl=c}get id(){return this._id}get messages(){return this._messages}set alertType(e){this._alertType=e}get alertType(){return this._alertType}get clickUrl(){return this._clickUrl}get clickUrlText(){return this._clickUrlText}get title(){return this._title}get imageUrl(){return this._imageUrl}}xs.ITEM_ID=-1;class _s{}_s.FRIENDOFFLINE=\"friendoffline\",_s.FRIENDONLINE=\"friendonline\",_s.THIRDPARTYFRIENDOFFLINE=\"thirdpartyfriendoffline\",_s.THIRDPARTYFRIENDONLINE=\"thirdpartyfriendonline\",_s.ACHIEVEMENT=\"achievement\",_s.BADGE_RECEIVED=\"badge_received\",_s.INFO=\"info\",_s.RECYCLEROK=\"recyclerok\",_s.RESPECT=\"respect\",_s.CLUB=\"club\",_s.SOUNDMACHINE=\"soundmachine\",_s.PETLEVEL=\"petlevel\",_s.CLUBGIFT=\"clubgift\",_s.BUYFURNI=\"buyfurni\",_s.VIP=\"vip\",_s.ROOMMESSAGESPOSTED=\"roommessagesposted\";class Is{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_s.INFO,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._id=void 0,this._message=void 0,this._notificationType=void 0,this._iconUrl=void 0,this._linkUrl=void 0,Is.ITEM_ID+=1,this._id=Is.ITEM_ID,this._message=e,this._notificationType=t,this._iconUrl=s,this._linkUrl=n}get id(){return this._id}get message(){return this._message}get notificationType(){return this._notificationType}get iconUrl(){return this._iconUrl}get linkUrl(){return this._linkUrl}}Is.ITEM_ID=-1;class Es{constructor(e,t,s,n,r,c,i){this._id=void 0,this._confirmType=void 0,this._message=void 0,this._onConfirm=void 0,this._onCancel=void 0,this._confirmText=void 0,this._cancelText=void 0,this._title=void 0,Es.ITEM_ID+=1,this._id=Es.ITEM_ID,this._confirmType=e,this._message=t,this._onConfirm=s,this._onCancel=n,this._confirmText=r,this._cancelText=c,this._title=i}get id(){return this._id}get confirmType(){return this._confirmType}get message(){return this._message}get onConfirm(){return this._onConfirm}get onCancel(){return this._onCancel}get confirmText(){return this._confirmText}get cancelText(){return this._cancelText}get title(){return this._title}}Es.ITEM_ID=-1;class Cs{constructor(){this._credits=0,this._activityPoints=new Map,this._clubDays=0,this._clubPeriods=0,this._isVIP=!1,this._pastClubDays=0,this._pastVipDays=0,this._isExpiring=!1,this._minutesUntilExpiration=0,this._minutesSinceLastModified=0,this._lastUpdated=0}static from(e){const t=new Cs;return t._credits=e._credits,t._activityPoints=e._activityPoints,t._clubDays=e._clubDays,t._clubPeriods=e._clubPeriods,t._isVIP=e._isVIP,t._pastClubDays=e._pastClubDays,t._pastVipDays=e._pastVipDays,t._isExpiring=e._isExpiring,t._minutesUntilExpiration=e._minutesUntilExpiration,t._minutesSinceLastModified=e._minutesSinceLastModified,t._lastUpdated=e._lastUpdated,t}get credits(){return this._credits}set credits(e){this._lastUpdated=o().time,this._credits=e}get activityPoints(){return this._activityPoints}set activityPoints(e){this._lastUpdated=o().time,this._activityPoints=e}get clubDays(){return this._clubDays}set clubDays(e){this._lastUpdated=o().time,this._clubDays=e}get clubPeriods(){return this._clubPeriods}set clubPeriods(e){this._lastUpdated=o().time,this._clubPeriods=e}get _Str_13571(){return this._clubDays>0||this._clubPeriods>0}get isVip(){return this._isVIP}set isVip(e){this._isVIP=e}get pastClubDays(){return this._pastClubDays}set pastClubDays(e){this._lastUpdated=o().time,this._pastClubDays=e}get pastVipDays(){return this._pastVipDays}set pastVipDays(e){this._lastUpdated=o().time,this._pastVipDays=e}get isExpiring(){return this._isExpiring}set isExpiring(e){this._isExpiring=e}get minutesUntilExpiration(){var e=(o().time-this._lastUpdated)/6e4,t=this._minutesUntilExpiration-e;return t>0?t:0}set minutesUntilExpiration(e){this._lastUpdated=o().time,this._minutesUntilExpiration=e}get minutesSinceLastModified(){return this._minutesSinceLastModified}set minutesSinceLastModified(e){this._lastUpdated=o().time,this._minutesSinceLastModified=e}get lastUpdated(){return this._lastUpdated}get clubLevel(){return 0===this.clubDays&&0===this.clubPeriods?a.Xd.NO_CLUB:this.isVip?a.Xd.VIP:a.Xd.CLUB}}class vs extends a.jf{}class Ns extends vs{constructor(e,t){super(e),this._id=-1,this._summary=void 0,this._headline=void 0,this._numQuestions=0,this._startMessage=\"\",this._endMessage=\"\",this._questionArray=null,this._pollType=\"\",this._npsPoll=!1,this._id=t}get id(){return this._id}get summary(){return this._summary}set summary(e){this._summary=e}get headline(){return this._headline}set headline(e){this._headline=e}get numQuestions(){return this._numQuestions}set numQuestions(e){this._numQuestions=e}get startMessage(){return this._startMessage}set startMessage(e){this._startMessage=e}get endMessage(){return this._endMessage}set endMessage(e){this._endMessage=e}get questionArray(){return this._questionArray}set questionArray(e){this._questionArray=e}get pollType(){return this._pollType}set pollType(e){this._pollType=e}get npsPoll(){return this._npsPoll}set npsPoll(e){this._npsPoll=e}}Ns.OFFER=\"RWPUW_OFFER\",Ns.ERROR=\"RWPUW_ERROR\",Ns.CONTENT=\"RWPUW_CONTENT\";class Ts extends vs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(e),this._hue=void 0,this._saturation=void 0,this._lightness=void 0,this._hue=t,this._saturation=s,this._lightness=n}get hue(){return this._hue}get saturation(){return this._saturation}get lightness(){return this._lightness}}Ts.PREVIEW=\"RWUBCPE_PREVIEW\",Ts.CLEAR_PREVIEW=\"RWUBCPE_CLEAR_PREVIEW\";class Ss extends vs{constructor(e,t){super(Ss.CHAT_INPUT_CONTENT),this._chatMode=\"\",this._userName=\"\",this._chatMode=e,this._userName=t}get chatMode(){return this._chatMode}get userName(){return this._userName}}Ss.CHAT_INPUT_CONTENT=\"RWUCICE_CHAT_INPUT_CONTENT\",Ss.WHISPER=\"whisper\",Ss.SHOUT=\"shout\";class ws extends vs{constructor(e,t,s,n,r,c,i){super(ws.UPDATE_CHAT),this._objectId=void 0,this._category=void 0,this._botId=void 0,this._chat=void 0,this._automaticChat=void 0,this._chatDelay=void 0,this._mixSentences=void 0,this._objectId=e,this._category=t,this._botId=s,this._chat=n,this._automaticChat=r,this._chatDelay=c,this._mixSentences=i}get objectId(){return this._objectId}get category(){return this._category}get botId(){return this._botId}get chat(){return this._chat}get automaticChat(){return this._automaticChat}get chatDelay(){return this._chatDelay}get mixSentences(){return this._mixSentences}}ws.UPDATE_CHAT=\"RWURBCE_UPDATE_CHAT\";class Rs extends vs{constructor(e,t,s,n){super(e),this._id=void 0,this._category=void 0,this._roomId=void 0,this._id=t,this._category=s,this._roomId=n}get id(){return this._id}get category(){return this._category}get roomId(){return this._roomId}}Rs.OBJECT_SELECTED=\"RWUROE_OBJECT_SELECTED\",Rs.OBJECT_DESELECTED=\"RWUROE_OBJECT_DESELECTED\",Rs.USER_REMOVED=\"RWUROE_USER_REMOVED\",Rs.FURNI_REMOVED=\"RWUROE_FURNI_REMOVED\",Rs.FURNI_ADDED=\"RWUROE_FURNI_ADDED\",Rs.USER_ADDED=\"RWUROE_USER_ADDED\",Rs.OBJECT_ROLL_OVER=\"RWUROE_OBJECT_ROLL_OVER\",Rs.OBJECT_ROLL_OUT=\"RWUROE_OBJECT_ROLL_OUT\",Rs.OBJECT_REQUEST_MANIPULATION=\"RWUROE_OBJECT_REQUEST_MANIPULATION\";class ys{constructor(e){this.type=e,this.id=0,this.category=0,this.name=\"\",this.description=\"\",this.image=null,this.isWallItem=!1,this.isStickie=!1,this.isRoomOwner=!1,this.roomControllerLevel=0,this.isAnyRoomController=!1,this.expiration=-1,this.purchaseCatalogPageId=-1,this.purchaseOfferId=-1,this.extraParam=\"\",this.isOwner=!1,this.stuffData=null,this.groupId=0,this.ownerId=0,this.ownerName=\"\",this.usagePolicy=0,this.rentCatalogPageId=-1,this.rentOfferId=-1,this.purchaseCouldBeUsedForBuyout=!1,this.rentCouldBeUsedForBuyout=!1,this.availableForBuildersClub=!1,this.tileSizeX=1,this.tileSizeY=1}}ys.FURNI=\"IFI_FURNI\";class ks{constructor(e,t,s,n,r){let c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.roomIndex=e,this.category=t,this.id=s,this.name=n,this.userType=r,this.isFriend=c}}class As{constructor(e){this.type=e,this.level=0,this.maximumLevel=0,this.experience=0,this.levelExperienceGoal=0,this.energy=0,this.maximumEnergy=0,this.happyness=0,this.maximumHappyness=0,this.respectsPetLeft=0,this.respect=0,this.age=0,this.name=\"\",this.id=-1,this.image=null,this.petType=0,this.petBreed=0,this.petFigure=\"\",this.posture=\"std\",this.isOwner=!1,this.ownerId=-1,this.ownerName=\"\",this.canRemovePet=!1,this.roomIndex=0,this.unknownRarityLevel=0,this.saddle=!1,this.rider=!1,this.breedable=!1,this.skillTresholds=[],this.publiclyRideable=0,this.fullyGrown=!1,this.dead=!1,this.rarityLevel=0,this.maximumTimeToLive=0,this.remainingTimeToLive=0,this.remainingGrowTime=0,this.publiclyBreedable=!1}}As.PET_INFO=\"IPI_PET_INFO\";class Ds{constructor(e){this.type=e,this.name=\"\",this.motto=\"\",this.webID=0,this.figure=\"\",this.badges=[],this.carryItem=0,this.roomIndex=0,this.amIOwner=!1,this.amIAnyRoomController=!1,this.roomControllerLevel=0,this.ownerId=-1,this.ownerName=\"\",this.botSkills=[]}}Ds.RENTABLE_BOT=\"IRBI_RENTABLE_BOT\";class Ls{constructor(e){this.type=e,this.name=\"\",this.motto=\"\",this.achievementScore=0,this.webID=0,this.xp=0,this.userType=-1,this.figure=\"\",this.badges=[],this.groupId=0,this.groupName=\"\",this.groupBadgeId=\"\",this.carryItem=0,this.roomIndex=0,this.isSpectatorMode=!1,this.allowNameChange=!1,this.amIOwner=!1,this.amIAnyRoomController=!1,this.roomControllerLevel=0,this.canBeKicked=!1,this.canBeBanned=!1,this.canBeMuted=!1,this.respectLeft=0,this.isIgnored=!1,this.isGuildRoom=!1,this.canTrade=!1,this.canTradeReason=0,this.targetRoomControllerLevel=0,this.isAmbassador=!1}get isOwnUser(){return this.type===Ls.OWN_USER}}Ls.OWN_USER=\"IUI_OWN_USER\",Ls.PEER=\"IUI_PEER\",Ls.BOT=\"IUI_BOT\",Ls.TRADE_REASON_OK=0,Ls.TRADE_REASON_SHUTDOWN=2,Ls.TRADE_REASON_NO_TRADING=3,Ls.DEFAULT_BOT_BADGE_ID=\"BOT\";class Ps{static getObjectName(e,t){const s=he();let n=-1,r=null,c=0;switch(t){case a.Wg.FLOOR:case a.Wg.WALL:{const c=C().getRoomObject(s.roomId,e,t);if(!c)break;if(0===c.type.indexOf(\"poster\"))r=We(\"${poster_\"+parseInt(c.type.replace(\"poster\",\"\"))+\"_name}\");else{let e=null;const s=c.model.getValue(a.ch.FURNITURE_TYPE_ID);if(t===a.Wg.FLOOR?e=F().getFloorItemData(s):t===a.Wg.WALL&&(e=F().getWallItemData(s)),!e)break;n=e.id,r=e.name}break}case a.Wg.UNIT:{const t=s.userDataManager.getUserDataByIndex(e);if(!t)break;n=t.webID,r=t.name,c=t.type;break}}return r&&r.length?new ks(e,t,n,r,c):null}static getFurniInfo(e,t){const s=he(),n=new ys(ys.FURNI);n.id=e,n.category=t;const r=C().getRoomObject(s.roomId,e,t);if(!r)return;const c=r.model;c.getValue(a.Mh.INFOSTAND_EXTRA_PARAM)&&(n.extraParam=c.getValue(a.Mh.INFOSTAND_EXTRA_PARAM));const i=c.getValue(a.ch.FURNITURE_DATA_FORMAT),l=a.xf.getData(i);l.initializeFromRoomObjectModel(c),n.stuffData=l;const d=r.type;if(0===d.indexOf(\"poster\")){const e=parseInt(d.replace(\"poster\",\"\"));n.name=We(\"${poster_\"+e+\"_name}\"),n.description=We(\"${poster_\"+e+\"_desc}\")}else{const e=c.getValue(a.ch.FURNITURE_TYPE_ID);let s=null;t===a.Wg.FLOOR?s=F().getFloorItemData(e):t===a.Wg.WALL&&(s=F().getWallItemData(e)),s&&(n.name=s.name,n.description=s.description,n.purchaseOfferId=s.purchaseOfferId,n.purchaseCouldBeUsedForBuyout=s.purchaseCouldBeUsedForBuyout,n.rentOfferId=s.rentOfferId,n.rentCouldBeUsedForBuyout=s.rentCouldBeUsedForBuyout,n.availableForBuildersClub=s.availableForBuildersClub,n.tileSizeX=s.tileSizeX,n.tileSizeY=s.tileSizeY)}d.indexOf(\"post_it\")>-1&&(n.isStickie=!0);const u=c.getValue(a.ch.FURNITURE_EXPIRY_TIME),j=c.getValue(a.ch.FURNITURE_EXPIRTY_TIMESTAMP);n.expiration=u<0?u:Math.max(0,u-(o().time-j)/1e3);let h=C().getRoomObjectImage(s.roomId,e,t,new a.kj(180),64,null);(!h.data||h.data.width>140||h.data.height>200)&&(h=C().getRoomObjectImage(s.roomId,e,t,new a.kj(180),1,null)),n.image=h.getImage(),n.isWallItem=t===a.Wg.WALL,n.isRoomOwner=s.isRoomOwner,n.roomControllerLevel=s.controllerLevel,n.isAnyRoomController=F().isModerator,n.ownerId=c.getValue(a.ch.FURNITURE_OWNER_ID),n.ownerName=c.getValue(a.ch.FURNITURE_OWNER_NAME),n.usagePolicy=c.getValue(a.ch.FURNITURE_USAGE_POLICY);const b=c.getValue(a.ch.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID);return 0!==b&&(n.groupId=b),A(r)&&(n.isOwner=!0),n}static getUserInfo(e,t){const s=he();let n=Ls.OWN_USER;t.webID!==F().userId&&(n=Ls.PEER);const r=new Ls(n);r.isSpectatorMode=s.isSpectator,r.name=t.name,r.motto=t.custom,r.achievementScore=t.activityPoints,r.webID=t.webID,r.roomIndex=t.roomIndex,r.userType=a.ah.USER;const c=C().getRoomObject(s.roomId,t.roomIndex,e);if(c&&(r.carryItem=c.model.getValue(a.ch.FIGURE_CARRY_OBJECT)||0),n===Ls.OWN_USER&&(r.allowNameChange=F().canChangeName),r.amIOwner=s.isRoomOwner,r.isGuildRoom=s.isGuildRoom,r.roomControllerLevel=s.controllerLevel,r.amIAnyRoomController=F().isModerator,r.isAmbassador=F().isAmbassador,n===Ls.PEER){if(c){const e=c.model.getValue(a.ch.FIGURE_FLAT_CONTROL);null!==e&&(r.targetRoomControllerLevel=e),r.canBeMuted=this.canBeMuted(r),r.canBeKicked=this.canBeKicked(r),r.canBeBanned=this.canBeBanned(r)}r.isIgnored=F().isUserIgnored(t.name),r.respectLeft=F().respectsLeft;const e=F().isSystemShutdown,n=s.tradeMode;if(e)r.canTrade=!1;else switch(n){case a.Bh.ROOM_CONTROLLER_REQUIRED:{const e=r.roomControllerLevel!==a.yg.NONE&&r.roomControllerLevel!==a.yg.GUILD_MEMBER,t=r.targetRoomControllerLevel!==a.yg.NONE&&r.targetRoomControllerLevel!==a.yg.GUILD_MEMBER;r.canTrade=e||t;break}case a.Bh.NO_TRADING:r.canTrade=!0;break;default:r.canTrade=!1}r.canTradeReason=Ls.TRADE_REASON_OK,e&&(r.canTradeReason=Ls.TRADE_REASON_SHUTDOWN),n!==a.Bh.FREE_TRADING&&(r.canTradeReason=Ls.TRADE_REASON_NO_TRADING)}return r.groupId=t.groupId,r.groupBadgeId=F().getGroupBadge(r.groupId),r.groupName=t.groupName,r.badges=s.userDataManager.getUserBadges(t.webID),r.figure=t.figure,r}static getBotInfo(e,t){const s=he(),n=new Ls(Ls.BOT);n.name=t.name,n.motto=t.custom,n.webID=t.webID,n.roomIndex=t.roomIndex,n.userType=t.type;const r=C().getRoomObject(s.roomId,t.roomIndex,e);return r&&(n.carryItem=r.model.getValue(a.ch.FIGURE_CARRY_OBJECT)||0),n.amIOwner=s.isRoomOwner,n.isGuildRoom=s.isGuildRoom,n.roomControllerLevel=s.controllerLevel,n.amIAnyRoomController=F().isModerator,n.isAmbassador=F().isAmbassador,n.badges=[Ls.DEFAULT_BOT_BADGE_ID],n.figure=t.figure,n}static getRentableBotInfo(e,t){const s=he(),n=new Ds(Ds.RENTABLE_BOT);n.name=t.name,n.motto=t.custom,n.webID=t.webID,n.roomIndex=t.roomIndex,n.ownerId=t.ownerId,n.ownerName=t.ownerName,n.botSkills=t.botSkills;const r=C().getRoomObject(s.roomId,t.roomIndex,e);return r&&(n.carryItem=r.model.getValue(a.ch.FIGURE_CARRY_OBJECT)||0),n.amIOwner=s.isRoomOwner,n.roomControllerLevel=s.controllerLevel,n.amIAnyRoomController=F().isModerator,n.badges=[Ls.DEFAULT_BOT_BADGE_ID],n.figure=t.figure,n}static getPetInfo(e){const t=he(),s=t.userDataManager.getPetData(e.id);if(!s)return;const n=new a.Ff(s.figure);let r=null;n.typeId===a.Lf.MONSTERPLANT&&(r=e.level>=e.adultLevel?\"std\":\"grw\"+e.level);const c=e.ownerId===F().userId,i=new As(As.PET_INFO);return i.name=s.name,i.id=e.id,i.ownerId=e.ownerId,i.ownerName=e.ownerName,i.rarityLevel=e.rarityLevel,i.petType=n.typeId,i.petBreed=n.paletteId,i.petFigure=s.figure,i.posture=r,i.isOwner=c,i.roomIndex=s.roomIndex,i.level=e.level,i.maximumLevel=e.maximumLevel,i.experience=e.experience,i.levelExperienceGoal=e.levelExperienceGoal,i.energy=e.energy,i.maximumEnergy=e.maximumEnergy,i.happyness=e.happyness,i.maximumHappyness=e.maximumHappyness,i.respect=e.respect,i.respectsPetLeft=F().respectsPetLeft,i.age=e.age,i.saddle=e.saddle,i.rider=e.rider,i.breedable=e.breedable,i.fullyGrown=e.fullyGrown,i.dead=e.dead,i.rarityLevel=e.rarityLevel,i.skillTresholds=e.skillTresholds,i.canRemovePet=!1,i.publiclyRideable=e.publiclyRideable,i.maximumTimeToLive=e.maximumTimeToLive,i.remainingTimeToLive=e.remainingTimeToLive,i.remainingGrowTime=e.remainingGrowTime,i.publiclyBreedable=e.publiclyBreedable,(c||t.isRoomOwner||F().isModerator||t.controllerLevel>=a.yg.GUEST)&&(i.canRemovePet=!0),i}static checkGuildSetting(e){return e.isGuildRoom?e.roomControllerLevel>=a.yg.GUILD_ADMIN:e.roomControllerLevel>=a.yg.GUEST}static isValidSetting(e,t){const s=he();if(!s.isPrivateRoom)return!1;const n=s.moderationSettings;let r=!1;return n&&(r=t(e,n)),r&&e.targetRoomControllerLevel<a.yg.ROOM_OWNER}static canBeMuted(e){return this.isValidSetting(e,((e,t)=>t.allowMute===a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS?this.checkGuildSetting(e):e.roomControllerLevel>=a.yg.ROOM_OWNER))}static canBeKicked(e){return this.isValidSetting(e,((e,t)=>{switch(t.allowKick){case a.Ug.MODERATION_LEVEL_ALL:return!0;case a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS:return this.checkGuildSetting(e);default:return e.roomControllerLevel>=a.yg.ROOM_OWNER}}))}static canBeBanned(e){return this.isValidSetting(e,((e,t)=>t.allowBan===a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS?this.checkGuildSetting(e):e.roomControllerLevel>=a.yg.ROOM_OWNER))}}class Us{}Us.GENERIC_SKILL=0,Us.DRESS_UP=1,Us.SETUP_CHAT=2,Us.RANDOM_WALK=3,Us.DANCE=4,Us.CHANGE_BOT_NAME=5,Us.SERVE_BEVERAGE=6,Us.INCLIENT_LINK=7,Us.NUX_PROCEED=8,Us.CHANGE_BOT_MOTTO=9,Us.NUX_TAKE_TOUR=10,Us.NO_PICK_UP=12,Us.NAVIGATOR_SEARCH=14,Us.DONATE_TO_USER=24,Us.DONATE_TO_ALL=25;class Ms{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:\"\",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"\",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null;this.senderId=e,this.senderCategory=t,this.roomId=s,this.text=n,this.formattedText=r,this.username=c,this.location=i,this.type=a,this.styleId=o,this.imageUrl=l,this.color=d,this.id=-1,this.width=0,this.height=0,this.elementRef=null,this.visible=!1,this.skipMovement=!1,this._top=0,this._left=0,this.id=++Ms.BUBBLE_COUNTER}get top(){return this._top}set top(e){this._top=e,this.elementRef&&(this.elementRef.style.top=this._top+\"px\")}get left(){return this._left}set left(e){this._left=e,this.elementRef&&(this.elementRef.style.left=this._left+\"px\")}}Ms.BUBBLE_COUNTER=0;class Fs{}Fs.CHAT_DEFAULT=0,Fs.CHAT_WHISPER=1,Fs.CHAT_SHOUT=2;class Bs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.id=e,this.type=t,this.color=s,this.light=n}}const Hs=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!(e.left+n+e.width<t.left+n||e.left+n>t.left+n+t.width||e.top+e.height<t.top+s||e.top>t.top+s+t.height)};class Gs{static savePreset(e,t,s,n,r){he().updateMoodlightData(e,t,s,n,r)}static changeState(){he().toggleMoodlightState()}static previewDimmer(e,t,s){C().updateObjectRoomColor(he().roomId,e,t,s)}static scaleBrightness(e){return~~(100*(e-this.MIN_BRIGHTNESS)/(this.MAX_BRIGHTNESS-this.MIN_BRIGHTNESS)+0)}}Gs.AVAILABLE_COLORS=[7665141,21495,15161822,15353138,15923281,8581961,0],Gs.HTML_COLORS=[\"#74F5F5\",\"#0053F7\",\"#E759DE\",\"#EA4532\",\"#F2F851\",\"#82F349\",\"#000000\"],Gs.MIN_BRIGHTNESS=76,Gs.MAX_BRIGHTNESS=255;class Ws{static getMergedMannequinFigureContainer(e,t){const s=d().createFigureContainer(e),n=d().createFigureContainer(t);for(const r of this.MANNEQUIN_CLOTHING_PART_TYPES)s.removePart(r);for(const r of n.getPartTypeIds())s.updatePart(r,n.getPartSetId(r),n.getPartColorIds(r));return s}static transformAsMannequinFigure(e){for(const t of e.getPartTypeIds())this.MANNEQUIN_CLOTHING_PART_TYPES.indexOf(t)>=0||e.removePart(t);e.updatePart(this.MANNEQUIN_FIGURE[0],this.MANNEQUIN_FIGURE[1],this.MANNEQUIN_FIGURE[2])}}Ws.MANNEQUIN_FIGURE=[\"hd\",99999,[99998]],Ws.MANNEQUIN_CLOTHING_PART_TYPES=[a.q.CHEST_ACCESSORY,a.q.COAT_CHEST,a.q.CHEST,a.q.LEGS,a.q.SHOES,a.q.WAIST_ACCESSORY];class Vs{}Vs.WATER=0,Vs.LIGHT=1;class qs{}qs.POSTURE_STAND=0,qs.POSTURE_SIT=1;class zs{constructor(e,t,s){this._id=void 0,this._category=void 0,this._name=void 0,this._id=e,this._category=t,this._name=s}get id(){return this._id}get category(){return this._category}get name(){return this._name}}class Ys{constructor(e,t,s,n,r,c,i){this.id=e,this.category=t,this.name=s,this.requestRoomObjectId=n,this.targetRoomObjectId=r,this.requestInventoryStripId=c,this.replace=i}}const $s=\"0\";class Ks{}function Xs(e){Ee(new a.Yi(e))}Ks.UNSTARTED=-1,Ks.ENDED=0,Ks.PLAYING=1,Ks.PAUSED=2,Ks.BUFFERING=3,Ks.CUED=5;const Qs=e=>{const t=Math.floor(e/2);return e%2?(t+.5).toString():t.toString()};class Js{}Js.TOGGLE_FURNI_STATE=0,Js.RESET=1,Js.SET_FURNI_STATE=3,Js.MOVE_FURNI=4,Js.GIVE_SCORE=6,Js.CHAT=7,Js.TELEPORT=8,Js.JOIN_TEAM=9,Js.LEAVE_TEAM=10,Js.CHASE=11,Js.FLEE=12,Js.MOVE_AND_ROTATE_FURNI=13,Js.GIVE_SCORE_TO_PREDEFINED_TEAM=14,Js.TOGGLE_TO_RANDOM_STATE=15,Js.MOVE_FURNI_TO=16,Js.GIVE_REWARD=17,Js.CALL_ANOTHER_STACK=18,Js.KICK_FROM_ROOM=19,Js.MUTE_USER=20,Js.BOT_TELEPORT=21,Js.BOT_MOVE=22,Js.BOT_TALK=23,Js.BOT_GIVE_HAND_ITEM=24,Js.BOT_FOLLOW_AVATAR=25,Js.BOT_CHANGE_FIGURE=26,Js.BOT_TALK_DIRECT_TO_AVTR=27;class Zs{}Zs.STATES_MATCH=0,Zs.FURNIS_HAVE_AVATARS=1,Zs.ACTOR_IS_ON_FURNI=2,Zs.TIME_ELAPSED_MORE=3,Zs.TIME_ELAPSED_LESS=4,Zs.USER_COUNT_IN=5,Zs.ACTOR_IS_IN_TEAM=6,Zs.HAS_STACKED_FURNIS=7,Zs.STUFF_TYPE_MATCHES=8,Zs.STUFFS_IN_FORMATION=9,Zs.ACTOR_IS_GROUP_MEMBER=10,Zs.ACTOR_IS_WEARING_BADGE=11,Zs.ACTOR_IS_WEARING_EFFECT=12,Zs.NOT_STATES_MATCH=13,Zs.FURNI_NOT_HAVE_HABBO=14,Zs.NOT_ACTOR_ON_FURNI=15,Zs.NOT_USER_COUNT_IN=16,Zs.NOT_ACTOR_IN_TEAM=17,Zs.NOT_HAS_STACKED_FURNIS=18,Zs.NOT_FURNI_IS_OF_TYPE=19,Zs.NOT_STUFFS_IN_FORMATION=20,Zs.NOT_ACTOR_IN_GROUP=21,Zs.NOT_ACTOR_WEARS_BADGE=22,Zs.NOT_ACTOR_WEARING_EFFECT=23,Zs.DATE_RANGE_ACTIVE=24,Zs.ACTOR_HAS_HANDITEM=25;const en=e=>`${e.getFullYear()}/${(\"0\"+(e.getMonth()+1)).slice(-2)}/${(\"0\"+e.getDate()).slice(-2)} ${(\"0\"+e.getHours()).slice(-2)}:${(\"0\"+e.getMinutes()).slice(-2)}`;class tn{}tn.STUFF_SELECTION_OPTION_NONE=0,tn.STUFF_SELECTION_OPTION_BY_ID=1,tn.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE=2,tn.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT=3;class sn extends a.kf{constructor(e,t){super(\"\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nuniform mat3 projectionMatrix;\\nvarying vec2 vTextureCoord;\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"\\nvarying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform vec3 lineColor;\\nuniform vec3 color;\\nvoid main(void) {\\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\\n    vec3 colorLine = lineColor * currentColor.a;\\n    vec3 colorOverlay = color * currentColor.a;\\n\\n    if(currentColor.r == 0.0 && currentColor.g == 0.0 && currentColor.b == 0.0 && currentColor.a > 0.0) {\\n        gl_FragColor = vec4(colorLine.r, colorLine.g, colorLine.b, currentColor.a);\\n    } else if(currentColor.a > 0.0) {\\n        gl_FragColor = vec4(colorOverlay.r, colorOverlay.g, colorOverlay.b, currentColor.a);\\n    }\\n}\"),this._lineColor=void 0,this._color=void 0,this.uniforms.lineColor=new Float32Array(3),this.uniforms.color=new Float32Array(3),this.lineColor=e,this.color=t}get lineColor(){return this._lineColor}set lineColor(e){const t=this.uniforms.lineColor;\"number\"===typeof e?(a.sb.hex2rgb(e,t),this._lineColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._lineColor=a.sb.rgb2hex(t))}get color(){return this._color}set color(e){const t=this.uniforms.color;\"number\"===typeof e?(a.sb.hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._color=a.sb.rgb2hex(t))}}class nn{static show(e){nn.applySelectionShader(nn.getRoomObject(e))}static hide(e){nn.clearSelectionShader(nn.getRoomObject(e))}static clearSelectionShaderFromFurni(e){for(const t of e)nn.clearSelectionShader(nn.getRoomObject(t))}static applySelectionShaderToFurni(e){for(const t of e)nn.applySelectionShader(nn.getRoomObject(t))}static getRoomObject(e){const t=C();return t.getRoomObject(t.activeRoomId,e,a.Wg.FLOOR)}static applySelectionShader(e){if(!e)return;const t=e.visualization;if(t)for(const s of t.sprites)1!==s.blendMode&&(s.filters=[nn._selectionShader])}static clearSelectionShader(e){if(!e)return;const t=e.visualization;if(t)for(const s of t.sprites)s.filters=[]}}nn._selectionShader=new sn([1,1,1],[.6,.6,.6]);const rn=\"\\t\";class cn{}cn.AVATAR_SAYS_SOMETHING=0,cn.AVATAR_WALKS_ON_FURNI=1,cn.AVATAR_WALKS_OFF_FURNI=2,cn.EXECUTE_ONCE=3,cn.TOGGLE_FURNI=4,cn.EXECUTE_PERIODICALLY=6,cn.AVATAR_ENTERS_ROOM=7,cn.GAME_STARTS=8,cn.GAME_ENDS=9,cn.SCORE_ACHIEVED=10,cn.COLLISION=11,cn.EXECUTE_PERIODICALLY_LONG=12,cn.BOT_REACHED_STUFF=13,cn.BOT_REACHED_AVATAR=14;var an=s(0);const on=e=>{const{ref:t=null,innerRef:s=null,display:n=null,fit:r=!1,fitV:i=!1,grow:a=!1,shrink:o=!1,fullWidth:l=!1,fullHeight:d=!1,overflow:u=null,position:j=null,float:h=null,pointer:b=!1,visible:g=null,textColor:m=null,classNames:O=[],className:p=\"\",style:f={},children:x=null,..._}=e,I=Object(c.useMemo)((()=>{const e=[];return n&&n.length&&e.push(\"d-\"+n),(r||l)&&e.push(\"w-100\"),(r||d)&&e.push(\"h-100\"),i&&e.push(\"vw-100\",\"vh-100\"),a&&e.push(\"flex-grow-1\"),o&&e.push(\"flex-shrink-0\"),u&&e.push(\"overflow-\"+u),j&&e.push(\"position-\"+j),h&&e.push(\"float-\"+h),b&&e.push(\"cursor-pointer\"),null!==g&&e.push(g?\"visible\":\"invisible\"),m&&e.push(\"text-\"+m),O.length&&e.push(...O),e}),[n,r,i,a,o,l,d,u,j,h,b,g,m,O]),E=Object(c.useMemo)((()=>{let e=I.join(\" \");return p.length&&(e+=\" \"+p),e.trim()}),[I,p]),C=Object(c.useMemo)((()=>{let e={};return Object.keys(f).length&&(e={...e,...f}),e}),[f]);return Object(an.jsx)(\"div\",{ref:s,className:E,style:C,..._,children:x})},ln=Object(c.createContext)({isCssGrid:!1}),dn=e=>Object(an.jsx)(ln.Provider,{value:e.value,children:e.children}),un=e=>{const{inline:t=!1,gap:s=2,maxContent:n=!1,columnCount:r=0,center:i=!1,alignSelf:a=null,alignItems:o=null,justifyContent:l=null,fullHeight:d=!0,classNames:u=[],style:j={},...h}=e,b=Object(c.useMemo)((()=>{const e=[];return t?e.push(\"inline-grid\"):e.push(\"grid\"),s?e.push(\"gap-\"+s):0===s&&e.push(\"gap-0\"),n&&e.push(\"flex-basis-max-content\"),a&&e.push(\"align-self-\"+a),o&&e.push(\"align-items-\"+o),l&&e.push(\"justify-content-\"+l),o||l||!i||e.push(\"align-items-center\",\"justify-content-center\"),u.length&&e.push(...u),e}),[t,s,n,a,o,l,i,u]),g=Object(c.useMemo)((()=>{let e={};return r&&(e[\"--bs-columns\"]=r.toString()),Object.keys(j).length&&(e={...e,...j}),e}),[r,j]);return Object(an.jsx)(dn,{value:{isCssGrid:!0},children:Object(an.jsx)(on,{fullHeight:d,classNames:b,style:g,...h})})},jn=e=>{const{columnMinWidth:t=40,columnMinHeight:s=40,columnCount:n=0,fullHeight:r=!1,maxContent:i=!0,overflow:a=\"auto\",style:o={},...l}=e,d=Object(c.useMemo)((()=>{let e={};return e[\"--nitro-grid-column-min-height\"]=s+\"px\",n>1&&(e.gridTemplateColumns=`repeat(auto-fill, minmax(${t}px, 1fr))`),Object.keys(o).length&&(e={...e,...o}),e}),[t,s,n,o]);return Object(an.jsx)(un,{columnCount:n,fullHeight:r,overflow:a,style:d,...l})},hn=e=>{const{display:t=\"flex\",column:s,reverse:n=!1,gap:r=null,center:i=!1,alignSelf:a=null,alignItems:o=null,justifyContent:l=null,classNames:d=[],...u}=e,j=Object(c.useMemo)((()=>{const e=[];return s?n?e.push(\"flex-column-reverse\"):e.push(\"flex-column\"):n&&e.push(\"flex-row-reverse\"),r&&e.push(\"gap-\"+r),a&&e.push(\"align-self-\"+a),o&&e.push(\"align-items-\"+o),l&&e.push(\"justify-content-\"+l),o||l||!i||e.push(\"align-items-center\",\"justify-content-center\"),d.length&&e.push(...d),e}),[s,n,r,i,a,o,l,d]);return Object(an.jsx)(on,{display:t,classNames:j,...u})},bn=e=>{const{variant:t=\"primary\",size:s=\"sm\",active:n=!1,disabled:r=!1,classNames:i=[],...a}=e,o=Object(c.useMemo)((()=>{const e=[\"btn\"];return t&&e.push(\"btn-\"+t),s&&e.push(\"btn-\"+s),n&&e.push(\"active\"),r&&e.push(\"disabled\"),i.length&&e.push(...i),e}),[t,s,n,r,i]);return Object(an.jsx)(hn,{center:!0,classNames:o,...a})},gn=e=>{const{classNames:t=[],...s}=e,n=Object(c.useMemo)((()=>{const e=[\"btn-group\"];return t.length&&e.push(...t),e}),[t]);return Object(an.jsx)(on,{classNames:n,...s})},mn=Object(c.createContext)({closers:null,setClosers:null,closeAll:null}),On=e=>Object(an.jsx)(mn.Provider,{...e}),pn=e=>{const{alignItems:t=\"center\",gap:s=1,children:n=null,...r}=e;return Object(an.jsx)(hn,{alignItems:t,gap:s,...r,children:n})};var fn=s(7);const xn=e=>{const{headerText:t=\"\",isExpanded:s=!1,gap:n=0,classNames:r=[],children:i=null,...a}=e,[o,l]=Object(c.useState)(!1),{setClosers:d=null,closeAll:u=null}=Object(c.useContext)(mn),j=Object(c.useCallback)((()=>l(!1)),[]),h=Object(c.useMemo)((()=>{const e=[\"nitro-card-accordion-set\"];return o&&e.push(\"active\"),r&&r.length&&e.push(...r),e}),[o,r]);return Object(c.useEffect)((()=>{l(s)}),[s]),Object(c.useEffect)((()=>{const e=j;return d((t=>{const s=[...t];return s.push(e),s})),()=>{d((t=>{const s=[...t],n=s.indexOf(e);return n>=0&&s.splice(n,1),s}))}}),[j,d]),Object(an.jsxs)(Fn,{classNames:h,gap:n,...a,children:[Object(an.jsxs)(hn,{pointer:!0,justifyContent:\"between\",className:\"nitro-card-accordion-set-header px-2 py-1\",onClick:()=>{u(),l((e=>!e))},children:[Object(an.jsx)(ur,{children:t}),Object(an.jsx)(fn.a,{icon:o?\"caret-up\":\"caret-down\"})]}),o&&Object(an.jsx)(Fn,{fullHeight:!0,overflow:\"auto\",gap:0,className:\"nitro-card-accordion-set-content\",children:i})]})},_n=e=>{const{...t}=e,[s,n]=Object(c.useState)([]),r=Object(c.useCallback)((()=>{for(const e of s)e()}),[s]);return Object(an.jsx)(On,{value:{closers:s,setClosers:n,closeAll:r},children:Object(an.jsx)(Fn,{gap:0,...t})})},In=e=>{const{overflow:t=\"auto\",classNames:s=[],...n}=e,r=Object(c.useMemo)((()=>{const e=[\"container-fluid\",\"content-area\"];return s.length&&e.push(...s),e}),[s]);return Object(an.jsx)(Fn,{classNames:r,overflow:t,...n})},En=Object(c.createContext)({theme:null}),Cn=e=>Object(an.jsx)(En.Provider,{value:e.value,children:e.children}),vn=e=>{const{headerText:t=null,noCloseButton:s=!1,onCloseClick:n=null,justifyContent:r=\"center\",alignItems:i=\"center\",classNames:a=[],children:o=null,...l}=e,d=Object(c.useMemo)((()=>{const e=[\"drag-handler\",\"container-fluid\",\"nitro-card-header\"];return a.length&&e.push(...a),e}),[a]),u=Object(c.useCallback)((e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}),[]);return Object(an.jsx)(Fn,{center:!0,position:\"relative\",classNames:d,...l,children:Object(an.jsxs)(hn,{fullWidth:!0,center:!0,children:[Object(an.jsx)(\"span\",{className:\"nitro-card-header-text\",children:t}),Object(an.jsx)(on,{position:\"absolute\",className:\"end-2 nitro-card-header-close\",onMouseDownCapture:u,onClick:n,children:Object(an.jsx)(fn.a,{icon:\"times\"})})]})})},Nn=e=>{const{justifyContent:t=\"center\",classNames:s=[],...n}=e,r=Object(c.useMemo)((()=>{const e=[\"container-fluid\",\"bg-muted\",\"p-1\"];return s.length&&e.push(...s),e}),[s]);return Object(an.jsx)(hn,{justifyContent:t,classNames:r,...n})};var Tn=s(21);class Sn{}Sn.CENTER=\"DWP_CENTER\",Sn.TOP_CENTER=\"DWP_TOP_CENTER\",Sn.TOP_LEFT=\"DWP_TOP_LEFT\",Sn.NOTHING=\"DWP_NOTHING\";const wn=[],Rn=e=>{const{uniqueKey:t=null,handleSelector:s=\".drag-handler\",windowPosition:n=Sn.CENTER,disableDrag:r=!1,dragStyle:i={},children:o=null,offsetLeft:l=0,offsetTop:d=0}=e,[u,j]=Object(c.useState)(null),[h,b]=Object(c.useState)(null),[g,m]=Object(c.useState)({x:0,y:0}),[O,p]=Object(c.useState)(!1),[f,x]=Object(c.useState)(null),_=Object(c.useRef)(),I=Object(c.useCallback)((()=>{let e=400;for(const t of wn)e+=1,t.style.zIndex=e.toString()}),[]),E=Object(c.useCallback)((()=>{const e=wn.indexOf(_.current);if(-1===e)wn.push(_.current);else{if(e===wn.length-1)return;e>=0&&(wn.splice(e,1),wn.push(_.current))}I()}),[I]),C=Object(c.useCallback)((e=>{E()}),[E]),v=Object(c.useCallback)((e=>{E()}),[E]),N=Object(c.useCallback)(((e,t)=>{m({x:e,y:t}),p(!0)}),[]),T=Object(c.useCallback)((e=>{N(e.clientX,e.clientY)}),[N]),S=Object(c.useCallback)((e=>{const t=e.touches[0];N(t.clientX,t.clientY)}),[N]),w=Object(c.useCallback)((e=>{j({x:e.clientX-g.x,y:e.clientY-g.y})}),[g]),R=Object(c.useCallback)((e=>{const t=e.touches[0];j({x:t.clientX-g.x,y:t.clientY-g.y})}),[g]),y=Object(c.useCallback)((()=>{if(!_.current||!f)return;let e=h.x+u.x,s=h.y+u.y;const n=_.current.offsetLeft+e,r=_.current.offsetTop+s;if(r<0?s=-_.current.offsetTop:r+f.offsetHeight>=document.body.offsetHeight-0&&(s=document.body.offsetHeight-_.current.offsetHeight-_.current.offsetTop),n+_.current.offsetWidth<0?e=-_.current.offsetLeft:n>=document.body.offsetWidth-0&&(e=document.body.offsetWidth-_.current.offsetWidth-_.current.offsetLeft),j({x:0,y:0}),b({x:e,y:s}),p(!1),null!==t){const n={...Me(`nitro.windows.${t}`)};n.offset={x:e,y:s},Ct(`nitro.windows.${t}`,n)}}),[f,u,h,t]),k=Object(c.useCallback)((e=>{y()}),[y]),A=Object(c.useCallback)((e=>{y()}),[y]);return Object(c.useEffect)((()=>{const e=_.current;if(!e)return;if(wn.push(e),I(),!r){const t=e.querySelector(s);t&&x(t)}switch(n){case Sn.TOP_CENTER:e.style.top=50+d+\"px\",e.style.left=`calc(50vw - ${e.offsetWidth/2+l}px)`;break;case Sn.CENTER:e.style.top=`calc(50vh - ${e.offsetHeight/2+d}px)`,e.style.left=`calc(50vw - ${e.offsetWidth/2+l}px)`;break;case Sn.TOP_LEFT:e.style.top=50+d+\"px\",e.style.left=50+l+\"px\"}return j({x:0,y:0}),b({x:0,y:0}),()=>{const t=wn.indexOf(e);t>=0&&wn.splice(t,1)}}),[s,n,t,r,l,d,I]),Object(c.useEffect)((()=>{if(!h&&!u)return;const e=_.current;e&&(e.style.transform=`translate(${h.x+u.x}px, ${h.y+u.y}px)`,e.style.visibility=\"visible\")}),[h,u]),Object(c.useEffect)((()=>{if(f)return f.addEventListener(a.Ve.MOUSE_DOWN,T),f.addEventListener(a.hi.TOUCH_START,S),()=>{f.removeEventListener(a.Ve.MOUSE_DOWN,T),f.removeEventListener(a.hi.TOUCH_START,S)}}),[f,T,S]),Object(c.useEffect)((()=>{if(O)return document.addEventListener(a.Ve.MOUSE_UP,k),document.addEventListener(a.hi.TOUCH_END,A),document.addEventListener(a.Ve.MOUSE_MOVE,w),document.addEventListener(a.hi.TOUCH_MOVE,R),()=>{document.removeEventListener(a.Ve.MOUSE_UP,k),document.removeEventListener(a.hi.TOUCH_END,A),document.removeEventListener(a.Ve.MOUSE_MOVE,w),document.removeEventListener(a.hi.TOUCH_MOVE,R)}}),[O,k,w,A,R]),Object(c.useEffect)((()=>{if(!t)return;const e=Me(`nitro.windows.${t}`);e&&e.offset&&(j({x:0,y:0}),e.offset&&b(e.offset))}),[t]),Object(Tn.createPortal)(Object(an.jsx)(on,{position:\"absolute\",innerRef:_,className:\"draggable-window\",onMouseDownCapture:C,onTouchStartCapture:v,style:i,children:o}),document.getElementById(\"draggable-windows-container\"))},yn=e=>{const{theme:t=\"primary\",uniqueKey:s=null,handleSelector:n=\".drag-handler\",windowPosition:r=Sn.CENTER,disableDrag:i=!1,overflow:a=\"hidden\",position:o=\"relative\",gap:l=0,classNames:d=[],...u}=e,j=Object(c.useRef)(),h=Object(c.useMemo)((()=>{const e=[\"nitro-card\",\"rounded\",\"shadow\"];return e.push(`theme-${t||\"primary\"}`),d.length&&e.push(...d),e}),[t,d]);return Object(c.useEffect)((()=>{if(!s||!j||!j.current)return;const e=Me(`nitro.windows.${s}`),t=j.current;e&&e.size&&(t.style.width=`${e.size.width}px`,t.style.height=`${e.size.height}px`);const n=new ResizeObserver((e=>{const n={...Me(`nitro.windows.${s}`)};n.size={width:t.offsetWidth,height:t.offsetHeight},Ct(`nitro.windows.${s}`,n)}));return n.observe(t),()=>{n.disconnect()}}),[s]),Object(an.jsx)(Cn,{value:{theme:t},children:Object(an.jsx)(Rn,{uniqueKey:s,handleSelector:n,windowPosition:r,disableDrag:i,children:Object(an.jsx)(Fn,{innerRef:j,overflow:a,position:o,gap:l,classNames:h,...u})})})},kn=e=>{const{figure:t=\"\",gender:s=\"M\",headOnly:n=!1,direction:r=0,scale:i=1,classNames:o=[],style:l={},...u}=e,[j,h]=Object(c.useState)(null),[b,g]=Object(c.useState)(-1),m=Object(c.useRef)(!1),O=Object(c.useMemo)((()=>{const e=[\"avatar-image\"];return o.length&&e.push(...o),e}),[o]),p=Object(c.useMemo)((()=>{let e={};return j&&j.length&&(e.backgroundImage=`url('${j}')`),1!==i&&(e.transform=`scale(${i})`,i%1||(e.imageRendering=\"pixelated\")),Object.keys(l).length&&(e={...e,...l}),e}),[j,i,l]);return Object(c.useEffect)((()=>{const e=d().createAvatarImage(t,a.r.LARGE,s,{resetFigure:e=>{m.current||g(Math.random())},dispose:()=>{},disposed:!1},null);if(!e)return;let c=a.s.FULL;n&&(c=a.s.HEAD),e.setDirection(c,r);const i=e.getCroppedImage(c);i&&h(i.src),e.dispose()}),[t,s,r,n,b]),Object(c.useEffect)((()=>(m.current=!1,()=>{m.current=!0})),[]),Object(an.jsx)(on,{classNames:O,style:p,...u})},An=e=>{const{imageUrl:t=null,fit:s=!0,style:n=null,...r}=e,i=Object(c.useMemo)((()=>{const e={...n};return t&&(e.background=`url(${t}) center no-repeat`),e}),[n,t]);return Object(an.jsx)(on,{fit:s,style:i,...r})},Dn=e=>{const{badgeCode:t=null,isGroup:s=!1,showInfo:n=!1,customTitle:r=null,isGrayscale:i=!1,scale:o=1,classNames:l=[],style:d={},children:u=null,...j}=e,[h,b]=Object(c.useState)(null),g=Object(c.useMemo)((()=>{const e=[\"badge-image\"];return s&&e.push(\"group-badge\"),i&&e.push(\"grayscale\"),l.length&&e.push(...l),e}),[l,s,i]),m=Object(c.useMemo)((()=>{let e={};return h&&(e.backgroundImage=`url('${h.src}')`,e.width=h.width,e.height=h.height,1!==o&&(e.transform=`scale(${o})`,o%1||(e.imageRendering=\"pixelated\"),e.width=h.width*o,e.height=h.height*o)),Object.keys(d).length&&(e={...e,...d}),e}),[h,o,d]);return Object(c.useEffect)((()=>{if(!t||!t.length)return;let e=!1;const n=s=>{if(s.badgeId!==t)return;const r=a.fi.generateImage(new a.rf(s.image));r.onload=()=>b(r),e=!0,F().events.removeEventListener(a.t.IMAGE_READY,n)};F().events.addEventListener(a.t.IMAGE_READY,n);const r=s?F().getGroupBadgeImage(t):F().getBadgeImage(t);if(r&&!e){const e=a.fi.generateImage(new a.rf(r));e.onload=()=>b(e)}return()=>F().events.removeEventListener(a.t.IMAGE_READY,n)}),[t,s]),Object(an.jsxs)(on,{classNames:g,style:m,...j,children:[n&&p(\"badge.descriptions.enabled\",!0)&&Object(an.jsxs)(on,{className:\"badge-information text-black py-1 px-2 small\",children:[Object(an.jsx)(\"div\",{className:\"fw-bold mb-1\",children:s?r:Be(t)}),Object(an.jsx)(\"div\",{children:s?We(\"group.badgepopup.body\"):Fe(t)})]}),u]})},Ln=e=>{const{day:t=\"00\",hour:s=\"00\",minutes:n=\"00\",seconds:r=\"00\",classNames:i=[],children:a=null,...o}=e,l=Object(c.useMemo)((()=>{const e=[\"nitro-counter-time\"];return i.length&&e.push(...i),e}),[i]);return Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(on,{classNames:l,...o,children:Object(an.jsxs)(\"div\",{children:[\"00\"!=t?t:s,We(\"00\"!=t?\"countdown_clock_unit_days\":\"countdown_clock_unit_hours\")]})}),Object(an.jsx)(on,{style:{marginTop:\"3px\"},children:\":\"}),Object(an.jsx)(on,{classNames:l,...o,children:Object(an.jsxs)(\"div\",{children:[n,We(\"countdown_clock_unit_minutes\")]})}),Object(an.jsx)(on,{style:{marginTop:\"3px\"},children:\":\"}),Object(an.jsx)(on,{classNames:l,...o,children:Object(an.jsxs)(\"div\",{children:[r,We(\"countdown_clock_unit_seconds\")]})}),a]})},Pn=e=>{const{type:t=\"\",classNames:s=[],style:n={},...r}=e,i=Object(c.useMemo)((()=>{const e=[\"nitro-currency-icon\"];return s.length&&e.push(...s),e}),[s]),a=Object(c.useMemo)((()=>{let e=p(\"currency.asset.icon.url\",\"\");return e=e.replace(\"%type%\",t.toString()),`url(${e})`}),[t]),o=Object(c.useMemo)((()=>{let e={};return e.backgroundImage=a,Object.keys(n).length&&(e={...e,...n}),e}),[n,a]);return Object(an.jsx)(on,{classNames:i,style:o,...r})},Un=e=>{const{productType:t=\"s\",productClassId:s=-1,direction:n=2,extraData:r=\"\",scale:i=1,style:o={},...l}=e,[d,u]=Object(c.useState)(null),j=Object(c.useMemo)((()=>{var e;let t={};return null!==d&&void 0!==d&&null!==(e=d.src)&&void 0!==e&&e.length&&(t.backgroundImage=`url('${d.src}')`,t.width=d.width,t.height=d.height),1!==i&&(t.transform=`scale(${i})`,i%1||(t.imageRendering=\"pixelated\")),Object.keys(o).length&&(t={...t,...o}),t}),[d,i,o]),h=Object(c.useCallback)((()=>{let e=null;const c={imageReady:(e,t,s)=>{!s&&t&&(s=a.fi.generateImage(t)),s.onload=()=>u(s)},imageFailed:null};switch(t.toLocaleLowerCase()){case X.FLOOR:e=C().getFurnitureFloorImage(s,new a.kj(n),64,c,0,r);break;case X.WALL:e=C().getFurnitureWallImage(s,new a.kj(n),64,c,0,r)}if(e){const t=e.getImage();t.onload=()=>u(t)}}),[t,s,n,r]);return Object(c.useEffect)((()=>{h()}),[h]),d?Object(an.jsx)(on,{classNames:[\"furni-image\"],style:j,...l}):null},Mn=e=>{const{figure:t=null,userName:s=null,message:n=null,editable:r=!1,onChange:c=null}=e;return Object(an.jsxs)(hn,{overflow:\"hidden\",className:\"nitro-gift-card text-black\",children:[Object(an.jsxs)(\"div\",{className:\"d-flex align-items-center justify-content-center gift-face flex-shrink-0\",children:[!s&&Object(an.jsx)(\"div\",{className:\"gift-incognito\"}),t&&Object(an.jsx)(\"div\",{className:\"gift-avatar\",children:Object(an.jsx)(kn,{figure:t,direction:2,headOnly:!0})})]}),Object(an.jsx)(hn,{overflow:\"hidden\",className:\"w-100 pt-4 pb-4 pe-4 ps-3\",children:Object(an.jsxs)(Fn,{grow:!0,overflow:\"auto\",justifyContent:\"between\",children:[!r&&Object(an.jsx)(ur,{textBreak:!0,className:\"gift-message\",children:n}),r&&null!==c&&Object(an.jsx)(\"textarea\",{className:\"gift-message h-100\",maxLength:140,value:n,onChange:e=>c(e.target.value),placeholder:We(\"catalog.gift_wrapping_new.message_hint\")}),s&&Object(an.jsx)(ur,{italics:!0,textEnd:!0,className:\"pe-1\",children:We(\"catalog.gift_wrapping_new.message_from\",[\"name\"],[s])})]})})]})},Fn=e=>{const{size:t=0,offset:s=0,column:n=!0,gap:r=2,classNames:i=[],...a}=e,{isCssGrid:o=!1}=Object(c.useContext)(ln),l=Object(c.useMemo)((()=>{const e=[];if(t){let s=`col-${t}`;o&&(s=`g-${s}`),e.push(s)}if(s){let t=`offset-${s}`;o&&(t=`g-start-${s}`),e.push(t)}return i.length&&e.push(...i),e}),[t,s,o,i]);return Object(an.jsx)(hn,{classNames:l,column:n,gap:r,...a})},Bn=e=>{const{count:t=0,position:s=\"absolute\",classNames:n=[],children:r=null,...i}=e,a=Object(c.useMemo)((()=>{const e=[\"badge\",\"border\",\"border-black\",\"bg-danger\",\"px-1\",\"nitro-item-count\"];return n.length&&e.push(...n),e}),[n]);return Object(an.jsxs)(on,{position:\"absolute\",classNames:a,...i,children:[t,r]})},Hn=e=>{const{value:t=0}=e,s=t.toString().split(\"\");return Object(an.jsx)(an.Fragment,{children:s.map(((e,t)=>Object(an.jsx)(\"i\",{className:\"limited-edition-number n-\"+e},t)))})},Gn=e=>{const{uniqueNumber:t=0,uniqueSeries:s=0,classNames:n=[],children:r=null,...i}=e,a=Object(c.useMemo)((()=>{const e=[\"unique-compact-plate\",\"z-index-1\"];return n.length&&e.push(...n),e}),[n]);return Object(an.jsxs)(on,{classNames:a,...i,children:[Object(an.jsx)(\"div\",{children:Object(an.jsx)(Hn,{value:t})}),Object(an.jsx)(\"div\",{children:Object(an.jsx)(Hn,{value:s})}),r]})},Wn=e=>{const{uniqueLimitedItemsLeft:t=0,uniqueLimitedSeriesSize:s=0,classNames:n=[],...r}=e,i=Object(c.useMemo)((()=>{const e=[\"unique-complete-plate\"];return n.length&&e.push(...n),e}),[n]);return Object(an.jsx)(on,{classNames:i,...r,children:Object(an.jsxs)(Fn,{className:\"plate-container\",gap:0,children:[Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",children:[We(\"unique.items.left\"),Object(an.jsx)(\"div\",{children:Object(an.jsx)(Hn,{value:t})})]}),Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",children:[We(\"unique.items.number.sold\"),Object(an.jsx)(\"div\",{children:Object(an.jsx)(Hn,{value:s})})]})]})})},Vn=e=>{const{itemImage:t,itemColor:s,itemActive:n=!1,itemCount:r=1,itemCountMinimum:i=1,itemUniqueSoldout:a=!1,itemUniqueNumber:o=-2,itemUnseen:l=!1,itemHighlight:d=!1,disabled:u=!1,center:j=!0,column:h=!0,style:b={},classNames:g=[],position:m=\"relative\",overflow:O=\"hidden\",children:p=null,...f}=e,x=Object(c.useMemo)((()=>{const e=[\"layout-grid-item\",\"border\",\"border-2\",\"border-muted\",\"rounded\"];return n&&e.push(\"active\"),(a||o>0)&&e.push(\"unique-item\"),a&&e.push(\"sold-out\"),l&&e.push(\"unseen\"),d&&e.push(\"has-highlight\"),u&&e.push(\"disabled\"),null===t&&e.push(\"icon\",\"loading-icon\"),g.length&&e.push(...g),e}),[n,a,o,l,d,u,t,g]),_=Object(c.useMemo)((()=>{let e={...b};return t&&!(a||o>0)&&(e.backgroundImage=`url(${t})`),s&&(e.backgroundColor=s),Object.keys(b).length&&(e={...e,...b}),e}),[b,t,s,a,o]);return Object(an.jsxs)(Fn,{center:j,pointer:!0,position:m,overflow:O,column:h,classNames:x,style:_,...f,children:[r>i&&Object(an.jsx)(Bn,{count:r}),o>0&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(on,{fit:!0,className:\"unique-bg-override\",style:{backgroundImage:`url(${t})`}}),Object(an.jsx)(\"div\",{className:\"position-absolute bottom-0 unique-item-counter\",children:Object(an.jsx)(Hn,{value:o})})]}),p]})},qn=e=>{const{imageUrl:t=null,className:s=\"\",...n}=e;return Object(an.jsx)(\"img\",{src:t,className:\"no-select \"+s,alt:\"\",...n})},zn=e=>{const{...t}=e;return Object(an.jsxs)(on,{classNames:[\"spinner-container\"],...t,children:[Object(an.jsx)(on,{className:\"spinner\"}),Object(an.jsx)(on,{className:\"spinner\"}),Object(an.jsx)(on,{className:\"spinner\"})]})},Yn=e=>{const{roomId:t=-1,textureReceiver:s=null,onClose:n=null}=e,r=Object(c.useRef)(),i=Object(c.useCallback)((()=>{if(!r||!r.current)return null;const e=r.current.getBoundingClientRect();return new a.of(Math.floor(e.x),Math.floor(e.y),Math.floor(e.width),Math.floor(e.height))}),[]),o=Object(c.useCallback)((()=>{Xe(vt.CAMERA_SHUTTER),s(C().createTextureFromRoom(t,1,i()))}),[t,i,s]);return Object(an.jsx)(Rn,{handleSelector:\".nitro-room-thumbnail-camera\",children:Object(an.jsxs)(\"div\",{className:\"nitro-room-thumbnail-camera px-2\",children:[Object(an.jsx)(\"div\",{ref:r,className:\"camera-frame\"}),Object(an.jsxs)(\"div\",{className:\"d-flex align-items-end h-100 pb-2\",children:[Object(an.jsx)(\"button\",{className:\"btn btn-sm btn-danger w-100 mb-1 me-2\",onClick:n,children:We(\"cancel\")}),Object(an.jsx)(\"button\",{className:\"btn btn-sm btn-success w-100 mb-1\",onClick:o,children:We(\"navigator.thumbeditor.save\")})]})]})})},$n=e=>{const{title:t=\"\",onClose:s=null,classNames:n=[],children:r=null,type:i=fs.DEFAULT,...a}=e,o=Object(c.useMemo)((()=>{const e=[\"nitro-alert\"];return e.push(\"nitro-alert-\"+i),n.length&&e.push(...n),e}),[n,i]);return Object(an.jsxs)(yn,{classNames:o,theme:\"primary-slim\",...a,children:[Object(an.jsx)(vn,{headerText:t,onCloseClick:s}),Object(an.jsx)(In,{grow:!0,justifyContent:\"between\",overflow:\"hidden\",className:\"text-black\",gap:0,children:r})]})};var Kn=s(23);class Xn{}function Qn(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;switch(e){case Xn.BOUNCE:switch(t){default:return{};case Kn.b:return{animationName:\"bounceIn\",animationDuration:`${s}ms`};case Kn.c:return{animationName:\"bounceOut\",animationDuration:`${s}ms`}}case Xn.SLIDE_LEFT:switch(t){default:return{};case Kn.b:return{animationName:\"slideInLeft\",animationDuration:`${s}ms`};case Kn.c:return{animationName:\"slideOutLeft\",animationDuration:`${s}ms`}}case Xn.SLIDE_RIGHT:switch(t){default:return{};case Kn.b:return{animationName:\"slideInRight\",animationDuration:`${s}ms`};case Kn.c:return{animationName:\"slideOutRight\",animationDuration:`${s}ms`}}case Xn.FLIP_X:switch(t){default:return{};case Kn.b:return{animationName:\"flipInX\",animationDuration:`${s}ms`};case Kn.c:return{animationName:\"flipOutX\",animationDuration:`${s}ms`}}case Xn.FADE_UP:switch(t){default:return{};case Kn.b:return{animationName:\"fadeInUp\",animationDuration:`${s}ms`};case Kn.c:return{animationName:\"fadeOutDown\",animationDuration:`${s}ms`}}case Xn.FADE_IN:switch(t){default:return{};case Kn.b:return{animationName:\"fadeIn\",animationDuration:`${s}ms`};case Kn.c:return{animationName:\"fadeOut\",animationDuration:`${s}ms`}}case Xn.FADE_DOWN:switch(t){default:return{};case Kn.b:return{animationName:\"fadeInDown\",animationDuration:`${s}ms`};case Kn.c:return{animationName:\"fadeOutUp\",animationDuration:`${s}ms`}}case Xn.HEAD_SHAKE:return t===Kn.b?{animationName:\"headShake\",animationDuration:`${s}ms`}:{}}return null}Xn.BOUNCE=\"bounce\",Xn.SLIDE_LEFT=\"slideLeft\",Xn.SLIDE_RIGHT=\"slideRight\",Xn.FLIP_X=\"flipX\",Xn.FADE_IN=\"fadeIn\",Xn.FADE_DOWN=\"fadeDown\",Xn.FADE_UP=\"fadeUp\",Xn.HEAD_SHAKE=\"headShake\";const Jn=e=>{const{type:t=null,inProp:s=!1,timeout:n=300,className:r=null,children:i=null}=e,[a,o]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{let e=null;return s?o(!0):e=setTimeout((()=>{o(!1),clearTimeout(n)}),n),()=>{e&&clearTimeout(e)}}),[s,n]),Object(an.jsx)(Kn.d,{in:s,timeout:n,children:e=>Object(an.jsx)(\"div\",{className:(null!==r&&void 0!==r?r:\"\")+\" animate__animated\",style:{...Qn(t,e,n)},children:a&&i})})},Zn=e=>{const{fadesOut:t=!0,timeoutMs:s=8e3,onClose:n=null,overflow:r=\"hidden\",classNames:i=[],...a}=e,[o,l]=Object(c.useState)(!1),d=Object(c.useMemo)((()=>{const e=[\"nitro-notification-bubble\",\"rounded\"];return i.length&&e.push(...i),e}),[i]);return Object(c.useEffect)((()=>(l(!0),()=>l(!1))),[]),Object(c.useEffect)((()=>{if(!t)return;const e=setTimeout((()=>{l(!1),setTimeout((()=>n()),300)}),s);return()=>clearTimeout(e)}),[t,s,n]),Object(an.jsx)(Jn,{type:Xn.FADE_IN,inProp:o,timeout:300,children:Object(an.jsx)(hn,{overflow:r,classNames:d,onClick:n,...a})})},er=e=>{const{figure:t=\"\",typeId:s=-1,paletteId:n=-1,petColor:r=16777215,customParts:i=[],posture:o=\"std\",headOnly:l=!1,direction:d=0,scale:u=1,style:j={},...h}=e,[b,g]=Object(c.useState)(null),[m,O]=Object(c.useState)(0),[p,f]=Object(c.useState)(0),x=Object(c.useRef)(!1),_=Object(c.useMemo)((()=>{let e={};return b&&b.length&&(e.backgroundImage=`url(${b})`),1!==u&&(e.transform=`scale(${u})`,u%1||(e.imageRendering=\"pixelated\")),e.width=m,e.height=p,Object.keys(j).length&&(e={...e,...j}),e}),[b,u,j,m,p]);Object(c.useEffect)((()=>{let e=s,c=n,u=r,j=i,h=l;if(t&&t.length){const s=new a.Ff(t);e=s.typeId,c=s.paletteId,u=s.color,j=s.customParts}16===e&&(h=!1);const b=C().getRoomObjectPetImage(e,c,u,new a.kj(45*d),64,{imageReady:(e,t,s)=>{x.current||(s?(g(s.src),O(s.width),f(s.height)):t&&(g(a.fi.generateImageUrl(t)),O(t.width),f(t.height)))},imageFailed:e=>{}},h,0,j,o);if(b){const e=b.getImage();e&&(g(e.src),O(e.width),f(e.height))}}),[t,s,n,r,i,o,l,d]),Object(c.useEffect)((()=>(x.current=!1,()=>{x.current=!0})),[]);return Object(an.jsx)(on,{classNames:[\"pet-image\"],style:_,...h})},tr=e=>{const{text:t=\"\",progress:s=0,maxProgress:n=100,position:r=\"relative\",justifyContent:i=\"center\",classNames:a=[],children:o=null,...l}=e,d=Object(c.useMemo)((()=>{const e=[\"nitro-progress-bar\",\"text-white\"];return a.length&&e.push(...a),e}),[a]);return Object(an.jsxs)(Fn,{position:r,justifyContent:i,classNames:d,...l,children:[t&&t.length>0&&Object(an.jsx)(hn,{fit:!0,center:!0,position:\"absolute\",className:\"nitro-progress-bar-text small\",children:t}),Object(an.jsx)(on,{className:\"nitro-progress-bar-inner\",style:{width:~~(100*(s-0)/(n-0)+0)+\"%\"}}),o]})},sr=e=>{const{level:t=0,classNames:s=[],children:n=null,...r}=e,i=Object(c.useMemo)((()=>{const e=[\"nitro-rarity-level\"];return s.length&&e.push(...s),e}),[s]);return Object(an.jsxs)(on,{classNames:i,...r,children:[Object(an.jsx)(\"div\",{children:t}),n]})},nr=e=>{const{roomPreviewer:t=null,height:s=0,children:n=null}=e,[r,i]=Object(c.useState)(null),l=Object(c.useRef)(),d=Object(c.useCallback)((e=>{t&&r&&l.current&&(t.updatePreviewRoomView(),r.canvasUpdated&&(l.current.style.backgroundImage=`url(${a.fi.generateImageUrl(r.master)})`))}),[t,r,l]),u=Object(c.useCallback)((()=>{if(!l.current||!t)return;let e=document.defaultView.getComputedStyle(l.current,null).backgroundColor;e=a.sb.rgbStringToHex(e),e=e.replace(\"#\",\"0x\"),t.backgroundColor=parseInt(e,16);const n=l.current.parentElement.clientWidth;t.getRoomCanvas(n,s);const r=t.getRenderingCanvas();i(r),r.canvasUpdated=!0,d(-1)}),[l,s,t,d]);return Object(c.useEffect)((()=>{if(!t)return;r||u(),o().ticker.add(d);const e=new ResizeObserver((()=>{if(!t||!l.current)return;const e=l.current.parentElement.offsetWidth;t.modifyRoomCanvas(e,s),d(-1)}));return e.observe(l.current),()=>{e.disconnect(),o().ticker.remove(d)}}),[r,t,l,s,u,d]),Object(an.jsxs)(\"div\",{className:\"room-preview-container\",children:[Object(an.jsx)(\"div\",{ref:l,className:\"room-preview-image\",style:{height:s},onClick:e=>{t&&(e.shiftKey?t.changeRoomObjectDirection():t.changeRoomObjectState())}}),n]})},rr=e=>{const{roomId:t=-1,customUrl:s=null,shrink:n=!0,overflow:r=\"hidden\",classNames:i=[],children:a=null,...o}=e,l=Object(c.useMemo)((()=>{const e=[\"room-thumbnail\",\"rounded\",\"border\"];return i.length&&e.push(...i),e}),[i]),d=Object(c.useMemo)((()=>s&&s.length?p(\"image.library.url\")+s:p(\"thumbnails.url\").replace(\"%thumbnail%\",t.toString())),[s,t]);return Object(an.jsxs)(on,{shrink:n,overflow:r,classNames:l,...o,children:[d&&Object(an.jsx)(\"img\",{alt:\"\",src:d}),a]})},cr=e=>{const{color:t=\"\",message:s=\"\",date:n=\"\",senderName:r=\"\",customTitle:c=null,onCloseClick:i=null}=e;return Object(an.jsx)(Rn,{handleSelector:\".drag-handler\",children:Object(an.jsxs)(Fn,{gap:0,alignItems:\"center\",className:`nitro-layout-trophy trophy-${t}`,children:[Object(an.jsxs)(hn,{center:!0,fullWidth:!0,position:\"relative\",className:\"trophy-header drag-handler\",children:[Object(an.jsx)(on,{position:\"absolute\",pointer:!0,className:\"trophy-close\",onClick:i}),Object(an.jsx)(ur,{bold:!0,children:We(\"widget.furni.trophy.title\")})]}),Object(an.jsxs)(Fn,{className:\"trophy-content py-1\",gap:1,children:[c&&Object(an.jsx)(ur,{bold:!0,children:c}),s]}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",className:\"trophy-footer mt-1\",children:[Object(an.jsx)(ur,{bold:!0,children:n}),Object(an.jsx)(ur,{bold:!0,children:r})]})]})})},ir=e=>{const{userId:t=0,userName:s=null,classNames:n=[],pointer:r=!0,children:i=null,...a}=e,o=Object(c.useMemo)((()=>{const e=[\"nitro-friends-spritesheet\",\"icon-profile-sm\"];return n.length&&e.push(...n),e}),[n]);return Object(an.jsx)(on,{classNames:o,pointer:r,onClick:e=>Xs(t),...a,children:i})},ar=e=>{const{isActive:t=!1,count:s=0,overflow:n=\"hidden\",position:r=\"relative\",pointer:i=!0,classNames:a=[],children:o=null,...l}=e,d=Object(c.useMemo)((()=>{const e=[\"nav-item\",\"rounded-top\",\"border\"];return t&&e.push(\"active\"),a.length&&e.push(...a),e}),[t,a]);return Object(an.jsxs)(hn,{overflow:n,pointer:i,position:r,classNames:d,...l,children:[Object(an.jsx)(hn,{shrink:!0,center:!0,children:o}),s>0&&Object(an.jsx)(Bn,{count:s})]})},or=e=>{const{justifyContent:t=\"center\",gap:s=1,classNames:n=[],children:r=null,...i}=e,a=Object(c.useMemo)((()=>{const e=[\"container-fluid\",\"nitro-card-tabs\",\"pt-1\"];return n.length&&e.push(...n),e}),[n]);return Object(an.jsx)(hn,{justifyContent:t,gap:s,classNames:a,...i,children:r})},lr=e=>{const{classNames:t=[],...s}=e,n=Object(c.useMemo)((()=>{const e=[\"form-group\"];return t.length&&e.push(...t),e}),[t]);return Object(an.jsx)(hn,{classNames:n,...s})},dr=e=>{const{variant:t=\"black\",height:s=1,classNames:n=[],style:r={},...i}=e,a=Object(c.useMemo)((()=>{const e=[];return t&&e.push(\"bg-\"+t),n.length&&e.push(...n),e}),[t,n]),o=Object(c.useMemo)((()=>{let e={display:\"list-item\"};return s>0&&(e.height=s),Object.keys(r).length&&(e={...e,...r}),e}),[s,r]);return Object(an.jsx)(on,{classNames:a,style:o,...i})},ur=e=>{const{variant:t=\"black\",fontWeight:s=null,fontSize:n=0,align:r=null,bold:i=!1,underline:a=!1,italics:o=!1,truncate:l=!1,center:d=!1,textEnd:u=!1,small:j=!1,wrap:h=!1,noWrap:b=!1,textBreak:g=!1,...m}=e,O=Object(c.useMemo)((()=>{const e=[\"d-inline\"];return t&&e.push(\"text-\"+t),i&&e.push(\"fw-bold\"),s&&e.push(\"fw-\"+s),n&&e.push(\"fs-\"+n),r&&e.push(\"text-\"+r),a&&e.push(\"text-decoration-underline\"),o&&e.push(\"fst-italic\"),l&&e.push(\"text-truncate\"),d&&e.push(\"text-center\"),u&&e.push(\"text-end\"),j&&e.push(\"small\"),h&&e.push(\"text-wrap\"),b&&e.push(\"text-nowrap\"),g&&e.push(\"text-break\"),e}),[t,s,n,r,i,a,o,l,d,u,j,h,b,g]);return Object(an.jsx)(on,{classNames:O,...m})},jr=e=>{const{isError:t=!1,message:s=\"\",percent:n=0}=e;return Object(an.jsx)(Fn,{fullHeight:!0,position:\"relative\",className:\"nitro-loading\",children:Object(an.jsx)(on,{fullHeight:!0,className:\"container h-100\",children:Object(an.jsxs)(Fn,{fullHeight:!0,alignItems:\"center\",justifyContent:\"end\",children:[Object(an.jsx)(on,{className:\"connecting-duck\"}),Object(an.jsx)(Fn,{size:6,className:\"text-center py-4\",children:t&&s&&s.length?Object(an.jsx)(on,{className:\"fs-4 text-shadow\",children:s}):Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(ur,{fontSize:4,variant:\"white\",className:\"text-shadow\",children:[n.toFixed(),\"%\"]}),Object(an.jsx)(tr,{progress:n,className:\"mt-2 large\"})]})})]})})})},hr=function(e,t,s){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Object(c.useEffect)((()=>{if(n)return Array.isArray(e)?e.map((e=>t.addEventListener(e,s))):t.addEventListener(e,s),()=>{Array.isArray(e)?e.map((e=>t.removeEventListener(e,s))):t.removeEventListener(e,s)}}),[e,t,n,s])},br=(e,t)=>hr(e,g().events,t),gr=(e,t)=>hr(e,o().events,t),mr=(e,t)=>hr(e,C().events,t),Or=(e,t)=>hr(e,L().events,t),pr=(e,t)=>{Object(c.useEffect)((()=>{const s=new e(t);return O().registerMessageEvent(s),()=>O().removeMessageEvent(s)}),[e,t])},fr=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return hr(e,Ye,t,s)},xr=()=>{const[e,t]=Object(c.useState)(!0),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(-1),[d,u]=Object(c.useState)(0),j=Object(c.useMemo)((()=>{let e=0;return s.forEach((t=>e+=ve.getAchievementCategoryTotalUnseen(t))),e}),[s]),h=Object(c.useMemo)((()=>{let e=0;return s.forEach((t=>e+=t.getProgress())),e}),[s]),b=Object(c.useMemo)((()=>{let e=0;return s.forEach((t=>e+=t.getMaxProgress())),e}),[s]),g=Object(c.useMemo)((()=>~~(100*(h-0)/(b-0)+0)),[h,b]);return pr(a.b,(e=>{const t=e.getParser().achievement;n((e=>{const s=[...e],n=s.findIndex((e=>e.code===t.category));if(-1===n){const e=new Ne(t.category);e.achievements.push(t),s.push(e)}else{const e=Le(s[n]),r=[...e.achievements],c=r.findIndex((e=>e.achievementId===t.achievementId));let i=null;-1===c?r.push(t):(i=r[c],r[c]=t),ve.getAchievementIsIgnored(t)||(t.unseen++,i&&(t.unseen+=i.unseen)),e.achievements=r,s[n]=e}return s}))})),pr(a.d,(e=>{const t=e.getParser(),s=[];for(const n of t.achievements){const e=n.category;let t=s.find((t=>t.code===e));t||(t=new Ne(e),s.push(t)),t.achievements.push(n)}n(s)})),pr(a.e,(e=>{const t=e.getParser();u(t.score)})),Object(c.useEffect)((()=>{e&&(Ee(new a.ig),t(!1))}),[e]),{achievementCategories:s,selectedCategoryCode:r,setSelectedCategoryCode:i,selectedAchievementId:o,setSelectedAchievementId:l,achievementScore:d,getTotalUnseen:j,getProgress:h,getMaxProgress:b,scaledProgressPercent:g,setAchievementSeen:(e,t)=>{n((s=>{const n=[...s];for(const r of n)if(r.code===e)for(const e of r.achievements)e.achievementId===t&&(e.unseen=0);return n}))}}};var _r=s(13);const Ir=()=>{const[e,t]=Object(c.useState)([]),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)(-1),[l,d]=Object(c.useState)(10),[u,j]=Object(c.useState)(null);var b,g;return b=a.tg.INITIALIZED,g=e=>{t(Array.from(h().effects.values()))},hr(b,o().cameraManager.events,g),pr(a.he,(e=>{const t=e.getParser();j({credits:t.creditPrice,duckets:t.ducketPrice,publishDucketPrice:t.publishDucketPrice})})),Object(c.useEffect)((()=>{if(!h().isLoaded)return h().init(),void Ee(new a.lg)}),[]),{availableEffects:e,cameraRoll:s,setCameraRoll:n,selectedPictureIndex:r,setSelectedPictureIndex:i,myLevel:l,price:u}},Er=()=>Object(_r.a)(Ir);class Cr extends a.jf{}Cr.SHOW_CATALOG=\"CE_SHOW_CATALOG\",Cr.HIDE_CATALOG=\"CE_HIDE_CATALOG\",Cr.TOGGLE_CATALOG=\"CE_TOGGLE_CATALOG\",Cr.SOLD_OUT=\"CE_SOLD_OUT\",Cr.APPROVE_NAME_RESULT=\"CE_APPROVE_NAME_RESULT\",Cr.PURCHASE_APPROVED=\"CE_PURCHASE_APPROVED\",Cr.INIT_GIFT=\"CE_INIT_GIFT\",Cr.CATALOG_RESET=\"CE_RESET\",Cr.CATALOG_INVISIBLE_PAGE_VISITED=\"CE_CATALOG_INVISIBLE_PAGE_VISITED\";class vr extends Cr{constructor(e,t,s){super(Cr.INIT_GIFT),this._pageId=void 0,this._offerId=void 0,this._extraData=void 0,this._pageId=e,this._offerId=t,this._extraData=s}get pageId(){return this._pageId}get offerId(){return this._offerId}get extraData(){return this._extraData}}class Nr extends Cr{constructor(e){super(Nr.POST_MARKETPLACE),this._item=void 0,this._item=e}get item(){return this._item}}Nr.POST_MARKETPLACE=\"CE_POST_MARKETPLACE\";class Tr extends a.jf{constructor(e){super(Tr.PURCHASE_SUCCESS),this._purchase=void 0,this._purchase=e}get purchase(){return this._purchase}}Tr.PURCHASE_SUCCESS=\"CPE_PURCHASE_SUCCESS\";class Sr extends a.jf{constructor(e){super(Sr.PURCHASE_FAILED),this._code=void 0,this._code=e}get code(){return this._code}}Sr.PURCHASE_FAILED=\"CPFE_PURCHASE_FAILED\";class wr extends a.jf{constructor(e){super(wr.NOT_ALLOWED),this._code=void 0,this._code=e}get code(){return this._code}}wr.NOT_ALLOWED=\"CPNAE_NOT_ALLOWED\";class Rr extends a.jf{}Rr.WIDGETS_INITIALIZED=\"CWE_CWE_WIDGETS_INITIALIZED\",Rr.SELECT_PRODUCT=\"CWE_SELECT_PRODUCT\",Rr.SET_EXTRA_PARM=\"CWE_CWE_SET_EXTRA_PARM\",Rr.PURCHASE=\"CWE_PURCHASE\",Rr.COLOUR_ARRAY=\"CWE_COLOUR_ARRAY\",Rr.MULTI_COLOUR_ARRAY=\"CWE_MULTI_COLOUR_ARRAY\",Rr.COLOUR_INDEX=\"CWE_COLOUR_INDEX\",Rr.TEXT_INPUT=\"CWE_TEXT_INPUT\",Rr.DROPMENU_SELECT=\"CWE_CWE_DROPMENU_SELECT\",Rr.PURCHASE_OVERRIDE=\"CWE_PURCHASE_OVERRIDE\",Rr.SELLABLE_PET_PALETTES=\"CWE_SELLABLE_PET_PALETTES\",Rr.UPDATE_ROOM_PREVIEW=\"CWE_UPDATE_ROOM_PREVIEW\",Rr.GUILD_SELECTED=\"CWE_GUILD_SELECTED\",Rr.TOTAL_PRICE_WIDGET_INITIALIZED=\"CWE_TOTAL_PRICE_WIDGET_INITIALIZED\",Rr.PRODUCT_OFFER_UPDATED=\"CWE_CWE_PRODUCT_OFFER_UPDATED\",Rr.SET_PREVIEWER_STUFFDATA=\"CWE_CWE_SET_PREVIEWER_STUFFDATA\",Rr.EXTRA_PARAM_REQUIRED_FOR_BUY=\"CWE_CWE_EXTRA_PARAM_REQUIRED_FOR_BUY\",Rr.TOGGLE=\"CWE_CWE_TOGGLE\",Rr.BUILDER_SUBSCRIPTION_UPDATED=\"CWE_CWE_BUILDER_SUBSCRIPTION_UPDATED\",Rr.ROOM_CHANGED=\"CWE_CWE_ROOM_CHANGED\",Rr.SHOW_WARNING_TEXT=\"CWE_CWE_SHOW_WARNING_TEXT\";a.jf;class yr extends a.jf{constructor(){super(yr.SOLD_OUT)}}yr.SOLD_OUT=\"CPSOE_SOLD_OUT\";a.jf;class kr extends a.jf{constructor(e,t){super(kr.UPDATE_STUFF_DATA),this._offer=void 0,this._stuffData=void 0,this._offer=e,this._stuffData=t}get offer(){return this._offer}get stuffData(){return this._stuffData}}kr.UPDATE_STUFF_DATA=\"SRPSA_UPDATE_STUFF_DATA\";class Ar extends a.jf{}Ar.SHOW_GUIDE_TOOL=\"GTE_SHOW_GUIDE_TOOL\",Ar.HIDE_GUIDE_TOOL=\"GTE_HIDE_GUIDE_TOOL\",Ar.TOGGLE_GUIDE_TOOL=\"GTE_TOGGLE_GUIDE_TOOL\",Ar.CREATE_HELP_REQUEST=\"GTE_CREATE_HELP_REQUEST\",Ar.CREATE_BULLY_REQUEST=\"GTE_CREATE_BULLY_REQUEST\";class Dr extends a.jf{}Dr.INIT=\"HC_NAME_CHANGE_INIT\";class Lr extends a.jf{constructor(e,t,s){super(Lr.FURNI_ADDED),this.id=e,this.spriteId=t,this.category=s}}Lr.FURNI_ADDED=\"IFAE_FURNI_ADDED\";class Pr extends a.jf{}Pr.SHOW_THUMBNAIL=\"NE_SHOW_THUMBNAIL\",Pr.HIDE_THUMBNAIL=\"NE_HIDE_THUMBNAIL\",Pr.TOGGLE_THUMBNAIL=\"NE_TOGGLE_THUMBNAIL\";const Ur=e=>e&&e.length?e.replace(/\\\\r/g,\"\\r\"):\"\",Mr=e=>{const t=\"0\"+e;return t.substr(t.length-2,t.length)};let Fr=null;const Br=()=>{const[e,t]=Object(c.useState)([]),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)([]),[l,d]=Object(c.useState)(!1),[u,j]=Object(c.useState)(!1),h=e=>{const t=p(\"notification\",{});return t?t[e]:null},b=(e,t,s,n)=>{if(e.has(s))return e.get(s);const r=[\"notification\",t,s].join(\".\");return o().localization.hasValue(r)||n?We(r,Array.from(e.keys()),Array.from(e.values())):null},g=(e,t)=>{let s=e.get(\"image\");return s||(s=p(\"image.library.notifications.url\",\"\").replace(\"%image%\",t.replace(/\\./g,\"_\"))),We(s)},m=Object(c.useCallback)((function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;c&&c.length||(c=We(\"notifications.broadcast.title\")),s&&s.length||(s=fs.DEFAULT);const a=new xs([Ur(e)],s,n,r,c,i);t((e=>[a,...e]))}),[]),O=Object(c.useCallback)((()=>m(null,fs.NITRO)),[m]),f=Object(c.useCallback)((function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(l)return;const c=new Is(e,t,s,r);n((e=>[c,...e]))}),[l]),x=Object(c.useCallback)((function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;n&&n.length||(n=We(\"generic.confirm\")),r&&r.length||(r=We(\"generic.cancel\")),c&&c.length||(c=We(\"notifications.broadcast.title\"));const o=new Es(a,e,t,s,n,r,c);i((e=>[o,...e]))}),[]),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;m(e,fs.DEFAULT,t,We(\"mod.alert.link\"),We(\"mod.alert.title\"))},I=Object(c.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";switch(e){case Ot.ALERT_SCAM:return void m(We(\"inventory.trading.warning.other_not_offering\"),null,null,null,We(\"inventory.trading.notification.title\"));case Ot.HOTEL_TRADING_DISABLED:case Ot.YOU_NOT_ALLOWED:case Ot.THEY_NOT_ALLOWED:case Ot.ROOM_DISABLED:case Ot.YOU_OPEN:case Ot.THEY_OPEN:return void m(We(`inventory.trading.openfail.${e}`,[\"otherusername\"],[t]),null,null,null,We(\"inventory.trading.openfail.title\"));case Ot.ERROR_WHILE_COMMIT:return void m(`${We(\"inventory.trading.notification.caption\")}, ${We(\"inventory.trading.notification.commiterror.info\")}`,null,null,null,We(\"inventory.trading.notification.title\"));case Ot.THEY_CANCELLED:return void m(We(\"inventory.trading.info.closed\"),null,null,null,We(\"inventory.trading.notification.title\"))}}),[m]),E=Object(c.useCallback)((e=>{t((t=>{const s=[...t],n=s.findIndex((t=>e===t));return n>=0&&s.splice(n,1),s}))}),[]),v=Object(c.useCallback)((e=>{n((t=>{const s=[...t],n=s.findIndex((t=>e===t));return n>=0&&s.splice(n,1),s}))}),[]),N=Object(c.useCallback)((e=>{i((t=>{const s=[...t],n=s.findIndex((t=>e===t));return n>=0&&s.splice(n,1),s}))}),[]);pr(a.pg,(e=>{const t=e.getParser();if(t.userId!==F().userId)return;const s=We(\"notifications.text.respect.1\"),n=We(\"notifications.text.respect.2\",[\"count\"],[t.respectsReceived.toString()]);f(s,_s.RESPECT),f(n,_s.RESPECT)})),pr(a.Wd,(e=>{const t=e.getParser();m(t.message.replace(/\\\\r/g,\"\\r\"),null,null,We(\"notifications.broadcast.title\"))})),pr(a.c,(e=>{const t=e.getParser(),s=We(\"achievements.levelup.desc\"),n=Be(t.data.badgeCode),r=F().getBadgeUrl(t.data.badgeCode),c=\"questengine/achievements/\"+t.data.category;f(s+\" \"+n,_s.ACHIEVEMENT,r,c)})),pr(a.qb,(e=>{const t=e.getParser();t.numGifts<=0||f(t.numGifts.toString(),_s.CLUBGIFT,null,\"catalog/open/\"+p(\"catalog.links\")[\"hc.hc_gifts\"])})),pr(a.Qe,(e=>{const t=e.getParser();_(t.message,t.url,!1)})),pr(a.f,(e=>{const t=e.getParser();if(t.amountChanged<=0||5!==t.type)return;const s=p(\"currency.asset.icon.url\",\"\").replace(\"%type%\",t.type.toString());f(We(\"notifications.text.loyalty.received\",[\"AMOUNT\"],[t.amountChanged.toString()]),_s.INFO,s)})),pr(a.Li,(e=>{const t=e.getParser();_(t.message)})),pr(a.ee,(e=>{const t=e.getParser();m(We(\"opening.hours.\"+(t.userThrowOutAtClose?\"disconnected\":\"closed\"),[\"h\",\"m\"],[Mr(t.openHour),Mr(t.openMinute)]),fs.DEFAULT,null,null,We(\"opening.hours.title\"))})),pr(a.If,(e=>{const t=e.getParser(),s=We(\"notifications.text.\"+(t.boughtAsGift?\"petbought\":\"petreceived\"));let n=null;const r=C().getRoomObjectPetImage(t.pet.typeId,t.pet.paletteId,parseInt(t.pet.color,16),new a.kj(135),64,null,!0);r&&(n=r.getImage().src),f(s,_s.PETLEVEL,n)})),pr(a.ue,(e=>{const s=e.getParser().messages.map((e=>Ur(e))),n=new xs(s,fs.MOTD,null,null,We(\"notifications.motd.title\"));t((e=>[n,...e]))})),pr(a.Hf,(e=>{const t=e.getParser();let s=null;const n=C().getRoomObjectPetImage(t.figureData.typeId,t.figureData.paletteId,parseInt(t.figureData.color,16),new a.kj(135),64,null,!0);n&&(s=n.getImage().src),f(We(\"notifications.text.petlevel\",[\"pet_name\",\"level\"],[t.petName,t.level.toString()]),_s.PETLEVEL,s)})),pr(a.ge,(e=>{const t=e.getParser();d(!t.enabled)})),pr(a.rb,(e=>{const t=e.getParser();if(!t.products||!t.products.length)return;const s=t.products[0];s&&f(We(\"notifications.text.club_gift.selected\"),_s.INFO,xt.getProductImageUrl(s.productType,s.furniClassId,s.extraParam))})),pr(a.ve,(e=>{const t=e.getParser();m(We(\"maintenance.shutdown\",[\"m\",\"d\"],[t.minutesUntilMaintenance.toString(),t.duration.toString()]),fs.DEFAULT,null,null,We(\"opening.hours.title\"))})),pr(a.Oe,(e=>{const t=e.getParser();_(t.message,t.url)})),pr(a.wf,(e=>{const t=e.getParser();!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=new Map);const s=h(\"notification.\"+e);if(s)for(const o in s)t.set(o,s[o]);const n=b(t,e,\"title\",!0),r=b(t,e,\"message\",!0).replace(/\\\\r/g,\"\\r\"),c=b(t,e,\"linkTitle\",!1),i=b(t,e,\"linkUrl\",!1),a=g(t,e);\"BUBBLE\"===t.get(\"display\")?f(We(r),_s.INFO,a,i):m(r,e,i,c,n,a),t.get(\"sound\")&&Xe(t.get(\"sound\"))}(t.type,t.parameters)})),pr(a.fe,(e=>{const t=e.getParser();m(We(\"opening.hours.shutdown\",[\"m\"],[t.openMinute.toString()]),fs.DEFAULT,null,null,We(\"opening.hours.title\"))})),pr(a.de,(e=>{const t=e.getParser();m(We(\"opening.hours.disconnected\",[\"h\",\"m\"],[t.openHour.toString(),t.openMinute.toString()]),fs.DEFAULT,null,null,We(\"opening.hours.title\"))}));const T=Object(c.useCallback)((()=>{if(!u)if(a.Kg.isRunning()){if(Fr)return;Fr=setTimeout((()=>{T()}),a.Kg.totalRunningTime+5e3)}else Fr&&(clearTimeout(Fr),Fr=null),f(We(\"mod.chatdisclaimer\"),_s.INFO),j(!0)}),[u,f]);return pr(a.Mg,T),{alerts:e,bubbleAlerts:s,confirms:r,simpleAlert:m,showNitroAlert:O,showTradeAlert:I,showConfirm:x,closeAlert:E,closeBubbleAlert:v,closeConfirm:N}},Hr=()=>Object(_r.a)(Br),Gr=(e,t)=>{const[s,n]=Object(c.useState)((()=>{if(\"undefined\"===typeof window)return t;try{const s=Me(e);return null!==s&&void 0!==s?s:t}catch(s){return t}}));return[s,t=>{try{const r=t instanceof Function?t(s):t;n(r),\"undefined\"!==typeof window&&Ct(e,r)}catch(r){a.mf.error(r)}}]},Wr=()=>Gr(Ve.CATALOG_PLACE_MULTIPLE_OBJECTS,!1),Vr=()=>Object(_r.a)(Wr),qr=()=>Gr(Ve.CATALOG_SKIP_PURCHASE_CONFIRMATION,!1),zr=()=>Object(_r.a)(qr),Yr=()=>{const[e,t]=Object(c.useState)(!1),[s,n]=Object(c.useState)(!1),[r,i]=Object(c.useState)(-1),[l,d]=Object(c.useState)(-1),[u,j]=Object(c.useState)(Y.NORMAL),[h,b]=Object(c.useState)(null),[g,O]=Object(c.useState)(null),[p,f]=Object(c.useState)(null),[x,_]=Object(c.useState)(null),[I,E]=Object(c.useState)([]),[v,N]=Object(c.useState)(null),[T,S]=Object(c.useState)([]),[w,R]=Object(c.useState)(null),[y,k]=Object(c.useState)(!1),[A,D]=Object(c.useState)({quantity:1,extraData:null,extraParamRequired:!1,previewStuffData:null}),[L,P]=Object(c.useState)({}),[U,M]=Object(c.useState)(!1),[F,B]=Vr(),[V,z]=zr(),[$,K]=Object(c.useState)(null),[Z,ee]=Object(c.useState)(null),[se,ne]=Object(c.useState)(0),[re,oe]=Object(c.useState)(0),[de,ue]=Object(c.useState)(0),[be,ge]=Object(c.useState)(0),[me,Oe]=Object(c.useState)(0),[pe,fe]=Object(c.useState)(0),{simpleAlert:xe=null}=Hr(),_e=Object(c.useRef)(new ae),Ie=Object(c.useCallback)((()=>{i(-1),d(-1),b(null),O(null),f(null),_(null),E([]),N(null),S([]),t(!1)}),[]),Ce=Object(c.useCallback)((e=>{if(!e)return H.MISSING_OFFER;if(se<0||se>=re)return H.FURNI_LIMIT_REACHED;const t=he();if(!t)return H.NOT_IN_ROOM;if(!t.isRoomOwner)return H.NOT_ROOM_OWNER;if(be<=0){const e=C();let s=e.getRoomObjectCount(t.roomId,a.Wg.UNIT);for(;s>0;){const n=e.getRoomObjectByIndex(t.roomId,s,a.Wg.UNIT),r=t.userDataManager.getUserDataByIndex(n.id);if(r&&r.type===a.ah.USER&&r.roomIndex!==t.ownRoomIndex&&!r.isModerator)return H.VISITORS_IN_ROOM;s--}}return H.OKAY}),[se,re,be]),ve=Object(c.useCallback)((e=>{const t=he();return!(!(t&&e.page&&\"sold_ltd_items\"!==e.page.layoutCode&&u===Y.NORMAL&&(t.isRoomOwner||t.isGuildRoom&&t.controllerLevel>=a.yg.GUILD_MEMBER)||u===Y.BUILDER&&Ce(e)===H.OKAY)||e.pricingModel===J.PRICING_MODEL_BUNDLE||e.product.productType===X.EFFECT||e.product.productType===X.HABBO_CLUB)}),[u,Ce]),Ne=Object(c.useCallback)((e=>{if(!ve(e))return;const s=e.product;if(!s)return;let n=0;switch(s.productType){case X.FLOOR:n=a.Wg.FLOOR;break;case X.WALL:n=a.Wg.WALL}C().processRoomObjectPlacement(a.Zg.CATALOG,-e.offerId,n,s.productClassId,s.extraParam)&&(K(e),M(!0),t(!1))}),[ve]),Te=Object(c.useCallback)(((e,t)=>{const s=C();let n=s.getRoomInstanceVariable(s.activeRoomId,a.ch.ROOM_WALL_TYPE),r=s.getRoomInstanceVariable(s.activeRoomId,a.ch.ROOM_FLOOR_TYPE),c=s.getRoomInstanceVariable(s.activeRoomId,a.ch.ROOM_LANDSCAPE_TYPE);switch(n=n&&n.length?n:\"101\",r=r&&r.length?r:\"101\",c=c&&c.length?c:\"1.1\",e){case\"floor\":return void s.updateRoomInstancePlaneType(s.activeRoomId,t,n,c,!0);case\"wallpaper\":return void s.updateRoomInstancePlaneType(s.activeRoomId,r,t,c,!0);case\"landscape\":return void s.updateRoomInstancePlaneType(s.activeRoomId,r,n,t,!0);default:return void s.updateRoomInstancePlaneType(s.activeRoomId,r,n,c,!0)}}),[]),Se=Object(c.useCallback)((()=>{$&&(C().cancelRoomObjectInsert(),M(!1),K(null))}),[$]),we=Object(c.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];M((t=>(t&&e&&m(\"catalog/open\"),!1)))}),[]),Re=Object(c.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||we(),ee((e=>{if(e)switch(e.category){case a.Wg.FLOOR:C().removeRoomObjectFloor(e.roomId,e.objectId);break;case a.Wg.WALL:switch(e.furniData.className){case\"floor\":case\"wallpaper\":case\"landscape\":Te(\"reset\",\"\");break;default:C().removeRoomObjectWall(e.roomId,e.objectId)}break;default:C().deleteRoomObject(e.objectId,e.category)}return null}))}),[we,Te]),ye=Object(c.useCallback)(((e,t)=>{if(t.pageId===e&&t!==h)return t;for(const s of t.children){const t=ye(e,s);if(t)return t}return null}),[h]),ke=Object(c.useCallback)(((e,t)=>{if(t.pageName===e&&t!==h)return t;for(const s of t.children){const t=ke(e,s);if(t)return t}return null}),[h]),Ae=Object(c.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!g||!g.size)return null;if(t){const t=[],s=g.get(e);if(s&&s.length)for(const e of s)e.isVisible&&t.push(e);if(t.length)return t}return g.get(e)}),[g]),De=Object(c.useCallback)(((e,t)=>{e<0||(n(!0),i(e),e>-1&&Ee(new a.uc(e,t,u)))}),[u]),Le=Object(c.useCallback)(((e,t,s,n,r,c)=>{const i=new W(e,t,s,n,c);if(f(i),d((t=>-1!==e?e:t)),k(!1),r>-1&&i.offers.length)for(const a of i.offers)if(a.offerId===r){_(a);break}}),[]),Pe=Object(c.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(Se(),\"root\"===e.parent.pageName&&e.children.length)for(const r of e.children)if(r.isVisible){e=r;break}const s=[];let n=e;for(;n&&\"root\"!==n.pageName;)s.push(n),n=n.parent;s.reverse(),E((t=>{const n=t.indexOf(e)>=0,r=e.isOpen;for(const e of t)e.deactivate(),-1===s.indexOf(e)&&e.close();for(const c of s)c.activate(),c.parent&&c.open(),c===e.parent&&c.children.length&&c.open();return n&&r?e.close():e.open(),s})),e.pageId>-1&&De(e.pageId,t)}),[E,De,Se]),Ue=Object(c.useCallback)((s=>{if(N(null),e){const e=ye(s,h);e&&Pe(e)}else _e.current.requestById=s,t(!0)}),[e,h,ye,Pe]),Me=Object(c.useCallback)((s=>{if(N(null),e){const e=ke(s,h);e&&Pe(e)}else _e.current.requestByName=s,t(!0)}),[e,h,ke,Pe]),Fe=Object(c.useCallback)((s=>{if(N(null),e){const e=Ae(s);if(!e||!e.length)return;Pe(e[0],s)}else _e.current.requestedByOfferId=s,t(!0)}),[e,Ae,Pe]),Be=Object(c.useCallback)((()=>{}),[]);return pr(a.gb,(e=>{const t=e.getParser(),s=new Map,n=(e,t,r)=>{const c=new G(e,t,r);for(const n of c.offerIds)s.has(n)?s.get(n).push(c):s.set(n,[c]);t++;for(const s of e.children)c.addChild(n(s,t,c));return c};b(n(t.root,0,null)),O(s)})),pr(a.eb,(e=>{const t=e.getParser();if(t.catalogType!==u)return;const s=[];for(const n of t.offers){const e=[],t=je(n.localizationId);for(const s of n.products){const n=le(s.furniClassId,s.productType);e.push(new Q(s.productType,s.furniClassId,s.extraParam,s.productCount,t,n,s.uniqueLimitedItem,s.uniqueLimitedSeriesSize,s.uniqueLimitedItemsLeft))}if(!e.length)continue;const r=new J(n.offerId,n.localizationId,n.rent,n.priceCredits,n.priceActivityPoints,n.priceActivityPointsType,n.giftable,n.clubLevel,e,n.bundlePurchaseAllowed);(u===Y.NORMAL||r.pricingModel!==J.PRICING_MODEL_BUNDLE&&r.pricingModel!==J.PRICING_MODEL_MULTI)&&s.push(r)}t.frontPageItems&&t.frontPageItems.length&&S(t.frontPageItems),n(!1),r===t.pageId&&Le(t.pageId,t.layoutCode,new ce(t.localization.images.concat(),t.localization.texts.concat()),s,t.offerId,t.acceptSeasonCurrencyAsCredits)})),pr(a.Vf,(e=>{const t=e.getParser();$e(new Tr(t.offer))})),pr(a.Rf,(e=>{const t=e.getParser();$e(new Sr(t.code))})),pr(a.Uf,(e=>{const t=e.getParser();$e(new wr(t.code))})),pr(a.qe,(e=>{e.getParser();$e(new yr)})),pr(a.Of,(e=>{const t=e.getParser().offer;if(!t||!t.products.length)return;t.products[0].uniqueLimitedItem;const s=[],n=je(t.localizationId);for(const c of t.products){const e=le(c.furniClassId,c.productType);s.push(new Q(c.productType,c.furniClassId,c.extraParam,c.productCount,n,e,c.uniqueLimitedItem,c.uniqueLimitedSeriesSize,c.uniqueLimitedItemsLeft))}const r=new J(t.offerId,t.localizationId,t.rent,t.priceCredits,t.priceActivityPoints,t.priceActivityPointsType,t.giftable,t.clubLevel,s,t.bundlePurchaseAllowed);(u===Y.NORMAL||r.pricingModel!==J.PRICING_MODEL_BUNDLE&&r.pricingModel!==J.PRICING_MODEL_MULTI)&&(r.page=p,_(r),r.product&&r.product.productType===X.WALL&&D((e=>{const t={...e};return t.extraData=r.product.extraParam||null,t})))})),pr(a.Wh,(e=>{const t=e.getParser(),s=new q(t.productCode,t.palettes.slice());P((e=>{const t=[];e.petPalettes&&t.push(...e.petPalettes);for(let n=0;n<t.length;n++){if(t[n].breed===s.breed){t.splice(n,1);break}}return t.push(s),{...e,petPalettes:t}}))})),pr(a.Yd,(e=>{const t=e.getParser();P((e=>({...e,clubOffers:t.offers})))})),pr(a.Vd,(e=>{const t=e.getParser();P((e=>({...e,groups:t.groups})))})),pr(a.Yc,(e=>{const t=e.getParser();P((e=>({...e,giftConfiguration:new te(t)})))})),pr(a.Be,(e=>{const t=e.getParser();if(!t)return;let s=\"\";s=1===t.result?We(\"inventory.marketplace.result.title.success\"):We(\"inventory.marketplace.result.title.failure\");const n=We(`inventory.marketplace.result.${t.result}`);xe(n,fs.DEFAULT,null,null,s)})),pr(a.pb,(e=>{const t=e.getParser();P((e=>({...e,clubGifts:t})))})),pr(a.hb,(t=>{const s=e;Ie(),s&&xe(We(\"catalog.alert.published.description\"),fs.ALERT,null,null,We(\"catalog.alert.published.title\"))})),pr(a.F,(e=>{const t=e.getParser();ne(t.furniCount),Be()})),pr(a.J,(e=>{const t=e.getParser();oe(t._Str_15864),ue(t._Str_24094),ge(t._Str_3709),Oe(o().time),fe(t._Str_24379),Be()})),fr(Tr.PURCHASE_SUCCESS,(e=>Xe(vt.CREDITS))),mr(a.Gg.PLACED,(e=>{if(!U||e.type!==a.Gg.PLACED)return;if(Re(!0),!$)return void we();let t=!1;const s=$.product;if(e.category===a.Wg.WALL)switch(s.furnitureData.className){case\"floor\":case\"wallpaper\":case\"landscape\":t=e.placedOnFloor||e.placedOnWall;break;default:t=e.placedInRoom}else t=e.placedInRoom;if(t)switch(ee(new ie(e.roomId,e.objectId,e.category,e.wallLocation,e.x,e.y,e.direction,$)),u){case Y.NORMAL:{switch(e.category){case a.Wg.FLOOR:C().addFurnitureFloor(e.roomId,e.objectId,s.productClassId,new a.kj(e.x,e.y,e.z),new a.kj(e.direction),0,new a.oe);break;case a.Wg.WALL:switch(s.furnitureData.className){case\"floor\":case\"wallpaper\":case\"landscape\":Te(s.furnitureData.className,s.extraParam);break;default:C().addFurnitureWall(e.roomId,e.objectId,s.productClassId,new a.kj(e.x,e.y,e.z),new a.kj(45*e.direction),0,e.instanceData,0)}}const t=C().getRoomObject(e.roomId,e.objectId,e.category);t&&t.model.setValue(a.ch.FURNITURE_ALPHA_MULTIPLIER,.5),V?(Ee(new a.Tf(r,$.offerId,s.extraParam,1)),F&&Ne($)):F&&Ne($);break}case Y.BUILDER:{let t=$.page.pageId;switch(-12345678===t&&(t=-1),e.category){case a.Wg.FLOOR:Ee(new a.G(t,$.offerId,s.extraParam,e.x,e.y,e.direction));break;case a.Wg.WALL:Ee(new a.H(t,$.offerId,s.extraParam,e.wallLocation))}F&&Ne($);break}}else we()})),fr(Lr.FURNI_ADDED,(e=>{const t=C();if(Z&&Z.productClassId===e.spriteId&&Z.roomId===t.activeRoomId){switch(e.category){case Je.FLOOR:{const s=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_FLOOR_TYPE);Z.extraParam!==s&&Ee(new a.lc(e.id));break}case Je.WALL_PAPER:{const s=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_WALL_TYPE);Z.extraParam!==s&&Ee(new a.lc(e.id));break}case Je.LANDSCAPE:{const s=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_LANDSCAPE_TYPE);Z.extraParam!==s&&Ee(new a.lc(e.id));break}default:Ee(new a.kc(e.id,Z.category,Z.wallLocation,Z.x,Z.y,Z.direction))}F||Re()}})),Object(c.useEffect)((()=>()=>_(null)),[p]),Object(c.useEffect)((()=>{if(e&&h&&g&&_e.current)switch(_e.current.requestType){case ae.REQUEST_TYPE_NONE:if(p)return;if(h.isBranch)for(const e of h.children)if(e&&e.isVisible)return void Pe(e);return;case ae.REQUEST_TYPE_ID:return Ue(_e.current.requestById),void _e.current.resetRequest();case ae.REQUEST_TYPE_OFFER:return Fe(_e.current.requestedByOfferId),void _e.current.resetRequest();case ae.REQUEST_TYPE_NAME:return Me(_e.current.requestByName),void _e.current.resetRequest()}}),[e,h,g,p,Pe,Ue,Fe,Me]),Object(c.useEffect)((()=>{!v&&p&&-1===p.pageId&&Ue(l)}),[v,p,l,Ue]),Object(c.useEffect)((()=>{x&&D({quantity:1,extraData:null,extraParamRequired:!1,previewStuffData:null})}),[x]),Object(c.useEffect)((()=>{e&&!h&&(Ee(new a.Bc),Ee(new a.xc),Ee(new a.tc(u)),Ee(new a.I))}),[e,h,u]),Object(c.useEffect)((()=>(R(new a.eh(C(),++a.eh.PREVIEW_COUNTER)),()=>{R((e=>(e.dispose(),null)))})),[]),{isVisible:e,setIsVisible:t,isBusy:s,pageId:r,previousPageId:l,currentType:u,rootNode:h,offersToNodes:g,currentPage:p,setCurrentPage:f,currentOffer:x,setCurrentOffer:_,activeNodes:I,searchResult:v,setSearchResult:N,frontPageItems:T,roomPreviewer:w,navigationHidden:y,setNavigationHidden:k,purchaseOptions:A,setPurchaseOptions:D,catalogOptions:L,setCatalogOptions:P,getNodeById:ye,getNodeByName:ke,activateNode:Pe,openPageById:Ue,openPageByName:Me,openPageByOfferId:Fe,requestOfferToMover:Ne}},$r=()=>Object(_r.a)(Yr);let Kr=0,Xr=0;const Qr=()=>{const[e,t]=Object(c.useState)([]),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)([]),[o,l]=Object(c.useState)(!1),d=e=>{e.id=Kr++,t((t=>{const s=[...t];return s.push(e),s.length>1e3&&s.shift(),s}))},u=e=>{e.id=Xr++,i((t=>{const s=[...t];return s.push(e),s.length>1e3&&s.shift(),s}))};return Or(a.hh.CHAT_EVENT,(e=>{const t=he();if(!t)return;const s=t.userDataManager.getUserDataByIndex(e.objectId);s&&d({id:-1,entityId:s.webID,name:s.name,look:s.figure,entityType:s.type,message:e.message,timestamp:Ft(),type:Mt.TYPE_CHAT,roomId:t.roomId})})),Or(a.mh.STARTED,(e=>l(!0))),pr(a.Dc,(e=>{if(!o)return;const t=e.getParser();var r;s.length&&s[s.length-1].id===t.data.roomId||(d({id:-1,entityId:t.data.roomId,name:t.data.roomName,timestamp:Ft(),type:Mt.TYPE_ROOM_INFO,roomId:t.data.roomId}),r={id:t.data.roomId,name:t.data.roomName},n((e=>{const t=[...e];return t.push(r),t.length>10&&t.shift(),t})),l(!1))})),pr(a.cf,(e=>{const t=e.getParser();u({id:-1,entityId:t.senderId,name:\"\",message:t.messageText,roomId:-1,timestamp:Bt(t.secondsSinceSent),type:Mt.TYPE_IM})})),pr(a.Tg,(e=>{const t=e.getParser();u({id:-1,entityId:t.senderId,name:\"\",message:t.messageText,roomId:-1,timestamp:Bt(),type:Mt.TYPE_IM})})),{chatHistory:e,roomHistory:s,messengerHistory:r}},Jr=()=>Object(_r.a)(Qr),Zr=()=>{const[e,t]=Object(c.useState)([]),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)([]),[o,l]=Object(c.useState)([]),[d,u]=Object(c.useState)(null),j=Object(c.useMemo)((()=>{const t=e.filter((e=>e.online));return t.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),t}),[e]),h=Object(c.useMemo)((()=>{const t=e.filter((e=>!e.online));return t.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),t}),[e]),b=t=>{for(const s of e)if(s.id===t)return s;return null},g=e=>e!==F().userId&&(!b(e)&&(!s.find((t=>t.requesterUserId===e))&&!(r.indexOf(e)>=0)));return pr(a.Ee,(e=>{const t=e.getParser();u(new zt(t.userFriendLimit,t.normalFriendLimit,t.extendedFriendLimit,t.categories)),Ee(new a.Ac)})),pr(a.Vb,(e=>{const s=e.getParser();t((e=>{const t=[...e];for(const n of s.fragment){const e=t.findIndex((e=>e.id===n.id)),s=new Gt;s.populate(n),e>-1?t[e]=s:t.push(s)}return t}))})),pr(a.Xb,(e=>{const s=e.getParser();t((e=>{const t=[...e],n=e=>{const s=t.findIndex((t=>t.id===e.id));if(-1===s){const s=new Gt;s.populate(e),t.unshift(s)}else t[s].populate(e)};for(const r of s.addedFriends)n(r);for(const r of s.updatedFriends)n(r);for(const r of s.removedFriendIds){const e=t.findIndex((e=>e.id===r));e>-1&&t.splice(e,1)}return t}))})),pr(a.Yb,(e=>{const t=e.getParser();n((e=>{const s=[...e];for(const n of t.requests){const e=s.findIndex((e=>e.requesterUserId===n.requesterUserId));if(e>0)s[e]=Le(s[e]),s[e].populate(n);else{const e=new qt;e.populate(n),s.push(e)}}return s}))})),pr(a.df,(e=>{const t=e.getParser().request;n((e=>{const s=[...e];if(-1===s.findIndex((e=>e.requesterUserId===t.requesterUserId))){const e=new qt;e.populate(t),s.push(e)}return s}))})),Object(c.useEffect)((()=>{Ee(new a.De);const e=setInterval((()=>Ee(new a.Wb)),12e4);return()=>{clearInterval(e)}}),[]),{friends:e,requests:s,sentRequests:r,dismissedRequestIds:o,setDismissedRequestIds:l,settings:d,onlineFriends:j,offlineFriends:h,getFriend:b,canRequestFriend:g,requestFriend:(e,t)=>{if(!g(e))return!1;i((t=>{const s=[...t];return s.push(e),s})),Ee(new a.mg(t))},requestResponse:(e,t)=>{-1!==e||t?n((s=>{const n=[...s],r=n.findIndex((t=>t.id===e));return-1===r?s:(Ee(t?new a.a(n[r].id):new a.Ab(!1,n[r].id)),n.splice(r,1),n)})):(Ee(new a.Ab(!0)),n([]))},followFriend:e=>Ee(new a.Tb(e.id)),updateRelationship:(e,t)=>t!==e.relationshipStatus&&Ee(new a.bi(e.id,t))}},ec=()=>Object(_r.a)(Zr),tc=()=>{const[e,t]=Object(c.useState)([]),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)([]),[o,l]=Object(c.useState)(Vt.HIDDEN),{getFriend:d=null}=ec(),{simpleAlert:u=null}=Hr(),j=Object(c.useMemo)((()=>e.filter((e=>-1===r.indexOf(e.threadId)))),[e,r]),h=Object(c.useMemo)((()=>s>0&&j.find((e=>e.threadId===s||null))),[s,j]),b=s=>{let n=e.find((e=>e.participant&&e.participant.id===s));if(n){const e=r.indexOf(n.threadId);e>=0&&i((t=>{const s=[...t];return s.splice(e,1),s}))}else{const e=d(s);if(!e)return null;n=new Kt(e),n.addMessage(null,We(\"messenger.moderationinfo\"),0,null,Yt.SECURITY_NOTIFICATION),n.setRead(),t((e=>{const t=[...e];return t.push(n),t}))}return n},g=function(e,n,r){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yt.CHAT;if(!e||!r||!r.length)return;const l=n===F().userId;l&&r.length<=255&&Ee(new a.Xh(e.participant.id,r)),t((t=>{const a=[...t],d=a.findIndex((t=>t.threadId===e.threadId));return-1===d?t:(e=Le(a[d]),l&&1===e.groups.length&&Xe(vt.MESSENGER_NEW_THREAD),e.addMessage(o===Yt.ROOM_INVITE?null:n,r,c,i,o),s===e.threadId&&e.setRead(),a[d]=e,!l&&e.unread&&Xe(vt.MESSENGER_MESSAGE_RECEIVED),a)}))};return pr(a.cf,(e=>{const t=e.getParser(),s=b(t.senderId);s&&g(s,t.senderId,t.messageText,t.secondsSinceSent,t.extraData)})),pr(a.Tg,(e=>{const t=e.getParser(),s=b(t.senderId);s&&g(s,t.senderId,t.messageText,0,null,Yt.ROOM_INVITE)})),pr(a.Sg,(e=>{const t=e.getParser();u(`Received room invite error: ${t.errorCode},recipients: ${t.failedRecipients}`,fs.DEFAULT,null,null,We(\"friendlist.alert.title\"))})),Object(c.useEffect)((()=>{s<=0||t((e=>{const t=[...e],n=t.findIndex((e=>e.threadId===s));return n>=0&&(t[n]=Le(t[n]),t[n].setRead()),t}))}),[s]),Object(c.useEffect)((()=>{l((e=>{if(!j.length)return Vt.HIDDEN;let t=!1;for(const s of j)if(s.unreadCount>0){t=!0;break}return t?Vt.UNREAD:Vt.SHOW}))}),[j]),{messageThreads:e,activeThread:h,iconState:o,visibleThreads:j,getMessageThread:b,setActiveThreadId:n,closeThread:e=>{i((t=>{const s=[...t];return s.indexOf(e)>=0?t:(s.push(e),s)})),s===e&&n(-1)},sendMessage:g}},sc=()=>Object(_r.a)(tc),nc=()=>{const[e,t]=Object(c.useState)(null);return pr(a.dd,(e=>{const s=e.getParser(),n={badgeBases:[],badgeSymbols:[],badgePartColors:[],groupColorsA:[],groupColorsB:[]};s.bases.forEach(((e,t)=>n.badgeBases.push({id:t,images:e}))),s.symbols.forEach(((e,t)=>n.badgeSymbols.push({id:t,images:e}))),s.partColors.forEach(((e,t)=>n.badgePartColors.push({id:t,color:e}))),s.colorsA.forEach(((e,t)=>n.groupColorsA.push({id:t,color:e}))),s.colorsB.forEach(((e,t)=>n.groupColorsB.push({id:t,color:e})));const r=(e,t)=>e.id<t.id?-1:e.id>t.id?1:0;n.badgeBases.sort(r),n.badgeSymbols.sort(r),n.badgePartColors.sort(r),n.groupColorsA.sort(r),n.groupColorsB.sort(r),t(n)})),Object(c.useEffect)((()=>{Ee(new a.cd)}),[]),{groupCustomize:e}},rc=()=>Object(_r.a)(nc),cc=()=>{const[e,t]=Object(c.useState)(null),[s,n]=Object(c.useState)(null),{simpleAlert:r=null,showConfirm:i=null}=Hr();return pr(a.U,(e=>{const t=e.getParser();let s=t.messageText;switch(t.resultType){case ls.TOO_MANY_PENDING_CALLS_CODE:Ee(new a.Kc),r(We(\"help.cfh.error.pending\"),fs.MODERATION,null,null,We(\"help.cfh.error.title\"));break;case ls.HAS_ABUSIVE_CALL_CODE:r(We(\"help.cfh.error.abusive\"),fs.MODERATION,null,null,We(\"help.cfh.error.title\"));break;default:0===s.trim().length&&(s=We(\"help.cfh.sent.text\")),r(s,fs.MODERATION,null,null,We(\"help.cfh.sent.title\"))}})),pr(a.ie,(e=>{const t=e.getParser(),s=0===t.messageText.length?We(\"help.cfh.closed.\"+(1===(n=t.closeReason)?\"useless\":2===n?\"abusive\":\"resolved\")):t.messageText;var n;r(s,fs.MODERATION,null,null,We(\"mod.alert.title\"))})),pr(a.S,(e=>{const t=e.getParser();t.count>0&&i(We(\"help.emergency.pending.title\")+\"\\n\"+t.pendingCalls[0].message,(()=>{Ee(new a.Cb)}),null,We(\"help.emergency.pending.button.discard\"),We(\"help.emergency.pending.button.keep\"),We(\"help.emergency.pending.message.subtitle\"))})),pr(a.R,(e=>{r(\"Your pending calls were deleted\",fs.MODERATION,null,null,We(\"mod.alert.title\"))})),pr(a.T,(e=>{const t=e.getParser();r(t.message,fs.MODERATION,null,null,We(\"help.cfh.reply.title\"))})),pr(a.L,(e=>{const t=e.getParser();r(We(\"help.emergency.global_mute.message\"),fs.MODERATION,t.infoUrl,We(\"help.emergency.global_mute.link\"),We(\"help.emergency.global_mute.subtitle\"))})),pr(a.Ph,(e=>{const t=e.getParser();n(t)})),{activeReport:e,setActiveReport:t,sanctionInfo:s,setSanctionInfo:n,report:(e,s)=>{const n={reportType:e,reportedUserId:-1,reportedChats:[],cfhCategory:-1,cfhTopic:-1,roomId:-1,roomName:\"\",messageId:-1,threadId:-1,groupId:-1,extraData:\"\",roomObjectId:-1,message:\"\",currentStep:0};switch(e){case us.BULLY:case us.EMERGENCY:case us.IM:n.reportedUserId=s.reportedUserId,n.currentStep=ds.SELECT_CHATS;break;case us.ROOM:n.roomId=s.roomId,n.roomName=s.roomName,n.currentStep=ds.SELECT_TOPICS;break;case us.THREAD:n.groupId=s.groupId,n.threadId=s.threadId,n.currentStep=ds.SELECT_TOPICS;break;case us.MESSAGE:n.groupId=s.groupId,n.threadId=s.threadId,n.messageId=s.messageId,n.currentStep=ds.SELECT_TOPICS;case us.PHOTO:case us.GUIDE:}t(n)}}},ic=()=>Object(_r.a)(cc),ac=()=>{const[e,t]=Object(c.useState)([]);return{isVisible:Object(c.useMemo)((()=>!!e.length),[e]),activate:Object(c.useCallback)((()=>{let e=-1;return t((t=>{const s=[...t];return e=s.length?s[s.length-1]+1:0,s.push(e),s})),e}),[]),deactivate:Object(c.useCallback)((e=>{t((t=>{const s=[...t],n=s.indexOf(e);return-1===n?t:(s.splice(n,1),s)}))}),[])}},oc=()=>{const[e,t]=Object(c.useState)(new Map),s=Object(c.useCallback)((t=>{var s;return(null===(s=e.get(t))||void 0===s?void 0:s.length)||0}),[e]),n=Object(c.useMemo)((()=>{let t=0;for(const n of e.keys())t+=s(n);return t}),[e,s]),r=Object(c.useCallback)((e=>{let s=!0;return t((t=>{if(!t.has(e))return s=!1,t;const n=new Map(t);return n.delete(e),(e=>{Ee(new a.Ei(e))})(e),n})),s}),[]),i=Object(c.useCallback)(((e,s)=>{let n=!0;return t((t=>{if(!t.has(e))return n=!1,t;const r=new Map(t),c=r.get(e);if(c)for(const e of s)c.splice(c.indexOf(e),1);return((e,t)=>{Ee(new a.Fi(e,...t))})(e,s),r})),n}),[]),o=Object(c.useCallback)(((t,s)=>{if(!e.has(t))return!1;return e.get(t).indexOf(s)>=0}),[e]),l=Object(c.useCallback)(((e,s)=>{t((t=>{if(!t.has(e))return t;const n=new Map(t),r=n.get(e),c=r.indexOf(s);return c>=0&&r.splice(c,1),n}))}),[]);return pr(a.Di,(e=>{const s=e.getParser();t((e=>{const t=new Map(e);for(const n of s.categories){let e=t.get(n);e||(e=[],t.set(n,e));const r=s.getItemsByCategory(n);for(const t of r)-1===e.indexOf(t)&&e.push(t)}return t}))})),{getCount:s,getFullCount:n,resetCategory:r,resetItems:i,isUnseen:o,removeUnseen:l}},lc=()=>Object(_r.a)(oc),dc=()=>{const[e,t]=Object(c.useState)(!0),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)([]),[o,l]=Object(c.useState)([]),[d,u]=Object(c.useState)(null),{isVisible:j=!1,activate:h=null,deactivate:b=null}=ac(),{isUnseen:g=null,resetCategory:m=null}=lc(),O=p(\"user.badges.max.slots\",5),f=()=>o.length<O;return pr(a.w,(e=>{const t=e.getParser(),s=t.getAllBadgeCodes(),r=[];for(const n of s)r.push(t.getBadgeId(n));n(s),i(r),l(t.getActiveBadgeCodes())})),pr(a.v,(e=>{const t=e.getParser(),s=g(jt.BADGE,t.badgeId);n((e=>{const n=[...e];return s?n.unshift(t.badgeCode):n.push(t.badgeCode),n})),i((e=>{const n=[...e];return s?n.unshift(t.badgeId):n.push(t.badgeId),n}))})),Object(c.useEffect)((()=>{s&&s.length&&u((e=>{let t=e;return t&&-1===s.indexOf(t)&&(t=null),t||(t=s[0]),t}))}),[s]),Object(c.useEffect)((()=>{if(j)return()=>{m(jt.BADGE)}}),[j,m]),Object(c.useEffect)((()=>{j&&e&&(Ee(new a.jg),t(!1))}),[j,e]),{badgeCodes:s,activeBadgeCodes:o,selectedBadgeCode:d,setSelectedBadgeCode:u,isWearingBadge:e=>o.indexOf(e)>=0,canWearBadges:f,toggleBadge:e=>{l((t=>{const s=[...t],n=s.indexOf(e);if(-1===n){if(!f())return t;s.push(e)}else s.splice(n,1);const r=new a.Zh;for(let e=0;e<O;e++)r.addActivatedBadge(s[e]||null);return Ee(r),s}))},getBadgeId:e=>{const t=s.indexOf(e);return-1===t?0:r[t]||0},activate:h,deactivate:b}},uc=()=>Object(_r.a)(dc),jc=()=>{const[e,t]=Object(c.useState)(!0),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)(null),{isVisible:o=!1,activate:l=null,deactivate:d=null}=ac(),{isUnseen:u=null,resetCategory:j=null}=lc();return pr(a.B,(e=>{const t=e.getParser();n((e=>{const s=[...e],n=s.map((e=>e.botData.id)),r=[];for(const c of t.items.values())-1===n.indexOf(c.id)&&r.push(c);for(const c of n){let e=!0;for(const s of t.items.values())if(s.id===c){e=!1;break}if(!e)continue;const n=s.findIndex((e=>e.botData.id===c)),r=s[n];-1!==n&&r&&(it()===r.botData.id&&(ot(),m(\"inventory/open\")),s.splice(n,1))}for(const t of r){const e={botData:t};u(jt.BOT,t.id)?s.unshift(e):s.push(e)}return s}))})),pr(a.z,(e=>{const t=e.getParser();n((e=>{const s=[...e];if(s.findIndex((e=>e.botData.id===t.item.id))>=0)return e;const n={botData:t.item};return u(jt.BOT,n.botData.id)?s.unshift(n):s.push(n),s}))})),pr(a.D,(e=>{const t=e.getParser();n((e=>{const s=[...e],n=s.findIndex((e=>e.botData.id===t.itemId));return-1===n?e:(s.splice(n,1),it()===t.itemId&&(ot(),m(\"inventory/show\")),s)}))})),Object(c.useEffect)((()=>{s&&s.length&&i((e=>{let t=e;return t&&-1===s.indexOf(t)&&(t=null),t||(t=s[0]),t}))}),[s]),Object(c.useEffect)((()=>{if(o)return()=>{j(jt.BOT)}}),[o,j]),Object(c.useEffect)((()=>{o&&e&&(Ee(new a.sc),t(!1))}),[o,e]),{botItems:s,selectedBot:r,setSelectedBot:i,activate:l,deactivate:d}},hc=()=>Object(_r.a)(jc);let bc=null;const gc=()=>{const[e,t]=Object(c.useState)(!0),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)(null),{isVisible:o=!1,activate:l=null,deactivate:d=null}=ac(),{isUnseen:u=null,resetCategory:j=null}=lc();return pr(a.cc,(e=>{const t=e.getParser();n((e=>{const s=[...e];for(const n of t.items){let e=0,t=null;for(;e<s.length;){const r=s[e];let c=0;for(;c<r.items.length;){const e=r.items[c];if(e.id===n.itemId){e.update(n);const s=[...r.items];s[c]=e,r.items=s,t=r;break}c++}if(t)break;e++}if(t)t.hasUnseenItems=!0,s[e]=Le(t);else{const e=new Ze(n);st(s,e,u(jt.FURNI,n.itemId)),$e(new Lr(e.id,e.type,e.category))}}return s}))})),pr(a.ec,(e=>{const t=e.getParser();bc||(bc=new Array(t.totalFragments));const s=((e,t,s,n)=>{if(1===t)return e;n[s]=e;for(const c of n)if(!c)return null;const r=new Map;for(const c of n){for(const[e,t]of c)r.set(e,t);c.clear()}return n=null,r})(t.fragment,t.totalFragments,t.fragmentNumber,bc);s&&(n((e=>{const t=[...e],n=(e=>{const t=[];for(const s of e){let e=s.getTotalCount();s.category===Je.POST_IT&&(e=1);let n=0;for(;n<e;)t.push(s.getItemByIndex(n).id),n++}return t})(t);for(const r of n){if(s.get(r))continue;let e=0;for(;e<t.length;){const s=t[e],n=s.remove(r);if(n){it()===n.ref&&(ot(),dt(s)||m(\"inventory/show\")),s.getTotalCount()<=0&&(t.splice(e,1),s.dispose());break}e++}}for(const r of s.keys()){if(n.indexOf(r)>=0)continue;const e=s.get(r);if(!e)continue;const c=new Ze(e);st(t,c,u(jt.FURNI,r)),$e(new Lr(c.id,c.type,c.category))}return t})),bc=null)})),pr(a.fc,(e=>{t(!0)})),pr(a.gc,(e=>{const t=e.getParser();n((e=>{const s=[...e];let n=0;for(;n<s.length;){const e=s[n],r=e.remove(t.itemId);if(r){it()===r.ref&&(ot(),dt(e)||m(\"inventory/show\")),e.getTotalCount()<=0&&(s.splice(n,1),e.dispose());break}n++}return s}))})),pr(a.mc,(e=>{})),Object(c.useEffect)((()=>{s&&s.length&&i((e=>{let t=e;return t&&-1===s.indexOf(t)&&(t=null),t||(t=s[0]),t}))}),[s]),Object(c.useEffect)((()=>{if(o)return()=>{j(jt.FURNI)&&n((e=>{const t=[...e];for(const s of t)s.hasUnseenItems=!1;return t}))}}),[o,j]),Object(c.useEffect)((()=>{o&&e&&(Ee(new a.dc),t(!1))}),[o,e]),{isVisible:o,groupItems:s,setGroupItems:n,selectedItem:r,setSelectedItem:i,activate:l,deactivate:d,getWallItemById:e=>{if(s&&s.length){for(const t of s){const s=t.getItemById(e);if(s&&s.isWallItem)return t}return null}},getFloorItemById:e=>{if(s&&s.length){for(const t of s){const s=t.getItemById(e);if(s&&!s.isWallItem)return t}return null}}}},mc=()=>Object(_r.a)(gc);let Oc=null;const pc=()=>{const[e,t]=Object(c.useState)(!0),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)(null),{isVisible:o=!1,activate:l=null,deactivate:d=null}=ac(),{isUnseen:u=null,resetCategory:j=null}=lc();return pr(a.Gf,(e=>{const t=e.getParser();Oc||(Oc=new Array(t.totalFragments));const s=((e,t,s,n)=>{if(1===t)return e;n[s]=e;for(const c of n)if(!c)return null;const r=new Map;for(const c of n){for(const[e,t]of c)r.set(e,t);c.clear()}return n=null,r})(t.fragment,t.totalFragments,t.fragmentNumber,Oc);s&&(n((e=>{const t=[...e];return((e,t,s)=>{const n=e.map((e=>e.petData.id)),r=[],c=[];for(const i of t.keys())-1===n.indexOf(i)&&r.push(i);for(const i of n)!t.get(i)&&c.push(i);n.length;for(const i of c)bt(i,e);for(const i of r){const n=t.get(i);n&&ht(n,e,s(jt.PET,n.id))}})(t,s,u),t})),Oc=null)})),pr(a.Df,(e=>{const t=e.getParser();n((e=>{const s=[...e];return ht(t.pet,s,u(jt.PET,t.pet.id)),s}))})),pr(a.Jf,(e=>{const t=e.getParser();n((e=>{const s=[...e];return bt(t.petId,s),s}))})),Object(c.useEffect)((()=>{s&&s.length&&i((e=>{let t=e;return t&&-1===s.indexOf(t)&&(t=null),t||(t=s[0]),t}))}),[s]),Object(c.useEffect)((()=>{if(o)return()=>{j(jt.PET)}}),[o,j]),Object(c.useEffect)((()=>{o&&e&&(Ee(new a.ng),t(!1))}),[o,e]),{petItems:s,selectedPet:r,setSelectedPet:i,activate:l,deactivate:d}},fc=()=>Object(_r.a)(pc),xc=()=>{const[e,t]=Object(c.useState)(null),[s,n]=Object(c.useState)(null),[r,i]=Object(c.useState)(gt.TRADING_STATE_READY),{groupItems:o=[],setGroupItems:l=null,activate:d=null,deactivate:u=null}=mc(),{simpleAlert:j=null,showTradeAlert:h=null}=Hr(),b=r>=gt.TRADING_STATE_RUNNING;return pr(a.ji,(r=>{const c=r.getParser();e&&s&&(e.userId===c.userID?t((e=>{const t=Le(e);return t.accepts=c.userAccepts,t})):s.userId===c.userID&&n((e=>{const t=Le(e);return t.accepts=c.userAccepts,t})))})),pr(a.mi,(s=>{const r=s.getParser();r.reason===a.ni.ERROR_WHILE_COMMIT?h(Ot.ERROR_WHILE_COMMIT):e&&r.userID!==e.userId&&h(Ot.THEY_CANCELLED),t(null),n(null),i(gt.TRADING_STATE_READY)})),pr(a.oi,(e=>{e.getParser();t(null),n(null),i(gt.TRADING_STATE_READY)})),pr(a.qi,(e=>{e.getParser();i(gt.TRADING_STATE_COUNTDOWN)})),pr(a.ti,(e=>{const s=e.getParser(),r=ft(s.firstUserItemArray),c=ft(s.secondUserItemArray);t((e=>{const t=Le(e);t.userId===s.firstUserID?(t.creditsCount=s.firstUserNumCredits,t.itemCount=s.firstUserNumItems,t.userItems=r):(t.creditsCount=s.secondUserNumCredits,t.itemCount=s.secondUserNumItems,t.userItems=c);const n=[];for(const s of t.userItems.getValues()){let e=0;for(;e<s.getTotalCount();){const t=s.getItemByIndex(e);t&&n.push(t.ref),e++}}return l((e=>{const t=[...e];for(const s of t)s.lockItemIds(n);return t})),t})),n((e=>{const t=Le(e);return t.userId===s.firstUserID?(t.creditsCount=s.firstUserNumCredits,t.itemCount=s.firstUserNumItems,t.userItems=r):(t.creditsCount=s.secondUserNumCredits,t.itemCount=s.secondUserNumItems,t.userItems=c),t}))})),pr(a.vi,(e=>{e.getParser()})),pr(a.xi,(e=>{const s=e.getParser(),r=new mt,c=he().userDataManager.getUserData(s.userID);r.userItems=new a.h;const o=new mt,l=he().userDataManager.getUserData(s.otherUserID);o.userItems=new a.h,c.webID===F().userId?(r.userId=c.webID,r.userName=c.name,r.canTrade=s.userCanTrade,o.userId=l.webID,o.userName=l.name,o.canTrade=s.otherUserCanTrade):l.webID===F().userId&&(r.userId=l.webID,r.userName=l.name,r.canTrade=s.otherUserCanTrade,o.userId=c.webID,o.userName=c.name,o.canTrade=s.userCanTrade),t(r),n(o),i(gt.TRADING_STATE_RUNNING)})),pr(a.yi,(e=>{const t=e.getParser();h(t.reason,t.otherUserName)})),pr(a.zi,(e=>{e.getParser();h(Ot.THEY_NOT_ALLOWED)})),pr(a.Bi,(e=>{e.getParser();h(Ot.YOU_NOT_ALLOWED)})),Object(c.useEffect)((()=>{if(r===gt.TRADING_STATE_READY)return;const e=d();return()=>u(e)}),[r,d,u]),{ownUser:e,otherUser:s,tradeState:r,setTradeState:i,isTrading:b,groupItems:o,progressTrade:()=>{switch(r){case gt.TRADING_STATE_RUNNING:return s.itemCount||e.accepts||j(We(\"inventory.trading.warning.other_not_offering\"),null,null,null),void(e.accepts?Ee(new a.Ai):Ee(new a.ii));case gt.TRADING_STATE_CONFIRMING:return Ee(new a.pi),void i(gt.TRADING_STATE_CONFIRMED)}},removeItem:e=>{const t=e.getLastItem();t&&Ee(new a.ui(t.id))},stopTrading:()=>{b&&(r!==gt.TRADING_STATE_RUNNING?Ee(new a.ki):Ee(new a.li))}}},_c=()=>Object(_r.a)(xc),Ic=()=>{const[e,t]=Object(c.useState)(null),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)([]),[o,l]=Object(c.useState)([]),[d,u]=Object(c.useState)([]),[j,h]=Object(c.useState)([]),[b,g]=Object(c.useState)([]),{simpleAlert:m=null}=Hr(),O=e=>{s.indexOf(e)>=0||n((t=>[...t,e]))},p=e=>{n((t=>{const s=[...t],n=s.indexOf(e);return n>=0&&s.splice(n),s}))},f=e=>{r.indexOf(e)>=0||i((t=>[...t,e]))},x=e=>{i((t=>{const s=[...t],n=s.indexOf(e);return n>=0&&s.splice(n),s}))},_=e=>{o.indexOf(e)>=0||l((t=>[...t,e]))},I=e=>{l((t=>{const s=[...t],n=s.indexOf(e);return n>=0&&s.splice(n),s}))},E=e=>{d.indexOf(e)>=0||u((t=>[...t,e]))},C=e=>{u((t=>{const s=[...t],n=s.indexOf(e);return n>=0&&s.splice(n),s}))};return pr(a.Pe,(e=>{const s=e.getParser().data;t(s),h(s.issues)})),pr(a.ke,(e=>{const t=e.getParser();h((e=>{const s=[...e],n=s.findIndex((e=>e.issueId===t.issueData.issueId));return n>=0?s[n]=t.issueData:(s.push(t.issueData),Xe(vt.MODTOOLS_NEW_TICKET)),s}))})),pr(a.Se,(e=>{e.getParser()})),pr(a.me,(e=>{e.getParser()&&m(\"Failed to pick issue\",fs.DEFAULT,null,null,\"Error\")})),pr(a.je,(e=>{const t=e.getParser();h((e=>{const s=[...e],n=s.findIndex((e=>e.issueId===t.issueId));return n>=0&&s.splice(n,1),s}))})),pr(a.Ne,(e=>{e.getParser().success?m(\"Moderation action was successfull\",fs.MODERATION,null,null,\"Success\"):m(\"There was a problem applying tht moderation action\",fs.MODERATION,null,null,\"Error\")})),pr(a.kb,(e=>{const t=e.getParser();g(t.callForHelpCategories)})),pr(a.jb,(e=>{e.getParser()})),{settings:e,openRooms:s,openRoomChatlogs:r,openUserChatlogs:d,openUserInfos:o,cfhCategories:b,tickets:j,openRoomInfo:O,closeRoomInfo:p,toggleRoomInfo:e=>{s.indexOf(e)>=0?p(e):O(e)},openRoomChatlog:f,closeRoomChatlog:x,toggleRoomChatlog:e=>{r.indexOf(e)>=0?x(e):f(e)},openUserInfo:_,closeUserInfo:I,toggleUserInfo:e=>{o.indexOf(e)>=0?I(e):_(e)},openUserChatlog:E,closeUserChatlog:C,toggleUserChatlog:e=>{r.indexOf(e)>=0?C(e):E(e)}}},Ec=()=>Object(_r.a)(Ic),Cc=()=>{const[e,t]=Object(c.useState)(null),[s,n]=Object(c.useState)(null),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(null),[d,u]=Object(c.useState)({roomInfo:null,state:bs.NONE}),[j,h]=Object(c.useState)(null),[b,g]=Object(c.useState)({settingsReceived:!1,homeRoomId:0,enteredGuestRoom:null,currentRoomOwner:!1,currentRoomId:0,currentRoomIsStaffPick:!1,createdFlatId:0,avatarId:0,roomPicker:!1,eventMod:!1,currentRoomRating:0,canRate:!0}),{simpleAlert:O=null}=Hr();return pr(a.yh,(e=>{const t=e.getParser();Ee(new a.Cc(t.roomId,!1,!1))})),pr(a.ab,(e=>{const t=e.getParser();t.canCreate||O(We(`navigator.cannotcreateevent.error.${t.errorCode}`),null,null,null,We(\"navigator.cannotcreateevent.title\"))})),pr(a.Vi,(e=>{Ee(new a.Uc),Ee(new a.Tc)})),pr(a.Xi,(e=>{const t=e.getParser();g((e=>{const s={...e};return s.eventMod=t.securityLevel>=a.Uh.MODERATOR,s.roomPicker=t.securityLevel>=a.Uh.COMMUNITY,s}))})),pr(a.Pg,(e=>{ps(e.getParser().roomId)})),pr(a.Ng,(e=>{const t=e.getParser();g((e=>{const s={...e};return s.enteredGuestRoom=null,s.currentRoomOwner=t.isOwner,s.currentRoomId=t.roomId,s})),Ee(new a.Cc(t.roomId,!0,!1)),a.pe.available&&a.pe.call(\"legacyTrack\",\"navigator\",\"private\",[t.roomId])})),pr(a.Dc,(e=>{const t=e.getParser();if(t.roomEnter)u({roomInfo:null,state:bs.NONE}),g((e=>{const s={...e};s.enteredGuestRoom=t.data,s.currentRoomIsStaffPick=t.staffPick;return!(s.createdFlatId===t.data.roomId)&&t.data.displayRoomEntryAd&&p(\"roomenterad.habblet.enabled\",!1)&&a.ce.openRoomEnterAd(),s.createdFlatId=0,s.enteredGuestRoom&&s.enteredGuestRoom.habboGroupId,s}));else if(t.roomForward){if(t.data.ownerName!==F().userName&&!t.isGroupMember)switch(t.data.doorMode){case a.zg.DOORBELL_STATE:return void u((e=>{const s={...e};return s.roomInfo=t.data,s.state=bs.START_DOORBELL,s}));case a.zg.PASSWORD_STATE:return void u((e=>{const s={...e};return s.roomInfo=t.data,s.state=bs.START_PASSWORD,s}))}if(t.data.doorMode===a.zg.NOOB_STATE&&!F().isAmbassador&&!F().isRealNoob&&!F().isModerator)return;P(t.data.roomId)}else g((e=>{const s={...e};return s.enteredGuestRoom=t.data,s.currentRoomIsStaffPick=t.staffPick,s}))})),pr(a.gh,(e=>{const t=e.getParser();g((e=>{const s={...e};return s.currentRoomRating=t.totalLikes,s.canRate=t.canLike,s}))})),pr(a.Gb,(e=>{const t=e.getParser();t.userName&&0!==t.userName.length||u((e=>{const t={...e};return t.state=bs.STATE_WAITING,t}))})),pr(a.Bg,(e=>{const t=e.getParser();t.userName&&0!==t.userName.length||u((e=>{const t={...e};return t.state=bs.STATE_ACCEPTED,t}))})),pr(a.Nb,(e=>{const t=e.getParser();t.userName&&0!==t.userName.length||u((e=>{const t={...e};return t.state=bs.STATE_NO_ANSWER,t}))})),pr(a.qc,(e=>{switch(e.getParser().errorCode){case-100002:return void u((e=>{const t={...e};return t.state=bs.STATE_WRONG_PASSWORD,t}));case 4009:return void O(We(\"navigator.alert.need.to.be.vip\"),fs.DEFAULT,null,null,We(\"generic.alert.title\"));case 4010:return void O(We(\"navigator.alert.invalid_room_name\"),fs.DEFAULT,null,null,We(\"generic.alert.title\"));case 4011:return void O(We(\"navigator.alert.cannot_perm_ban\"),fs.DEFAULT,null,null,We(\"generic.alert.title\"));case 4013:return void O(We(\"navigator.alert.room_in_maintenance\"),fs.DEFAULT,null,null,We(\"generic.alert.title\"))}})),pr(a.Ye,(e=>{const t=e.getParser();l(t.topLevelContexts),i(t.topLevelContexts.length?t.topLevelContexts[0]:null)})),pr(a.bf,(e=>{const t=e.getParser();i((e=>{let s=e;if(s||(s=o&&o.length&&o[0]||null),!s)return null;if(t.result.code!==s.code&&o&&o.length)for(const n of o)n.code===t.result.code&&(s=n);for(const n of o)n.code===t.result.code&&(s=n);return s})),h(t.result)})),pr(a.Ui,(e=>{const s=e.getParser();t(s.categories)})),pr(a.Si,(e=>{const t=e.getParser();n(t.categories)})),pr(a.Rb,(e=>{P(e.getParser().roomId)})),pr(a.We,(e=>{const t=e.getParser();let s=!1;if(g((e=>{s=e.settingsReceived;const n={...e};return n.homeRoomId=t.homeRoomId,n.settingsReceived=!0,n})),s)return;let n=-1,r=-1;void 0!==p(\"friend.id\")&&parseInt(p(\"friend.id\"))>0&&(n=0,Ee(new a.Tb(parseInt(p(\"friend.id\"))))),void 0!==p(\"forward.type\")&&void 0!==p(\"forward.id\")&&(n=parseInt(p(\"forward.type\")),r=parseInt(p(\"forward.id\"))),2===n?ps(r):-1===n&&t.roomIdToEnter>0&&(m(\"navigator/close\"),t.roomIdToEnter!==t.homeRoomId?P(t.roomIdToEnter):P(t.homeRoomId))})),pr(a.Lg,(e=>{const t=e.getParser();switch(t.reason){case a.cb.REASON_FULL:O(We(\"navigator.guestroomfull.text\"),fs.DEFAULT,null,null,We(\"navigator.guestroomfull.title\"));break;case a.cb.REASON_QUEUE_ERROR:O(We(`room.queue.error.${t.parameter}`),fs.DEFAULT,null,null,We(\"room.queue.error.title\"));break;case a.cb.REASON_BANNED:O(We(\"navigator.banned.text\"),fs.DEFAULT,null,null,We(\"navigator.banned.title\"));break;default:O(We(\"room.queue.error.title\"),fs.DEFAULT,null,null,We(\"room.queue.error.title\"))}Oe()})),pr(a.Ze,(e=>m(\"navigator/show\"))),{categories:e,doorData:d,setDoorData:u,topLevelContext:r,topLevelContexts:o,searchResult:j,navigatorData:b}},vc=()=>Object(_r.a)(Cc),Nc=()=>{const[e,t]=Object(c.useState)(new Cs),s=Object(c.useMemo)((()=>p(\"hc.disabled\",!1)),[]),n=Object(c.useMemo)((()=>s||e.clubDays>0?as.ACTIVE:e.pastVipDays>0||e.pastVipDays>0?as.EXPIRED:as.NONE),[e,s]);return pr(a.Ni,(e=>{const s=e.getParser();t((e=>{const t=Le(e);return t.credits=parseFloat(s.credits),e.credits!==t.credits&&Xe(vt.CREDITS),t}))})),pr(a.Pi,(e=>{const s=e.getParser();t((e=>{const t=Le(e);return t.activityPoints=s.currencies,t}))})),pr(a.f,(e=>{const s=e.getParser();t((e=>{const t=Le(e);return t.activityPoints=new Map(t.activityPoints),t.activityPoints.set(s.type,s.amount),0===s.type&&Xe(vt.DUCKETS),t}))})),pr(a.hj,(e=>{const s=e.getParser(),n=s.productName;\"club_habbo\"!==n&&\"habbo_club\"!==n||t((e=>{const t=Le(e);return t.clubDays=Math.max(0,s.daysToPeriodEnd),t.clubPeriods=Math.max(0,s.periodsSubscribedAhead),t.isVip=s.isVip,t.pastClubDays=s.pastClubDays,t.pastVipDays=s.pastVipDays,t.isExpiring=s.responseType===a.ij.RESPONSE_TYPE_DISCOUNT_AVAILABLE,t.minutesUntilExpiration=s.minutesUntilExpiration,t.minutesSinceLastModified=s.minutesSinceLastModified,t}))})),Object(c.useEffect)((()=>{if(s)return;Ee(new a.gj(\"habbo_club\"));const e=setInterval((()=>Ee(new a.gj(\"habbo_club\"))),5e4);return()=>clearInterval(e)}),[s]),Object(c.useEffect)((()=>{Ee(new a.Oi)}),[]),{purse:e,hcDisabled:s,clubStatus:n,getCurrencyAmount:t=>{if(-1===t)return e.credits;for(const[s,n]of e.activityPoints.entries())if(s===t)return n;return 0}}},Tc=()=>Object(_r.a)(Nc),Sc=(e,t)=>{Object(c.useEffect)((()=>{if(!e)return;const s=e=>t(e);return Ye.addEventListener(Rs.FURNI_REMOVED,s),()=>{Ye.removeEventListener(Rs.FURNI_REMOVED,s)}}),[e,t])},wc=e=>{fr(Rs.OBJECT_SELECTED,e)},Rc=(e,t)=>{Object(c.useEffect)((()=>{if(!e)return;const s=e=>t(e);return Ye.addEventListener(Rs.USER_ADDED,s),()=>{Ye.removeEventListener(Rs.USER_ADDED,s)}}),[e,t])},yc=(e,t)=>{Object(c.useEffect)((()=>{if(!e)return;const s=e=>t(e);return Ye.addEventListener(Rs.USER_REMOVED,s),()=>{Ye.removeEventListener(Rs.USER_REMOVED,s)}}),[e,t])},kc=()=>{const[e,t]=Object(c.useState)(null),[s,n]=Object(c.useState)(null),[r,i]=Object(c.useState)(null),[l,d]=Object(c.useState)(0),u=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!s)return;const c=a.sb.hslToRGB(((255&e)<<16)+((255&t)<<8)+(255&n));r&&d(c),s.tint=e||t||n?c:0};return fr(Ts.PREVIEW,(e=>u(e.hue,e.saturation,e.lightness))),fr(Ts.CLEAR_PREVIEW,(e=>{s&&(s.tint=l)})),mr(a.Xg.ROOM_BACKGROUND_COLOR,(e=>{a.Rg.isRoomPreviewerId(e.roomId)||(e.enable?u(e.hue,e.saturation,e.lightness,!0):u(0,0,0,!0))})),mr(a.rg.ROOM_COLOR,(e=>{if(a.Rg.isRoomPreviewerId(e.roomId))return;let t=0,s=255;e.bgOnly||(t=e.color,s=e.brightness),(e=>{if(!r)return;const t=e>>16&255,s=e>>8&255,n=255&e;r.red=t/255,r.green=s/255,r.blue=n/255})(a.sb.hslToRGB((16776960&a.sb.rgbToHSL(t))+s))})),mr([a.Eg.INITIALIZED,a.Eg.DISPOSED],(e=>{if(a.Rg.isRoomPreviewerId(e.roomId))return;const s=he();if(s)switch(e.type){case a.Eg.INITIALIZED:return Ie(e.roomId),void t(s);case a.Eg.DISPOSED:return void t(null)}})),Or([a.mh.CREATED,a.mh.ENDED],(e=>{switch(e.type){case a.mh.CREATED:return s=e.session,void L().startSession(s);case a.mh.ENDED:return void t(null)}var s})),mr([a.Fg.SELECTED,a.Fg.DESELECTED,a.Fg.ADDED,a.Fg.REMOVED,a.Fg.PLACED,a.Fg.REQUEST_MOVE,a.Fg.REQUEST_ROTATE,a.Fg.MOUSE_ENTER,a.Fg.MOUSE_LEAVE],(t=>{if(a.Rg.isRoomPreviewerId(t.roomId))return;let s=null;switch(t.type){case a.Fg.SELECTED:(function(e){let t=!1;const s=C().getRoomObject(e.roomId,e.objectId,e.category);s&&1===s.model.getValue(a.ch.FURNITURE_SELECTION_DISABLED)&&(t=!0,F().isModerator&&(t=!1));return t})(t)||(s=new Rs(Rs.OBJECT_SELECTED,t.objectId,t.category,t.roomId));break;case a.Fg.DESELECTED:s=new Rs(Rs.OBJECT_DESELECTED,t.objectId,t.category,t.roomId);break;case a.Fg.ADDED:{let e=null;switch(t.category){case a.Wg.FLOOR:case a.Wg.WALL:e=Rs.FURNI_ADDED;break;case a.Wg.UNIT:e=Rs.USER_ADDED}e&&(s=new Rs(e,t.objectId,t.category,t.roomId));break}case a.Fg.REMOVED:{let e=null;switch(t.category){case a.Wg.FLOOR:case a.Wg.WALL:e=Rs.FURNI_REMOVED;break;case a.Wg.UNIT:e=Rs.USER_REMOVED}e&&(s=new Rs(e,t.objectId,t.category,t.roomId));break}case a.Fg.REQUEST_MOVE:D(e,t.objectId,t.category)&&_e(t.objectId,t.category,a.Yg.OBJECT_MOVE);break;case a.Fg.REQUEST_ROTATE:D(e,t.objectId,t.category)&&_e(t.objectId,t.category,a.Yg.OBJECT_ROTATE_POSITIVE);break;case a.Fg.MOUSE_ENTER:s=new Rs(Rs.OBJECT_ROLL_OVER,t.objectId,t.category,t.roomId);break;case a.Fg.MOUSE_LEAVE:s=new Rs(Rs.OBJECT_ROLL_OUT,t.objectId,t.category,t.roomId)}s&&$e(s)})),Object(c.useEffect)((()=>{if(!e)return;const t=o(),s=C(),r=e.roomId,c=Math.floor(window.innerWidth),l=Math.floor(window.innerHeight),u=t.renderer;u&&(u.view.style.width=`${c}px`,u.view.style.height=`${l}px`,u.resolution=window.devicePixelRatio,u.resize(c,l));const j=s.getRoomInstanceDisplay(r,1,c,l,a.Qg.SCALE_ZOOMED_IN),h=C().getRoomInstanceRenderingCanvas(r,1);if(!j||!h)return;const b=new a.rf(a.sf.WHITE),g=new a.ff,m=h.master;b.tint=0,b.width=c,b.height=l,m.addChildAt(b,0),m.filters=[g],n(b),i(g);const O=s.getRoomInstanceGeometry(r,1);if(O){let e=((s.getRoomInstanceVariable(r,a.Jh.ROOM_MIN_X)||0)+(s.getRoomInstanceVariable(r,a.Jh.ROOM_MAX_X)||0))/2,t=((s.getRoomInstanceVariable(r,a.Jh.ROOM_MIN_Y)||0)+(s.getRoomInstanceVariable(r,a.Jh.ROOM_MAX_Y)||0))/2;const n=20;e+=n-1,t+=n-1;const c=Math.sqrt(n*n+n*n)*Math.tan(30/180*Math.PI);O.location=new a.kj(e,t,c)}const p=t.stage;if(!p)return;p.addChild(j),Ie(e.roomId);const f=e=>{const s=Math.floor(window.innerWidth),n=Math.floor(window.innerHeight);u.view.style.width=`${s}px`,u.view.style.height=`${n}px`,u.resolution=window.devicePixelRatio,u.resize(s,n),b.width=s,b.height=n,function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=C(),r=n.activeRoomId;n.initializeRoomInstanceRenderingCanvas(r,s,e,t)}(s,n,1),t.render()};return window.addEventListener(\"resize\",f),()=>{n(null),i(null),d(0),window.removeEventListener(\"resize\",f)}}),[e]),{roomSession:e}},Ac=()=>Object(_r.a)(kc),Dc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(0),[o,l]=Object(c.useState)(0),[d,u]=Object(c.useState)(0),{roomSession:j=null}=Ac(),h=()=>{$e(new Ts(Ts.CLEAR_PREVIEW)),t(-1),n(-1),i(0),l(0),u(0)};return mr(a.Ig.REQUEST_BACKGROUND_COLOR,(e=>{if(!D(j,e.objectId,e.category))return;const s=C().getRoomObject(e.roomId,e.objectId,e.category).model;t(e.objectId),n(e.category),i(parseInt(s.getValue(a.ch.FURNITURE_ROOM_BACKGROUND_COLOR_HUE))),l(parseInt(s.getValue(a.ch.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION))),u(parseInt(s.getValue(a.ch.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS)))})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&h()})),Object(c.useEffect)((()=>{-1!==e&&-1!==s&&$e(new Ts(Ts.PREVIEW,r,o,d))}),[e,s,r,o,d]),{objectId:e,hue:r,setHue:i,saturation:o,setSaturation:l,lightness:d,setLightness:u,applyToner:()=>Ee(new a.i(e,r,o,d)),toggleToner:()=>j.useMultistateItem(e),onClose:h}},Lc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(\"1\"),[o,l]=Object(c.useState)(\"\"),[d,u]=Object(c.useState)(\"\"),[j,h]=Object(c.useState)(\"\"),[b,g]=Object(c.useState)(\"\"),{simpleAlert:m=null}=Hr(),O=()=>{t(-1),n(-1),i(\"1\"),l(\"\"),u(\"\"),h(\"\"),g(\"\")};return mr([a.Ig.REQUEST_BADGE_DISPLAY_ENGRAVING,a.Ig.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING],(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return;const r=new a.di;r.initializeFromRoomObjectModel(s.model),t(e.objectId),n(e.category),i(\"1\"),l(Be(r.getValue(1))),u(Fe(r.getValue(1))),h(r.getValue(2)),g(r.getValue(3))})),mr(a.Ig.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,(e=>{const t=C().getRoomObject(e.roomId,e.objectId,e.category);if(!t)return;t.model.getValue(a.ch.FURNITURE_OWNER_ID)===F().userId&&m(`${We(\"resolution.failed.subtitle\")} ${We(\"resolution.failed.text\")}`,null,null,null,We(\"resolution.failed.title\"))})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&O()})),{objectId:e,category:s,color:r,badgeName:o,badgeDesc:d,date:j,senderName:b,onClose:O}},Pc=\"MONSTERPLANT_SEED_CONFIRMATION\",Uc=\"PURCHASABLE_CLOTHING_CONFIRMATION\",Mc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(null),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(-1),[d,u]=Object(c.useState)(null),[j,h]=Object(c.useState)(!1),{roomSession:b=null}=Ac(),g=Object(c.useCallback)((()=>{t(-1),u(null),h(!1),n(null)}),[]);return mr([a.Ig.OPEN_FURNI_CONTEXT_MENU,a.Ig.CLOSE_FURNI_CONTEXT_MENU,a.Ig.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,a.Ig.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,a.Ig.REQUEST_EFFECTBOX_OPEN_DIALOG],(s=>{const r=C().getRoomObject(b.roomId,s.objectId,s.category);if(r)switch(s.type){case a.Ig.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:if(!A(r))return;return l(r.id),i(Pc),void g();case a.Ig.REQUEST_EFFECTBOX_OPEN_DIALOG:if(!A(r))return;return l(r.id),i(\"EFFECTBOX_OPEN\"),void g();case a.Ig.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:if(!A(r))return;return l(r.id),i(Uc),void g();case a.Ig.OPEN_FURNI_CONTEXT_MENU:switch(t(r.id),s.contextMenu){case a.wb.FRIEND_FURNITURE:return void n(a.wb.FRIEND_FURNITURE);case a.wb.MONSTERPLANT_SEED:return void(A(r)&&n(a.wb.MONSTERPLANT_SEED));case a.wb.MYSTERY_BOX:return;case a.wb.RANDOM_TELEPORT:return void n(a.wb.RANDOM_TELEPORT);case a.wb.PURCHASABLE_CLOTHING:return void(A(r)&&n(a.wb.PURCHASABLE_CLOTHING))}return;case a.Ig.CLOSE_FURNI_CONTEXT_MENU:return void(r.id===e&&g())}})),pr(a.ld,(e=>{const s=e.getParser();t(s.objectId),u(s),h(s.userIsMember),n(\"GROUP_FURNITURE\")})),{objectId:e,mode:s,confirmMode:r,confirmingObjectId:o,groupData:d,isGroupMember:j,closeConfirm:()=>{i(null),l(-1)},processAction:t=>{if(t)switch(t){case\"use_friend_furni\":b.useMultistateItem(e);break;case\"use_monsterplant_seed\":i(Pc),l(e);break;case\"use_random_teleport\":C().useRoomObject(e,a.Wg.FLOOR);break;case\"use_purchaseable_clothing\":i(Uc),l(e);break;case\"join_group\":return ns(d.guildId),void h(!0);case\"go_to_group_homeroom\":d&&ps(d.guildHomeRoomId)}g()},onClose:g}},Fc=()=>{const[e,t]=Object(c.useState)([]),[s,n]=Object(c.useState)(0),[r,i]=Object(c.useState)(0),[o,l]=Object(c.useState)(0),[d,u]=Object(c.useState)(0),[j,h]=Object(c.useState)(16777215),[b,g]=Object(c.useState)(255),[m,O]=Object(c.useState)(0),[p,f]=Object(c.useState)(0),[x,_]=Object(c.useState)(0),{roomSession:I=null}=Ac();return mr(a.Ig.REQUEST_DIMMER,(e=>{(I.isRoomOwner||I.controllerLevel>=a.yg.GUEST||F().isModerator)&&I.requestMoodlightSettings()})),Or(a.jh.ROOM_DIMMER_PRESETS,(e=>{const s=[];let r=0;for(;r<e.presetCount;){const t=e.getPreset(r);t&&s.push(new Bs(t.id,t.type,t.color,t.brightness)),r++}t(s),n(e.selectedPresetId)})),mr(a.Dg.ROOM_COLOR,(e=>{a.Rg.isRoomPreviewerId(e.roomId)||(l(r),i(e.state),n(e.presetId),u(e.effectId),O(e.effectId),h(e.color),f(e.color),g(e.brightness),_(e.brightness))})),Object(c.useEffect)((()=>{0===r&&0===o||Gs.previewDimmer(p,x,2===m)}),[r,o,p,x,m]),{presets:e,selectedPresetId:s,dimmerState:r,lastDimmerState:o,effectId:d,color:j,brightness:b,selectedEffectId:m,setSelectedEffectId:O,selectedColor:p,setSelectedColor:f,selectedBrightness:x,setSelectedBrightness:_,selectPresetId:t=>{const s=e[t-1];s&&(n(s.id),O(s.type),f(s.color),_(s.light))},applyChanges:()=>{if(0===r)return;const n=s-1;if(s<1||s>e.length)return;const c=e[n];!c||m===c.type&&p===c.color&&x===c.light||(t((e=>{const t=[...e];return t[n]=new Bs(c.id,m,p,x),t})),Gs.savePreset(c.id,m,p,x,!0))}}},Bc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(0),o=Object(c.useCallback)((()=>{t(-1),n(-1),i(0)}),[]);return mr(a.Ig.REQUEST_CREDITFURNI,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);s&&A(s)&&(t(e.objectId),n(e.category),i(s.model.getValue(a.ch.FURNITURE_CREDIT_VALUE)||0))})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&o()})),{objectId:e,value:r,redeem:()=>{he().connection.send(new a.bc(e)),o()},onClose:o}},Hc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(null),o=()=>{t(-1),n(-1),i(null)};return mr(a.Ig.REQUEST_EXTERNAL_IMAGE,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return;const r=s.model.getValue(a.ch.FURNITURE_DATA),c=JSON.parse(r);t(e.objectId),n(e.category),i(c)})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&o()})),{objectId:e,photoData:r,onClose:o}},Gc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(0),[o,l]=Object(c.useState)([]),[d,u]=Object(c.useState)([]),[j,h]=Object(c.useState)(null),[b,g]=Object(c.useState)(0),m=()=>{t(-1),n(-1),i(0),l([]),u([]),h(null)};return pr(a.te,(e=>{const s=e.getParser();t(s.furniId),g(s.start?1:2)})),pr(a.re,(e=>m())),pr(a.se,(e=>m())),mr(a.Ig.REQUEST_FRIEND_FURNITURE_ENGRAVING,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return;const r=s.model.getValue(a.ch.FURNITURE_DATA),c=s.model.getValue(a.ch.FURNITURE_FRIENDFURNI_ENGRAVING);\"1\"===r[0]&&6===r.length&&(t(e.objectId),n(e.category),i(c),l([r[1],r[2]]),u([r[3],r[4]]),h(r[5]),g(0))})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&m()})),{objectId:e,type:r,usernames:o,figures:d,date:j,stage:b,onClose:m,respond:t=>{he().connection.send(new a.Ub(e,t)),m()}}},Wc=[\"perteam\",\"mostwins\",\"classic\"],Vc=[\"alltime\",\"daily\",\"weekly\",\"monthly\"],qc=()=>{const[e,t]=Object(c.useState)(new Map),{roomSession:s=null}=Ac();return mr(a.Ig.REQUEST_HIGH_SCORE_DISPLAY,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return;const n=s.model.getValue(a.ch.FURNITURE_DATA_FORMAT),r=a.xf.getData(n);r.initializeFromRoomObjectModel(s.model),t((e=>{const t=new Map(e);return t.set(s.id,r),t}))})),mr(a.Ig.REQUEST_HIDE_HIGH_SCORE_DISPLAY,(e=>{e.roomId===s.roomId&&t((t=>{const s=new Map(t);return s.delete(e.objectId),s}))})),{stuffDatas:e,getScoreType:e=>Wc[e],getClearType:e=>Vc[e]}},zc=()=>(mr(a.Ig.REQUEST_INTERNAL_LINK,(e=>{const t=C().getRoomObject(e.roomId,e.objectId,e.category);if(!t)return;let s=t.model.getValue(a.ch.FURNITURE_DATA).internalLink;s&&s.length||(s=t.model.getValue(a.ch.FURNITURE_INTERNAL_LINK)),s&&s.length&&m(s)})),{}),Yc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(null),[u,j]=Object(c.useState)(a.Xd.NO_CLUB),[h,b]=Object(c.useState)(null),g=()=>{t(-1),n(-1),i(null),l(null),b(null)};return mr(a.Ig.REQUEST_MANNEQUIN,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return;const r=s.model,c=r.getValue(a.ch.FURNITURE_MANNEQUIN_FIGURE)||null,o=r.getValue(a.ch.FURNITURE_MANNEQUIN_GENDER)||null,u=d().createFigureContainer(c),h=d().getFigureClubLevel(u,o,Ws.MANNEQUIN_CLOTHING_PART_TYPES);t(e.objectId),n(e.category),i(c),l(o),j(h),b(r.getValue(a.ch.FURNITURE_MANNEQUIN_NAME)||null)})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&g()})),{objectId:e,figure:r,gender:o,clubLevel:u,name:h,setName:b,saveFigure:()=>{-1!==e&&(Ee(new a.hc(e)),g())},wearFigure:()=>{-1!==e&&(Ee(new a.jc(e)),g())},saveName:()=>{-1!==e&&Ee(new a.ic(e,h))},onClose:g}},$c=\"floor\",Kc=\"landscape\",Xc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(null),[d,u]=Object(c.useState)(!1),[j,h]=Object(c.useState)(null),[b,g]=Object(c.useState)(null),[m,O]=Object(c.useState)(-1),[p,f]=Object(c.useState)(null),[x,_]=Object(c.useState)(!1),[I,E]=Object(c.useState)(null),{roomSession:v=null}=Ac(),N=()=>{t(-1),n(-1),i(null),l(null),u(!1),h(null),g(null),O(-1),f(null),_(!1),E(null)},T=Object(c.useMemo)((()=>({imageReady:(e,t,s)=>{!s&&t&&(s=a.fi.generateImage(t)),E(s.src)},imageFailed:null})),[]);return Or(a.rh.RSPE_PRESENT_OPENED,(e=>{let s=null;e.itemType===X.FLOOR?s=F().getFloorItemData(e.classId):e.itemType===X.WALL&&(s=F().getWallItemData(e.classId));let r=!1;if(e.placedInRoom){const t=C().getRoomObject(v.roomId,e.placedItemId,a.Wg.FLOOR);t&&(r=A(t))}switch(e.itemType){case X.WALL:if(s)switch(s.className){case $c:case Kc:case\"wallpaper\":let t=null,n=null;s.className===$c?(t=\"packagecard_icon_floor\",n=We(\"inventory.furni.item.floor.name\")):s.className===Kc?(t=\"packagecard_icon_landscape\",n=We(\"inventory.furni.item.landscape.name\")):(t=\"packagecard_icon_wallpaper\",n=We(\"inventory.furni.item.wallpaper.name\")),l(n);break;case\"poster\":{const t=e.productCode;let n=null;0===t.indexOf(\"poster\")&&(n=t.replace(\"poster\",\"\"));const r=F().getProductData(t);let c=null;r?c=r.name:s&&(c=s.name),l(c),E(C().getFurnitureWallIconUrl(e.classId,n));break}default:l(s.name||null),E(C().getFurnitureWallIconUrl(e.classId))}break;case X.HABBO_CLUB:l(We(\"widget.furni.present.hc\"));break;default:{if(e.placedItemType===X.PET){const t=e.petFigureString;if(t&&t.length){const e=new a.Ff(t),s=C().getRoomObjectPetImage(e.typeId,e.paletteId,e.color,new a.kj(90),64,T,!0,0,e.customParts);s&&E(s.getImage().src)}}else{const t=C().getFurnitureFloorImage(e.classId,new a.kj(90),64,T);t&&E(t.getImage().src)}const t=F().getProductData(e.productCode);l(t&&t.name||s.name);break}}t(0),n(e.classId),i(e.itemType),u(r),O(e.placedItemId),f(e.placedItemType),_(e.placedInRoom)})),mr(a.Ig.REQUEST_PRESENT,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return null;N(),t(e.objectId),n(-1),l(s.model.getValue(a.ch.FURNITURE_DATA)||\"\"),u(A(s)),h(s.model.getValue(a.ch.FURNITURE_PURCHASER_NAME)||null),g(s.model.getValue(a.ch.FURNITURE_PURCHASER_FIGURE)||null)})),Sc(-1!==e,(t=>{t.id===e&&N(),t.id===m&&x&&_(!1)})),{objectId:e,classId:s,itemType:r,text:o,isOwnerOfFurniture:d,senderName:j,senderFigure:b,placedItemId:m,placedItemType:p,placedInRoom:x,imageUrl:I,openPresent:()=>{-1!==e&&(v.openGift(e),C().changeObjectModelData(C().activeRoomId,e,a.Wg.FLOOR,a.ch.FURNITURE_DISABLE_PICKING_ANIMATION,1))},onClose:N}},Qc=()=>{const[e,t]=Object(c.useState)(0);return mr(a.Ig.REQUEST_ROOM_LINK,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return;let n=s.model.getValue(a.ch.FURNITURE_DATA).internalLink;n&&n.length||(n=s.model.getValue(a.ch.FURNITURE_INTERNAL_LINK)),n&&n.length&&(n=parseInt(n,10),NaN!==n&&(t(n),Ee(new a.Cc(n,!1,!1))))})),pr(a.Dc,(s=>{if(!e)return;s.getParser().data.roomId===e&&t(0)})),{}},Jc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(\"\"),[o,l]=Object(c.useState)(\"\"),[d,u]=Object(c.useState)(\"0\"),[j,h]=Object(c.useState)(\"\"),[b,g]=Object(c.useState)(!1),{getWallItemById:m=null}=mc();return pr(a.og,(e=>{const s=e.getParser();t(s.itemId),n(a.Wg.WALL);const r=m(s.itemId);let c=\"post_it\";if(r){const e=C().getFurnitureWallName(r.type);e.match(\"post_it_\")&&(c=e)}i(c),l(s.location),u(\"FFFF33\"),h(\"\"),g(!0)})),{objectId:e,color:d,setColor:u,text:j,setText:h,canModify:b,onClose:()=>{Ee(new a.g(e,o,d,j)),t(-1),n(-1),i(\"\"),l(\"\"),u(\"0\"),h(\"\"),g(!1)}}},Zc=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(0),[o,l]=Object(c.useState)(-1),d=()=>{t(-1),n(-1),i(0),l(-1)},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=0),e=Math.abs(e),t||e>40&&(e=40),i(parseFloat(e.toFixed(2))),t||l(100*e)};return pr(a.oc,(t=>{const s=t.getParser();e===s.furniId&&u(s.height,!0)})),mr(a.Ig.REQUEST_STACK_HEIGHT,(e=>{if(!D(he(),e.objectId,e.category))return;const s=C().getRoomObject(e.roomId,e.objectId,e.category);s&&(t(e.objectId),n(e.category),i(s.getLocation().z),l(-1))})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&d()})),Object(c.useEffect)((()=>{if(-1===e||-1===o)return;const t=setTimeout((()=>Ee(new a.nc(e,~~o))),10);return()=>clearTimeout(t)}),[e,o]),{objectId:e,height:r,maxHeight:40,onClose:d,updateHeight:u}},ei=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(\"0\"),[o,l]=Object(c.useState)(\"\"),[d,u]=Object(c.useState)(\"\"),[j,h]=Object(c.useState)(!1),b=()=>{t(-1),n(-1),i(\"0\"),l(\"\"),u(\"\"),h(!1)};return mr(a.Ig.REQUEST_STICKIE,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return;const r=s.model.getValue(a.ch.FURNITURE_ITEMDATA);if(r.length<6)return;let c=null,o=null;r.indexOf(\" \")>0?(c=r.slice(0,r.indexOf(\" \")),o=r.slice(r.indexOf(\" \")+1,r.length)):c=r,t(e.objectId),n(e.category),i(c||\"0\"),l(o||\"\"),u(s.type||\"post_it\"),h(he().isRoomOwner||F().isModerator||A(s))})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&b()})),{objectId:e,color:r,text:o,type:d,canModify:j,updateColor:t=>{t!==r&&(i(t),C().modifyRoomObjectData(e,s,t,o))},updateText:t=>{l(t),C().modifyRoomObjectData(e,s,r,t)},trash:()=>C().deleteRoomObject(e,s),onClose:b}},ti=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(\"1\"),[o,l]=Object(c.useState)(\"\"),[d,u]=Object(c.useState)(\"\"),[j,h]=Object(c.useState)(\"\"),b=()=>{t(-1),n(-1),i(\"1\"),l(\"\"),u(\"\"),h(\"\")};return mr(a.Ig.REQUEST_TROPHY,(e=>{const s=C().getRoomObject(e.roomId,e.objectId,e.category);if(!s)return;let r=s.model.getValue(a.ch.FURNITURE_DATA),c=s.model.getValue(a.ch.FURNITURE_EXTRAS);c||(c=\"0\"),t(e.objectId),n(e.category),i(s.model.getValue(a.ch.FURNITURE_COLOR)||\"1\");const o=r.substring(0,r.indexOf(\"\\t\"));r=r.substring(o.length+1,r.length);const d=r.substring(0,r.indexOf(\"\\t\")),j=r.substr(d.length+1,r.length);l(o),u(d),h(j)})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&b()})),{objectId:e,color:r,senderName:o,date:d,message:j,onClose:b}},si=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(null),[d,u]=Object(c.useState)(null),[j,h]=Object(c.useState)(-1),[b,g]=Object(c.useState)(null),[m,O]=Object(c.useState)(null),[p,f]=Object(c.useState)(!1),x=()=>{t(-1),n(-1),i(null),l(null),u(null),h(-1),g(null),O(null),f(!1)};return mr(a.Ig.REQUEST_YOUTUBE,(e=>{if(a.Rg.isRoomPreviewerId(e.roomId))return;const s=C().getRoomObject(e.roomId,e.objectId,e.category);s&&(t(e.objectId),n(e.category),f(F().hasSecurity(a.Uh.EMPLOYEE)||A(s)),Ee(new a.Wc(e.objectId)))})),pr(a.wj,(t=>{const s=t.getParser();-1!==e&&e===s.furniId&&(i(s.videoId),l(s.startAtSeconds),u(s.endAtSeconds),h(s.state))})),pr(a.vj,(t=>{const s=t.getParser();-1!==e&&e===s.furniId&&(O(s.playlists),g(s.selectedPlaylistId),i(null),h(-1),u(null),l(null))})),pr(a.uj,(t=>{const s=t.getParser();if(-1!==e&&e===s.furniId)switch(s.commandId){case 1:h(Ks.PLAYING);break;case 2:h(Ks.PAUSED)}})),Sc(-1!==e&&-1!==s,(t=>{t.id===e&&t.category===s&&x()})),{objectId:e,videoId:r,videoStart:o,videoEnd:d,currentVideoState:j,selectedVideo:b,playlists:m,onClose:x,previous:()=>Ee(new a.xb(e,0)),next:()=>Ee(new a.xb(e,1)),pause:()=>p&&r&&r.length&&Ee(new a.xb(e,2)),play:()=>p&&r&&r.length&&Ee(new a.xb(e,3)),selectVideo:t=>{if(b===t)return g(null),void Ee(new a.ci(e,\"\"));g(t),Ee(new a.ci(e,t))}}},ni=()=>{const[e,t]=Object(c.useState)(null),[s,n]=Object(c.useState)([]),[r,i]=Object(c.useState)(\"\"),[o,l]=Object(c.useState)([]),[d,u]=Object(c.useState)(0),[j,h]=Object(c.useState)(tn.STUFF_SELECTION_OPTION_NONE),{showConfirm:b=null}=Hr();return pr(a.tj,(e=>{e.getParser();t(null)})),pr(a.qj,(e=>{const s=e.getParser();t(s.definition)})),pr(a.rj,(e=>{const s=e.getParser();t(s.definition)})),pr(a.sj,(e=>{const s=e.getParser();t(s.definition)})),Object(c.useEffect)((()=>{if(e)return()=>{n([]),i(\"\"),u(0),l((e=>(e&&e.length&&nn.clearSelectionShaderFromFurni(e),[]))),h(tn.STUFF_SELECTION_OPTION_NONE)}}),[e]),{trigger:e,setTrigger:t,intParams:s,setIntParams:n,stringParam:r,setStringParam:i,furniIds:o,setFurniIds:l,actionDelay:d,setActionDelay:u,setAllowsFurni:h,saveWired:()=>{const t=e=>{e&&(e instanceof a.pj?Ee(new a.Gi(e.id,s,r,o,d,e.stuffTypeSelectionCode)):e instanceof a.Ci?Ee(new a.Ki(e.id,s,r,o,e.stuffTypeSelectionCode)):e instanceof a.ub&&Ee(new a.Hi(e.id,s,r,o,e.stuffTypeSelectionCode)))};!function(e){const t=C().getRoomObject(he().roomId,e,a.Wg.FLOOR);return!(!t||!t.model)&&F().userId===t.model.getValue(a.ch.FURNITURE_OWNER_ID)}(e.id)?b(We(\"wiredfurni.nonowner.change.confirm.body\"),(()=>{t(e)}),null,null,null,We(\"wiredfurni.nonowner.change.confirm.title\")):t(e)},selectObjectForWired:(t,s)=>{e&&j&&(t<=0||l((s=>{const n=[...s],r=s.indexOf(t);return r>=0?(n.splice(r,1),nn.hide(t)):n.length<e.maximumItemSelectionCount&&(n.push(t),nn.show(t)),n})))}}},ri=()=>Object(_r.a)(ni),ci=()=>{const[e,t]=Object(c.useState)(null),[s,n]=Object(c.useState)(null),[r,i]=Object(c.useState)([]),[o,l]=Object(c.useState)([]),[d,u]=Object(c.useState)(null),[j,h]=Object(c.useState)(-1),[b,g]=Object(c.useState)(!1),{friends:m=[]}=ec(),{selectObjectForWired:O=null}=ri(),{roomSession:p=null}=Ac(),f=(e,t)=>{const s=Ps.getObjectName(e,t);s&&(n(s),t!==a.Wg.UNIT&&l([]))};var x;return Or(a.th.USER_DATA_UPDATED,(e=>{if(!e.addedUsers.length)return;let t=[];e.addedUsers.forEach((e=>{e.webID!==F().userId&&m.find((t=>t.id===e.webID))&&t.push(new ks(e.roomIndex,a.Wg.UNIT,e.webID,e.name,e.type,!0))})),t.length&&i((e=>{const s=[...e];return t.forEach((e=>{const t=s.findIndex((t=>t.id===e.id));t>-1&&s.splice(t,1),s.push(e)})),s}))})),Or(a.oh.PET_INFO,(e=>{const s=e.petInfo;if(!s)return;if(s.id!==j)return;const n=Ps.getPetInfo(s);n&&(t(n),h(-1))})),Or(a.ph.PET_STATUS_UPDATE,(e=>{})),mr(a.Jg.USE_PRODUCT_FROM_INVENTORY,(e=>{})),mr(a.Jg.USE_PRODUCT_FROM_ROOM,(e=>{const t=C().getRoomObject(p.roomId,e.objectId,a.Wg.FLOOR);if(!t||!A(t))return;const s=t.model.getValue(a.ch.FURNITURE_OWNER_ID),n=t.model.getValue(a.ch.FURNITURE_TYPE_ID),r=F().getFloorItemData(n),c=r.customParams.split(\" \"),i=c.length?parseInt(c[0]):-1;if(-1===i)return;const o=[],d=C().getRoomObjects(p.roomId,a.Wg.UNIT);for(const l of d){const t=p.userDataManager.getUserDataByIndex(l.id);let n=!1;if(t&&t.type===a.ah.PET){if(t.ownerId===s){t.hasSaddle&&r.specialType===Je.PET_SADDLE&&(n=!0);const s=t.figure.split(\" \");if((s.length?parseInt(s[0]):-1)===i){if(r.specialType===Je.MONSTERPLANT_REVIVAL&&!t.canRevive)continue;if(r.specialType===Je.MONSTERPLANT_REBREED&&(t.petLevel<7||t.canRevive||t.canBreed))continue;if(r.specialType===Je.MONSTERPLANT_FERTILIZE&&(t.petLevel>=7||t.canRevive))continue;o.push(new Ys(t.roomIndex,a.Wg.UNIT,t.name,e.objectId,l.id,-1,n))}}}else;}u(null),o.length&&l(o)})),mr(a.Fg.REQUEST_MANIPULATION,(e=>{D(p,e.objectId,e.category)&&g(!0)})),wc((e=>{((e,s)=>{let n=null;switch(s){case a.Wg.FLOOR:case a.Wg.WALL:n=Ps.getFurniInfo(e,s),n&&O(e,s);break;case a.Wg.UNIT:{const t=p.userDataManager.getUserDataByIndex(e);if(!t)break;switch(t.type){case a.ah.PET:p.userDataManager.requestPetInfo(t.webID),h(t.webID);break;case a.ah.USER:n=Ps.getUserInfo(s,t);break;case a.ah.BOT:n=Ps.getBotInfo(s,t);break;case a.ah.RENTABLE_BOT:n=Ps.getRentableBotInfo(s,t)}}}n&&t(n)})(e.id,e.category)})),x=e=>{t(null),l([])},fr(Rs.OBJECT_DESELECTED,x),(e=>{fr(Rs.OBJECT_ROLL_OVER,e)})((t=>{e||t.category!==a.Wg.UNIT||f(t.id,t.category)})),(e=>{fr(Rs.OBJECT_ROLL_OUT,e)})((e=>{s&&e.category===a.Wg.UNIT&&s.roomIndex===e.id&&n(null)})),fr([Rs.FURNI_REMOVED,Rs.USER_REMOVED],(c=>{if(s&&s.category===c.category&&s.roomIndex===c.id&&n(null),c.category===a.Wg.UNIT){let e=r.findIndex((e=>e.roomIndex===c.id));e>-1&&i((e=>e.filter((e=>e.roomIndex===c.id)))),e=o.findIndex((e=>e.id===c.id)),e>-1&&l((e=>e.filter((e=>e.id!==c.id))))}else if(c.category===a.Wg.FLOOR){o.findIndex((e=>e.id===c.id))>-1&&l((e=>e.filter((e=>e.requestRoomObjectId!==c.id))))}e&&(e instanceof ys?e.id===c.id&&t(null):(e instanceof Ls||e instanceof Ds||e instanceof As)&&e.roomIndex===c.id&&t(null))})),Object(c.useEffect)((()=>{e&&(n(null),i([]),l([]))}),[e]),Object(c.useEffect)((()=>{s&&i([])}),[s]),Object(c.useEffect)((()=>{p.isDecorating=b}),[p,b]),{avatarInfo:e,setAvatarInfo:t,activeNameBubble:s,setActiveNameBubble:n,nameBubbles:r,productBubbles:o,confirmingProduct:d,isDecorating:b,setIsDecorating:g,removeNameBubble:e=>{i((t=>{const s=[...t];return s.splice(e,1),s}))},removeProductBubble:e=>{l((t=>{const s=[...t],n=s.splice(e,1)[0];return d===n&&u(null),s}))},updateConfirmingProduct:e=>{u(e),l([])},getObjectName:f}},ii=()=>{const[e,t]=Object(c.useState)(\"\"),[s,n]=Object(c.useState)(!1),[r,i]=Object(c.useState)(!1),[l,d]=Object(c.useState)(!1),[u,j]=Object(c.useState)(!1),[h,b]=Object(c.useState)(0),{showNitroAlert:g=null,showConfirm:O=null}=Hr(),{roomSession:f=null}=Ac();return Or(a.hh.FLOOD_EVENT,(e=>{j(!0),b(parseFloat(e.message))})),wc((e=>{if(e.category!==a.Wg.UNIT)return;const s=f.userDataManager.getUserDataByIndex(e.id);s&&t(s.name)})),mr(a.Fg.DESELECTED,(e=>t(\"\"))),Object(c.useEffect)((()=>{if(!u)return;let e=0;const t=setInterval((()=>{b((t=>(e=(t||0)-1,e))),e<0&&(clearInterval(t),j(!1))}),1e3);return()=>clearInterval(t)}),[u]),Object(c.useEffect)((()=>{if(!l)return;let e=null;return l&&(e=setTimeout((()=>{d(!1),n(!1)}),1e4)),()=>clearTimeout(e)}),[l]),Object(c.useEffect)((()=>{s?r||(i(!0),f.sendChatTypingMessage(s)):r&&(i(!1),f.sendChatTypingMessage(s))}),[f,s,r]),{selectedUsername:e,floodBlocked:u,floodBlockedSeconds:h,setIsTyping:n,setIsIdle:d,sendChat:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(\"\"===e)return null;const r=e.split(\" \");if(r.length>0){const t=r[0];let s=\"\";if(r.length>1&&(s=r[1]),\":\"===t.charAt(0)&&\"x\"===s){const t=C().selectedAvatarId;if(t>-1){const n=f.userDataManager.getUserDataByIndex(t);n&&(s=n.name,e=e.replace(\" x\",\" \"+n.name))}}switch(t.toLowerCase()){case\":shake\":return a.zh.init(2500,5e3),a.zh.turnVisualizationOn(),null;case\":rotate\":return a.fh.init(2500,5e3),a.fh.turnVisualizationOn(),null;case\":d\":case\";d\":B()===a.Xd.VIP&&f.sendExpressionMessage(a.o.LAUGH.ordinal);break;case\"o/\":case\"_o/\":return f.sendExpressionMessage(a.o.WAVE.ordinal),null;case\":kiss\":if(B()===a.Xd.VIP)return f.sendExpressionMessage(a.o.BLOW.ordinal),null;break;case\":jump\":if(B()===a.Xd.VIP)return f.sendExpressionMessage(a.o.JUMP.ordinal),null;break;case\":idle\":return f.sendExpressionMessage(a.o.IDLE.ordinal),null;case\"_b\":return f.sendExpressionMessage(a.o.RESPECT.ordinal),null;case\":sign\":return f.sendSignMessage(parseInt(s)),null;case\":iddqd\":case\":flip\":return C().events.dispatchEvent(new a.Oh(f.roomId,-1,!0)),null;case\":zoom\":return C().events.dispatchEvent(new a.Oh(f.roomId,parseFloat(s),!1)),null;case\":screenshot\":const e=C().createTextureFromRoom(f.roomId,1),t=new Image;t.src=a.fi.generateImageUrl(e);return window.open(\"\").document.write(t.outerHTML),null;case\":pickall\":return(f.isRoomOwner||F().isModerator)&&O(We(\"room.confirm.pick_all\"),(()=>{F().sendSpecialCommandMessage(\":pickall\")}),null,null,null,We(\"generic.alert.title\")),null;case\":furni\":return m(\"furni-chooser/\"),null;case\":chooser\":return m(\"user-chooser/\"),null;case\":floor\":case\":bcfloor\":return f.controllerLevel>=a.yg.ROOM_OWNER&&m(\"floor-editor/show\"),null;case\":togglefps\":return o().ticker.maxFPS>0?o().ticker.maxFPS=0:o().ticker.maxFPS=p(\"system.animation.fps\"),null;case\":client\":case\":nitro\":case\":billsonnn\":return g(),null;case\":settings\":return(f.isRoomOwner||F().isModerator)&&Ee(new a.wh(f.roomId)),null}}switch(t){case Fs.CHAT_DEFAULT:f.sendChatMessage(e,n);break;case Fs.CHAT_SHOUT:f.sendShoutMessage(e,n);break;case Fs.CHAT_WHISPER:f.sendWhisperMessage(s,e,n)}}}},ai=new Map,oi=new Map,li=new Map,di=()=>{const[e,t]=Object(c.useState)([]),[s,n]=Object(c.useState)({mode:a.vg.CHAT_MODE_FREE_FLOW,weight:a.vg.CHAT_BUBBLE_WIDTH_NORMAL,speed:a.vg.CHAT_SCROLL_SPEED_NORMAL,distance:50,protection:a.vg.FLOOD_FILTER_NORMAL}),{roomSession:r=null}=Ac(),i=Object(c.useRef)(!1),o=Object(c.useMemo)((()=>{if(!s)return 6e3;switch(s.speed){case a.vg.CHAT_SCROLL_SPEED_FAST:return 3e3;case a.vg.CHAT_SCROLL_SPEED_NORMAL:return 6e3;case a.vg.CHAT_SCROLL_SPEED_SLOW:return 12e3}}),[s]),l=e=>{const t=d().createAvatarImage(e,a.r.LARGE,null,{resetFigure:e=>{i.current||l(e)},dispose:()=>{},disposed:!1});if(!t)return;const s=t.getCroppedImage(a.s.HEAD),n=t.getPartColor(a.q.CHEST);return ai.set(e,n&&n.rgb||16777215),t.dispose(),oi.set(e,s.src),s.src},u=()=>{t((e=>{if(e){const t=e.filter((e=>e.top>2*-e.height));if(t.length!==e.length)return t}return e}))};return Or(a.hh.CHAT_EVENT,(e=>{const s=C().getRoomObject(r.roomId,e.objectId,a.Wg.UNIT),n=s?xe(r.roomId,null===s||void 0===s?void 0:s.id,a.Wg.UNIT):new a.nf,c=s?r.userDataManager.getUserDataByIndex(e.objectId):new a.Hh(-1);let i=\"\",o=0,d=null,u=e.chatType,j=e.style,h=0,b=-1,m=e.message;if(c){h=c.type;const e=c.figure;switch(h){case a.ah.PET:d=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=li.get(e+r);if(c)return c;const i=new a.Ff(e),o=i.typeId,l=C().getRoomObjectPetImage(o,i.paletteId,i.color,new a.kj(45*t),n,null,!1,0,i.customParts,r);return l&&(c=a.fi.generateImageUrl(l.data),li.set(e+r,c)),c}(e,2,!0,64,s.model.getValue(a.ch.FIGURE_POSTURE)),b=new a.Ff(e).typeId;break;case a.ah.USER:d=(e=>{let t=oi.get(e);return t||(t=l(e)),t})(e);break;case a.ah.RENTABLE_BOT:case a.ah.BOT:j=a.ei.BOT}o=ai.get(e),i=c.name}switch(u){case a.hh.CHAT_TYPE_RESPECT:m=We(\"widgets.chatbubble.respect\",[\"username\"],[i]),g().getValue(\"respect.options\").enabled&&Xe(g().getValue(\"respect.options\").sound);break;case a.hh.CHAT_TYPE_PETREVIVE:case a.hh.CHAT_TYPE_PET_REBREED_FERTILIZE:case a.hh.CHAT_TYPE_PET_SPEED_FERTILIZE:{let t=\"widget.chatbubble.petrevived\";u===a.hh.CHAT_TYPE_PET_REBREED_FERTILIZE?t=\"widget.chatbubble.petrefertilized;\":u===a.hh.CHAT_TYPE_PET_SPEED_FERTILIZE&&(t=\"widget.chatbubble.petspeedfertilized\");let n=null;if(C().getRoomObject(r.roomId,e.extraParam,a.Wg.UNIT)){const e=r.userDataManager.getUserDataByIndex(s.id);e&&(n=e.name)}m=We(t,[\"petName\",\"userName\"],[i,n]);break}case a.hh.CHAT_TYPE_PETRESPECT:m=We(\"widget.chatbubble.petrespect\",[\"petname\"],[i]);break;case a.hh.CHAT_TYPE_PETTREAT:m=We(\"widget.chatbubble.pettreat\",[\"petname\"],[i]);break;case a.hh.CHAT_TYPE_HAND_ITEM_RECEIVED:m=We(\"widget.chatbubble.handitem\",[\"username\",\"handitem\"],[i,We(\"handitem\"+e.extraParam)]);break;case a.hh.CHAT_TYPE_MUTE_REMAINING:m=We(\"widget.chatbubble.mutetime\",[\"hours\",\"minutes\",\"seconds\"],[(e.extraParam>0?Math.floor(e.extraParam/3600):0).toString(),(e.extraParam>0?Math.floor(e.extraParam%3600/60):0).toString(),(e.extraParam%60).toString()]);break}const O=new Ms(c.roomIndex,a.Wg.UNIT,r.roomId,m,(e=>{let t=\"\";if(e=e.replace(/([\\u00A0-\\u9999<>&])(.|$)/g,((e,t,s)=>\"&\"!==t||\"#\"!==s?(/[\\u00A0-\\u9999<>&]/.test(s)&&(s=\"&#\"+s.charCodeAt(0)+\";\"),\"&#\"+t.charCodeAt(0)+\";\"+s):e)),(e=It.shortnameToUnicode(e)).startsWith(\"@\")&&e.indexOf(\"@\",1)>-1){let s=null;for(;null!==(s=/@[a-zA-Z]+@/g.exec(e));){const n=s[0].toString(),r=n.substr(1,n.length-2),c=e.replace(n,\"\");t=Et.has(r)?'<span style=\"color: '+Et.get(r)+'\">'+c+\"</span>\":c;break}}else t=e;return t})(m),i,new a.nf(n.x,n.y),u,j,d,o&&(\"#\"+o.toString(16).padStart(6,\"0\")||!1));t((e=>[...e,O]))})),mr(a.Cg.ROOM_DRAG,(t=>{if(!e.length||t.roomId!==r.roomId)return;const s=t.offsetX;e.forEach((e=>e.elementRef&&(e.left+=s)))})),pr(a.Dc,(e=>{const t=e.getParser();t.roomEnter&&n(t.chat)})),pr(a.wg,(e=>{const t=e.getParser();n(t.chat)})),Object(c.useEffect)((()=>(i.current=!1,()=>{i.current=!0})),[]),{chatMessages:e,setChatMessages:t,chatSettings:s,getScrollSpeed:o,removeHiddenChats:u,moveAllChatsUp:e=>{t((t=>(t&&t.forEach((t=>{t.skipMovement?t.skipMovement=!1:t.top-=e})),t))),u()}}},ui=()=>{const[e,t]=Object(c.useState)([]),s=s=>{e.indexOf(s)>=0||t([...e,s])},n=s=>{const n=e.indexOf(s);if(-1===n)return;const r=[...e];r.splice(n,1),t(r)};return Or(a.kh.DOORBELL,(e=>s(e.userName))),Or(a.kh.RSDE_REJECTED,(e=>n(e.userName))),Or(a.kh.RSDE_ACCEPTED,(e=>n(e.userName))),{users:e,addUser:s,removeUser:n,answer:(e,t)=>{he().sendDoorbellApprovalMessage(e,t),n(e)}}},ji=()=>{const[e,t]=Object(c.useState)([]),{requests:s=[],dismissedRequestIds:n=[],setDismissedRequestIds:r=null}=ec(),i=Object(c.useMemo)((()=>e.filter((e=>-1===n.indexOf(e.request.requesterUserId)))),[e,n]);return Rc(!0,(n=>{if(n.category!==a.Wg.UNIT)return;const r=he().userDataManager.getUserDataByIndex(n.id);if(!r||r.type!==a.bh.getTypeNumber(a.bh.USER))return;const c=s.find((e=>e.requesterUserId===r.webID));if(!c||e.find((e=>e.request.requesterUserId===r.webID)))return;const i=[...e];i.push({roomIndex:r.roomIndex,request:c}),t(i)})),yc(!0,(s=>{if(s.category!==a.Wg.UNIT)return;const n=e.findIndex((e=>e.roomIndex===s.id));if(-1===n)return;const r=[...e];r.splice(n,1),t(r)})),Object(c.useEffect)((()=>{const e=[];for(const t of s){const s=he().userDataManager.getUserData(t.requesterUserId);s&&e.push({roomIndex:s.roomIndex,request:t})}t(e)}),[s]),{displayedRequests:i,hideFriendRequest:e=>{r((t=>{if(t.indexOf(e)>=0)return t;const s=[...t];return s.push(e),s}))}}},hi=()=>{const[e,t]=Object(c.useState)(null),{roomSession:s=null}=Ac();var n,r;return n=!!e,r=e=>{if(e.id<0)return;const s=C().getRoomObject(he().roomId,e.id,e.category);if(!s)return;let n=null;switch(e.category){case a.Wg.WALL:{let e=s.type;if(e.startsWith(\"poster\"))e=We(`poster_${e.replace(\"poster\",\"\")}_name`);else{const t=s.model.getValue(a.ch.FURNITURE_TYPE_ID),n=F().getWallItemData(t);n&&n.name.length&&(e=n.name)}n=new zs(s.id,a.Wg.WALL,e);break}case a.Wg.FLOOR:{let e=s.type;const t=s.model.getValue(a.ch.FURNITURE_TYPE_ID),r=F().getFloorItemData(t);r&&r.name.length&&(e=r.name),n=new zs(s.id,a.Wg.FLOOR,e)}}t((e=>[...e,n].sort(((e,t)=>e.name<t.name?-1:1))))},Object(c.useEffect)((()=>{if(!n)return;const e=e=>r(e);return Ye.addEventListener(Rs.FURNI_ADDED,e),()=>{Ye.removeEventListener(Rs.FURNI_ADDED,e)}}),[n,r]),Sc(!!e,(e=>{e.id<0||t((t=>{const s=[...t];for(let n=0;n<s.length;n++){const t=s[n];if(t.id===e.id&&t.category===e.category){s.splice(n,1);break}}return s}))})),{items:e,onClose:()=>t(null),selectItem:e=>e&&C().selectRoomObject(he().roomId,e.id,e.category),populateChooser:()=>{const e=F(),n=C().getRoomObjects(s.roomId,a.Wg.WALL),r=C().getRoomObjects(s.roomId,a.Wg.FLOOR),c=n.map((t=>{if(t.id<0)return null;let s=t.type;if(s.startsWith(\"poster\"))s=We(`poster_${s.replace(\"poster\",\"\")}_name`);else{const n=t.model.getValue(a.ch.FURNITURE_TYPE_ID),r=e.getWallItemData(n);r&&r.name.length&&(s=r.name)}return new zs(t.id,a.Wg.WALL,s)})),i=r.map((t=>{if(t.id<0)return null;let s=t.type;const n=t.model.getValue(a.ch.FURNITURE_TYPE_ID),r=e.getFloorItemData(n);return r&&r.name.length&&(s=r.name),new zs(t.id,a.Wg.FLOOR,s)}));t([...c,...i].sort(((e,t)=>e.name<t.name?-1:1)))}}},bi=()=>{const{roomSession:e=null}=Ac();return Or(a.qh.OFFER,(e=>{const t=new Ns(Ns.OFFER,e.id);t.summary=e.summary,t.headline=e.headline,$e(t)})),Or(a.qh.ERROR,(e=>{const t=new Ns(Ns.ERROR,e.id);t.summary=e.summary,t.headline=e.headline,$e(t)})),Or(a.qh.CONTENT,(e=>{const t=new Ns(Ns.CONTENT,e.id);t.startMessage=e.startMessage,t.endMessage=e.endMessage,t.numQuestions=e.numQuestions,t.questionArray=e.questionArray,t.npsPoll=e.npsPoll,$e(t)})),{startPoll:t=>e.sendPollStartMessage(t),rejectPoll:t=>e.sendPollRejectMessage(t),answerPoll:(t,s,n)=>e.sendPollAnswerMessage(t,s,n)}},gi=()=>{const[e,t]=Object(c.useState)(null),{roomSession:s=null}=Ac();return Rc(!!e,(e=>{if(e.id<0)return;const s=he().userDataManager.getUserDataByIndex(e.id);s&&t((e=>{const t=[...e];return t.push(new zs(s.roomIndex,a.Wg.UNIT,s.name)),t.sort(((e,t)=>e.name<t.name?-1:1)),t}))})),yc(!!e,(e=>{e.id<0||t((t=>{const s=[...t];for(let n=0;n<s.length;n++){const t=s[n];if(t.id===e.id&&t.category===e.category){s.splice(n,1);break}}return s}))})),{items:e,onClose:()=>t(null),selectItem:e=>e&&C().selectRoomObject(he().roomId,e.id,e.category),populateChooser:()=>{const e=he(),s=C().getRoomObjects(e.roomId,a.Wg.UNIT);t(s.map((t=>{if(t.id<0)return null;const s=e.userDataManager.getUserDataByIndex(t.id);return s?new zs(s.roomIndex,a.Wg.UNIT,s.name):null})).sort(((e,t)=>e.name<t.name?-1:1)))}}},mi=()=>{const[e,t]=Object(c.useState)(-1),[s,n]=Object(c.useState)(null),[r,i]=Object(c.useState)(!1),[o,l]=Object(c.useState)(null),[d,u]=Object(c.useState)(new Map),[j,h]=Object(c.useState)(new Map),{answerPoll:b=null}=bi(),{roomSession:g=null}=Ac(),m=()=>{t(-1),n(null)},O=Object(c.useCallback)((()=>{h((e=>{const t=[];if(e.forEach(((e,s)=>{e.secondsLeft--,e.secondsLeft<=0&&t.push(s)})),0===t.length)return e;const s=new Map(e);return t.forEach((e=>s.delete(e))),s}))}),[]);return Or(a.vh.ANSWERED,(e=>{const t=g.userDataManager.getUserData(e.userId);t&&(u(e.answerCounts),h((s=>{if(!s.has(t.roomIndex)){const s=new Map(j);return s.set(t.roomIndex,{value:e.value,secondsLeft:3}),s}return s})),\"0\"===e.value?C().updateRoomObjectUserGesture(g.roomId,t.roomIndex,a.l.getGestureId(a.l.GESTURE_SAD)):C().updateRoomObjectUserGesture(g.roomId,t.roomIndex,a.l.getGestureId(a.l.GESTURE_SMILE)))})),Or(a.vh.FINISHED,(e=>{s&&s.id===e.questionId&&(u(e.answerCounts),i(!0),l((e=>(e&&clearTimeout(e),setTimeout((()=>m()),4e3))))),h(new Map)})),Or(a.vh.QUESTION,(e=>{t(e.id),n(e.question),i(!1),u(new Map),h(new Map),l((t=>{if(t&&clearTimeout(t),e.duration>0){const t=e.duration<1e3?4e3:e.duration;return setTimeout((()=>m()),t)}return null}))})),Object(c.useEffect)((()=>{const e=setInterval((()=>O()),1e3);return()=>clearInterval(e)}),[O]),Object(c.useEffect)((()=>()=>{l((e=>(e&&clearTimeout(e),null)))}),[]),{question:s,answerSent:r,answerCounts:d,userAnswers:j,vote:t=>{!r&&s&&(b(e,s.id,[t]),i(!0))}}},Oi=()=>{const[e,t]=Object(c.useState)(null),[s,n]=Object(c.useState)(null),[r,i]=Object(c.useState)(0),[o,l]=Object(c.useState)(0),[d,u]=Object(c.useState)(0),[j,h]=Gr(\"nitro.screensize\",{width:window.innerWidth,height:window.innerHeight});return pr(a.Vi,(e=>{const s=e.getParser();t(s.userInfo),n(s.userInfo.figure),l(s.userInfo.respectsRemaining),u(s.userInfo.respectsPetRemaining)})),pr(a.Lb,(e=>{const t=e.getParser();n(t.figure)})),pr(a.cj,(e=>{const t=e.getParser();i(t.chatType)})),Object(c.useEffect)((()=>{const e=Me(\"nitro.screensize\");if(e&&(e.width!==window.innerWidth||e.height!==window.innerHeight)){let e=window.localStorage.length;for(;e>0;){const t=window.localStorage.key(e);t&&t.startsWith(\"nitro.window\")&&window.localStorage.removeItem(t),e--}}const t=e=>h({width:window.innerWidth,height:window.innerHeight});return window.addEventListener(\"resize\",t),()=>{window.removeEventListener(\"resize\",t)}}),[h]),{userInfo:e,userFigure:s,chatStyleId:r,userRespectRemaining:o,petRespectRemaining:d,respectUser:e=>{F().giveRespect(e),l(F().respectsLeft)},respectPet:e=>{F().givePetRespect(e),u(F().respectsPetLeft)},updateChatStyleId:e=>{i(e),Ee(new a.Dh(e))}}},pi=()=>Object(_r.a)(Oi),fi=e=>{return t=()=>e(),Object(c.useEffect)(t,[]);var t},xi=e=>{const{achievement:t=null,scale:s=1,...n}=e;return t?Object(an.jsx)(Dn,{badgeCode:ve.getAchievementBadgeCode(t),isGrayscale:!ve.getAchievementHasStarted(t),scale:s,...n}):null},_i=e=>{const{achievement:t=null,selectedAchievementId:s=-1,setSelectedAchievementId:n=null,children:r=null,...c}=e;return t?Object(an.jsxs)(Vn,{itemActive:s===t.achievementId,itemUnseen:t.unseen>0,onClick:e=>n(t.achievementId),...c,children:[Object(an.jsx)(xi,{achievement:t}),r]}):null},Ii=e=>{const{achievements:t=null,selectedAchievementId:s=-1,setSelectedAchievementId:n=null,children:r=null,...c}=e;return Object(an.jsxs)(jn,{columnCount:6,columnMinWidth:50,columnMinHeight:50,...c,children:[t&&t.length>0&&t.map(((e,t)=>Object(an.jsx)(_i,{achievement:e,selectedAchievementId:s,setSelectedAchievementId:n},t))),r]})},Ei=e=>{const{achievement:t=null,children:s=null,...n}=e;return t?Object(an.jsxs)(hn,{shrink:!0,className:\"bg-muted rounded p-2 text-black\",gap:2,overflow:\"hidden\",...n,children:[Object(an.jsxs)(Fn,{center:!0,gap:1,children:[Object(an.jsx)(xi,{className:\"nitro-achievements-badge-image\",achievement:t,scale:2}),Object(an.jsx)(ur,{fontWeight:\"bold\",children:We(\"achievements.details.level\",[\"level\",\"limit\"],[ve.getAchievementLevel(t).toString(),t.levelCount.toString()])})]}),Object(an.jsxs)(Fn,{fullWidth:!0,justifyContent:\"center\",overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontWeight:\"bold\",truncate:!0,children:Be(ve.getAchievementBadgeCode(t))}),Object(an.jsx)(ur,{textBreak:!0,children:Fe(ve.getAchievementBadgeCode(t))})]}),(t.levelRewardPoints>0||t.scoreLimit>0)&&Object(an.jsxs)(Fn,{gap:1,children:[t.levelRewardPoints>0&&Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{truncate:!0,className:\"small\",children:We(\"achievements.details.reward\")}),Object(an.jsxs)(hn,{center:!0,className:\"fw-bold small\",gap:1,children:[t.levelRewardPoints,Object(an.jsx)(Pn,{type:t.levelRewardPointType})]})]}),t.scoreLimit>0&&Object(an.jsx)(tr,{text:We(\"achievements.details.progress\",[\"progress\",\"limit\"],[(t.currentPoints+t.scoreAtStartOfLevel).toString(),(t.scoreLimit+t.scoreAtStartOfLevel).toString()]),progress:t.currentPoints+t.scoreAtStartOfLevel,maxProgress:t.scoreLimit+t.scoreAtStartOfLevel})]})]}),s]}):null},Ci=e=>{const{category:t=null,selectedAchievementId:s=-1,setSelectedAchievementId:n=null,setAchievementSeen:r=null}=e,i=Object(c.useMemo)((()=>-1===s?null:t.achievements.find((e=>e.achievementId===s))),[t,s]);return Object(c.useEffect)((()=>{i||t.achievements.length&&n(t.achievements[0].achievementId)}),[i,t,n]),Object(c.useEffect)((()=>{i&&r(t.code,i.achievementId)}),[i,t,r]),t?Object(an.jsxs)(Fn,{fullHeight:!0,justifyContent:\"between\",children:[Object(an.jsx)(Ii,{achievements:t.achievements,selectedAchievementId:s,setSelectedAchievementId:n}),!!i&&Object(an.jsx)(Ei,{achievement:i})]}):null},vi=e=>{const{category:t=null,selectedCategoryCode:s=null,setSelectedCategoryCode:n=null,children:r=null,...c}=e;if(!t)return null;const i=ve.getAchievementCategoryProgress(t),a=ve.getAchievementCategoryMaxProgress(t),o=ve.getAchievementCategoryImageUrl(t,i),l=ve.getAchievementCategoryTotalUnseen(t);return Object(an.jsxs)(Vn,{itemActive:s===t.code,itemCount:l,itemCountMinimum:0,gap:1,onClick:e=>n(t.code),...c,children:[Object(an.jsx)(ur,{fullWidth:!0,center:!0,small:!0,className:\"pt-1\",children:We(`quests.${t.code}.name`)}),Object(an.jsx)(An,{position:\"relative\",imageUrl:o,children:Object(an.jsxs)(ur,{fullWidth:!0,center:!0,position:\"absolute\",variant:\"white\",style:{fontSize:12,bottom:9},children:[i,\" / \",a]})}),r]})},Ni=e=>{const{categories:t=null,selectedCategoryCode:s=null,setSelectedCategoryCode:n=null,children:r=null,...c}=e;return Object(an.jsxs)(jn,{columnCount:3,columnMinWidth:90,columnMinHeight:100,...c,children:[t&&t.length>0&&t.map(((e,t)=>Object(an.jsx)(vi,{category:e,selectedCategoryCode:s,setSelectedCategoryCode:n},t))),r]})},Ti=e=>{const[t,s]=Object(c.useState)(!1),{achievementCategories:n=[],selectedCategoryCode:r=null,setSelectedCategoryCode:i=null,selectedAchievementId:a=-1,setSelectedAchievementId:o=null,achievementScore:d=0,getProgress:u=0,getMaxProgress:j=0,setAchievementSeen:h=null}=xr(),b=Object(c.useMemo)((()=>null===r?null:n.find((e=>e.code===r))),[n,r]);return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e))}},eventUrlPrefix:\"achievements/\"};return l(e),()=>E(e)}),[]),t?Object(an.jsxs)(yn,{uniqueKey:\"achievements\",className:\"nitro-achievements\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"inventory.achievements\"),onCloseClick:e=>s(!1)}),b&&Object(an.jsxs)(Nn,{position:\"relative\",className:\"justify-content-center align-items-center cursor-pointer\",gap:3,children:[Object(an.jsx)(on,{onClick:e=>i(null),className:\"nitro-achievements-back-arrow\"}),Object(an.jsxs)(Fn,{grow:!0,gap:0,children:[Object(an.jsx)(ur,{fontSize:4,fontWeight:\"bold\",className:\"text-small\",children:We(`quests.${b.code}.name`)}),Object(an.jsx)(ur,{children:We(\"achievements.details.categoryprogress\",[\"progress\",\"limit\"],[b.getProgress().toString(),b.getMaxProgress().toString()])})]}),Object(an.jsx)(qn,{imageUrl:ve.getAchievementCategoryImageUrl(b,null,!0)})]}),Object(an.jsxs)(In,{gap:1,children:[!b&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Ni,{categories:n,selectedCategoryCode:r,setSelectedCategoryCode:i}),Object(an.jsxs)(Fn,{grow:!0,justifyContent:\"end\",gap:1,children:[Object(an.jsx)(ur,{small:!0,center:!0,children:We(\"achievements.categories.score\",[\"score\"],[d.toString()])}),Object(an.jsx)(tr,{text:We(\"achievements.categories.totalprogress\",[\"progress\",\"limit\"],[u.toString(),j.toString()]),progress:u,maxProgress:j})]})]}),b&&Object(an.jsx)(Ci,{category:b,selectedAchievementId:a,setSelectedAchievementId:o,setAchievementSeen:h})]})]}):null},Si=e=>{const{icon:t=null,selected:s=!1,classNames:n=[],children:r=null,...i}=e,a=Object(c.useMemo)((()=>{const e=[\"nitro-avatar-editor-spritesheet\"];return t&&t.length&&e.push(t+\"-icon\"),s&&e.push(\"selected\"),n.length&&e.push(...n),e}),[t,s,n]);return Object(an.jsx)(on,{classNames:a,...i})},wi=e=>{const{figureData:t=null}=e,[s,n]=Object(c.useState)(-1),r=Object(c.useCallback)((()=>{n((e=>e+1))}),[]),i=Object(c.useCallback)((e=>{e<a.m.MIN_DIRECTION&&(e=a.m.MAX_DIRECTION+(e+1)),e>a.m.MAX_DIRECTION&&(e-=a.m.MAX_DIRECTION+1),t.direction=e}),[t]);return Object(c.useEffect)((()=>{if(t)return t.notify=r,()=>{t.notify=null}}),[t,r]),Object(an.jsxs)(Fn,{className:\"figure-preview-container\",overflow:\"hidden\",position:\"relative\",children:[Object(an.jsx)(kn,{figure:t.getFigureString(),direction:t.direction,scale:2}),Object(an.jsx)(Si,{className:\"avatar-spotlight\",icon:\"spotlight\"}),Object(an.jsx)(on,{className:\"avatar-shadow\"}),Object(an.jsxs)(on,{className:\"arrow-container\",children:[Object(an.jsx)(Si,{pointer:!0,icon:\"arrow-left\",onClick:e=>i(t.direction+1)}),Object(an.jsx)(Si,{pointer:!0,icon:\"arrow-right\",onClick:e=>i(t.direction-1)})]})]})},Ri=e=>{const{partItem:t=null,children:s=null,...n}=e,[r,i]=Object(c.useState)(-1),a=p(\"hc.disabled\",!1);return Object(c.useEffect)((()=>(t.notify=()=>i((e=>e+1)),()=>t.notify=null)),[t]),Object(an.jsxs)(Vn,{itemImage:t.isClear?void 0:t.imageUrl,itemActive:t.isSelected,...n,children:[!a&&t.isHC&&Object(an.jsx)(Pn,{className:\"position-absolute end-1 bottom-1\",type:\"hc\"}),t.isClear&&Object(an.jsx)(Si,{icon:\"clear\"}),t.isSellable&&Object(an.jsx)(Si,{icon:\"sellable\",position:\"absolute\",className:\"end-1 bottom-1\"}),s]})},yi=e=>{const{model:t=null,category:s=null,setMaxPaletteCount:n=null}=e,r=Object(c.useRef)(null),i=Object(c.useCallback)((e=>{const r=s.parts.indexOf(e);if(-1===r)return;t.selectPart(s.name,r);const c=s.getCurrentPart();n(c.maxColorIndex||1)}),[t,s,n]);return Object(c.useEffect)((()=>{t&&s&&r&&r.current&&(r.current.scrollTop=0)}),[t,s]),Object(an.jsx)(jn,{innerRef:r,columnCount:3,columnMinHeight:50,children:s.parts.length>0&&s.parts.map(((e,t)=>Object(an.jsx)(Ri,{partItem:e,onClick:t=>i(e)},t)))})},ki=e=>{const{colorItem:t=null,children:s=null,...n}=e,[r,i]=Object(c.useState)(-1),a=p(\"hc.disabled\",!1);return Object(c.useEffect)((()=>(t.notify=()=>i((e=>e+1)),()=>t.notify=null)),[t]),Object(an.jsxs)(Vn,{itemHighlight:!0,itemColor:t.color,itemActive:t.isSelected,className:\"clear-bg\",...n,children:[!a&&t.isHC&&Object(an.jsx)(Pn,{className:\"position-absolute end-1 bottom-1\",type:\"hc\"}),s]})},Ai=e=>{const{model:t=null,category:s=null,paletteSet:n=[],paletteIndex:r=-1}=e,i=Object(c.useRef)(null),a=Object(c.useCallback)((e=>{const c=n.indexOf(e);-1!==c&&t.selectColor(s.name,c,r)}),[t,s,n,r]);return Object(c.useEffect)((()=>{t&&s&&i&&i.current&&(i.current.scrollTop=0)}),[t,s]),Object(an.jsx)(jn,{innerRef:i,gap:1,columnCount:5,columnMinWidth:30,children:n.length>0&&n.map(((e,t)=>Object(an.jsx)(ki,{colorItem:e,onClick:t=>a(e)},t)))})},Di=e=>{const{model:t=null,gender:s=null,setGender:n=null}=e,[r,i]=Object(c.useState)(null),[a,o]=Object(c.useState)(1),l=Object(c.useCallback)((e=>{const s=t.categories.get(e);if(s){s.init(),i(s);for(const e of s.parts)if(e&&e.isSelected){o(e.maxColorIndex||1);break}}}),[t]);return Object(c.useEffect)((()=>{t.init();for(const e of t.categories.keys()){l(e);break}}),[t,l]),t&&r?Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:2,children:[t.canSetGender&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(hn,{center:!0,pointer:!0,className:\"category-item\",onClick:e=>n(ye.MALE),children:Object(an.jsx)(Si,{icon:\"male\",selected:s===ye.MALE})}),Object(an.jsx)(hn,{center:!0,pointer:!0,className:\"category-item\",onClick:e=>n(ye.FEMALE),children:Object(an.jsx)(Si,{icon:\"female\",selected:s===ye.FEMALE})})]}),!t.canSetGender&&t.categories&&t.categories.size>0&&Array.from(t.categories.keys()).map((e=>{const s=t.categories.get(e);return Object(an.jsx)(hn,{center:!0,pointer:!0,className:\"category-item\",onClick:t=>l(e),children:Object(an.jsx)(Si,{icon:s.name,selected:r===s})},e)}))]}),Object(an.jsx)(Fn,{size:5,overflow:\"hidden\",children:Object(an.jsx)(yi,{model:t,category:r,setMaxPaletteCount:o})}),Object(an.jsxs)(Fn,{size:5,overflow:\"hidden\",children:[a>=1&&Object(an.jsx)(Ai,{model:t,category:r,paletteSet:r.getPalette(0),paletteIndex:0}),2===a&&Object(an.jsx)(Ai,{model:t,category:r,paletteSet:r.getPalette(1),paletteIndex:1})]})]}):null},Li=e=>{const{figureData:t=null,savedFigures:s=[],setSavedFigures:n=null,loadAvatarInEditor:r=null}=e,i=p(\"hc.disabled\",!1),o=Object(c.useCallback)((e=>{if(e>=s.length||e<0)return;const[t,n]=s[e];r(t.getFigureString(),n)}),[s,r]),l=Object(c.useCallback)((e=>{if(!t||e>=s.length||e<0)return;const r=[...s],c=t.getFigureString(),i=t.gender;r[e]=[d().createFigureContainer(c),i],n(r),Ee(new a.Rh(e+1,c,i))}),[t,s,n]),u=Object(c.useMemo)((()=>{if(!s||!s.length)return[];const e=[];return s.forEach(((t,s)=>{let[n,r]=t,c=0;n&&(c=d().getFigureClubLevel(n,r)),e.push(Object(an.jsxs)(Vn,{position:\"relative\",overflow:\"hidden\",className:\"nitro-avatar-editor-wardrobe-figure-preview\",children:[n&&Object(an.jsx)(kn,{figure:n.getFigureString(),gender:r,direction:2}),Object(an.jsx)(on,{className:\"avatar-shadow\"}),!i&&c>0&&Object(an.jsx)(Pn,{className:\"position-absolute top-1 start-1\",type:\"hc\"}),Object(an.jsxs)(hn,{gap:1,className:\"button-container\",children:[Object(an.jsx)(bn,{variant:\"link\",fullWidth:!0,onClick:e=>l(s),children:We(\"avatareditor.wardrobe.save\")}),n&&Object(an.jsx)(bn,{variant:\"link\",fullWidth:!0,onClick:e=>o(s),disabled:c>B(),children:We(\"generic_usable.button.use\")})]})]},s))})),e}),[s,i,l,o]);return Object(an.jsx)(jn,{columnCount:5,columnMinWidth:80,columnMinHeight:140,children:u})},Pi=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(null),[u,j]=Object(c.useState)(null),[h,b]=Object(c.useState)(null),[g,m]=Object(c.useState)([]),[O,f]=Object(c.useState)([]),[x,_]=Object(c.useState)([]),[I,C]=Object(c.useState)(!1),[v,N]=Object(c.useState)(null),[T,S]=Object(c.useState)(null),[w,R]=Object(c.useState)(!0),[y,k]=Object(c.useState)(!1),A=Object(c.useMemo)((()=>p(\"avatar.wardrobe.max.slots\",10)),[]);pr(a.Kb,(e=>{const t=e.getParser();m(t.figureSetIds),f(t.boundsFurnitureNames)})),pr(a.jj,(e=>{const t=e.getParser(),s=[];let n=0;for(;n<A;)s.push([null,null]),n++;for(let[r,[c,i]]of t.looks.entries()){const e=d().createFigureContainer(c);s[r-1]=[e,i]}_(s)}));const D=Object(c.useCallback)((e=>{u&&b(u.get(e))}),[u]),L=Object(c.useCallback)((()=>{const e=new Map;e.set(a.n.GENERIC,new De),e.set(a.n.HEAD,new Rt),e.set(a.n.TORSO,new kt),e.set(a.n.LEGS,new yt),j(e)}),[]),P=Object(c.useCallback)((()=>{const e=new Map,t=new ye,s=new ye;t.loadAvatarData(\"hr-100.hd-180-7.ch-215-66.lg-270-79.sh-305-62.ha-1002-70.wa-2007\",ye.MALE),s.loadAvatarData(\"hr-515-33.hd-600-1.ch-635-70.lg-716-66-62.sh-735-68\",ye.FEMALE),e.set(ye.MALE,t),e.set(ye.FEMALE,s),r(e),o(e.get(ye.MALE))}),[]),U=Object(c.useCallback)((function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=Re.getGender(t);let r=i;t!==r.gender&&(r=n.get(t)),e!==r.getFigureString()&&r.loadAvatarData(e,t),r!==i&&o(r),s&&(N(i.getFigureString()),S(i.gender))}),[n,i]),M=Object(c.useCallback)((e=>{switch(e){case Te.ACTION_CLEAR:return U(i.getFigureStringWithFace(0,!1),i.gender,!1),void L();case Te.ACTION_RESET:return U(v,T),void L();case Te.ACTION_RANDOMIZE:const e=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const c=d().structure,i=new a.p(\"\"),o=Tt(c.getMandatorySetTypeIds(t,s),ye.SET_TYPES);for(const a of r){const t=e.getPartSetId(a),s=e.getColorIds(a);i.updatePart(a,t,s)}for(const a of o){if(i.hasPartType(a))continue;const e=c.figureData.getSetType(a),r=St(e,t,s,n);if(!r)continue;let o=[];r.isColorable&&(o=wt(c.figureData.getPalette(e.paletteID),r,s).map((e=>e.id))),i.updatePart(e.type,r.id,o)}return i.getFigureString()}(i,i.gender,B(),g,[ye.FACE]);return U(e,i.gender,!1),void L();case Te.ACTION_SAVE:return Ee(new a.Ti(i.gender,i.getFigureString())),void s(!1)}}),[i,v,T,g,U,L]),H=Object(c.useCallback)((e=>{e=Re.getGender(e),o(n.get(e))}),[n]);return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e))}},eventUrlPrefix:\"avatar-editor/\"};return l(e),()=>E(e)}),[]),Object(c.useEffect)((()=>{_(new Array(A))}),[A]),Object(c.useEffect)((()=>{I&&(b(null),Ee(new a.Vc))}),[I]),Object(c.useEffect)((()=>{h&&C(!1)}),[h]),Object(c.useEffect)((()=>{u&&D(a.n.GENERIC)}),[u,D]),Object(c.useEffect)((()=>{if(i)return Re.CURRENT_FIGURE=i,L(),()=>Re.CURRENT_FIGURE=null}),[i,L]),Object(c.useEffect)((()=>(Re.FIGURE_SET_IDS=g,Re.BOUND_FURNITURE_NAMES=O,L(),()=>{Re.FIGURE_SET_IDS=null,Re.BOUND_FURNITURE_NAMES=null})),[g,O,L]),Object(c.useEffect)((()=>{if(t)return n?void 0:(P(),void k(!0))}),[t,n,P]),Object(c.useEffect)((()=>{t&&y&&w&&(U(F().figure,F().gender),R(!1))}),[t,y,w,U]),Object(c.useEffect)((()=>{if(!t)return()=>{R(!0)}}),[t]),t&&i?Object(an.jsxs)(yn,{uniqueKey:\"avatar-editor\",className:\"nitro-avatar-editor\",children:[Object(an.jsx)(vn,{headerText:We(\"avatareditor.title\"),onCloseClick:e=>s(!1)}),Object(an.jsxs)(or,{children:[u&&u.size>0&&Array.from(u.keys()).map((e=>{const t=h&&h.name===e;return Object(an.jsx)(ar,{isActive:t,onClick:t=>D(e),children:We(`avatareditor.category.${e}`)},e)})),Object(an.jsx)(ar,{isActive:I,onClick:e=>C(!0),children:We(\"avatareditor.category.wardrobe\")})]}),Object(an.jsx)(In,{children:Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:9,overflow:\"hidden\",children:[h&&!I&&Object(an.jsx)(Di,{model:h,gender:i.gender,setGender:H}),I&&Object(an.jsx)(Li,{figureData:i,savedFigures:x,setSavedFigures:_,loadAvatarInEditor:U})]}),Object(an.jsxs)(Fn,{size:3,overflow:\"hidden\",children:[Object(an.jsx)(wi,{figureData:i}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsxs)(gn,{children:[Object(an.jsx)(bn,{variant:\"secondary\",onClick:e=>M(Te.ACTION_RESET),children:Object(an.jsx)(fn.a,{icon:\"undo\"})}),Object(an.jsx)(bn,{variant:\"secondary\",onClick:e=>M(Te.ACTION_CLEAR),children:Object(an.jsx)(fn.a,{icon:\"trash\"})}),Object(an.jsx)(bn,{variant:\"secondary\",onClick:e=>M(Te.ACTION_RANDOMIZE),children:Object(an.jsx)(fn.a,{icon:\"dice\"})})]}),Object(an.jsx)(bn,{className:\"w-100\",variant:\"success\",onClick:e=>M(Te.ACTION_SAVE),children:We(\"avatareditor.save\")})]})]})]})})]}):null},Ui=e=>{const{onClose:t=null,onEdit:s=null,onDelete:n=null}=e,{cameraRoll:r=null,setCameraRoll:i=null,selectedPictureIndex:o=-1,setSelectedPictureIndex:l=null}=Er(),{simpleAlert:d=null}=Hr(),u=Object(c.useRef)(),j=o>-1?r[o]:null,h=Object(c.useCallback)((()=>{if(!u||!u.current)return null;const e=u.current.getBoundingClientRect();return new a.of(Math.floor(e.x),Math.floor(e.y),Math.floor(e.width),Math.floor(e.height))}),[]),b=Object(c.useCallback)((()=>{if(o>-1)return void l(-1);const e=C().createTextureFromRoom(he().roomId,1,h()),t=[...r];t.length>=5&&(d(We(\"camera.full.body\")),t.pop()),Xe(vt.CAMERA_SHUTTER),t.push(new Dt(e,a.fi.generateImageUrl(e))),i(t)}),[r,o,h,i,l,d]);return Object(an.jsx)(Rn,{uniqueKey:\"nitro-camera-capture\",children:Object(an.jsxs)(Fn,{center:!0,className:\"nitro-camera-capture\",gap:0,children:[j&&Object(an.jsx)(\"img\",{alt:\"\",className:\"camera-area\",src:j.imageUrl}),Object(an.jsxs)(\"div\",{className:\"camera-canvas drag-handler\",children:[Object(an.jsx)(\"div\",{className:\"position-absolute header-close\",onClick:t,children:Object(an.jsx)(fn.a,{icon:\"times\"})}),!j&&Object(an.jsx)(\"div\",{ref:u,className:\"camera-area camera-view-finder\"}),j&&Object(an.jsx)(\"div\",{className:\"camera-area camera-frame\",children:Object(an.jsxs)(\"div\",{className:\"camera-frame-preview-actions w-100 position-absolute bottom-0 py-2 text-center\",children:[Object(an.jsx)(\"button\",{className:\"btn btn-success me-3\",title:We(\"camera.editor.button.tooltip\"),onClick:s,children:We(\"camera.editor.button.text\")}),Object(an.jsx)(\"button\",{className:\"btn btn-danger\",onClick:n,children:We(\"camera.delete.button.text\")})]})}),Object(an.jsx)(\"div\",{className:\"d-flex justify-content-center\",children:Object(an.jsx)(\"div\",{className:\"camera-button\",title:We(\"camera.take.photo.button.tooltip\"),onClick:b})})]}),r.length>0&&Object(an.jsx)(hn,{gap:2,justifyContent:\"center\",className:\"camera-roll d-flex justify-content-center py-2\",children:r.map(((e,t)=>Object(an.jsx)(\"img\",{alt:\"\",src:e.imageUrl,onClick:e=>l(t)},t)))})]})})},Mi=e=>{const{base64Url:t=null,onCloseClick:s=null,onCancelClick:n=null,price:r=null}=e,[i,o]=Object(c.useState)(null),[l,d]=Object(c.useState)(null),[u,j]=Object(c.useState)(0),[h,b]=Object(c.useState)(!1),[g,O]=Object(c.useState)(!1),[f,x]=Object(c.useState)(0),_=Object(c.useMemo)((()=>p(\"camera.publish.disabled\",!1)),[]);pr(a.W,(e=>{j((e=>e+1)),O(!1)})),pr(a.V,(e=>{const t=e.getParser();d(t.extraDataId),x(t.secondsToWait),b(t.ok),O(!1)})),pr(a.X,(e=>{const t=e.getParser();o(p(\"camera.url\")+\"/\"+t.url)}));const I=function(e){switch(e){case\"close\":return void s();case\"buy\":if(g)return;return O(!0),void Ee(new a.Wf(\"\"));case\"publish\":if(g)return;return O(!0),void Ee(new a.Qf);case\"cancel\":return void n()}};return Object(c.useEffect)((()=>{t&&C().saveBase64AsScreenshot(t)}),[t]),r?Object(an.jsxs)(yn,{className:\"nitro-camera-checkout\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"camera.confirm_phase.title\"),onCloseClick:e=>I(\"close\")}),Object(an.jsxs)(In,{children:[Object(an.jsxs)(hn,{center:!0,children:[i&&i.length&&Object(an.jsx)(qn,{className:\"picture-preview border\",imageUrl:i}),(!i||!i.length)&&Object(an.jsx)(hn,{center:!0,className:\"picture-preview border\",children:Object(an.jsx)(ur,{bold:!0,children:We(\"camera.loading\")})})]}),Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",className:\"bg-muted rounded p-2\",children:[Object(an.jsxs)(Fn,{size:_?10:6,gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"camera.purchase.header\")}),(r.credits>0||r.duckets>0)&&Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"catalog.purchase.confirmation.dialog.cost\")}),r.credits>0&&Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:r.credits}),Object(an.jsx)(Pn,{type:-1})]}),r.duckets>0&&Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:r.duckets}),Object(an.jsx)(Pn,{type:5})]})]}),u>0&&Object(an.jsxs)(ur,{children:[Object(an.jsx)(ur,{bold:!0,children:We(\"camera.purchase.count.info\")}),\" \",u,Object(an.jsx)(\"u\",{className:\"ms-1 cursor-pointer\",onClick:()=>m(\"inventory/toggle\"),children:We(\"camera.open.inventory\")})]})]}),Object(an.jsx)(hn,{alignItems:\"center\",children:Object(an.jsx)(bn,{variant:\"success\",disabled:g,onClick:e=>I(\"buy\"),children:We(u?\"camera.buy.another.button.text\":\"buy\")})})]}),!_&&Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",className:\"bg-muted rounded p-2\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(h?\"camera.publish.successful\":\"camera.publish.explanation\")}),Object(an.jsx)(ur,{children:We(h?\"camera.publish.success.short.info\":\"camera.publish.detailed.explanation\")}),h&&Object(an.jsx)(\"a\",{href:l,rel:\"noreferrer\",target:\"_blank\",children:We(\"camera.link.to.published\")}),!h&&r.publishDucketPrice>0&&Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"catalog.purchase.confirmation.dialog.cost\")}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:r.publishDucketPrice}),Object(an.jsx)(Pn,{type:5})]})]}),f>0&&Object(an.jsx)(\"div\",{className:\"mt-1 text-center fw-bold\",children:We(\"camera.publish.wait\",[\"minutes\"],[Math.ceil(f/60).toString()])})]}),!h&&Object(an.jsx)(hn,{className:\"d-flex align-items-end\",children:Object(an.jsx)(bn,{variant:\"success\",disabled:g||f>0,onClick:e=>I(\"publish\"),children:We(\"camera.publish.button.text\")})})]}),Object(an.jsx)(ur,{center:!0,children:We(\"camera.warning.disclaimer\")}),Object(an.jsx)(hn,{justifyContent:\"end\",children:Object(an.jsx)(bn,{onClick:e=>I(\"cancel\"),children:We(\"generic.cancel\")})})]})]}):null};var Fi=s(16);const Bi=e=>{const{effect:t=null,thumbnailUrl:s=null,isActive:n=!1,isLocked:r=!1,selectEffect:c=null,removeEffect:i=null}=e;return Object(an.jsxs)(Vn,{title:We(r?`camera.effect.required.level ${t.minLevel}`:`camera.effect.name.${t.name}`),itemActive:n,onClick:e=>!n&&c(),children:[n&&Object(an.jsx)(bn,{variant:\"danger\",className:\"rounded-circle remove-effect\",onClick:i,children:Object(an.jsx)(fn.a,{icon:\"times\"})}),!r&&s&&s.length>0&&Object(an.jsx)(\"div\",{className:\"effect-thumbnail-image border\",children:Object(an.jsx)(\"img\",{alt:\"\",src:s})}),r&&Object(an.jsxs)(ur,{center:!0,bold:!0,children:[Object(an.jsx)(\"div\",{children:Object(an.jsx)(fn.a,{icon:\"lock\"})}),t.minLevel]})]})},Hi=e=>{const{myLevel:t=0,selectedEffects:s=[],effects:n=[],thumbnails:r=[],processAction:c=null}=e;return Object(an.jsx)(un,{columnCount:3,overflow:\"auto\",children:n&&n.length>0&&n.map(((e,n)=>{const i=r.find((t=>t.effectName===e.name)),a=s.findIndex((t=>t.effect.name===e.name))>-1;return Object(an.jsx)(Bi,{effect:e,thumbnailUrl:i&&i.thumbnailUrl||null,isActive:a,isLocked:e.minLevel>t,selectEffect:()=>c(\"select_effect\",e.name),removeEffect:()=>c(\"remove_effect\",e.name)},n)}))})},Gi=[At.COLORMATRIX,At.COMPOSITE],Wi=e=>{const{picture:t=null,availableEffects:s=null,myLevel:n=1,onClose:r=null,onCancel:i=null,onCheckout:o=null}=e,[l,d]=Object(c.useState)(Gi[0]),[u,j]=Object(c.useState)(null),[b,g]=Object(c.useState)([]),[m,O]=Object(c.useState)([]),[p,f]=Object(c.useState)(!1),x=Object(c.useMemo)((()=>s.filter((e=>e.colorMatrix))),[s]),_=Object(c.useMemo)((()=>s.filter((e=>e.texture))),[s]),I=Object(c.useCallback)((()=>l===At.COLORMATRIX?x:_),[l,x,_]),E=Object(c.useCallback)((e=>e&&e.length&&b&&b.length?b.findIndex((t=>t.effect.name===e)):-1),[b]),C=Object(c.useMemo)((()=>E(u)),[u,E]),v=Object(c.useMemo)((()=>u&&b[C]||null),[u,C,b]),N=Object(c.useCallback)((e=>{const t=C;-1!==t&&g((s=>{const n=[...s],r=n[t];return n[C]=new a.ug(r.effect,e),n}))}),[C,g]),T=Object(c.useMemo)((()=>h().applyEffects(t.texture,b,p).src),[t,b,p]),S=Object(c.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case\"close\":return void r();case\"cancel\":return void i();case\"checkout\":return void o(T);case\"change_tab\":return void d(String(t));case\"select_effect\":{if(E(t)>=0)return;const e=s.find((e=>e.name===t));if(!e)return;return g((t=>[...t,new a.ug(e,1)])),void j(e.name)}case\"remove_effect\":{let e=E(t);if(-1===e)return;return g((t=>{const s=[...t];return s.splice(e,1),s})),void(u===t&&j(null))}case\"clear_effects\":return j(null),void g([]);case\"download\":{const e=new Image;e.src=T;return void window.open(\"\").document.write(e.outerHTML)}case\"zoom\":return void f(!p)}}),[p,s,u,T,E,i,o,r,f,g]);return Object(c.useEffect)((()=>{const e=[];for(const n of s)e.push(new Lt(n.name,h().applyEffects(t.texture,[new a.ug(n,1)],!1).src));O(e)}),[t,s]),Object(an.jsxs)(yn,{className:\"nitro-camera-editor\",children:[Object(an.jsx)(vn,{headerText:We(\"camera.editor.button.text\"),onCloseClick:e=>S(\"close\")}),Object(an.jsx)(or,{children:Gi.map((e=>Object(an.jsx)(ar,{isActive:l===e,onClick:t=>S(\"change_tab\",e),children:Object(an.jsx)(\"i\",{className:\"icon icon-camera-\"+e})},e)))}),Object(an.jsx)(In,{children:Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:5,overflow:\"hidden\",children:Object(an.jsx)(Hi,{myLevel:n,selectedEffects:b,effects:I(),thumbnails:m,processAction:S})}),Object(an.jsxs)(Fn,{size:7,justifyContent:\"between\",overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{center:!0,children:[Object(an.jsx)(qn,{imageUrl:T,className:\"picture-preview\"}),u&&Object(an.jsxs)(Fn,{center:!0,fullWidth:!0,gap:1,children:[Object(an.jsx)(ur,{children:We(\"camera.effect.name.\"+u)}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:0,max:1,step:.01,value:v.alpha,onChange:e=>N(e),renderThumb:(e,t)=>Object(an.jsx)(\"div\",{...e,children:t.valueNow})})]})]}),Object(an.jsxs)(hn,{justifyContent:\"between\",children:[Object(an.jsxs)(gn,{children:[Object(an.jsx)(bn,{onClick:e=>S(\"clear_effects\"),children:Object(an.jsx)(fn.a,{icon:\"trash\"})}),Object(an.jsx)(bn,{onClick:e=>S(\"download\"),children:Object(an.jsx)(fn.a,{icon:\"save\"})}),Object(an.jsx)(bn,{onClick:e=>S(\"zoom\"),children:Object(an.jsx)(fn.a,{icon:p?\"search-minus\":\"search-plus\"})})]}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{onClick:e=>S(\"cancel\"),children:We(\"generic.cancel\")}),Object(an.jsx)(bn,{onClick:e=>S(\"checkout\"),children:We(\"camera.preview.button.text\")})]})]})]})]})})]})},Vi=e=>{const[t,s]=Object(c.useState)(0),[n,r]=Object(c.useState)(null),{availableEffects:i=[],selectedPictureIndex:o=-1,cameraRoll:d=[],setCameraRoll:u=null,myLevel:j=0,price:h={credits:0,duckets:0,publishDucketPrice:0}}=Er(),b=e=>{switch(e){case\"close\":return void s(0);case\"edit\":return void s(2);case\"delete\":return void u((e=>{const t=[...e];return t.splice(o,1),t}));case\"editor_cancel\":return void s(1)}},g=Object(c.useCallback)((e=>{r(e),s(3)}),[]);return Or(a.mh.ENDED,(e=>s(0))),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(1);case\"hide\":return void s(0);case\"toggle\":return void s((e=>e?0:1))}},eventUrlPrefix:\"camera/\"};return l(e),()=>E(e)}),[]),0===t?null:Object(an.jsxs)(an.Fragment,{children:[1===t&&Object(an.jsx)(Ui,{onClose:()=>b(\"close\"),onEdit:()=>b(\"edit\"),onDelete:()=>b(\"delete\")}),2===t&&Object(an.jsx)(Wi,{picture:d[o],myLevel:j,onClose:()=>b(\"close\"),onCancel:()=>b(\"editor_cancel\"),onCheckout:g,availableEffects:i}),3===t&&Object(an.jsx)(Mi,{base64Url:n,onCloseClick:()=>b(\"close\"),onCancelClick:()=>b(\"editor_cancel\"),price:h})]})},qi=e=>{const{itemId:t=-1,state:s=null,product:n=null,active:r=!1,onClick:c=null}=e;return Object(an.jsxs)(Fn,{fit:!0,center:!0,pointer:!0,className:\"campaign-spritesheet campaign-day-generic-bg rounded calendar-item \"+(r?\"active\":\"\"),onClick:()=>c(t),children:[s===Ut.STATE_UNLOCKED&&Object(an.jsx)(hn,{center:!0,className:\"campaign-spritesheet unlocked-bg\",children:Object(an.jsx)(hn,{center:!0,className:\"campaign-spritesheet campaign-opened\",children:n&&Object(an.jsx)(qn,{imageUrl:n.customImage?p(\"image.library.url\")+n.customImage:(e=>{let t=F().getFloorItemDataByName(e),s=null;return t?s=C().getFurnitureFloorIconUrl(t.id):(t=F().getWallItemDataByName(e),t&&(s=C().getFurnitureWallIconUrl(t.id))),s})(n.productName)})})}),s!==Ut.STATE_UNLOCKED&&Object(an.jsxs)(hn,{center:!0,className:\"campaign-spritesheet locked-bg\",children:[s===Ut.STATE_LOCKED_AVAILABLE&&Object(an.jsx)(on,{className:\"campaign-spritesheet available\"}),(s===Ut.STATE_LOCKED_EXPIRED||s===Ut.STATE_LOCKED_FUTURE)&&Object(an.jsx)(on,{className:\"campaign-spritesheet unavailable\"})]})]})},zi=e=>{const{onClose:t=null,campaignName:s=null,currentDay:n=null,numDays:r=null,missedDays:i=null,openedDays:a=null,openPackage:o=null,receivedProducts:l=null}=e,[d,u]=Object(c.useState)(n),[j,h]=Object(c.useState)(Math.max(0,d-1)),b=e=>a.includes(e)?Ut.STATE_UNLOCKED:e>n?Ut.STATE_LOCKED_FUTURE:i.includes(e)?Ut.STATE_LOCKED_EXPIRED:Ut.STATE_LOCKED_AVAILABLE,g=e=>{if(d!==e)u(e);else{b(e)===Ut.STATE_LOCKED_AVAILABLE&&o(e,!1)}};return Object(an.jsxs)(yn,{className:\"nitro-campaign-calendar\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(`campaign.calendar.${s}.title`),onCloseClick:t}),Object(an.jsxs)(In,{children:[Object(an.jsxs)(un,{fullHeight:!1,justifyContent:\"between\",alignItems:\"center\",children:[Object(an.jsx)(Fn,{size:1}),Object(an.jsx)(Fn,{size:10,children:Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",gap:1,children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontSize:3,children:We(\"campaign.calendar.heading.day\",[\"number\"],[(d+1).toString()])}),Object(an.jsx)(ur,{children:(e=>{switch(b(e)){case Ut.STATE_UNLOCKED:return We(\"campaign.calendar.info.unlocked\");case Ut.STATE_LOCKED_FUTURE:return We(\"campaign.calendar.info.future\");case Ut.STATE_LOCKED_EXPIRED:return We(\"campaign.calendar.info.expired\");default:return We(\"campaign.calendar.info.available.desktop\")}})(d)})]}),Object(an.jsx)(\"div\",{children:F().isModerator&&Object(an.jsx)(bn,{variant:\"danger\",onClick:()=>{const e=d;b(e)!==Ut.STATE_UNLOCKED&&o(e,!0)},children:\"Force open\"})})]})}),Object(an.jsx)(Fn,{size:1})]}),Object(an.jsxs)(hn,{fullHeight:!0,gap:2,children:[Object(an.jsx)(hn,{center:!0,children:Object(an.jsx)(on,{pointer:!0,className:\"campaign-spritesheet prev\",onClick:()=>{const e=d-1;e<0||(u(e),j>e&&h(j-1))}})}),Object(an.jsx)(Fn,{center:!0,fullWidth:!0,children:Object(an.jsx)(un,{fit:!0,columnCount:5,gap:1,children:[...Array(5)].map(((e,t)=>{const s=j+t;return Object(an.jsx)(Fn,{overflow:\"hidden\",children:Object(an.jsx)(qi,{itemId:s,state:b(s),active:d===s,product:l.has(s)?l.get(s):null,onClick:g})},t)}))})}),Object(an.jsx)(hn,{center:!0,children:Object(an.jsx)(on,{pointer:!0,className:\"campaign-spritesheet next\",onClick:()=>{const e=d+1;e!==r&&(u(e),j+5<e+1&&h(j+1))}})})]})]})]})},Yi=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(-1),[i,o]=Object(c.useState)(new Map),[d,u]=Object(c.useState)(!1);pr(a.Y,(e=>{const t=e.getParser();t&&s(t.calendarData)})),pr(a.Z,(e=>{const t=e.getParser();if(!t)return;const c=n;t.doorOpened&&(s((e=>{const t=e.clone();return t.openedDays.push(n),t})),o((e=>{const s=new Map(e);return s.set(c,new Pt(t.productName,t.customImage,t.furnitureClassName)),s}))),r(-1)}));const j=Object(c.useCallback)((function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(r(e),Ee(s?new a.yf(t.campaignName,e):new a.zf(t.campaignName,e)))}),[t]),h=Object(c.useCallback)((()=>{u(!1)}),[]);return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2)&&\"calendar\"===t[1])u(!0)},eventUrlPrefix:\"openView/\"};return l(e),()=>E(e)}),[]),Object(an.jsx)(an.Fragment,{children:t&&d&&Object(an.jsx)(zi,{onClose:h,campaignName:t.campaignName,currentDay:t.currentDay,numDays:t.campaignDays,openedDays:t.openedDays,missedDays:t.missedDays,openPackage:j,receivedProducts:i})})},$i=e=>{const{icon:t=0}=e,s=Object(c.useMemo)((()=>p(\"catalog.asset.icon.url\").replace(\"%name%\",t.toString())),[t]);return Object(an.jsx)(qn,{imageUrl:s,style:{width:20,height:20}})};var Ki=s(22),Xi=s.n(Ki);const Qi=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(0),[i,o]=Object(c.useState)(0),[l,d]=Object(c.useState)(\"\"),[u,j]=Object(c.useState)(\"\"),[h,b]=Object(c.useState)(!0),[g,m]=Object(c.useState)(\"\"),[O,p]=Object(c.useState)([]),[f,x]=Object(c.useState)(0),[_,I]=Object(c.useState)(0),[E,C]=Object(c.useState)(0),[v,N]=Object(c.useState)(0),[T,S]=Object(c.useState)(0),[w,R]=Object(c.useState)(!1),{catalogOptions:y=null}=$r(),{giftConfiguration:k=null}=y,A=Object(c.useCallback)((()=>{s(!1),r(0),o(0),d(\"\"),j(\"\"),b(!0),m(\"\"),x(0),I(0),O.length&&C(O[0].id)}),[O]),D=Object(c.useCallback)((e=>{switch(e.type){case Tr.PURCHASE_SUCCESS:return void A();case Cr.INIT_GIFT:const t=e;return A(),r(t.pageId),o(t.offerId),d(t.extraData),void s(!0)}}),[A]);fr(Tr.PURCHASE_SUCCESS,D),fr(Cr.INIT_GIFT,D);const L=Object(c.useMemo)((()=>!k||k.defaultStuffTypes.findIndex((e=>e===k.boxTypes[f]))>-1),[k,f]),P=Object(c.useMemo)((()=>k?(1e3*k.boxTypes[f]+k.ribbonTypes[_]).toString():\"\"),[k,f,_]),U=Object(c.useMemo)((()=>{if(!k)return!1;const e=k.boxTypes[f];return!(8===e||e>=3&&e<=6)}),[k,f]),M=Object(c.useCallback)((e=>{switch(e){case\"prev_box\":return void x((e=>0===e?v:e-1));case\"next_box\":return void x((e=>e===v?0:e+1));case\"prev_ribbon\":return void I((e=>0===e?T:e-1));case\"next_ribbon\":return void I((e=>e===T?0:e+1));case\"buy\":return u&&0!==u.length?void Ee(new a.Sf(n,i,l,u,g,E,f,_,h)):void R(!0)}}),[l,v,T,g,i,n,u,f,E,_,h]);if(pr(a.Xc,(e=>R(!0))),Object(c.useEffect)((()=>{R(!1)}),[u]),Object(c.useEffect)((()=>{if(!k)return;const e=[];for(const t of k.stuffTypes){const s=F().getFloorItemData(t);s&&(s.colors&&s.colors.length>0&&e.push({id:t,color:`#${s.colors[0].toString(16)}`}))}N(k.boxTypes.length-1),S(k.ribbonTypes.length-1),e.length&&(C(e[0].id),p(e))}),[k]),!k||!k.isEnabled||!t)return null;const B=\"catalog.gift_wrapping_new.box.\"+(L?\"default\":f),H=`catalog.gift_wrapping_new.ribbon.${_}`,G=\"catalog.gift_wrapping_new.\"+(L?\"freeprice\":\"price\");return Object(an.jsxs)(yn,{uniqueKey:\"catalog-gift\",className:\"nitro-catalog-gift\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"catalog.gift_wrapping.title\"),onCloseClick:A}),Object(an.jsxs)(In,{className:\"text-black\",children:[Object(an.jsxs)(lr,{column:!0,children:[Object(an.jsx)(ur,{children:We(\"catalog.gift_wrapping.receiver\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\"+Xi()({\" is-invalid\":w}),value:u,onChange:e=>j(e.target.value)}),w&&Object(an.jsx)(on,{className:\"invalid-feedback\",children:We(\"catalog.gift_wrapping.receiver_not_found.title\")})]}),Object(an.jsx)(Mn,{figure:F().figure,userName:F().userName,message:g,editable:!0,onChange:e=>m(e)}),Object(an.jsxs)(on,{className:\"form-check\",children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"showMyFace\",checked:h,onChange:e=>b((e=>!e))}),Object(an.jsx)(\"label\",{className:\"form-check-label\",children:We(\"catalog.gift_wrapping.show_face.title\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[E&&Object(an.jsx)(on,{className:\"gift-preview\",children:Object(an.jsx)(Un,{productType:X.FLOOR,productClassId:E,extraData:P})}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsxs)(gn,{children:[Object(an.jsx)(bn,{variant:\"primary\",onClick:()=>M(\"prev_box\"),children:Object(an.jsx)(fn.a,{icon:\"chevron-left\"})}),Object(an.jsx)(bn,{variant:\"primary\",onClick:()=>M(\"next_box\"),children:Object(an.jsx)(fn.a,{icon:\"chevron-right\"})})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontWeight:\"bold\",children:We(B)}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[We(G,[\"price\"],[k.price.toString()]),Object(an.jsx)(Pn,{type:-1})]})]})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsxs)(gn,{children:[Object(an.jsx)(bn,{variant:\"primary\",onClick:()=>M(\"prev_ribbon\"),children:Object(an.jsx)(fn.a,{icon:\"chevron-left\"})}),Object(an.jsx)(bn,{variant:\"primary\",onClick:()=>M(\"next_ribbon\"),children:Object(an.jsx)(fn.a,{icon:\"chevron-right\"})})]}),Object(an.jsx)(ur,{fontWeight:\"bold\",children:We(H)})]})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontWeight:\"bold\",children:We(\"catalog.gift_wrapping.pick_color\")}),Object(an.jsx)(gn,{fullWidth:!0,children:O.map((e=>Object(an.jsx)(bn,{variant:\"dark\",active:e.id===E,disabled:!U,style:{backgroundColor:e.color},onClick:()=>C(e.id)},e.id)))})]}),Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",children:[Object(an.jsx)(bn,{variant:\"link\",onClick:A,className:\"text-black\",children:We(\"cancel\")}),Object(an.jsx)(bn,{variant:\"success\",onClick:()=>M(\"buy\"),children:We(\"catalog.gift_wrapping.give_gift\")})]})]})]})},Ji=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(!1),{currentType:i=null,rootNode:a=null,offersToNodes:o=null,searchResult:l=null,setSearchResult:d=null,setCurrentPage:u=null}=$r(),j=e=>{e&&e.length?(s(e),r(!0)):(s(\"\"),l&&d(null))},h=Object(c.useCallback)((e=>{if(r(!1),!(e=e.toLocaleLowerCase().replace(\" \",\"\"))||!e.length)return;const t=F().getAllFurnitureData({loadFurnitureData:null});if(!t||!t.length)return;const s=[],n=[];for(const r of t){if(i===Y.BUILDER&&!r.availableForBuildersClub)continue;if(i===Y.NORMAL&&r.excludeDynamic)continue;const t=[r.className,r.name,r.description].join(\" \").replace(/ /gi,\"\").toLowerCase();if(i===Y.BUILDER&&-1===r.purchaseOfferId&&-1===r.rentOfferId)\"\"!==r.furniLine&&n.indexOf(r.furniLine)<0&&t.indexOf(e)>=0&&n.push(r.furniLine);else{if([...$(o,r.purchaseOfferId),...$(o,r.rentOfferId)].length&&(t.indexOf(e)>=0&&s.push(r),250===s.length))break}}const c=[];for(const r of s)c.push(new Z(r));let l=[];K(e,n,a,l),u(new W(-1,\"default_3x3\",new ce([],[]),c,!1,1)),d(new oe(e,c,l.filter((e=>e.isVisible))))}),[o,i,a,u,d]);return Object(c.useEffect)((()=>{if(!n)return;const e=setTimeout((()=>h(t)),300);return()=>clearTimeout(e)}),[t,n,h]),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(hn,{fullWidth:!0,alignItems:\"center\",position:\"relative\",children:Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:We(\"generic.search\"),value:t,onChange:e=>j(e.target.value),onKeyDown:e=>(\"Enter\"===e.code||\"NumpadEnter\"===e.code)&&h(t)})}),(!t||!t.length)&&Object(an.jsx)(bn,{variant:\"primary\",className:\"catalog-search-button\",children:Object(an.jsx)(fn.a,{icon:\"search\"})}),t&&!!t.length&&Object(an.jsx)(bn,{variant:\"primary\",className:\"catalog-search-button\",onClick:e=>j(\"\"),children:Object(an.jsx)(fn.a,{icon:\"times\"})})]})},Zi=e=>{const{node:t=null,child:s=!1}=e;return Object(an.jsx)(an.Fragment,{children:t&&t.children.length>0&&t.children.map(((e,t)=>e.isVisible?Object(an.jsx)(ea,{node:e,child:s},t):null))})},ea=e=>{const{node:t=null,child:s=!1}=e,{activateNode:n=null}=$r();return Object(an.jsxs)(on,{className:\"nitro-catalog-navigation-section\",children:[Object(an.jsxs)(Vn,{gap:1,column:!1,itemActive:t.isActive,onClick:e=>n(t),className:s?\"inset\":\"\",children:[Object(an.jsx)($i,{icon:t.iconId}),Object(an.jsx)(ur,{grow:!0,truncate:!0,children:t.localization}),t.isBranch&&Object(an.jsx)(fn.a,{icon:t.isOpen?\"caret-up\":\"caret-down\"})]}),t.isOpen&&t.isBranch&&Object(an.jsx)(Zi,{node:t,child:!0})]})},ta=e=>{const{node:t=null}=e,{searchResult:s=null}=$r();return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Ji,{}),Object(an.jsx)(Fn,{fullHeight:!0,className:\"nitro-catalog-navigation-grid-container rounded p-1\",overflow:\"hidden\",children:Object(an.jsxs)(jn,{id:\"nitro-catalog-main-navigation\",gap:1,columnCount:1,children:[s&&s.filteredNodes.length>0&&s.filteredNodes.map(((e,t)=>Object(an.jsx)(ea,{node:e},t))),!s&&Object(an.jsx)(Zi,{node:t})]})})]})},sa=e=>{const{columnCount:t=5,...s}=e,[n,r]=Object(c.useState)(!1),[i,o]=Object(c.useState)(null),{currentOffer:l=null,setPurchaseOptions:d=null}=$r(),{badgeCodes:u=[],activate:j=null,deactivate:h=null}=uc(),b=Object(c.useMemo)((()=>{if(!i)return null;const e=new a.di;return e.setValue([\"0\",i,\"\",\"\"]),e}),[i]);return Object(c.useEffect)((()=>{l&&d((e=>{const t={...e};return t.extraParamRequired=!0,t.extraData=b&&b.getValue(1)||null,t.previewStuffData=b,t}))}),[l,b,d]),Object(c.useEffect)((()=>{if(!n)return;const e=j();return()=>h(e)}),[n,j,h]),Object(c.useEffect)((()=>(r(!0),()=>r(!1))),[]),Object(an.jsx)(jn,{columnCount:t,...s,children:u&&u.length>0&&u.map(((e,t)=>Object(an.jsx)(Vn,{itemActive:i===e,onClick:t=>o(e),children:Object(an.jsx)(Dn,{badgeCode:e})},t)))})},na=e=>{const{currentPage:t=null,setCurrentOffer:s=null}=$r();return Object(c.useEffect)((()=>{t&&t.offers.length&&s(t.offers[0])}),[t,s]),null},ra=e=>{const{offer:t=null,selectOffer:s=null,itemActive:n=!1,...r}=e,[i,o]=Object(c.useState)(!1),{requestOfferToMover:l=null}=$r(),{isVisible:d=!1}=mc(),u=Object(c.useMemo)((()=>t.pricingModel===J.PRICING_MODEL_BUNDLE?null:t.product.getIconUrl(t)),[t]),j=e=>{switch(e.type){case a.Ve.MOUSE_DOWN:return s(t),void o(!0);case a.Ve.MOUSE_UP:return void o(!1);case a.Ve.ROLL_OUT:if(!i||!n||!d)return;return void l(t)}},h=t.product;return h?Object(an.jsx)(Vn,{itemImage:u,itemCount:t.pricingModel===J.PRICING_MODEL_MULTI?h.productCount:1,itemUniqueSoldout:h.uniqueLimitedItemSeriesSize&&!h.uniqueLimitedItemsLeft,itemUniqueNumber:h.uniqueLimitedItemSeriesSize,itemActive:n,onMouseDown:j,onMouseUp:j,onMouseOut:j,...r,children:t.product.productType===X.ROBOT&&Object(an.jsx)(kn,{figure:t.product.extraParam,headOnly:!0,direction:3})}):null},ca=e=>{const{columnCount:t=5,children:s=null,...n}=e,{currentOffer:r=null,setCurrentOffer:i=null,currentPage:a=null,setPurchaseOptions:o=null}=$r(),l=Object(c.useRef)();if(Object(c.useEffect)((()=>{l&&l.current&&(l.current.scrollTop=0)}),[a]),!a)return null;const d=e=>{e.activate(),e.isLazy||(i(e),e.product&&e.product.productType===X.WALL&&o((t=>{const s={...t};return s.extraData=e.product.extraParam||null,s})))};return Object(an.jsxs)(jn,{innerRef:l,columnCount:t,...n,children:[a.offers&&a.offers.length>0&&a.offers.map(((e,t)=>Object(an.jsx)(ra,{itemActive:r&&r.offerId===e.offerId,offer:e,selectOffer:d},t))),s]})},ia=e=>{const{children:t=null,...s}=e,{currentOffer:n=null}=$r();return n&&n.pricingModel===J.PRICING_MODEL_SINGLE&&n.product.isUniqueLimitedItem?Object(an.jsxs)(on,{...s,children:[Object(an.jsx)(Wn,{className:\"mx-auto\",uniqueLimitedItemsLeft:n.product.uniqueLimitedItemsLeft,uniqueLimitedSeriesSize:n.product.uniqueLimitedItemSeriesSize}),t]}):null},aa=e=>{const{noGiftOption:t=!1,purchaseCallback:s=null}=e,[n,r]=Object(c.useState)(!1),[i,o]=Object(c.useState)(z.NONE),[l,d]=Gr(Ve.CATALOG_SKIP_PURCHASE_CONFIRMATION,!1),{currentOffer:u=null,currentPage:j=null,purchaseOptions:h=null,setPurchaseOptions:b=null}=$r(),{getCurrencyAmount:g=null}=Tc(),O=Object(c.useCallback)((e=>{switch(e.type){case Tr.PURCHASE_SUCCESS:return void o(z.NONE);case Sr.PURCHASE_FAILED:case wr.NOT_ALLOWED:return void o(z.FAILED);case yr.SOLD_OUT:return void o(z.SOLD_OUT)}}),[]);fr(Tr.PURCHASE_SUCCESS,O),fr(Sr.PURCHASE_FAILED,O),fr(wr.NOT_ALLOWED,O),fr(yr.SOLD_OUT,O);const p=Object(c.useMemo)((()=>{if(!u)return!1;if(h.extraParamRequired&&(!h.extraData||!h.extraData.length))return!1;if(u.pricingModel===J.PRICING_MODEL_SINGLE){const e=u.product;if(e&&e.isUniqueLimitedItem)return!e.uniqueLimitedItemsLeft}return!1}),[u,h]),f=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!u)return;if(B()<u.clubLevel)return void m(\"habboUI/open/hccenter\");if(e)return void $e(new vr(u.page.pageId,u.offerId,h.extraData));if(o(z.PURCHASE),s)return void s();let t=u.page.pageId;Ee(new a.Tf(t,u.offerId,h.extraData,h.quantity))};if(Object(c.useEffect)((()=>{u&&o(z.NONE)}),[u,b]),Object(c.useEffect)((()=>{let e=null;return i!==z.CONFIRM&&i!==z.FAILED||(e=setTimeout((()=>o(z.NONE)),3e3)),()=>{e&&clearTimeout(e)}}),[i]),!u)return null;const x=()=>{const e=u.priceInCredits*h.quantity,t=u.priceInActivityPoints*h.quantity;if(B()<u.clubLevel)return Object(an.jsx)(bn,{variant:\"danger\",disabled:!0,children:We(\"catalog.alert.hc.required\")});if(p)return Object(an.jsx)(bn,{variant:\"danger\",disabled:!0,children:We(\"catalog.alert.limited_edition_sold_out.title\")});if(e>g(-1))return Object(an.jsx)(bn,{variant:\"danger\",disabled:!0,children:We(\"catalog.alert.notenough.title\")});if(t>g(u.activityPointType))return Object(an.jsx)(bn,{variant:\"danger\",disabled:!0,children:We(\"catalog.alert.notenough.activitypoints.title.\"+u.activityPointType)});switch(i){case z.CONFIRM:return Object(an.jsx)(bn,{variant:\"warning\",onClick:e=>f(),children:We(\"catalog.marketplace.confirm_title\")});case z.PURCHASE:return Object(an.jsx)(bn,{disabled:!0,children:Object(an.jsx)(zn,{})});case z.FAILED:return Object(an.jsx)(bn,{variant:\"danger\",children:We(\"generic.failed\")});case z.SOLD_OUT:return Object(an.jsx)(bn,{variant:\"danger\",children:We(\"generic.failed\")+\" - \"+We(\"catalog.alert.limited_edition_sold_out.title\")});case z.NONE:default:return Object(an.jsx)(bn,{disabled:h.extraParamRequired&&(!h.extraData||!h.extraData.length),onClick:e=>o(z.CONFIRM),children:We(\"catalog.purchase_confirmation.\"+(u.isRentOffer?\"rent\":\"buy\"))})}};return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(x,{}),!t&&!u.isRentOffer&&Object(an.jsx)(bn,{disabled:h.quantity>1||!u.giftable||p||h.extraParamRequired&&(!h.extraData||!h.extraData.length),onClick:e=>f(!0),children:We(\"catalog.purchase_confirmation.gift\")})]})},oa=e=>{const{offer:t=null,separator:s=!1}=e,{purchaseOptions:n=null}=$r(),{quantity:r=1}=n;return t?Object(an.jsxs)(an.Fragment,{children:[t.priceInCredits>0&&Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:t.priceInCredits*r}),Object(an.jsx)(Pn,{type:-1})]}),s&&t.priceInCredits>0&&t.priceInActivityPoints>0&&Object(an.jsx)(fn.a,{size:\"xs\",color:\"black\",icon:\"plus\"}),t.priceInActivityPoints>0&&Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:t.priceInActivityPoints*r}),Object(an.jsx)(Pn,{type:t.activityPointType})]})]}):null},la=e=>{const{gap:t=1,...s}=e,{currentOffer:n=null}=$r();return Object(an.jsx)(Fn,{gap:t,...s,children:Object(an.jsx)(oa,{offer:n})})},da=e=>{const{currentOffer:t=null,roomPreviewer:s=null,purchaseOptions:n=null}=$r(),{previewStuffData:r=null}=n;return Object(c.useEffect)((()=>{if(!t||t.pricingModel===J.PRICING_MODEL_BUNDLE||!s)return;const e=t.product;if(e)switch(s.reset(!1),e.productType){case X.FLOOR:if(!e.furnitureData)return;if(e.furnitureData.specialType===Je.FIGURE_PURCHASABLE_SET){const t=F().getFloorItemData(e.furnitureData.id).customParams.split(\",\").map((e=>parseInt(e))),n=[];for(const e of t)d().isValidFigureSetForGender(e,F().gender)&&n.push(e);const r=d().getFigureStringWithFigureIds(F().figure,F().gender,n);s.addAvatarIntoRoom(r,e.productClassId)}else s.addFurnitureIntoRoom(e.productClassId,new a.kj(90),r,e.extraParam);return;case X.WALL:if(!e.furnitureData)return;switch(e.furnitureData.specialType){case Je.FLOOR:return void s.updateObjectRoom(e.extraParam);case Je.WALL_PAPER:return void s.updateObjectRoom(null,e.extraParam);case Je.LANDSCAPE:{s.updateObjectRoom(null,null,e.extraParam);const t=F().getWallItemDataByName(\"ads_twi_windw\");return void(t&&s.addWallItemIntoRoom(t.id,new a.kj(90),t.customParams))}default:return s.updateObjectRoom(\"default\",\"default\",\"default\"),void s.addWallItemIntoRoom(e.productClassId,new a.kj(90),e.extraParam)}case X.ROBOT:return void s.addAvatarIntoRoom(e.extraParam,0);case X.EFFECT:return void s.addAvatarIntoRoom(F().figure,e.productClassId)}}),[t,r,s]),t?t.pricingModel===J.PRICING_MODEL_BUNDLE?Object(an.jsx)(Fn,{fit:!0,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:Object(an.jsx)(jn,{fullWidth:!0,columnCount:4,className:\"nitro-catalog-layout-bundle-grid\",children:t.products.length>0&&t.products.map(((e,s)=>Object(an.jsx)(Vn,{itemImage:e.getIconUrl(t),itemCount:e.productCount},s)))})}):Object(an.jsx)(nr,{roomPreviewer:s,height:140}):null},ua=e=>{const{page:t=null}=e,{currentOffer:s=null}=$r();return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(na,{}),Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:7,overflow:\"hidden\",children:[Object(an.jsx)(ca,{shrink:!0}),Object(an.jsxs)(Fn,{gap:1,overflow:\"hidden\",children:[Object(an.jsx)(ur,{truncate:!0,shrink:!0,fontWeight:\"bold\",children:We(\"catalog_selectbadge\")}),Object(an.jsx)(sa,{})]})]}),Object(an.jsxs)(Fn,{center:!s,size:5,overflow:\"hidden\",children:[!s&&Object(an.jsxs)(an.Fragment,{children:[!!t.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",src:t.localization.getImage(1)}),Object(an.jsx)(ur,{center:!0,dangerouslySetInnerHTML:{__html:t.localization.getText(0)}})]}),s&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(on,{position:\"relative\",overflow:\"hidden\",children:[Object(an.jsx)(da,{}),Object(an.jsx)(ia,{fullWidth:!0,position:\"absolute\",className:\"top-1\"})]}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{grow:!0,truncate:!0,children:s.localizationName}),Object(an.jsx)(hn,{justifyContent:\"end\",children:Object(an.jsx)(la,{alignItems:\"end\"})}),Object(an.jsx)(aa,{})]})]})]})]})]})},ja=e=>{const{...t}=e,{currentOffer:s=null}=$r();return s&&s.badgeCode&&s.badgeCode.length?Object(an.jsx)(Dn,{badgeCode:s.badgeCode,...t}):null},ha=e=>{const{currentOffer:t=null,purchaseOptions:s=null,setPurchaseOptions:n=null}=$r(),{quantity:r=1}=s,c=e=>{isNaN(e)&&(e=1),e=Math.max(e,1),(e=Math.min(e,100))!==r&&n((t=>{const s={...t};return s.quantity=e,s}))};return t&&t.bundlePurchaseAllowed?Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"catalog.bundlewidget.spinner.select.amount\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(fn.a,{icon:\"caret-left\",className:\"text-black cursor-pointer\",onClick:e=>c(r-1)}),Object(an.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:r,onChange:e=>c(e.target.valueAsNumber)}),Object(an.jsx)(fn.a,{icon:\"caret-right\",className:\"text-black cursor-pointer\",onClick:e=>c(r+1)})]})]}):null},ba=e=>{const{page:t=null}=e,[s,n]=Object(c.useState)(new Map),{currentOffer:r=null,setCurrentOffer:i=null}=$r(),[o,l]=Object(c.useState)(!1),d=(e,t)=>e.product.furnitureData.colorIndex&&t.product.furnitureData.colorIndex?e.product.furnitureData.colorIndex>t.product.furnitureData.colorIndex?1:e==t?0:-1:1,u=(e,t)=>e.product.furnitureData.className>t.product.furnitureData.className?1:e==t?0:-1,j=e=>{e.activate(),i(e)},h=Object(c.useMemo)((()=>{const e=[],s=new Map,r=new Map;t.offers.sort(d);let c=0;return t.offers.forEach((t=>{if(!t.product)return;const n=t.product.furnitureData;if(n&&n.hasIndexedColor){const i=n.className,a=n.colorIndex;if(r.has(i)||r.set(i,[]),n.colors){for(let e of n.colors)16777215!==e&&(c=e);-1===r.get(i).indexOf(c)&&(r.get(i)[a]=c)}s.has(i)||(e.push(t),s.set(i,!0))}else e.push(t)})),e.sort(u),n(r),e}),[t.offers]);return Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:7,overflow:\"hidden\",children:Object(an.jsxs)(jn,{columnCount:5,children:[(!o||!r||!s.has(r.product.furnitureData.className))&&h.map(((e,t)=>Object(an.jsx)(ra,{itemActive:r&&(r.product.furnitureData.hasIndexedColor?r.product.furnitureData.className===e.product.furnitureData.className:r.offerId===e.offerId),offer:e,selectOffer:j},t))),o&&r&&s.has(r.product.furnitureData.className)&&s.get(r.product.furnitureData.className).map(((e,s)=>Object(an.jsx)(Vn,{itemHighlight:!0,itemActive:r.product.furnitureData.colorIndex===s,itemColor:a.sb.int2rgb(e),className:\"clear-bg\",onClick:e=>((e,s)=>{const n=`${s}*${e}`,r=t.offers.findIndex((e=>e.product.furnitureData.fullName===n));r>-1&&j(t.offers[r])})(s,r.product.furnitureData.className)},s)))]})}),Object(an.jsxs)(Fn,{center:!r,size:5,overflow:\"hidden\",children:[!r&&Object(an.jsxs)(an.Fragment,{children:[!!t.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",src:t.localization.getImage(1)}),Object(an.jsx)(ur,{center:!0,dangerouslySetInnerHTML:{__html:t.localization.getText(0)}})]}),r&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(on,{position:\"relative\",overflow:\"hidden\",children:[Object(an.jsx)(da,{}),Object(an.jsx)(ia,{fullWidth:!0,position:\"absolute\",className:\"top-1\"}),Object(an.jsx)(ja,{position:\"absolute\",className:\"bg-muted rounded bottom-1 end-1\"}),r.product.furnitureData.hasIndexedColor&&Object(an.jsx)(bn,{position:\"absolute\",className:\"bottom-1 start-1\",onClick:e=>l((e=>!e)),children:Object(an.jsx)(fn.a,{icon:\"fill-drip\"})})]}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{grow:!0,truncate:!0,children:r.localizationName}),Object(an.jsxs)(hn,{justifyContent:\"between\",children:[Object(an.jsx)(Fn,{gap:1,children:Object(an.jsx)(ha,{})}),Object(an.jsx)(la,{justifyContent:\"end\",alignItems:\"end\"})]}),Object(an.jsx)(aa,{})]})]})]})]})},ga=e=>{const{imageUrl:t=null}=e,[s,n]=Object(c.useState)(\"\");return Object(c.useEffect)((()=>{n(null!==t&&void 0!==t?t:p(\"catalog.asset.image.url\").replace(\"%name%\",\"catalog_header_roombuilder\"))}),[t]),Object(an.jsx)(hn,{center:!0,fullWidth:!0,className:\"nitro-catalog-header\",children:Object(an.jsx)(\"img\",{src:s,onError:e=>{let{currentTarget:t}=e;t.src=p(\"catalog.asset.image.url\").replace(\"%name%\",\"catalog_header_roombuilder\")}})})},ma=e=>{const{page:t=null}=e,{currentOffer:s=null,currentPage:n=null}=$r();return Object(an.jsx)(an.Fragment,{children:Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:7,overflow:\"hidden\",children:[p(\"catalog.headers\")&&Object(an.jsx)(ga,{imageUrl:n.localization.getImage(0)}),Object(an.jsx)(ca,{})]}),Object(an.jsxs)(Fn,{center:!s,size:5,overflow:\"hidden\",children:[!s&&Object(an.jsxs)(an.Fragment,{children:[!!t.localization.getImage(1)&&Object(an.jsx)(qn,{imageUrl:t.localization.getImage(1)}),Object(an.jsx)(ur,{center:!0,dangerouslySetInnerHTML:{__html:t.localization.getText(0)}})]}),s&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(hn,{center:!0,overflow:\"hidden\",style:{height:140},children:[s.product.productType!==X.BADGE&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(da,{}),Object(an.jsx)(ia,{fullWidth:!0,position:\"absolute\",className:\"top-1\"}),Object(an.jsx)(ja,{className:\"bg-muted rounded bottom-1 end-1\"})]}),s.product.productType===X.BADGE&&Object(an.jsx)(ja,{className:\"scale-2\"})]}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{grow:!0,truncate:!0,children:s.localizationName}),Object(an.jsxs)(hn,{justifyContent:\"between\",children:[Object(an.jsx)(Fn,{gap:1,children:Object(an.jsx)(ha,{})}),Object(an.jsx)(la,{justifyContent:\"end\",alignItems:\"end\"})]}),Object(an.jsx)(aa,{})]})]})]})]})})},Oa=e=>{const{...t}=e,{currentOffer:s=null,purchaseOptions:n=null}=$r(),{previewStuffData:r=null}=n,i=Object(c.useMemo)((()=>{if(!s||!r)return null;const e=r.getValue(2);return e&&e.length?e:null}),[s,r]);return i?Object(an.jsx)(Dn,{badgeCode:i,isGroup:!0,...t}):null},pa=e=>{const[t,s]=Object(c.useState)(0),{currentOffer:n=null,catalogOptions:r=null,setPurchaseOptions:i=null}=$r(),{groups:o=null}=r,l=Object(c.useMemo)((()=>{if(!o||!o.length)return null;const e=o[t];if(!e)return null;const s=new a.di;return s.setValue([\"0\",e.groupId.toString(),e.badgeCode,e.colorA,e.colorB]),s}),[t,o]);if(Object(c.useEffect)((()=>{n&&i((e=>{const t={...e};return t.extraParamRequired=!0,t.extraData=l&&l.getValue(1)||null,t.previewStuffData=l,t}))}),[n,l,i]),Object(c.useEffect)((()=>{Ee(new a.db)}),[]),!o||!o.length)return Object(an.jsxs)(on,{className:\"bg-muted rounded p-1 text-black text-center\",children:[We(\"catalog.guild_selector.members_only\"),Object(an.jsx)(bn,{className:\"mt-1\",children:We(\"catalog.guild_selector.find_groups\")})]});const d=o[t];return Object(an.jsxs)(hn,{gap:1,children:[!!d&&Object(an.jsxs)(hn,{overflow:\"hidden\",className:\"rounded border\",children:[Object(an.jsx)(on,{fullHeight:!0,style:{width:\"20px\",backgroundColor:\"#\"+d.colorA}}),Object(an.jsx)(on,{fullHeight:!0,style:{width:\"20px\",backgroundColor:\"#\"+d.colorB}})]}),Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",value:t,onChange:e=>s(parseInt(e.target.value)),children:o.map(((e,t)=>Object(an.jsx)(\"option\",{value:t,children:e.groupName},t)))})]})},fa=e=>{const{page:t=null}=e,{currentOffer:s=null}=$r();return Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:7,overflow:\"hidden\",children:Object(an.jsx)(ca,{})}),Object(an.jsxs)(Fn,{center:!s,size:5,overflow:\"hidden\",children:[!s&&Object(an.jsxs)(an.Fragment,{children:[!!t.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",src:t.localization.getImage(1)}),Object(an.jsx)(ur,{center:!0,dangerouslySetInnerHTML:{__html:t.localization.getText(0)}})]}),s&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(on,{position:\"relative\",overflow:\"hidden\",children:[Object(an.jsx)(da,{}),Object(an.jsx)(Oa,{position:\"absolute\",className:\"bottom-1 end-1\"})]}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{truncate:!0,children:s.localizationName}),Object(an.jsx)(on,{grow:!0,children:Object(an.jsx)(pa,{})}),Object(an.jsx)(hn,{justifyContent:\"end\",children:Object(an.jsx)(la,{alignItems:\"end\"})}),Object(an.jsx)(aa,{})]})]})]})]})},xa=e=>{const{page:t=null}=e,[s,n]=Object(c.useState)(0),{currentOffer:r=null,setCurrentOffer:i=null,catalogOptions:o=null}=$r(),{groups:l=null}=o;return Object(c.useEffect)((()=>{Ee(new a.db)}),[t]),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(na,{}),Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{className:\"bg-muted rounded p-2 text-black\",size:7,overflow:\"hidden\",children:Object(an.jsx)(on,{className:\"overflow-auto\",dangerouslySetInnerHTML:{__html:t.localization.getText(1)}})}),Object(an.jsx)(Fn,{size:5,overflow:\"hidden\",gap:1,children:!!r&&Object(an.jsx)(an.Fragment,{children:Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{truncate:!0,children:r.localizationName}),Object(an.jsx)(on,{grow:!0,children:Object(an.jsx)(pa,{})}),Object(an.jsx)(hn,{justifyContent:\"end\",children:Object(an.jsx)(la,{alignItems:\"end\"})}),Object(an.jsx)(aa,{noGiftOption:!0})]})})})]})]})},_a=e=>{const{page:t=null}=e;return Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:7,overflow:\"hidden\",className:\"bg-muted rounded p-2 text-black\",children:[Object(an.jsx)(on,{dangerouslySetInnerHTML:{__html:t.localization.getText(2)}}),Object(an.jsx)(on,{overflow:\"auto\",dangerouslySetInnerHTML:{__html:t.localization.getText(0)}}),Object(an.jsx)(on,{dangerouslySetInnerHTML:{__html:t.localization.getText(1)}})]}),Object(an.jsxs)(Fn,{center:!0,size:5,overflow:\"hidden\",children:[Object(an.jsx)(qn,{imageUrl:t.localization.getImage(1)}),Object(an.jsx)(bn,{onClick:()=>m(\"groups/create\"),children:We(\"catalog.start.guild.purchase.button\")})]})]})},Ia=e=>{const{page:t=null}=e;return Object(an.jsx)(\"div\",{className:\"h-100 nitro-catalog-layout-info-loyalty text-black d-flex flex-row\",children:Object(an.jsx)(\"div\",{className:\"overflow-auto h-100 d-flex flex-column info-loyalty-content\",children:Object(an.jsx)(\"div\",{dangerouslySetInnerHTML:{__html:t.localization.getText(0)}})})})},Ea=e=>{const{page:t=null}=e,s=t.localization.getImage(1);return Object(an.jsxs)(Fn,{grow:!0,className:\"bg-muted rounded text-black p-2\",overflow:\"hidden\",children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[s&&Object(an.jsx)(\"img\",{alt:\"\",src:s}),Object(an.jsx)(on,{className:\"fs-5\",dangerouslySetInnerHTML:{__html:t.localization.getText(1)}})]}),Object(an.jsx)(Fn,{grow:!0,alignItems:\"center\",overflow:\"auto\",children:Object(an.jsx)(on,{dangerouslySetInnerHTML:{__html:t.localization.getText(2)}})}),Object(an.jsx)(hn,{alignItems:\"center\",children:Object(an.jsx)(on,{className:\"fw-bold\",dangerouslySetInnerHTML:{__html:t.localization.getText(3)}})})]})},Ca=e=>Object(an.jsx)(Ea,{...e}),va=e=>{const{page:t=null}=e,[s,n]=Object(c.useState)(\"\"),[r,i]=Object(c.useState)(\"\"),[o,l]=Object(c.useState)(-1),[d,u]=Object(c.useState)([]),[j,h]=Object(c.useState)(!1),[b,g]=Object(c.useState)(1),[m,O]=Object(c.useState)(null);pr(a.qg,(e=>{const t=e.getParser();t&&u(t.rooms)}));const p=Object(c.useCallback)((()=>{const e=t.pageId,n=t.offers.length>=1?t.offers[0].offerId:-1,c=o,i=s,l=r,d=b;Ee(new a.Xf(e,n,c,i,j,l,d))}),[b,r,s,j,t.offers,t.pageId,o]);return pr(a.Si,(e=>{const t=e.getParser();O(t.categories)})),Object(c.useEffect)((()=>{Ee(new a.Nc),Ee(new a.Tc)}),[]),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{bold:!0,center:!0,children:We(\"roomad.catalog_header\")}),Object(an.jsxs)(Fn,{size:12,overflow:\"hidden\",className:\"text-black\",children:[Object(an.jsx)(on,{children:We(\"roomad.catalog_text\")}),Object(an.jsxs)(on,{className:\"bg-muted rounded p-1\",children:[Object(an.jsx)(Fn,{gap:2,children:Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",value:b,onChange:e=>g(parseInt(e.target.value)),children:m&&m.map(((e,t)=>Object(an.jsx)(\"option\",{value:e.id,children:e.name},t)))})}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"roomad.catalog_name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:64,value:s,onChange:e=>n(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"roomad.catalog_description\")}),Object(an.jsx)(\"textarea\",{className:\"form-control form-control-sm\",maxLength:64,value:r,onChange:e=>i(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"roomad.catalog_roomname\")}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:o,onChange:e=>l(parseInt(e.target.value)),children:[Object(an.jsx)(\"option\",{value:-1,disabled:!0,children:We(\"roomad.catalog_roomname\")}),d&&d.map(((e,t)=>Object(an.jsx)(\"option\",{value:e.roomId,children:e.roomName},t)))]})]}),Object(an.jsx)(Fn,{gap:1,children:Object(an.jsx)(bn,{onClick:p,children:We(\"buy\")})})]})]})]})},Na=e=>{const{columnCount:t=5,children:s=null,...n}=e,{currentOffer:r=null}=$r(),i=Object(c.useRef)();return Object(c.useEffect)((()=>{i&&i.current&&(i.current.scrollTop=0)}),[r]),r?Object(an.jsxs)(jn,{innerRef:i,columnCount:5,...n,children:[r.products&&r.products.length>0&&r.products.map(((e,t)=>Object(an.jsx)(Vn,{itemImage:e.getIconUrl(),itemCount:e.productCount},t))),s]}):null},Ta=e=>{const{gap:t=1,...s}=e,{currentOffer:n=null}=$r();return Object(an.jsx)(hn,{gap:t,alignItems:\"center\",classNames:[\"bg-muted\",\"p-1\",\"rounded\"],...s,children:Object(an.jsx)(oa,{separator:!0,offer:n})})},Sa=e=>{const{page:t=null}=e;return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(na,{}),Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:7,overflow:\"hidden\",children:[!!t.localization.getText(2)&&Object(an.jsx)(ur,{dangerouslySetInnerHTML:{__html:t.localization.getText(2)}}),Object(an.jsx)(Fn,{grow:!0,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:Object(an.jsx)(Na,{fullWidth:!0,className:\"nitro-catalog-layout-bundle-grid\"})})]}),Object(an.jsxs)(Fn,{size:5,overflow:\"hidden\",gap:1,children:[!!t.localization.getText(1)&&Object(an.jsx)(ur,{center:!0,small:!0,overflow:\"auto\",children:t.localization.getText(1)}),Object(an.jsxs)(Fn,{grow:!0,position:\"relative\",overflow:\"hidden\",gap:0,children:[!!t.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",className:\"flex-grow-1\",src:t.localization.getImage(1)}),Object(an.jsx)(ja,{position:\"absolute\",className:\"bg-muted rounded bottom-0 start-0\"}),Object(an.jsx)(Ta,{position:\"absolute\",className:\"bottom-0 end-0\"})]}),Object(an.jsx)(Fn,{gap:1,children:Object(an.jsx)(aa,{})})]})]})]})},wa=e=>{const{page:t=null}=e;return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(na,{}),Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:7,overflow:\"hidden\",children:[!!t.localization.getText(2)&&Object(an.jsx)(ur,{dangerouslySetInnerHTML:{__html:t.localization.getText(2)}}),Object(an.jsx)(Fn,{grow:!0,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:Object(an.jsx)(Na,{fullWidth:!0,className:\"nitro-catalog-layout-bundle-grid\"})})]}),Object(an.jsxs)(Fn,{size:5,overflow:\"hidden\",gap:1,children:[!!t.localization.getText(1)&&Object(an.jsx)(ur,{center:!0,small:!0,overflow:\"auto\",children:t.localization.getText(1)}),Object(an.jsxs)(Fn,{grow:!0,position:\"relative\",overflow:\"hidden\",gap:0,children:[!!t.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",className:\"flex-grow-1\",src:t.localization.getImage(1)}),Object(an.jsx)(ja,{position:\"absolute\",className:\"bg-muted rounded bottom-0 start-0\"}),Object(an.jsx)(Ta,{position:\"absolute\",className:\"bottom-0 end-0\"})]}),Object(an.jsx)(Fn,{gap:1,children:Object(an.jsx)(aa,{})})]})]})]})},Ra=[\"floors\",\"walls\",\"views\"],ya=e=>{const{columnCount:t=5,children:s=null,...n}=e,[r,i]=Object(c.useState)(null),[a,o]=Object(c.useState)(-1),[l,d]=Object(c.useState)(null),{currentPage:u=null,currentOffer:j=null,setCurrentOffer:h=null,setPurchaseOptions:b=null}=$r(),g=Object(c.useRef)();if(Object(c.useEffect)((()=>{if(!u)return;const e=[[],[],[]];for(const t of u.offers){if(t.pricingModel!==J.PRICING_MODEL_SINGLE&&t.pricingModel!==J.PRICING_MODEL_MULTI)continue;const s=t.product;if(!s||s.productType!==X.WALL&&s.productType!==X.FLOOR||!s.furnitureData)continue;switch(s.furnitureData.className){case\"floor\":e[0].push(t);break;case\"wallpaper\":e[1].push(t);break;case\"landscape\":e[2].push(t)}}i(e),o(0),d([e[0][0],e[1][0],e[2][0]])}),[u]),Object(c.useEffect)((()=>{-1!==a&&l&&h(l[a])}),[a,l,h]),Object(c.useEffect)((()=>{-1!==a&&l&&j&&b((e=>{const t={...e};return t.extraData=l[a].product.extraParam,t.extraParamRequired=!0,t}))}),[j,a,l,b]),Object(c.useEffect)((()=>{g&&g.current&&(g.current.scrollTop=0)}),[a]),!r||-1===a)return null;const m=r[a];return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(gn,{children:Ra.map(((e,t)=>Object(an.jsx)(bn,{active:a===t,onClick:e=>o(t),children:We(`catalog.spaces.tab.${e}`)},t)))}),Object(an.jsxs)(jn,{innerRef:g,columnCount:t,...n,children:[m&&m.length>0&&m.map(((e,t)=>Object(an.jsx)(ra,{itemActive:j&&j===e,offer:e,selectOffer:e=>(e=>{e&&d((t=>{const s=[...t];return s[a]=e,s}))})(e)},t))),s]})]})},ka=e=>{const{page:t=null}=e,{currentOffer:s=null,roomPreviewer:n=null}=$r();return Object(c.useEffect)((()=>{n.updatePreviewObjectBoundingRectangle(new a.nf)}),[n]),Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:7,overflow:\"hidden\",children:Object(an.jsx)(ya,{})}),Object(an.jsxs)(Fn,{center:!s,size:5,overflow:\"hidden\",children:[!s&&Object(an.jsxs)(an.Fragment,{children:[!!t.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",src:t.localization.getImage(1)}),Object(an.jsx)(ur,{center:!0,dangerouslySetInnerHTML:{__html:t.localization.getText(0)}})]}),s&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(on,{position:\"relative\",overflow:\"hidden\",children:Object(an.jsx)(da,{})}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{grow:!0,truncate:!0,children:s.localizationName}),Object(an.jsx)(hn,{justifyContent:\"end\",children:Object(an.jsx)(la,{alignItems:\"end\"})}),Object(an.jsx)(aa,{})]})]})]})]})},Aa=e=>{const{page:t=null}=e,[s,n]=Object(c.useState)(\"\"),{currentOffer:r=null,setPurchaseOptions:i=null}=$r();return Object(c.useEffect)((()=>{r&&i((e=>{const t={...e};return t.extraData=s,t}))}),[r,s,i]),Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:7,overflow:\"hidden\",children:[Object(an.jsx)(ca,{}),Object(an.jsx)(\"textarea\",{className:\"flex-grow-1 form-control w-100\",defaultValue:s||\"\",onChange:e=>n(e.target.value)})]}),Object(an.jsxs)(Fn,{center:!r,size:5,overflow:\"hidden\",children:[!r&&Object(an.jsxs)(an.Fragment,{children:[!!t.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",src:t.localization.getImage(1)}),Object(an.jsx)(ur,{center:!0,dangerouslySetInnerHTML:{__html:t.localization.getText(0)}})]}),r&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(da,{}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{grow:!0,truncate:!0,children:r.localizationName}),Object(an.jsx)(hn,{justifyContent:\"end\",children:Object(an.jsx)(la,{alignItems:\"end\"})}),Object(an.jsx)(aa,{})]})]})]})]})},Da=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(z.NONE),{currentPage:i=null,catalogOptions:o=null}=$r(),{purse:l=null,getCurrencyAmount:d=null}=Tc(),{clubOffers:u=null}=o,j=Object(c.useCallback)((e=>{switch(e.type){case Tr.PURCHASE_SUCCESS:return void r(z.NONE);case Sr.PURCHASE_FAILED:return void r(z.FAILED)}}),[]);fr(Tr.PURCHASE_SUCCESS,j),fr(Sr.PURCHASE_FAILED,j);const h=Object(c.useCallback)((e=>{let t=\"\";return e.months>0&&(t=We(\"catalog.vip.item.header.months\",[\"num_months\"],[e.months.toString()])),e.extraDays>0&&(\"\"!==t&&(t+=\" \"),t+=\" \"+We(\"catalog.vip.item.header.days\",[\"num_days\"],[e.extraDays.toString()])),t}),[]),b=Object(c.useCallback)((()=>{if(!l)return\"\";const e=l.clubDays>0||l.clubPeriods>0?\"extension.\":\"subscription.\",s=0===t.months?\"days\":\"months\",n=0===t.months?t.extraDays:t.months;return We(\"catalog.vip.buy.confirm.\"+e+s).replace(\"%NUM_\"+s.toUpperCase()+\"%\",n.toString())}),[t,l]),g=Object(c.useCallback)((()=>{let e=We(\"catalog.vip.buy.confirm.end_date\");return e=e.replace(\"%month%\",t.month.toString()),e=e.replace(\"%day%\",t.day.toString()),e=e.replace(\"%year%\",t.year.toString()),e}),[t]),m=Object(c.useMemo)((()=>{const e=l.clubDays;return We(\"catalog.vip.extend.info\",[\"days\"],[(31*l.clubPeriods+e).toString()])}),[l]),O=Object(c.useCallback)((()=>{t&&(r(z.PURCHASE),Ee(new a.Tf(i.pageId,t.offerId,null,1)))}),[t,i]),p=Object(c.useCallback)((e=>{r(z.NONE),s(e)}),[]),f=Object(c.useCallback)((()=>{if(!t)return null;if(t.priceCredits>d(-1))return Object(an.jsx)(bn,{fullWidth:!0,variant:\"danger\",children:We(\"catalog.alert.notenough.title\")});if(t.priceActivityPoints>d(t.priceActivityPointsType))return Object(an.jsx)(bn,{fullWidth:!0,variant:\"danger\",children:We(\"catalog.alert.notenough.activitypoints.title.\"+t.priceActivityPointsType)});switch(n){case z.CONFIRM:return Object(an.jsx)(bn,{fullWidth:!0,variant:\"warning\",onClick:O,children:We(\"catalog.marketplace.confirm_title\")});case z.PURCHASE:return Object(an.jsx)(bn,{fullWidth:!0,variant:\"primary\",disabled:!0,children:Object(an.jsx)(zn,{})});case z.FAILED:return Object(an.jsx)(bn,{fullWidth:!0,variant:\"danger\",disabled:!0,children:We(\"generic.failed\")});case z.NONE:default:return Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:()=>r(z.CONFIRM),children:We(\"buy\")})}}),[t,n,O,d]);return Object(c.useEffect)((()=>{u||Ee(new a.yc(1))}),[u]),Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{fullHeight:!0,size:7,overflow:\"hidden\",justifyContent:\"between\",children:[Object(an.jsx)(jn,{columnCount:1,className:\"nitro-catalog-layout-vip-buy-grid\",children:u&&u.length>0&&u.map(((e,s)=>Object(an.jsxs)(Vn,{column:!1,center:!1,alignItems:\"center\",justifyContent:\"between\",itemActive:t===e,className:\"p-1\",onClick:()=>p(e),children:[Object(an.jsx)(\"i\",{className:\"icon-hc-banner\"}),Object(an.jsxs)(Fn,{justifyContent:\"end\",gap:0,children:[Object(an.jsx)(ur,{textEnd:!0,children:h(e)}),Object(an.jsxs)(hn,{justifyContent:\"end\",gap:1,children:[e.priceCredits>0&&Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object(an.jsx)(ur,{children:e.priceCredits}),Object(an.jsx)(Pn,{type:-1})]}),e.priceActivityPoints>0&&Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object(an.jsx)(ur,{children:e.priceActivityPoints}),Object(an.jsx)(Pn,{type:e.priceActivityPointsType})]})]})]})]},s)))}),Object(an.jsx)(ur,{center:!0,dangerouslySetInnerHTML:{__html:We(\"catalog.vip.buy.hccenter\")}})]}),Object(an.jsxs)(Fn,{size:5,overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{fullHeight:!0,center:!0,overflow:\"hidden\",children:[i.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",src:i.localization.getImage(1)}),Object(an.jsx)(ur,{center:!0,overflow:\"auto\",dangerouslySetInnerHTML:{__html:m}})]}),t&&Object(an.jsxs)(Fn,{fullWidth:!0,grow:!0,justifyContent:\"end\",children:[Object(an.jsxs)(hn,{alignItems:\"end\",children:[Object(an.jsxs)(Fn,{grow:!0,gap:0,children:[Object(an.jsx)(ur,{fontWeight:\"bold\",children:b()}),Object(an.jsx)(ur,{children:g()})]}),Object(an.jsxs)(Fn,{gap:1,children:[t.priceCredits>0&&Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object(an.jsx)(ur,{children:t.priceCredits}),Object(an.jsx)(Pn,{type:-1})]}),t.priceActivityPoints>0&&Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object(an.jsx)(ur,{children:t.priceActivityPoints}),Object(an.jsx)(Pn,{type:t.priceActivityPointsType})]})]})]}),f()]})]})]})},La=e=>{const{text:t=null}=e,[s,n]=Object(c.useState)(\"\"),[r,i]=Object(c.useState)(!1),{simpleAlert:o=null}=Hr();return pr(a.mj,(e=>{const t=e.getParser();let s=We(\"catalog.alert.voucherredeem.ok.description\");t.productName&&(s=We(\"catalog.alert.voucherredeem.ok.description.furni\",[\"productName\",\"productDescription\"],[t.productName,t.productDescription])),o(s,null,null,null,We(\"catalog.alert.voucherredeem.ok.title\")),i(!1),n(\"\")})),pr(a.lj,(e=>{const t=e.getParser();o(We(`catalog.alert.voucherredeem.error.description.${t.errorCode}`),null,null,null,We(\"catalog.alert.voucherredeem.error.title\")),i(!1)})),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:t,value:s,onChange:e=>n(e.target.value)}),Object(an.jsx)(bn,{variant:\"primary\",onClick:()=>{s&&s.length&&!r&&(Ee(new a.cg(s)),i(!0))},disabled:r,children:Object(an.jsx)(fn.a,{icon:\"tag\"})})]})},Pa=e=>{const{item:t=null,position:s=\"relative\",pointer:n=!0,overflow:r=\"hidden\",fullHeight:i=!0,classNames:a=[],children:o=null,...l}=e,d=Object(c.useMemo)((()=>{const e=[\"rounded\",\"nitro-front-page-item\"];return a.length&&e.push(...a),e}),[a]);if(!t)return null;const u=p(\"image.library.url\")+t.itemPromoImage;return Object(an.jsxs)(An,{imageUrl:u,classNames:d,position:s,fullHeight:i,pointer:n,overflow:r,...l,children:[Object(an.jsx)(ur,{position:\"absolute\",variant:\"white\",className:\"bg-dark rounded p-2 m-2 bottom-0\",children:t.itemName}),o]})},Ua=e=>{const{page:t=null,hideNavigation:s=null}=e,{frontPageItems:n=[]}=$r(),r=Object(c.useCallback)((e=>{switch(e.type){case a.ac.ITEM_CATALOGUE_PAGE:return void m(`catalog/open/${e.catalogPageLocation}`);case a.ac.ITEM_PRODUCT_OFFER:return void m(`catalog/open/${e.productOfferId}`)}}),[]);return Object(c.useEffect)((()=>{s()}),[t,s]),Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:4,children:n[0]&&Object(an.jsx)(Pa,{item:n[0],onClick:e=>r(n[0])})}),Object(an.jsxs)(Fn,{size:8,children:[n[1]&&Object(an.jsx)(Pa,{item:n[1],onClick:e=>r(n[1])}),n[2]&&Object(an.jsx)(Pa,{item:n[2],onClick:e=>r(n[2])}),n[3]&&Object(an.jsx)(Pa,{item:n[3],onClick:e=>r(n[3])}),Object(an.jsx)(La,{text:t.localization.getText(1)})]})]})},Ma=2,Fa=e=>{const{offerData:t=null,type:s=Ma,onClick:n=null}=e,r=Object(c.useMemo)((()=>t?We((2===t.furniType?\"wallItem\":\"roomItem\")+`.name.${t.furniId}`):\"\"),[t]),i=Object(c.useCallback)((()=>{if(!t)return\"\";if(t.status===ne.SOLD)return We(\"catalog.marketplace.offer.sold\");if(t.timeLeftMinutes<=0)return We(\"catalog.marketplace.offer.expired\");const e=Math.max(1,t.timeLeftMinutes),s=Math.floor(e/60);let n=e-60*s+\" \"+We(\"catalog.marketplace.offer.minutes\");return s>0&&(n=s+\" \"+We(\"catalog.marketplace.offer.hours\")+\" \"+n),We(\"catalog.marketplace.offer.time_left\",[\"time\"],[n])}),[t]);return Object(an.jsxs)(Vn,{shrink:!0,center:!1,column:!1,alignItems:\"center\",className:\"p-1\",children:[Object(an.jsx)(Fn,{style:{width:40,height:40},children:Object(an.jsx)(Vn,{column:!1,itemImage:ee(t.furniType===se.TYPE_FLOOR?X.FLOOR:X.WALL,t.furniId,t.extraData),itemUniqueNumber:t.isUniqueLimitedItem?t.stuffData.uniqueNumber:0})}),Object(an.jsxs)(Fn,{grow:!0,gap:0,children:[Object(an.jsx)(ur,{fontWeight:\"bold\",children:r}),1===s&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"catalog.marketplace.offer.price_own_item\",[\"price\"],[t.price.toString()])}),Object(an.jsx)(ur,{children:i()})]}),s===Ma&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"catalog.marketplace.offer.price_public_item\",[\"price\",\"average\"],[t.price.toString(),t.averagePrice>0?t.averagePrice.toString():\"-\"])}),Object(an.jsx)(ur,{children:We(\"catalog.marketplace.offer_count\",[\"count\"],[t.offerCount.toString()])})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[1===s&&t.status!==ne.SOLD&&Object(an.jsx)(bn,{variant:\"secondary\",onClick:()=>n(t),children:We(\"catalog.marketplace.offer.pick\")}),s===Ma&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(bn,{variant:\"secondary\",onClick:()=>n(t),children:We(\"buy\")}),Object(an.jsx)(bn,{variant:\"secondary\",disabled:!0,children:We(\"catalog.marketplace.view_more\")})]})]})]})},Ba=e=>{const[t,s]=Object(c.useState)(0),[n,r]=Object(c.useState)([]),{simpleAlert:i=null}=Hr();pr(a.Ce,(e=>{const t=e.getParser();if(!t)return;const n=t.offers.map((e=>{const t=new se(e.offerId,e.furniId,e.furniType,e.extraData,e.stuffData,e.price,e.status,e.averagePrice,e.offerCount);return t.timeLeftMinutes=e.timeLeftMinutes,t}));s(t.creditsWaiting),r(n)})),pr(a.ze,(e=>{const t=e.getParser();t&&(t.success?r((e=>e.filter((e=>e.offerId!==t.offerId)))):i(We(\"catalog.marketplace.cancel_failed\"),fs.DEFAULT,null,null,We(\"catalog.marketplace.operation_failed.topic\")))}));const o=Object(c.useMemo)((()=>n.filter((e=>e.status===ne.SOLD))),[n]),l=Object(c.useCallback)((()=>{r((e=>{const t=o.map((e=>e.offerId));return e.filter((e=>-1===t.indexOf(e.offerId)))})),Ee(new a.bg)}),[o]),d=e=>{Ee(new a.bb(e.offerId))};return Object(c.useEffect)((()=>{Ee(new a.Gc)}),[]),Object(an.jsxs)(Fn,{overflow:\"hidden\",children:[t<=0&&Object(an.jsx)(ur,{center:!0,className:\"bg-muted rounded p-1\",children:We(\"catalog.marketplace.redeem.no_sold_items\")}),t>0&&Object(an.jsxs)(Fn,{center:!0,gap:1,className:\"bg-muted rounded p-2\",children:[Object(an.jsx)(ur,{children:We(\"catalog.marketplace.redeem.get_credits\",[\"count\",\"credits\"],[o.length.toString(),t.toString()])}),Object(an.jsx)(bn,{className:\"mt-1\",onClick:l,children:We(\"catalog.marketplace.offer.redeem\")})]}),Object(an.jsxs)(Fn,{gap:1,overflow:\"hidden\",children:[Object(an.jsx)(ur,{truncate:!0,shrink:!0,fontWeight:\"bold\",children:We(\"catalog.marketplace.items_found\",[\"count\"],[n.length.toString()])}),Object(an.jsx)(Fn,{overflow:\"auto\",className:\"nitro-catalog-layout-marketplace-grid\",children:n.length>0&&n.map((e=>Object(an.jsx)(Fa,{offerData:e,type:1,onClick:d},e.offerId)))})]})]})},Ha=e=>{const{searchType:t=null,sortTypes:s=null,onSearch:n=null}=e,[r,i]=Object(c.useState)(s?s[0]:3),[a,o]=Object(c.useState)(\"\"),[l,d]=Object(c.useState)(0),[u,j]=Object(c.useState)(0),h=Object(c.useCallback)((e=>{i(e),t!==re.BY_ACTIVITY&&t!==re.BY_VALUE||n({minPrice:-1,maxPrice:-1,query:\"\",type:e})}),[n,t]),b=Object(c.useCallback)((()=>{n({minPrice:l>0?l:-1,maxPrice:u>0?u:-1,type:r,query:a})}),[u,l,n,a,r]);return Object(c.useEffect)((()=>{if(!s||!s.length)return;const e=s[0];i(e),t!==re.BY_ACTIVITY&&re.BY_VALUE!==t||n({minPrice:-1,maxPrice:-1,query:\"\",type:e})}),[n,t,s]),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{className:\"col-3\",children:We(\"catalog.marketplace.sort_order\")}),Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",value:r,onChange:e=>h(parseInt(e.target.value)),children:s.map((e=>Object(an.jsx)(\"option\",{value:e,children:We(`catalog.marketplace.sort.${e}`)},e)))})]}),t===re.ADVANCED&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{className:\"col-3\",children:We(\"catalog.marketplace.search_name\")}),Object(an.jsx)(\"input\",{className:\"form-control form-control-sm\",type:\"text\",value:a,onChange:e=>o(e.target.value)})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{className:\"col-3\",children:We(\"catalog.marketplace.search_price\")}),Object(an.jsxs)(hn,{fullWidth:!0,gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:l,onChange:e=>d(e.target.valueAsNumber)}),Object(an.jsx)(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:u,onChange:e=>j(e.target.valueAsNumber)})]})]}),Object(an.jsx)(bn,{variant:\"secondary\",className:\"mx-auto\",onClick:b,children:We(\"generic.search\")})]})]})},Ga=[1,2],Wa=[3,4,5,6],Va=[1,2,3,4,5,6],qa=e=>{const[t,s]=Object(c.useState)(re.BY_ACTIVITY),[n,r]=Object(c.useState)(0),[i,o]=Object(c.useState)(new Map),[l,d]=Object(c.useState)({minPrice:-1,maxPrice:-1,query:\"\",type:3}),{getCurrencyAmount:u=null}=Tc(),{simpleAlert:j=null,showConfirm:h=null}=Hr(),b=Object(c.useCallback)((e=>{d(e),Ee(new a.Fc(e.minPrice,e.maxPrice,e.query,e.type))}),[]),g=Object(c.useMemo)((()=>{switch(t){case re.BY_ACTIVITY:return Wa;case re.BY_VALUE:return Ga;case re.ADVANCED:return Va}return[]}),[t]),m=Object(c.useCallback)((e=>{if(e.price>u(-1))return void j(We(\"catalog.alert.notenough.credits.description\"),fs.DEFAULT,null,null,We(\"catalog.alert.notenough.title\"));const t=e.offerId;h(We(\"catalog.marketplace.confirm_header\"),(()=>{Ee(new a.K(t))}),null,null,null,We(\"catalog.marketplace.confirm_title\"))}),[u,j,h]);return pr(a.xe,(e=>{const t=e.getParser();if(!t)return;const s=new Map;t.offers.forEach((e=>{const t=new se(e.offerId,e.furniId,e.furniType,e.extraData,e.stuffData,e.price,e.status,e.averagePrice,e.offerCount);t.timeLeftMinutes=e.timeLeftMinutes,s.set(e.offerId,t)})),r(t.totalItemsFound),o(s)})),pr(a.ye,(e=>{const t=e.getParser();if(t)switch(t.result){case 1:b(l);break;case 2:o((e=>{const s=new Map(e);return s.delete(t.requestedOfferId),s})),j(We(\"catalog.marketplace.not_available_header\"),fs.DEFAULT,null,null,We(\"catalog.marketplace.not_available_title\"));break;case 3:o((e=>{const s=new Map(e),n=s.get(t.requestedOfferId);return n&&(n.offerId=t.offerId,n.price=t.newPrice,n.offerCount--,s.set(n.offerId,n)),s.delete(t.requestedOfferId),s})),h(We(\"catalog.marketplace.confirm_higher_header\")+\"\\n\"+We(\"catalog.marketplace.confirm_price\",[\"price\"],[t.newPrice.toString()]),(()=>{Ee(new a.K(t.offerId))}),null,null,null,We(\"catalog.marketplace.confirm_higher_title\"));break;case 4:j(We(\"catalog.alert.notenough.credits.description\"),fs.DEFAULT,null,null,We(\"catalog.alert.notenough.title\"))}})),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(gn,{children:[Object(an.jsx)(bn,{active:t===re.BY_ACTIVITY,onClick:()=>s(re.BY_ACTIVITY),children:We(\"catalog.marketplace.search_by_activity\")}),Object(an.jsx)(bn,{active:t===re.BY_VALUE,onClick:()=>s(re.BY_VALUE),children:We(\"catalog.marketplace.search_by_value\")}),Object(an.jsx)(bn,{active:t===re.ADVANCED,onClick:()=>s(re.ADVANCED),children:We(\"catalog.marketplace.search_advanced\")})]}),Object(an.jsx)(Ha,{sortTypes:g,searchType:t,onSearch:b}),Object(an.jsxs)(Fn,{gap:1,overflow:\"hidden\",children:[Object(an.jsx)(ur,{truncate:!0,shrink:!0,fontWeight:\"bold\",children:We(\"catalog.marketplace.items_found\",[\"count\"],[i.size.toString()])}),Object(an.jsx)(Fn,{className:\"nitro-catalog-layout-marketplace-grid\",overflow:\"auto\",children:Array.from(i.values()).map(((e,t)=>Object(an.jsx)(Fa,{offerData:e,type:Ma,onClick:m},t)))})]})]})},za=e=>{const{page:t=null}=e,[s,n]=Object(c.useState)(-1),[r,i]=Object(c.useState)([]),[o,l]=Object(c.useState)(-1),[d,u]=Object(c.useState)([]),[j,h]=Object(c.useState)(-1),[b,g]=Object(c.useState)(!1),[m,O]=Object(c.useState)(\"\"),[p,f]=Object(c.useState)(!0),[x,_]=Object(c.useState)(-1),{currentOffer:I=null,setCurrentOffer:E=null,setPurchaseOptions:v=null,catalogOptions:N=null,roomPreviewer:T=null}=$r(),{petPalettes:S=null}=N,w=Object(c.useMemo)((()=>d.length&&-1!==j?d[j][0]:16777215),[d,j]),R=Object(c.useMemo)((()=>-1!==s&&r.length&&-1!==o?We(`pet.breed.${s}.${r[o].breedId}`):\"\"),[s,r,o]),y=Object(c.useMemo)((()=>{if(!r.length||-1===o)return\"\";const e=r[o].paletteId;let t=16777215;if(s<=7){if(-1===j)return\"\";t=d[j][0]}let n=t.toString(16).toUpperCase();for(;n.length<6;)n=\"0\"+n;return`${e}\\n${n}`}),[r,o,s,d,j]),k=Object(c.useMemo)((()=>{let e=\"\";switch(x){case 1:e=\"catalog.alert.petname.long\";break;case 2:e=\"catalog.alert.petname.short\";break;case 3:e=\"catalog.alert.petname.chars\";break;case 4:e=\"catalog.alert.petname.bobba\"}return e&&e.length?We(e):\"\"}),[x]),A=Object(c.useCallback)((()=>{-1!==x?0!==x||Ee(new a.Tf(t.pageId,I.offerId,`${m}\\n${y}`,1)):Ee(new a.j(m,1))}),[t,I,m,y,x]);return pr(a.k,(e=>{const t=e.getParser();_(t.result),0===t.result?A():$e(new Sr(-1))})),Object(c.useEffect)((()=>{if(!t||!t.offers.length)return;const e=t.offers[0];E(e),n(function(e){if(!e.length)return 0;let t=e.length-1;for(;t>=0&&!isNaN(parseInt(e.charAt(t)));)t--;return t>0?parseInt(e.substring(t+1)):-1}(e.localizationId)),g(!1)}),[t,E]),Object(c.useEffect)((()=>{if(!I)return;const e=I.product.productData;if(e){if(S)for(const t of S){if(t.breed!==e.type)continue;const s=[];for(const e of t.palettes)e.sellable&&s.push(e);return l(s.length?0:-1),void i(s)}l(-1),i([]),Ee(new a.Rc(e.type))}}),[I,S]),Object(c.useEffect)((()=>{if(-1===s)return;const e=function(e,t){switch(e){case 0:case 1:return[[16743226],[16750435],[16764339],[16094464],[16498012],[16704690],[15586304],[16115545],[16513201],[8694111],[11585939],[14413767],[6664599],[9553845],[12971486],[8358322],[10002885],[13292268],[10780600],[12623573],[14403561],[12418717],[14327229],[15517403],[14515069],[15764368],[16366271],[11250603],[13948116],[16777215],[14256481],[14656129],[15848130],[14005087],[14337152],[15918540],[15118118],[15531929],[9764857],[11258085]];case 2:return[[16579283],[15378351],[8830016],[15257125],[9340985],[8949607],[6198292],[8703620],[9889626],[8972045],[12161285],[13162269],[8620113],[12616503],[8628101],[13827840],[9764857]];case 3:case 5:return[[16777215],[15658734],[14540253]];case 4:return[[16777215],[16053490],[15464440],[16248792],[15396319],[15007487]];case 6:return[[16777215],[15658734],[14540253],[16767177],[16770205],[16751331]];case 7:return[[13421772],[11447982],[16751331],[10149119],[16763290],[16743786]];default:{const s=[];for(const n of t){const t=C().getPetColorResult(e,n.paletteId);t&&(t.primaryColor===t.secondaryColor?s.push([t.primaryColor]):s.push([t.primaryColor,t.secondaryColor]))}return s}}}(s,r);h(e.length?0:-1),u(e)}),[s,r]),Object(c.useEffect)((()=>{if(!T)return;if(T.reset(!1),-1===s||!r.length||-1===o)return;let e=`${s} ${r[o].paletteId}`;s<=7&&(e+=` ${w.toString(16)}`),T.addPetIntoRoom(e)}),[T,s,r,o,w]),Object(c.useEffect)((()=>{_(-1)}),[m]),I?Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:7,overflow:\"hidden\",children:Object(an.jsxs)(jn,{columnCount:5,children:[!b&&r.length>0&&r.map(((e,t)=>Object(an.jsx)(Vn,{itemActive:o===t,onClick:e=>l(t),children:Object(an.jsx)(er,{typeId:s,paletteId:e.paletteId,direction:2,headOnly:!0})},t))),b&&d.length>0&&d.map(((e,t)=>Object(an.jsx)(Vn,{itemHighlight:!0,itemActive:j===t,itemColor:a.sb.int2rgb(e[0]),className:\"clear-bg\",onClick:e=>h(t)},t)))]})}),Object(an.jsxs)(Fn,{center:!I,size:5,overflow:\"hidden\",children:[!I&&Object(an.jsxs)(an.Fragment,{children:[!!t.localization.getImage(1)&&Object(an.jsx)(\"img\",{alt:\"\",src:t.localization.getImage(1)}),Object(an.jsx)(ur,{center:!0,dangerouslySetInnerHTML:{__html:t.localization.getText(0)}})]}),I&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(on,{position:\"relative\",overflow:\"hidden\",children:[Object(an.jsx)(da,{}),Object(an.jsx)(ja,{position:\"absolute\",className:\"bg-muted rounded bottom-1 end-1\"}),s>-1&&s<=7&&Object(an.jsx)(bn,{position:\"absolute\",className:\"bottom-1 start-1\",onClick:e=>g(!b),children:Object(an.jsx)(fn.a,{icon:\"fill-drip\"})})]}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{truncate:!0,children:R}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm w-100\",placeholder:We(\"widgets.petpackage.name.title\"),value:m,onChange:e=>O(e.target.value)}),x>0&&Object(an.jsx)(on,{className:\"invalid-feedback d-block m-0\",children:k})]}),Object(an.jsx)(hn,{justifyContent:\"end\",children:Object(an.jsx)(la,{justifyContent:\"end\",alignItems:\"end\"})}),Object(an.jsx)(aa,{purchaseCallback:A})]})]})]})]}):null},Ya=e=>{const{offer:t=null,isAvailable:s=!1,onSelect:n=null}=e,r=Object(c.useCallback)((()=>{if(!t||!t.products.length)return\"\";const e=t.products[0];return xt.getProductImageUrl(e.productType,e.furniClassId,e.extraParam)}),[t]),i=Object(c.useCallback)((()=>{if(!t||!t.products.length)return\"\";const e=t.products[0];return We(2===xt.getProductCategory(e.productType,e.furniClassId)?\"wallItem.name.\"+e.furniClassId:\"roomItem.name.\"+e.furniClassId)}),[t]);Object(c.useCallback)((()=>{if(!t||!t.products.length)return\"\";const e=t.products[0];return We(2===xt.getProductCategory(e.productType,e.furniClassId)?\"wallItem.desc.\"+e.furniClassId:\"roomItem.desc.\"+e.furniClassId)}),[t]);return Object(an.jsxs)(Vn,{center:!1,column:!1,alignItems:\"center\",className:\"p-1\",children:[Object(an.jsx)(qn,{imageUrl:r()}),Object(an.jsx)(ur,{grow:!0,fontWeight:\"bold\",children:i()}),Object(an.jsx)(bn,{variant:\"secondary\",onClick:()=>n(t.localizationId),disabled:!s,children:We(\"catalog.club_gift.select\")})]})},$a=e=>{const{purse:t=null}=Tc(),{catalogOptions:s=null,setCatalogOptions:n=null}=$r(),{clubGifts:r=null}=s,{showConfirm:i=null}=Hr(),o=Object(c.useCallback)((()=>r?r.giftsAvailable>0?We(\"catalog.club_gift.available\",[\"amount\"],[r.giftsAvailable.toString()]):r.daysUntilNextGift>0?We(\"catalog.club_gift.days_until_next\",[\"days\"],[r.daysUntilNextGift.toString()]):t.isVip?We(\"catalog.club_gift.not_available\"):We(\"catalog.club_gift.no_club\"):\"\"),[r,t]),l=Object(c.useCallback)((e=>{i(We(\"catalog.club_gift.confirm\"),(()=>{Ee(new a.Vh(e)),n((e=>(e.clubGifts.giftsAvailable--,{...e})))}),null)}),[n,i]);return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{truncate:!0,shrink:!0,fontWeight:\"bold\",children:o()}),Object(an.jsx)(jn,{columnCount:1,className:\"nitro-catalog-layout-vip-gifts-grid\",children:r.offers.length>0&&r.offers.map((e=>Object(an.jsx)(Ya,{offer:e,isAvailable:r.getOfferExtraData(e.offerId).isSelectable&&r.giftsAvailable>0,onSelect:l},e.offerId)))})]})},Ka=(e,t)=>{if(!e)return null;const s={page:e,hideNavigation:t};switch(e.layoutCode){case\"frontpage_featured\":return null;case\"frontpage4\":return Object(an.jsx)(Ua,{...s});case\"pets\":return Object(an.jsx)(za,{...s});case\"pets2\":return Object(an.jsx)(Ca,{...s});case\"pets3\":return Object(an.jsx)(Ea,{...s});case\"vip_buy\":return Object(an.jsx)(Da,{...s});case\"guild_frontpage\":return Object(an.jsx)(_a,{...s});case\"guild_forum\":return Object(an.jsx)(xa,{...s});case\"guild_custom_furni\":return Object(an.jsx)(fa,{...s});case\"club_gifts\":return Object(an.jsx)($a,{...s});case\"marketplace_own_items\":return Object(an.jsx)(Ba,{...s});case\"marketplace\":return Object(an.jsx)(qa,{...s});case\"single_bundle\":return Object(an.jsx)(wa,{...s});case\"room_bundle\":return Object(an.jsx)(Sa,{...s});case\"spaces_new\":return Object(an.jsx)(ka,{...s});case\"trophies\":return Object(an.jsx)(Aa,{...s});case\"info_loyalty\":return Object(an.jsx)(Ia,{...s});case\"badge_display\":return Object(an.jsx)(ua,{...s});case\"roomads\":return Object(an.jsx)(va,{...s});case\"default_3x3_color_grouping\":return Object(an.jsx)(ba,{...s});default:return Object(an.jsx)(ma,{...s})}},Xa=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(0),[i,o]=Object(c.useState)(\"0\"),{catalogOptions:l=null,setCatalogOptions:d=null}=$r(),{marketplaceConfiguration:u=null}=l,{showConfirm:j=null}=Hr();if(pr(a.Ae,(e=>{const t=e.getParser();d((e=>{const s={...e};return s.marketplaceConfiguration=t,s}))})),fr(Nr.POST_MARKETPLACE,(e=>s(e.item))),Object(c.useEffect)((()=>{t&&!u&&Ee(new a.Ec)}),[t,u]),Object(c.useEffect)((()=>{if(t)return()=>r(0)}),[t]),!u||!t)return null;const h=t?We(t.isWallItem?\"wallItem.name.\"+t.type:\"roomItem.name.\"+t.type):\"\",b=t?We(t.isWallItem?\"wallItem.desc.\"+t.type:\"roomItem.desc.\"+t.type):\"\",g=()=>Math.max(Math.ceil(.01*u.commission*n),1);return Object(an.jsxs)(yn,{className:\"nitro-catalog-layout-marketplace-post-offer\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"inventory.marketplace.make_offer.title\"),onCloseClick:e=>s(null)}),Object(an.jsx)(In,{overflow:\"hidden\",children:Object(an.jsxs)(un,{fullHeight:!0,children:[Object(an.jsx)(Fn,{center:!0,className:\"bg-muted rounded p-2\",size:4,overflow:\"hidden\",children:Object(an.jsx)(Un,{productType:t.isWallItem?X.WALL:X.FLOOR,productClassId:t.type,extraData:t.extra.toString()})}),Object(an.jsxs)(Fn,{size:8,justifyContent:\"between\",overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{fontWeight:\"bold\",children:h}),Object(an.jsx)(ur,{truncate:!0,shrink:!0,children:b})]}),Object(an.jsxs)(Fn,{overflow:\"auto\",children:[Object(an.jsx)(ur,{italics:!0,children:We(\"inventory.marketplace.make_offer.expiration_info\",[\"time\"],[u.offerTime.toString()])}),Object(an.jsxs)(\"div\",{className:\"input-group has-validation\",children:[Object(an.jsx)(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:i,onChange:e=>(e=>{o(e);const t=parseInt(e);isNaN(t)||t===n||r(parseInt(e))})(e.target.value),placeholder:We(\"inventory.marketplace.make_offer.price_request\")}),(n<u.minimumPrice||isNaN(n))&&Object(an.jsx)(on,{className:\"invalid-feedback d-block\",children:We(\"inventory.marketplace.make_offer.min_price\",[\"minprice\"],[u.minimumPrice.toString()])}),n>u.maximumPrice&&!isNaN(n)&&Object(an.jsx)(on,{className:\"invalid-feedback d-block\",children:We(\"inventory.marketplace.make_offer.max_price\",[\"maxprice\"],[u.maximumPrice.toString()])}),!(n<u.minimumPrice||n>u.maximumPrice||isNaN(n))&&Object(an.jsx)(on,{className:\"invalid-feedback d-block\",children:We(\"inventory.marketplace.make_offer.final_price\",[\"commission\",\"finalprice\"],[g().toString(),(n+g()).toString()])})]}),Object(an.jsx)(bn,{disabled:n<u.minimumPrice||n>u.maximumPrice||isNaN(n),onClick:()=>{!t||n<u.minimumPrice||j(We(\"inventory.marketplace.confirm_offer.info\",[\"furniname\",\"price\"],[h,n.toString()]),(()=>{Ee(new a.we(n,t.isWallItem?2:1,t.id)),s(null)}),(()=>{s(null)}),null,null,We(\"inventory.marketplace.confirm_offer.title\"))},children:We(\"inventory.marketplace.make_offer.post\")})]})]})]})})]})},Qa=e=>{const{isVisible:t=!1,setIsVisible:s=null,rootNode:n=null,currentPage:r=null,navigationHidden:i=!1,setNavigationHidden:a=null,activeNodes:o=[],searchResult:d=null,setSearchResult:u=null,openPageByName:j=null,openPageByOfferId:h=null,activateNode:b=null,getNodeById:g}=$r();return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e));case\"open\":if(t.length>2)if(4===t.length){if(\"offerId\"===t[2])return void h(parseInt(t[3]))}else j(t[2]);else s(!0);return}},eventUrlPrefix:\"catalog/\"};return l(e),()=>E(e)}),[s,h,j]),Object(an.jsxs)(an.Fragment,{children:[t&&Object(an.jsxs)(yn,{uniqueKey:\"catalog\",className:\"nitro-catalog\",style:{width:p(\"catalog.headers\")?\"710px\":\"\"},children:[Object(an.jsx)(vn,{headerText:We(\"catalog.title\"),onCloseClick:e=>s(!1)}),Object(an.jsx)(or,{children:n&&n.children.length>0&&n.children.map((e=>e.isVisible?Object(an.jsx)(ar,{isActive:e.isActive,onClick:t=>{d&&u(null),b(e)},children:Object(an.jsxs)(hn,{gap:p(\"catalog.tab.icons\")?1:0,alignItems:\"center\",children:[p(\"catalog.tab.icons\")&&Object(an.jsx)($i,{icon:e.iconId}),e.localization]})},e.pageId):null))}),Object(an.jsx)(In,{children:Object(an.jsxs)(un,{children:[!i&&Object(an.jsx)(Fn,{size:3,overflow:\"hidden\",children:o&&o.length>0&&Object(an.jsx)(ta,{node:o[0]})}),Object(an.jsx)(Fn,{size:i?12:9,overflow:\"hidden\",children:Ka(r,(()=>a(!0)))})]})})]}),Object(an.jsx)(Qi,{}),Object(an.jsx)(Xa,{})]})};var Ja=s(27);const Za=e=>{const[t,s]=Object(c.useState)(!1),{chatHistory:n=[]}=Jr(),r=Object(c.useRef)(null),i=Object(c.useMemo)((()=>new Ja.c({defaultHeight:25,fixedWidth:!0})),[]),a=e=>{const t=n[e.index];e.index;return Object(an.jsx)(Ja.b,{cache:i,columnIndex:0,parent:e.parent,rowIndex:e.index,children:Object(an.jsxs)(hn,{style:e.style,className:\"p-1\",gap:1,children:[Object(an.jsx)(ur,{variant:\"muted\",children:t.timestamp}),t.type===Mt.TYPE_CHAT&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{pointer:!0,noWrap:!0,dangerouslySetInnerHTML:{__html:t.name+\":\"}}),Object(an.jsx)(ur,{textBreak:!0,wrap:!0,grow:!0,children:t.message})]}),t.type===Mt.TYPE_ROOM_INFO&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"i\",{className:\"icon icon-small-room\"}),Object(an.jsx)(ur,{textBreak:!0,wrap:!0,grow:!0,children:t.name})]})]},e.key)},e.key)};return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e))}},eventUrlPrefix:\"chat-history/\"};return l(e),()=>E(e)}),[]),Object(c.useEffect)((()=>{r&&r.current&&t&&r.current.scrollToRow(-1)}),[t]),t?Object(an.jsxs)(yn,{uniqueKey:\"chat-history\",className:\"nitro-chat-history\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"room.chathistory.button.text\"),onCloseClick:e=>s(!1)}),Object(an.jsx)(In,{children:Object(an.jsx)(Ja.a,{defaultWidth:300,defaultHeight:200,onResize:e=>i.clearAll(),children:e=>{let{height:t,width:s}=e;return Object(an.jsx)(Ja.d,{ref:r,width:s,height:t,rowCount:n.length,rowHeight:i.rowHeight,className:\"chat-history-list\",rowRenderer:a,deferredMeasurementCache:i})}})})]}):null},eo=32,to=64,so=\"x0123456789abcdefghijklmnopq\";class no{}no.DOOR=0,no.UP=1,no.DOWN=2,no.SET=3,no.UNSET=4;const ro={x:\"101010\",0:\"0065ff\",1:\"0091ff\",2:\"00bcff\",3:\"00e8ff\",4:\"00ffea\",5:\"00ffbf\",6:\"00ff93\",7:\"00ff68\",8:\"00ff3d\",9:\"19ff00\",a:\"44ff00\",b:\"70ff00\",c:\"9bff00\",d:\"f2ff00\",e:\"ffe000\",f:\"ffb500\",g:\"ff8900\",h:\"ff5e00\",i:\"ff3200\",j:\"ff0700\",k:\"ff0023\",l:\"ff007a\",m:\"ff00a5\",n:\"ff00d1\",o:\"ff00fc\",p:\"d600ff\",q:\"aa00ff\"};class co{constructor(){this._currentAction=void 0,this._currentHeight=void 0,this._currentAction=no.SET,this._currentHeight=so[1]}get currentAction(){return this._currentAction}set currentAction(e){this._currentAction=e}get currentHeight(){return this._currentHeight}set currentHeight(e){this._currentHeight=e}clear(){this._currentAction=no.SET,this._currentHeight=so[1]}}class io{constructor(e,t){this._height=void 0,this._isBlocked=void 0,this._height=e,this._isBlocked=t}get height(){return this._height}set height(e){this._height=e}get isBlocked(){return this._isBlocked}set isBlocked(e){this._isBlocked=e}}const ao=(e,t)=>{let s=e*eo/2-t*eo/2;return s+=1024,[s,e*eo/4+t*eo/4]},oo=(e,t)=>{const s=e-1024;return[(s/16+t/8)/2,(t/8-s/16)/2]},lo=e=>{switch(e=parseInt(e.toString())){case 0:return-2;case 1:return-1;case 3:return 1;default:return 0}},uo=e=>{switch(e){case.25:return 0;case.5:return 1;case 2:return 3;default:return 2}};class jo extends a.Nf{constructor(){super({width:2068,height:1124,backgroundColor:0,antialias:!0,autoDensity:!0,resolution:1,sharedLoader:!0,sharedTicker:!0}),this._tilemap=void 0,this._width=void 0,this._height=void 0,this._isHolding=void 0,this._doorLocation=void 0,this._lastUsedTile=void 0,this._tilemapRenderer=void 0,this._actionSettings=void 0,this._isInitialized=void 0,this._assetCollection=void 0,this._tilemap=[],this._doorLocation=new a.nf(0,0),this._width=0,this._height=0,this._isHolding=!1,this._lastUsedTile=new a.nf(-1,-1),this._actionSettings=new co}initialize(){if(this._isInitialized)return;const e=b().asset.getCollection(\"floor_editor\");e&&(this._assetCollection=e,this._tilemapRenderer=new a.tf(e.baseTexture),this.registerEventListeners(),this.stage.addChild(this._tilemapRenderer),this._isInitialized=!0)}registerEventListeners(){const e=new a.nf;this._tilemapRenderer.containsPoint=t=>(this._tilemapRenderer.worldTransform.applyInverse(t,e),this.tileHitDetection(e,!1)),this._tilemapRenderer.on(\"pointerup\",(()=>{this._isHolding=!1})),this._tilemapRenderer.on(\"pointerout\",(()=>{this._isHolding=!1})),this._tilemapRenderer.on(\"pointerdown\",(e=>{if(!(e.data.originalEvent instanceof PointerEvent)&&!(e.data.originalEvent instanceof TouchEvent))return;const t=e.data.originalEvent;if(t instanceof MouseEvent&&2===t.button)return;const s=e.data.global;this.tileHitDetection(s,!0)})),this._tilemapRenderer.on(\"click\",(e=>{if(!(e.data.originalEvent instanceof PointerEvent))return;if(2===e.data.originalEvent.button)return;const t=e.data.global;this.tileHitDetection(t,!0,!0)}))}tileHitDetection(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this._tilemapRenderer.pointsBuf,r=a.Af,c=n.length;t&&(this._isHolding=!0);for(let i=0;i<c;i+=r){const t=i+r,c=n.slice(i,t),a=eo,o=16,l=Math.floor(e.x),d=Math.floor(e.y),u=c[2],j=c[3],h=u+a/2,b=j+o/2;if(Math.abs(l-h)/(.5*a)+Math.abs(d-b)/(.5*o)<=1){if(this._isHolding){const[e,t]=oo(u,j);s?this.onClick(e,t):this._lastUsedTile.x===e&&this._lastUsedTile.y===t||(this._lastUsedTile.x=e,this._lastUsedTile.y=t,this.onClick(e,t))}return!0}}return!1}onClick(e,t){const s=this._tilemap[t][e],n=so.indexOf(s.height);let r=0;switch(this._actionSettings.currentAction){case no.DOOR:return void(\"x\"!==s.height&&(this._doorLocation.x=e,this._doorLocation.y=t,this.renderTiles()));case no.UP:if(\"x\"===s.height)return;r=n+1;break;case no.DOWN:if(\"x\"===s.height||n<=1)return;r=n-1;break;case no.SET:r=so.indexOf(this._actionSettings.currentHeight);break;case no.UNSET:r=0}if(-1===r)return;if(n===r)return;r>0&&(e+1>this._width&&(this._width=e+1),t+1>this._height&&(this._height=t+1));const c=so[r];c&&(s.isBlocked||(this._tilemap[t][e].height=c,this.renderTiles()))}renderTiles(){this.tilemapRenderer.clear();for(let e=0;e<this._tilemap.length;e++)for(let t=0;t<this.tilemap[e].length;t++){const s=this.tilemap[e][t];let n=s.height;this._doorLocation.x===t&&this._doorLocation.y===e&&(n=jo.TILE_DOOR),s.isBlocked&&(n=jo.TILE_BLOCKED);const[r,c]=ao(t,e);this._tilemapRenderer.tile(this._assetCollection.getTexture(`floor_editor_${n}`),r,c)}}setTilemap(e,t){this._tilemap=[];const s=e.split(\"\\r\");let n=0,r=s.length;for(let c=0;c<r;c++){const e=s[c];0!==e.length?e.length>n&&(n=e.length):(s.splice(c,1),r=s.length,c--)}for(let c=0;c<r;c++){this._tilemap[c]=[];const e=s[c];for(let s=0;s<n;s++){const n=t[c]&&t[c][s]||!1,r=e[s];this._tilemap[c][s]=new io(\"x\"!==r&&\"X\"!==r&&r?r:\"x\",n)}for(let t=n;t<to;t++)this.tilemap[c][t]=new io(\"x\",!1)}for(let c=r;c<to;c++){this.tilemap[c]||(this.tilemap[c]=[]);for(let e=0;e<to;e++)this.tilemap[c][e]=new io(\"x\",!1)}this._width=n,this._height=r}getCurrentTilemapString(){if(\"x\"===this._tilemap[this._height-1][this._width-1].height){this._width=-1,this._height=-1;for(let e=63;e>=0;e--)if(this._tilemap[e])for(let t=63;t>=0;t--){if(!this._tilemap[e][t])continue;\"x\"!==this._tilemap[e][t].height&&(t+1>this._width&&(this._width=t+1),e+1>this._height&&(this._height=e+1))}}const e=[];for(let t=0;t<this._height;t++){const s=[];for(let e=0;e<this._width;e++){const n=this._tilemap[t][e];s[e]=n.height}e[t]=s.join(\"\")}return e.join(\"\\r\")}clear(){this._tilemapRenderer.interactive=!1,this._tilemap=[],this._doorLocation.set(-1,-1),this._width=0,this._height=0,this._isHolding=!1,this._lastUsedTile.set(-1,-1),this._actionSettings.clear(),this._tilemapRenderer.clear()}get tilemapRenderer(){return this._tilemapRenderer}get tilemap(){return this._tilemap}get doorLocation(){return this._doorLocation}set doorLocation(e){this._doorLocation=e}get actionSettings(){return this._actionSettings}static get instance(){return jo._INSTANCE||(jo._INSTANCE=new jo),jo._INSTANCE}}jo._INSTANCE=null,jo.TILE_BLOCKED=\"r_blocked\",jo.TILE_DOOR=\"r_door\";const ho=Object(c.createContext)({originalFloorplanSettings:null,setOriginalFloorplanSettings:null,visualizationSettings:null,setVisualizationSettings:null}),bo=e=>Object(an.jsx)(ho.Provider,{...e}),go=()=>Object(c.useContext)(ho),mo=e=>{const{gap:t=1,children:s=null,...n}=e,[r,i]=Object(c.useState)(!1),[o,l]=Object(c.useState)(!1),{originalFloorplanSettings:d=null,setOriginalFloorplanSettings:u=null,setVisualizationSettings:j=null}=go(),h=Object(c.useRef)(null);pr(a.dh,(e=>{const t=e.getParser();u((e=>{const s={...e};return s.reservedTiles=t.blockedTilesMap,jo.instance.setTilemap(s.tilemap,s.reservedTiles),s})),i(!0),h.current.scrollTo(jo.instance.view.width/3,0)})),pr(a.Og,(e=>{const t=e.getParser();u((e=>{const s={...e};return s.entryPoint=[t.x,t.y],s.entryPointDir=t.direction,s})),j((e=>{const s={...e};return s.entryPointDir=t.direction,s})),jo.instance.doorLocation=new a.nf(t.x,t.y),l(!0)}));const b=e=>{const t=h.current;if(t)switch(e){case\"up\":t.scrollBy({top:-10});break;case\"down\":t.scrollBy({top:10});break;case\"left\":t.scrollBy({left:-10});break;case\"right\":t.scrollBy({left:10})}};return Object(c.useEffect)((()=>()=>{jo.instance.clear(),j((e=>({wallHeight:d.wallHeight,thicknessWall:d.thicknessWall,thicknessFloor:d.thicknessFloor,entryPointDir:e.entryPointDir})))}),[d.thicknessFloor,d.thicknessWall,d.wallHeight,j]),Object(c.useEffect)((()=>{o&&r&&jo.instance.renderTiles()}),[o,r]),Object(c.useEffect)((()=>{Ee(new a.Pc),Ee(new a.Jc),jo.instance.tilemapRenderer.interactive=!0,h.current&&h.current.appendChild(jo.instance.renderer.view)}),[]),Object(an.jsxs)(Fn,{gap:t,...n,children:[Object(an.jsxs)(un,{overflow:\"hidden\",gap:1,children:[Object(an.jsx)(Fn,{center:!0,size:1,children:Object(an.jsx)(bn,{className:\"d-md-none\",onClick:e=>b(\"left\"),children:Object(an.jsx)(fn.a,{icon:\"arrow-left\"})})}),Object(an.jsxs)(Fn,{overflow:\"hidden\",size:10,gap:1,children:[Object(an.jsx)(hn,{justifyContent:\"center\",className:\"d-md-none\",children:Object(an.jsx)(bn,{shrink:!0,onClick:e=>b(\"up\"),children:Object(an.jsx)(fn.a,{icon:\"arrow-up\"})})}),Object(an.jsx)(on,{overflow:\"auto\",innerRef:h}),Object(an.jsx)(hn,{justifyContent:\"center\",className:\"d-md-none\",children:Object(an.jsx)(bn,{shrink:!0,onClick:e=>b(\"down\"),children:Object(an.jsx)(fn.a,{icon:\"arrow-down\"})})})]}),Object(an.jsx)(Fn,{center:!0,size:1,children:Object(an.jsx)(bn,{className:\"d-md-none\",onClick:e=>b(\"right\"),children:Object(an.jsx)(fn.a,{icon:\"arrow-right\"})})})]}),s]})},Oo=e=>e.replace(/\\r\\n|\\r|\\n/g,\"\\n\").toLowerCase(),po=e=>{const{onCloseClick:t=null}=e,[s,n]=Object(c.useState)(\"\"),{originalFloorplanSettings:r=null}=go();return fi((()=>{n(Oo(r.tilemap))})),Object(an.jsxs)(yn,{theme:\"primary-slim\",className:\"floorplan-import-export\",children:[Object(an.jsx)(vn,{headerText:We(\"floor.plan.editor.import.export\"),onCloseClick:t}),Object(an.jsxs)(In,{children:[Object(an.jsx)(\"textarea\",{className:\"h-100\",value:s,onChange:e=>n(e.target.value)}),Object(an.jsxs)(hn,{justifyContent:\"between\",children:[Object(an.jsx)(bn,{onClick:e=>n(Oo(r.tilemap)),children:We(\"floor.plan.editor.revert.to.last.received.map\")}),Object(an.jsx)(bn,{onClick:()=>{Ee(new a.Ii(s.split(\"\\n\").join(\"\\r\"),r.entryPoint[0],r.entryPoint[1],r.entryPointDir,lo(r.thicknessWall),lo(r.thicknessFloor),r.wallHeight-1))},children:We(\"floor.plan.editor.save\")})]})]})]})},fo=e=>{const{visualizationSettings:t=null,setVisualizationSettings:s=null}=go(),[n,r]=Object(c.useState)(no.SET),[i,a]=Object(c.useState)(0),o=e=>{r(e),jo.instance.actionSettings.currentAction=e},l=e=>{(isNaN(e)||e<=0)&&(e=0),e>16&&(e=16),s((t=>{const s={...t};return s.wallHeight=e,s}))};return Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsxs)(Fn,{size:5,gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"floor.plan.editor.draw.mode\")}),Object(an.jsxs)(hn,{gap:3,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(Vn,{itemActive:n===no.SET,onClick:e=>o(no.SET),children:Object(an.jsx)(\"i\",{className:\"icon icon-set-tile\"})}),Object(an.jsx)(Vn,{itemActive:n===no.UNSET,onClick:e=>o(no.UNSET),children:Object(an.jsx)(\"i\",{className:\"icon icon-unset-tile\"})})]}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(Vn,{itemActive:n===no.UP,onClick:e=>o(no.UP),children:Object(an.jsx)(\"i\",{className:\"icon icon-increase-height\"})}),Object(an.jsx)(Vn,{itemActive:n===no.DOWN,onClick:e=>o(no.DOWN),children:Object(an.jsx)(\"i\",{className:\"icon icon-decrease-height\"})})]}),Object(an.jsx)(Vn,{itemActive:n===no.DOOR,onClick:e=>o(no.DOOR),children:Object(an.jsx)(\"i\",{className:\"icon icon-set-door\"})})]})]}),Object(an.jsxs)(Fn,{alignItems:\"center\",size:4,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"floor.plan.editor.enter.direction\")}),Object(an.jsx)(\"i\",{className:`icon icon-door-direction-${t.entryPointDir} cursor-pointer`,onClick:()=>{s((e=>{const t={...e};return t.entryPointDir<7?++t.entryPointDir:t.entryPointDir=0,t}))}})]}),Object(an.jsxs)(Fn,{size:3,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"floor.editor.wall.height\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(fn.a,{icon:\"caret-left\",className:\"cursor-pointer\",onClick:()=>{let e=t.wallHeight-1;e<=0&&(e=0),l(e)}}),Object(an.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:t.wallHeight,onChange:e=>l(e.target.valueAsNumber)}),Object(an.jsx)(fn.a,{icon:\"caret-right\",className:\"cursor-pointer\",onClick:()=>{let e=t.wallHeight+1;e>16&&(e=16),l(e)}})]})]})]}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsxs)(Fn,{size:6,children:[Object(an.jsxs)(ur,{bold:!0,children:[We(\"floor.plan.editor.tile.height\"),\": \",i]}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:0,max:26,step:1,value:i,onChange:e=>{return t=e,(isNaN(t)||t<=0)&&(t=0),t>26&&(t=26),a(t),void(jo.instance.actionSettings.currentHeight=t.toString(36));var t},renderThumb:(e,t)=>{let{style:s,...n}=e;return Object(an.jsx)(\"div\",{style:{backgroundColor:`#${ro[t.valueNow.toString(33)]}`,...s},...n,children:t.valueNow})}})]}),Object(an.jsxs)(Fn,{size:6,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"floor.plan.editor.room.options\")}),Object(an.jsxs)(hn,{className:\"align-items-center\",children:[Object(an.jsxs)(\"select\",{className:\"form-control form-control-sm\",value:t.thicknessWall,onChange:e=>{return t=parseInt(e.target.value),void s((e=>{const s={...e};return s.thicknessWall=t,s}));var t},children:[Object(an.jsx)(\"option\",{value:0,children:We(\"navigator.roomsettings.wall_thickness.thinnest\")}),Object(an.jsx)(\"option\",{value:1,children:We(\"navigator.roomsettings.wall_thickness.thin\")}),Object(an.jsx)(\"option\",{value:2,children:We(\"navigator.roomsettings.wall_thickness.normal\")}),Object(an.jsx)(\"option\",{value:3,children:We(\"navigator.roomsettings.wall_thickness.thick\")})]}),Object(an.jsxs)(\"select\",{className:\"form-control form-control-sm\",value:t.thicknessFloor,onChange:e=>{return t=parseInt(e.target.value),void s((e=>{const s={...e};return s.thicknessFloor=t,s}));var t},children:[Object(an.jsx)(\"option\",{value:0,children:We(\"navigator.roomsettings.floor_thickness.thinnest\")}),Object(an.jsx)(\"option\",{value:1,children:We(\"navigator.roomsettings.floor_thickness.thin\")}),Object(an.jsx)(\"option\",{value:2,children:We(\"navigator.roomsettings.floor_thickness.normal\")}),Object(an.jsx)(\"option\",{value:3,children:We(\"navigator.roomsettings.floor_thickness.thick\")})]})]})]})]})]})},xo=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(!1),[i,o]=Object(c.useState)({tilemap:\"\",reservedTiles:[],entryPoint:[0,0],entryPointDir:2,wallHeight:-1,thicknessWall:1,thicknessFloor:1}),[d,u]=Object(c.useState)({entryPointDir:2,wallHeight:-1,thicknessWall:1,thicknessFloor:1});return mr(a.Eg.DISPOSED,(e=>s(!1))),pr(a.Sb,(e=>{const t=e.getParser();o((e=>{const s={...e};return s.tilemap=t.model,s.wallHeight=t.wallHeight+1,s})),u((e=>{const s={...e};return s.wallHeight=t.wallHeight+1,s}))})),pr(a.Lh,(e=>{const t=e.getParser();o((e=>{const s={...e};return s.thicknessFloor=uo(t.thicknessFloor),s.thicknessWall=uo(t.thicknessWall),s})),u((e=>{const s={...e};return s.thicknessFloor=uo(t.thicknessFloor),s.thicknessWall=uo(t.thicknessWall),s}))})),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e))}},eventUrlPrefix:\"floor-editor/\"};return l(e),()=>E(e)}),[]),Object(c.useEffect)((()=>{jo.instance.initialize()}),[]),Object(an.jsxs)(bo,{value:{originalFloorplanSettings:i,setOriginalFloorplanSettings:o,visualizationSettings:d,setVisualizationSettings:u},children:[t&&Object(an.jsxs)(yn,{uniqueKey:\"floorpan-editor\",className:\"nitro-floorplan-editor\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"floor.plan.editor.title\"),onCloseClick:()=>s(!1)}),Object(an.jsxs)(In,{overflow:\"hidden\",children:[Object(an.jsx)(fo,{}),Object(an.jsx)(mo,{overflow:\"hidden\"}),Object(an.jsxs)(hn,{justifyContent:\"between\",children:[Object(an.jsx)(bn,{onClick:()=>{u({wallHeight:i.wallHeight,thicknessWall:i.thicknessWall,thicknessFloor:i.thicknessFloor,entryPointDir:i.entryPointDir}),jo.instance.doorLocation=new a.nf(i.entryPoint[0],i.entryPoint[1]),jo.instance.setTilemap(i.tilemap,i.reservedTiles),jo.instance.renderTiles()},children:We(\"floor.plan.editor.reload\")}),Object(an.jsxs)(gn,{children:[Object(an.jsx)(bn,{disabled:!0,children:We(\"floor.plan.editor.preview\")}),Object(an.jsx)(bn,{onClick:e=>r(!0),children:We(\"floor.plan.editor.import.export\")}),Object(an.jsx)(bn,{onClick:()=>{Ee(new a.Ii(jo.instance.getCurrentTilemapString(),jo.instance.doorLocation.x,jo.instance.doorLocation.y,d.entryPointDir,lo(d.thicknessWall),lo(d.thicknessFloor),d.wallHeight-1))},children:We(\"floor.plan.editor.save\")})]})]})]})]}),n&&Object(an.jsx)(po,{onCloseClick:()=>r(!1)})]})},_o=e=>{const{friend:t=null}=e,[s,n]=Object(c.useState)(!1),{followFriend:r=null}=ec(),i=Object(c.useRef)();return Object(c.useEffect)((()=>{const e=e=>{const t=i.current;t&&(e.target===t||t.contains(e.target)||n(!1))};return document.addEventListener(a.Ve.MOUSE_CLICK,e),()=>document.removeEventListener(a.Ve.MOUSE_CLICK,e)}),[]),t?Object(an.jsxs)(\"div\",{ref:i,className:\"btn btn-success friend-bar-item \"+(s?\"friend-bar-item-active\":\"\"),onClick:e=>n((e=>!e)),children:[Object(an.jsxs)(\"div\",{className:\"friend-bar-item-head position-absolute \"+(t.id>0?\"avatar\":\"group\"),children:[t.id>0&&Object(an.jsx)(kn,{headOnly:!0,figure:t.figure,direction:2}),t.id<=0&&Object(an.jsx)(Dn,{isGroup:!0,badgeCode:t.figure})]}),Object(an.jsx)(\"div\",{className:\"text-truncate\",children:t.name}),s&&Object(an.jsxs)(\"div\",{className:\"d-flex justify-content-between\",children:[Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-friendbar-chat cursor-pointer\",onClick:e=>Xt(t.id)}),t.followingAllowed&&Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-friendbar-visit cursor-pointer\",onClick:e=>r(t)}),Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-profile cursor-pointer\",onClick:e=>Xs(t.id)})]})]}):Object(an.jsxs)(\"div\",{ref:i,className:\"btn btn-primary friend-bar-item friend-bar-search\",children:[Object(an.jsx)(\"div\",{className:\"friend-bar-item-head position-absolute\"}),Object(an.jsx)(\"div\",{className:\"text-truncate\",children:We(\"friend.bar.find.title\")})]})},Io=e=>{const{onlineFriends:t=null}=e,[s,n]=Object(c.useState)(0),r=Object(c.useRef)();return Object(an.jsxs)(hn,{innerRef:r,alignItems:\"center\",className:\"friend-bar\",children:[Object(an.jsx)(bn,{variant:\"black\",className:\"friend-bar-button\",disabled:s<=0,onClick:e=>n(s-1),children:Object(an.jsx)(fn.a,{icon:\"chevron-left\"})}),Array.from(Array(3),((e,n)=>Object(an.jsx)(_o,{friend:t[s+n]||null},n))),Object(an.jsx)(bn,{variant:\"black\",className:\"friend-bar-button\",disabled:!(t.length>3&&s+3<=t.length-1),onClick:e=>n(s+1),children:Object(an.jsx)(fn.a,{icon:\"chevron-right\"})})]})},Eo=e=>{const{friend:t=null,selected:s=!1,selectFriend:n=null}=e,[r,i]=Object(c.useState)(!1),{followFriend:a=null,updateRelationship:o=null}=ec(),l=(e,s)=>{e.stopPropagation(),o(t,s),i(!1)};return t?Object(an.jsxs)(pn,{justifyContent:\"between\",className:`px-2 py-1 ${s&&\"bg-primary text-white\"}`,onClick:e=>n(t.id),children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(on,{onClick:e=>e.stopPropagation(),children:Object(an.jsx)(ir,{userId:t.id})}),Object(an.jsx)(\"div\",{children:t.name})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[!r&&Object(an.jsxs)(an.Fragment,{children:[t.followingAllowed&&Object(an.jsx)(on,{pointer:!0,onClick:e=>{e.stopPropagation(),a(t)},className:\"nitro-friends-spritesheet icon-follow\",title:We(\"friendlist.tip.follow\")}),t.online&&Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-chat\",onClick:e=>{e.stopPropagation(),Xt(t.id)},title:We(\"friendlist.tip.im\")}),t.id>0&&Object(an.jsx)(on,{className:`nitro-friends-spritesheet icon-${(()=>{if(!t)return\"none\";switch(t.relationshipStatus){case Gt.RELATIONSHIP_HEART:return\"heart\";case Gt.RELATIONSHIP_SMILE:return\"smile\";case Gt.RELATIONSHIP_BOBBA:return\"bobba\";default:return\"none\"}})()} cursor-pointer`,onClick:e=>{e.stopPropagation(),i(!0)},title:We(\"infostand.link.relationship\")})]}),r&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-heart\",onClick:e=>l(e,Gt.RELATIONSHIP_HEART)}),Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-smile\",onClick:e=>l(e,Gt.RELATIONSHIP_SMILE)}),Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-bobba\",onClick:e=>l(e,Gt.RELATIONSHIP_BOBBA)}),Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-none\",onClick:e=>l(e,Gt.RELATIONSHIP_NONE)})]})]})]}):null},Co=e=>{const{list:t=null,selectedFriendsIds:s=null,selectFriend:n=null}=e;return t&&t.length?Object(an.jsx)(an.Fragment,{children:t.map(((e,t)=>Object(an.jsx)(Eo,{friend:e,selected:s&&s.indexOf(e.id)>=0,selectFriend:n},t)))}):null},vo=e=>{const{request:t=null}=e,{requestResponse:s=null}=ec();return t?Object(an.jsxs)(pn,{justifyContent:\"between\",className:\"px-2 py-1\",children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:t.id}),Object(an.jsx)(\"div\",{children:t.name})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-accept cursor-pointer\",onClick:e=>s(t.id,!0)}),Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-deny cursor-pointer\",onClick:e=>s(t.id,!1)})]})]}):null},No=e=>{const{children:t=null,...s}=e,{requests:n=[],requestResponse:r=null}=ec();return n.length?Object(an.jsxs)(xn,{...s,children:[Object(an.jsxs)(Fn,{fullHeight:!0,justifyContent:\"between\",gap:1,children:[Object(an.jsx)(Fn,{gap:0,children:n.map(((e,t)=>Object(an.jsx)(vo,{request:e},t)))}),Object(an.jsx)(hn,{justifyContent:\"center\",className:\"px-2 py-1\",children:Object(an.jsx)(bn,{onClick:e=>r(-1,!1),children:We(\"friendlist.requests.dismissall\")})})]}),t]}):null},To=e=>{const{selectedFriendsIds:t=null,removeFriendsText:s=null,removeSelectedFriends:n=null,onCloseClick:r=null}=e;return Object(an.jsxs)(yn,{className:\"nitro-friends-remove-confirmation\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"friendlist.removefriendconfirm.title\"),onCloseClick:r}),Object(an.jsxs)(In,{className:\"text-black\",children:[Object(an.jsx)(\"div\",{children:s}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"danger\",disabled:0===t.length,onClick:n,children:We(\"generic.ok\")}),Object(an.jsx)(bn,{fullWidth:!0,onClick:r,children:We(\"generic.cancel\")})]})]})]})},So=e=>{const{selectedFriendsIds:t=null,onCloseClick:s=null,sendRoomInvite:n=null}=e,[r,i]=Object(c.useState)(\"\");return Object(an.jsxs)(yn,{className:\"nitro-friends-room-invite\",uniqueKey:\"nitro-friends-room-invite\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"friendlist.invite.title\"),onCloseClick:s}),Object(an.jsxs)(In,{className:\"text-black\",children:[We(\"friendlist.invite.summary\",[\"count\"],[t.length.toString()]),Object(an.jsx)(\"textarea\",{className:\"form-control\",value:r,maxLength:255,onChange:e=>i(e.target.value)}),Object(an.jsx)(ur,{center:!0,className:\"bg-muted rounded p-1\",children:We(\"friendlist.invite.note\")}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",disabled:0===r.length||0===t.length,onClick:()=>n(r),children:We(\"friendlist.invite.send\")}),Object(an.jsx)(bn,{fullWidth:!0,onClick:s,children:We(\"generic.cancel\")})]})]})]})},wo=e=>{const{...t}=e,[s,n]=Object(c.useState)(\"\"),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(null),{canRequestFriend:d=null,requestFriend:u=null}=ec();return pr(a.be,(e=>{const t=e.getParser();i(t.friends),l(t.others)})),Object(c.useEffect)((()=>{if(!s||!s.length)return;const e=setTimeout((()=>{s&&s.length&&Ee(new a.ae(s))}),500);return()=>clearTimeout(e)}),[s]),Object(an.jsxs)(xn,{...t,children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"search-input form-control form-control-sm w-100 rounded-0\",placeholder:We(\"generic.search\"),value:s,maxLength:50,onChange:e=>n(e.target.value)}),Object(an.jsxs)(Fn,{children:[r&&Object(an.jsxs)(an.Fragment,{children:[0===r.length&&Object(an.jsx)(ur,{bold:!0,small:!0,className:\"px-2 py-1\",children:We(\"friendlist.search.nofriendsfound\")}),r.length>0&&Object(an.jsxs)(Fn,{gap:0,children:[Object(an.jsx)(ur,{bold:!0,small:!0,className:\"px-2 py-1\",children:We(\"friendlist.search.friendscaption\",[\"cnt\"],[r.length.toString()])}),Object(an.jsx)(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),Object(an.jsx)(Fn,{gap:0,children:r.map((e=>Object(an.jsxs)(pn,{justifyContent:\"between\",className:\"px-2 py-1\",children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:e.avatarId}),Object(an.jsx)(\"div\",{children:e.avatarName})]}),Object(an.jsx)(hn,{alignItems:\"center\",gap:1,children:e.isAvatarOnline&&Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-chat cursor-pointer\",onClick:t=>Xt(e.avatarId),title:We(\"friendlist.tip.im\")})})]},e.avatarId)))})]})]}),o&&Object(an.jsxs)(an.Fragment,{children:[0===o.length&&Object(an.jsx)(ur,{bold:!0,small:!0,className:\"px-2 py-1\",children:We(\"friendlist.search.noothersfound\")}),o.length>0&&Object(an.jsxs)(Fn,{gap:0,children:[Object(an.jsx)(ur,{bold:!0,small:!0,className:\"px-2 py-1\",children:We(\"friendlist.search.otherscaption\",[\"cnt\"],[o.length.toString()])}),Object(an.jsx)(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),Object(an.jsx)(Fn,{gap:0,children:o.map((e=>Object(an.jsxs)(pn,{justifyContent:\"between\",className:\"px-2 py-1\",children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:e.avatarId}),Object(an.jsx)(\"div\",{children:e.avatarName})]}),Object(an.jsx)(hn,{alignItems:\"center\",gap:1,children:d(e.avatarId)&&Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-add cursor-pointer\",onClick:t=>u(e.avatarId,e.avatarName),title:We(\"friendlist.tip.addfriend\")})})]},e.avatarId)))})]})]})]})]})},Ro=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)([]),[i,o]=Object(c.useState)(!1),[d,u]=Object(c.useState)(!1),{onlineFriends:j=[],offlineFriends:h=[],requests:b=[],requestFriend:g=null}=ec(),m=Object(c.useMemo)((()=>{if(!n||!n.length)return\"\";const e=[];for(const t of n){let s=j.find((e=>e.id===t));s||(s=h.find((e=>e.id===t))),s&&e.push(s.name)}return We(\"friendlist.removefriendconfirm.userlist\",[\"user_names\"],[e.join(\", \")])}),[h,j,n]),O=Object(c.useCallback)((e=>{e<0||r((t=>{const s=[...t],n=s.indexOf(e);return n>-1?s.splice(n,1):s.push(e),s}))}),[r]);return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e));case\"request\":if(t.length<4)return;g(parseInt(t[2]),t[3])}},eventUrlPrefix:\"friends/\"};return l(e),()=>E(e)}),[g]),t?Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(yn,{className:\"nitro-friends\",uniqueKey:\"nitro-friends\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"friendlist.friends\"),onCloseClick:e=>s(!1)}),Object(an.jsxs)(In,{overflow:\"hidden\",gap:1,className:\"text-black p-0\",children:[Object(an.jsxs)(_n,{fullHeight:!0,overflow:\"hidden\",children:[Object(an.jsx)(xn,{headerText:We(\"friendlist.friends\")+` (${j.length})`,isExpanded:!0,children:Object(an.jsx)(Co,{list:j,selectedFriendsIds:n,selectFriend:O})}),Object(an.jsx)(xn,{headerText:We(\"friendlist.friends.offlinecaption\")+` (${h.length})`,children:Object(an.jsx)(Co,{list:h,selectedFriendsIds:n,selectFriend:O})}),Object(an.jsx)(No,{headerText:We(\"friendlist.tab.friendrequests\")+` (${b.length})`,isExpanded:!0}),Object(an.jsx)(wo,{headerText:We(\"people.search.title\")})]}),n&&n.length>0&&Object(an.jsxs)(hn,{gap:1,className:\"p-1\",children:[Object(an.jsx)(bn,{fullWidth:!0,onClick:()=>o(!0),children:We(\"friendlist.tip.invite\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"danger\",onClick:e=>u(!0),children:We(\"generic.delete\")})]})]})]}),i&&Object(an.jsx)(So,{selectedFriendsIds:n,onCloseClick:()=>o(!1),sendRoomInvite:e=>{n.length&&e&&e.length&&!(e.length>255)&&(Ee(new a.Yh(e,n)),o(!1))}}),d&&Object(an.jsx)(To,{selectedFriendsIds:n,removeFriendsText:m,onCloseClick:()=>u(!1),removeSelectedFriends:()=>{0!==n.length&&(r((e=>(Ee(new a.hg(...e)),[]))),u(!1))}})]}):null},yo=e=>{const{thread:t=null,group:s=null}=e,n=Object(c.useMemo)((()=>s.type===Wt.GROUP_CHAT&&Ht(s.chats[0].extraData)),[s]),r=Object(c.useMemo)((()=>!(!t||!s)&&(s.type===Wt.PRIVATE_CHAT&&s.userId===F().userId||!(!n||!s.chats.length||n.userId!==F().userId))),[t,s,n]);return t&&s?s.userId?Object(an.jsxs)(hn,{fullWidth:!0,justifyContent:r?\"end\":\"start\",gap:2,children:[Object(an.jsxs)(on,{shrink:!0,className:\"message-avatar\",children:[s.type===Wt.PRIVATE_CHAT&&!r&&Object(an.jsx)(kn,{figure:t.participant.figure,direction:2}),n&&!r&&Object(an.jsx)(kn,{figure:n.figure,direction:2})]}),Object(an.jsxs)(on,{className:\"bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-\"+(r?\"right\":\"left\"),children:[Object(an.jsxs)(on,{className:\"fw-bold\",children:[r&&F().userName,!r&&(n?n.username:t.participant.name)]}),s.chats.map(((e,t)=>Object(an.jsx)(on,{className:\"text-break\",children:e.message},t)))]}),r&&Object(an.jsx)(on,{shrink:!0,className:\"message-avatar\",children:Object(an.jsx)(kn,{figure:F().figure,direction:4})})]}):Object(an.jsx)(an.Fragment,{children:s.chats.map(((e,t)=>Object(an.jsx)(hn,{fullWidth:!0,gap:2,justifyContent:\"start\",children:Object(an.jsxs)(on,{className:\"w-100 text-break\",children:[e.type===Yt.SECURITY_NOTIFICATION&&Object(an.jsxs)(hn,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-muted\",children:[Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-warning flex-shrink-0\"}),Object(an.jsx)(on,{children:e.message})]}),e.type===Yt.ROOM_INVITE&&Object(an.jsxs)(hn,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-black\",children:[Object(an.jsx)(on,{className:\"messenger-notification-icon flex-shrink-0\"}),Object(an.jsxs)(on,{children:[We(\"messenger.invitation\")+\" \",e.message]})]})]})},t)))}):null},ko=e=>{const{thread:t=null}=e;return t.setRead(),Object(an.jsx)(an.Fragment,{children:t.groups.length>0&&t.groups.map(((e,s)=>Object(an.jsx)(yo,{thread:t,group:e},s)))})},Ao=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(-1),[i,o]=Object(c.useState)(\"\"),{visibleThreads:d=[],activeThread:u=null,getMessageThread:j=null,sendMessage:h=null,setActiveThreadId:b=null,closeThread:g=null}=sc(),{report:m=null}=ic(),O=Object(c.useRef)(),p=()=>{u&&i.length&&(h(u,F().userId,i),o(\"\"))};return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(2===t.length){if(\"open\"===t[1])return void s(!0);if(\"toggle\"===t[1])return void s((e=>!e));const e=j(parseInt(t[1]));if(!e)return;b(e.threadId),s(!0)}},eventUrlPrefix:\"friends-messenger/\"};return l(e),()=>E(e)}),[j,b]),Object(c.useEffect)((()=>{t&&u&&(O.current.scrollTop=O.current.scrollHeight)}),[t,u]),Object(c.useEffect)((()=>{!t||u?!t&&u&&(r(u.threadId),b(-1)):n>0?b(n):d.length>0&&b(d[0].threadId)}),[t,u,n,d,b]),t?Object(an.jsxs)(yn,{className:\"nitro-friends-messenger\",uniqueKey:\"nitro-friends-messenger\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"messenger.window.title\",[\"OPEN_CHAT_COUNT\"],[d.length.toString()]),onCloseClick:e=>s(!1)}),Object(an.jsx)(In,{children:Object(an.jsxs)(un,{overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{size:4,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"toolbar.icon.label.messenger\")}),Object(an.jsx)(Fn,{fullHeight:!0,overflow:\"auto\",children:d&&d.length>0&&d.map((e=>Object(an.jsxs)(Vn,{itemActive:u===e,onClick:t=>b(e.threadId),children:[e.unread&&Object(an.jsx)(Bn,{count:e.unreadCount}),Object(an.jsxs)(hn,{fullWidth:!0,alignItems:\"center\",gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",className:\"friend-head px-1\",children:[e.participant.id>0&&Object(an.jsx)(kn,{figure:e.participant.figure,headOnly:!0,direction:3}),e.participant.id<=0&&Object(an.jsx)(Dn,{isGroup:!0,badgeCode:e.participant.figure})]}),Object(an.jsx)(ur,{truncate:!0,grow:!0,children:e.participant.name})]})]},e.threadId)))})]}),Object(an.jsx)(Fn,{size:8,overflow:\"hidden\",children:u&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{bold:!0,center:!0,children:We(\"messenger.window.separator\",[\"FRIEND_NAME\"],[u.participant.name])}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsxs)(gn,{children:[Object(an.jsx)(bn,{onClick:()=>u&&u.participant&&Ee(new a.Tb(u.participant.id)),children:Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-follow\"})}),Object(an.jsx)(bn,{onClick:()=>u&&u.participant&&Xs(u.participant.id),children:Object(an.jsx)(on,{className:\"nitro-friends-spritesheet icon-profile-sm\"})})]}),Object(an.jsx)(bn,{variant:\"danger\",onClick:()=>m(us.IM,{reportedUserId:u.participant.id}),children:We(\"messenger.window.button.report\")})]}),Object(an.jsx)(bn,{onClick:e=>g(u.threadId),children:Object(an.jsx)(fn.a,{icon:\"times\"})})]}),Object(an.jsx)(Fn,{fit:!0,className:\"bg-muted p-2 rounded chat-messages\",children:Object(an.jsx)(Fn,{innerRef:O,overflow:\"auto\",children:Object(an.jsx)(ko,{thread:u})})}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:255,placeholder:We(\"messenger.window.input.default\",[\"FRIEND_NAME\"],[u.participant.name]),value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{\"Enter\"===e.key&&p()}}),Object(an.jsx)(bn,{variant:\"success\",onClick:p,children:We(\"widgets.chatinput.say\")})]})]})})]})})]}):null},Do=e=>{const{settings:t=null,onlineFriends:s=[]}=ec();return t?Object(an.jsxs)(an.Fragment,{children:[Object(Tn.createPortal)(Object(an.jsx)(Io,{onlineFriends:s}),document.getElementById(\"toolbar-friend-bar-container\")),Object(an.jsx)(Ro,{}),Object(an.jsx)(Ao,{})]}):null},Lo=[0,1,2,3,4,5,6,7,8],Po=e=>{const{badgeParts:t=[],setBadgeParts:s=null}=e,[n,r]=Object(c.useState)(-1),{groupCustomize:i=null}=rc(),a=(e,n,c)=>{const i=[...t];i[e][n]=c,s(i),\"key\"===n&&r(-1)};return t&&t.length?Object(an.jsxs)(an.Fragment,{children:[n<0&&t&&t.length>0&&t.map(((e,s)=>Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:2,className:\"bg-muted rounded px-2 py-1\",children:[Object(an.jsxs)(hn,{pointer:!0,center:!0,className:\"bg-muted rounded p-1\",onClick:e=>r(s),children:[t[s].code&&t[s].code.length>0&&Object(an.jsx)(Dn,{badgeCode:t[s].code,isGroup:!0}),(!t[s].code||!t[s].code.length)&&Object(an.jsx)(hn,{center:!0,className:\"badge-image group-badge\",children:Object(an.jsx)(fn.a,{icon:\"plus\"})})]}),e.type!==es.BASE&&Object(an.jsx)(un,{gap:1,columnCount:3,children:Lo.map(((e,n)=>Object(an.jsx)(on,{pointer:!0,className:\"group-badge-position-swatch \"+(t[s].position===e?\"active\":\"\"),onClick:t=>a(s,\"position\",e)},n)))}),Object(an.jsx)(un,{gap:1,columnCount:8,children:i.badgePartColors.length>0&&i.badgePartColors.map(((e,n)=>Object(an.jsx)(on,{pointer:!0,className:\"group-badge-color-swatch \"+(t[s].color===n+1?\"active\":\"\"),style:{backgroundColor:\"#\"+e.color},onClick:e=>a(s,\"color\",n+1)},n)))})]},s))),n>=0&&Object(an.jsxs)(un,{gap:1,columnCount:5,children:[t[n].type===es.SYMBOL&&Object(an.jsx)(Fn,{pointer:!0,center:!0,className:\"bg-muted rounded p-1\",onClick:e=>a(n,\"key\",0),children:Object(an.jsx)(hn,{center:!0,className:\"badge-image group-badge\",children:Object(an.jsx)(fn.a,{icon:\"times\"})})}),(t[n].type===es.BASE?i.badgeBases:i.badgeSymbols).map(((e,s)=>Object(an.jsx)(Fn,{pointer:!0,center:!0,className:\"bg-muted rounded p-1\",onClick:t=>a(n,\"key\",e.id),children:Object(an.jsx)(Dn,{badgeCode:es.getCode(t[n].type,e.id,t[n].color,4),isGroup:!0})},s)))]})]}):null},Uo=e=>{const{groupData:t=null,setGroupData:s=null,setCloseAction:n=null,skipDefault:r=null}=e,[i,o]=Object(c.useState)(null),{groupCustomize:l=null}=rc(),d=Object(c.useCallback)((()=>{if(!t||!i||!i.length)return!1;if(t.groupBadgeParts===i)return!0;if(t.groupId<=0)return s((e=>{const t={...e};return t.groupBadgeParts=i,t})),!0;const e=[];return i.forEach((t=>{t.code&&(e.push(t.key),e.push(t.color),e.push(t.position))})),Ee(new a.wd(t.groupId,e)),!0}),[t,i,s]);return Object(c.useEffect)((()=>{if(t.groupBadgeParts)return;const e=[new es(es.BASE,l.badgeBases[0].id,l.badgePartColors[0].id),new es(es.SYMBOL,0,l.badgePartColors[0].id),new es(es.SYMBOL,0,l.badgePartColors[0].id),new es(es.SYMBOL,0,l.badgePartColors[0].id),new es(es.SYMBOL,0,l.badgePartColors[0].id)];s((t=>({...t,groupBadgeParts:e})))}),[t.groupBadgeParts,l,s]),Object(c.useEffect)((()=>{t.groupId<=0?o(t.groupBadgeParts?[...t.groupBadgeParts]:null):o(t.groupBadgeParts)}),[t]),Object(c.useEffect)((()=>(n({action:d}),()=>n(null))),[n,d]),Object(an.jsxs)(un,{overflow:\"hidden\",gap:1,children:[Object(an.jsx)(Fn,{size:2,children:Object(an.jsx)(hn,{center:!0,className:\"bg-muted rounded p-1\",children:Object(an.jsx)(Dn,{badgeCode:(()=>{if(!i||!i.length)return\"\";let e=\"\";return i.forEach((t=>t.code&&(e+=t.code))),e})(),isGroup:!0})})}),Object(an.jsx)(Fn,{size:10,overflow:\"auto\",children:Object(an.jsx)(Po,{badgeParts:i,setBadgeParts:o})})]})},Mo=e=>{const{groupData:t=null,setGroupData:s=null,setCloseAction:n=null}=e,[r,i]=Object(c.useState)(null),{groupCustomize:o=null}=rc(),l=e=>0===e?o.groupColorsA.find((t=>t.id===r[e])).color:o.groupColorsB.find((t=>t.id===r[e])).color,d=(e,t)=>{i((s=>{const n=[...s];return n[e]=t,n}))},u=Object(c.useCallback)((()=>!!(t&&r&&r.length)&&(t.groupColors===r||(t.groupId<=0?(s((e=>{const t={...e};return t.groupColors=[...r],t})),!0):(Ee(new a.xd(t.groupId,r[0],r[1])),!0)))),[t,r,s]);return Object(c.useEffect)((()=>{if(!o.groupColorsA||!o.groupColorsB||t.groupColors)return;const e=[o.groupColorsA[0].id,o.groupColorsB[0].id];s((t=>({...t,groupColors:e})))}),[o,t.groupColors,s]),Object(c.useEffect)((()=>{t.groupId<=0?i(t.groupColors?[...t.groupColors]:null):i(t.groupColors)}),[t]),Object(c.useEffect)((()=>(n({action:u}),()=>n(null))),[n,u]),r?Object(an.jsxs)(un,{overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{size:2,gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"group.edit.color.guild.color\")}),t.groupColors&&t.groupColors.length>0&&Object(an.jsxs)(hn,{overflow:\"hidden\",className:\"rounded border\",children:[Object(an.jsx)(on,{className:\"group-color-swatch\",style:{backgroundColor:\"#\"+l(0)}}),Object(an.jsx)(on,{className:\"group-color-swatch\",style:{backgroundColor:\"#\"+l(1)}})]})]}),Object(an.jsxs)(Fn,{size:5,gap:1,overflow:\"hidden\",children:[Object(an.jsx)(ur,{bold:!0,children:We(\"group.edit.color.primary.color\")}),Object(an.jsx)(jn,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:t.groupColors&&o.groupColorsA&&o.groupColorsA.map(((e,s)=>Object(an.jsx)(\"div\",{className:\"group-badge-color-swatch cursor-pointer\"+Xi()({\" active\":t.groupColors[0]===e.id}),style:{backgroundColor:\"#\"+e.color},onClick:()=>d(0,e.id)},s)))})]}),Object(an.jsxs)(Fn,{size:5,gap:1,overflow:\"hidden\",children:[Object(an.jsx)(ur,{bold:!0,children:We(\"group.edit.color.secondary.color\")}),Object(an.jsx)(jn,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:t.groupColors&&o.groupColorsB&&o.groupColorsB.map(((e,s)=>Object(an.jsx)(\"div\",{className:\"group-badge-color-swatch cursor-pointer\"+Xi()({\" active\":t.groupColors[1]===e.id}),style:{backgroundColor:\"#\"+e.color},onClick:()=>d(1,e.id)},s)))})]})]}):null},Fo=e=>{const{groupData:t=null,setGroupData:s=null,purchaseCost:n=0}=e,{groupCustomize:r=null}=rc(),c=e=>0===e?r.groupColorsA.find((s=>s.id===t.groupColors[e])).color:r.groupColorsB.find((s=>s.id===t.groupColors[e])).color;return t?Object(an.jsxs)(un,{overflow:\"hidden\",gap:1,children:[Object(an.jsxs)(Fn,{size:3,children:[Object(an.jsxs)(Fn,{center:!0,className:\"bg-muted rounded p-1\",gap:2,children:[Object(an.jsx)(ur,{bold:!0,center:!0,children:We(\"group.create.confirm.guildbadge\")}),Object(an.jsx)(Dn,{badgeCode:(()=>{if(!t||!t.groupBadgeParts||!t.groupBadgeParts.length)return\"\";let e=\"\";return t.groupBadgeParts.forEach((t=>t.code&&(e+=t.code))),e})(),isGroup:!0})]}),Object(an.jsxs)(Fn,{center:!0,className:\"bg-muted rounded p-1\",gap:2,children:[Object(an.jsx)(ur,{bold:!0,center:!0,children:We(\"group.edit.color.guild.color\")}),Object(an.jsxs)(hn,{overflow:\"hidden\",className:\"rounded border\",children:[Object(an.jsx)(on,{className:\"group-color-swatch\",style:{backgroundColor:\"#\"+c(0)}}),Object(an.jsx)(on,{className:\"group-color-swatch\",style:{backgroundColor:\"#\"+c(1)}})]})]})]}),Object(an.jsxs)(Fn,{size:9,justifyContent:\"between\",children:[Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:t.groupName}),Object(an.jsx)(ur,{children:t.groupDescription})]}),Object(an.jsx)(ur,{overflow:\"auto\",children:We(\"group.create.confirm.info\")})]}),Object(an.jsx)(ur,{center:!0,variant:\"white\",className:\"bg-primary rounded p-1\",children:We(\"group.create.confirm.buyinfo\",[\"amount\"],[n.toString()])})]})]}):null},Bo=e=>{const{groupData:t=null,setGroupData:s=null,setCloseAction:n=null,onClose:r=null,isCreator:i=!1,availableRooms:o=[]}=e,[l,d]=Object(c.useState)(\"\"),[u,j]=Object(c.useState)(\"\"),[h,b]=Object(c.useState)(-1),{showConfirm:g=null}=Hr(),O=Object(c.useCallback)((()=>!!(t&&l&&l.length)&&(l===t.groupName&&u===t.groupDescription||(t.groupId<=0?!(h<=0)&&(s((e=>{const t={...e};return t.groupName=l,t.groupDescription=u,t.groupHomeroomId=h,t})),!0):(Ee(new a.yd(t.groupId,l,u||\"\")),!0)))),[t,l,u,h,s]);return Object(c.useEffect)((()=>{d(t.groupName||\"\"),j(t.groupDescription||\"\"),b(t.groupHomeroomId)}),[t]),Object(c.useEffect)((()=>(n({action:O}),()=>n(null))),[n,O]),t?Object(an.jsxs)(Fn,{justifyContent:\"between\",overflow:\"auto\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{center:!0,className:\"col-3\",children:We(\"group.edit.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:l,maxLength:29,onChange:e=>d(e.target.value)})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{center:!0,className:\"col-3\",children:We(\"group.edit.desc\")}),Object(an.jsx)(\"textarea\",{className:\"form-control form-control-sm\",value:u,maxLength:254,onChange:e=>j(e.target.value)})]}),i&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{center:!0,className:\"col-3\",children:We(\"group.edit.base\")}),Object(an.jsx)(Fn,{fullWidth:!0,gap:1,children:Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:h,onChange:e=>b(parseInt(e.target.value)),children:[Object(an.jsx)(\"option\",{value:-1,disabled:!0,children:We(\"group.edit.base.select.room\")}),o&&o.map(((e,t)=>Object(an.jsx)(\"option\",{value:e.id,children:e.name},t)))]})})]}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(on,{className:\"col-3\",children:\"\\xa0\"}),Object(an.jsx)(ur,{small:!0,children:We(\"group.edit.base.warning\")})]})]})]}),!i&&Object(an.jsx)(bn,{variant:\"danger\",onClick:()=>{!t||t.groupId<=0||g(We(\"group.deleteconfirm.desc\"),(()=>{Ee(new a.jd(t.groupId)),r&&r()}),null,null,null,We(\"group.deleteconfirm.title\"))},children:We(\"group.delete\")}),i&&Object(an.jsx)(ur,{underline:!0,center:!0,fullWidth:!0,pointer:!0,onClick:e=>m(\"navigator/create\"),children:We(\"group.createroom\")})]}):null},Ho=[1,2,3,4],Go=e=>{const{onClose:t=null}=e,[s,n]=Object(c.useState)(1),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(null),[d,u]=Object(c.useState)(null),[j,h]=Object(c.useState)(0);return pr(a.gd,(e=>{const t=e.getParser(),s=[];t.availableRooms.forEach(((e,t)=>s.push({id:t,name:e}))),u(s),h(t.groupCost)})),Object(c.useEffect)((()=>{n(1),l({groupId:-1,groupName:null,groupDescription:null,groupHomeroomId:-1,groupState:1,groupCanMembersDecorate:!0,groupColors:null,groupBadgeParts:null}),Ee(new a.fd)}),[l]),o?Object(an.jsxs)(yn,{className:\"nitro-group-creator\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"group.create.title\"),onCloseClick:()=>{i(null),l(null),t&&t()}}),Object(an.jsxs)(In,{children:[Object(an.jsx)(hn,{center:!0,className:\"creator-tabs\",children:Ho.map(((e,t)=>Object(an.jsx)(hn,{center:!0,className:`tab tab-${1===e?\"blue-flat\":4===e?\"yellow\":\"blue-arrow\"} ${s===e?\"active\":\"\"}`,children:Object(an.jsx)(ur,{variant:\"white\",children:We(`group.create.steplabel.${e}`)})},t)))}),Object(an.jsxs)(Fn,{overflow:\"hidden\",children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsx)(on,{className:`nitro-group-tab-image tab-${s}`}),Object(an.jsxs)(Fn,{grow:!0,gap:0,children:[Object(an.jsx)(ur,{bold:!0,fontSize:4,children:We(`group.create.stepcaption.${s}`)}),Object(an.jsx)(ur,{children:We(`group.create.stepdesc.${s}`)})]})]}),Object(an.jsxs)(Fn,{overflow:\"hidden\",children:[1===s&&Object(an.jsx)(Bo,{groupData:o,setGroupData:l,setCloseAction:i,onClose:null,isCreator:!0,availableRooms:d}),2===s&&Object(an.jsx)(Uo,{groupData:o,setGroupData:l,setCloseAction:i}),3===s&&Object(an.jsx)(Mo,{groupData:o,setGroupData:l,setCloseAction:i}),4===s&&Object(an.jsx)(Fo,{groupData:o,setGroupData:l,purchaseCost:j})]}),Object(an.jsxs)(hn,{justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"link\",className:\"text-black\",onClick:()=>{r&&r.action&&!r.action()||(1!==s?n((e=>e-1)):t())},children:We(1===s?\"generic.cancel\":\"group.create.previousstep\")}),Object(an.jsx)(bn,{disabled:4===s&&!ge(),variant:4===s?ge()?\"success\":\"danger\":\"primary\",onClick:()=>{r&&r.action&&!r.action()||(4!==s?n((e=>4===e?e:e+1)):(()=>{if(!o)return;const e=[];o.groupBadgeParts.forEach((t=>{t.code&&(e.push(t.key),e.push(t.color),e.push(t.position))})),Ee(new a.ed(o.groupName,o.groupDescription,o.groupHomeroomId,o.groupColors[0],o.groupColors[1],e))})())},children:We(4===s?ge()?\"group.create.confirm.buy\":\"group.create.confirm.viprequired\":\"group.create.nextstep\")})]})]})]})]}):null},Wo=[\"regular\",\"exclusive\",\"private\"],Vo=e=>{const{groupInformation:t=null,onClose:s=null,overflow:n=\"hidden\",...r}=e,{showConfirm:i=null}=Hr(),o=t&&t.ownerName===F().userName,l=Object(c.useCallback)((e=>{switch(e){case\"members\":Zt(t.id);break;case\"members_pending\":Zt(t.id,2);break;case\"manage\":Jt(t.id);break;case\"homeroom\":ps(t.roomId);break;case\"furniture\":m(\"catalog/open/\"+V.GUILD_CUSTOM_FURNI);break;case\"popular_groups\":m(\"navigator/search/groups\")}}),[t]);return t?Object(an.jsxs)(un,{overflow:n,...r,children:[Object(an.jsxs)(Fn,{center:!0,size:3,overflow:\"hidden\",children:[Object(an.jsx)(hn,{alignItems:\"center\",overflow:\"hidden\",className:\"group-badge\",children:Object(an.jsx)(Dn,{badgeCode:t.badge,isGroup:!0,scale:2})}),Object(an.jsxs)(Fn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{small:!0,underline:!0,pointer:!0,onClick:()=>l(\"members\"),children:We(\"group.membercount\",[\"totalMembers\"],[t.membersCount.toString()])}),t.pendingRequestsCount>0&&Object(an.jsx)(ur,{small:!0,underline:!0,pointer:!0,onClick:()=>l(\"members_pending\"),children:We(\"group.pendingmembercount\",[\"amount\"],[t.pendingRequestsCount.toString()])}),t.isOwner&&Object(an.jsx)(ur,{small:!0,underline:!0,pointer:!0,onClick:()=>l(\"manage\"),children:We(\"group.manage\")})]}),t.membershipType===ts.NOT_MEMBER||t.membershipType===ts.REQUEST_PENDING?null:o?Object(an.jsx)(\"i\",{className:\"icon icon-group-owner\",title:We(\"group.youareowner\")}):t.isAdmin?Object(an.jsx)(\"i\",{className:\"icon icon-group-admin\",title:We(\"group.youareadmin\")}):Object(an.jsx)(\"i\",{className:\"icon icon-group-member\",title:We(\"group.youaremember\")})]}),Object(an.jsxs)(Fn,{size:9,justifyContent:\"between\",overflow:\"auto\",children:[Object(an.jsxs)(Fn,{overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsx)(ur,{bold:!0,children:t.title}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"i\",{className:\"icon icon-group-type-\"+t.type,title:We(`group.edit.settings.type.${Wo[t.type]}.help`)}),t.canMembersDecorate&&Object(an.jsx)(\"i\",{className:\"icon icon-group-decorate\",title:We(\"group.memberscandecorate\")})]})]}),Object(an.jsx)(ur,{small:!0,children:We(\"group.created\",[\"date\",\"owner\"],[t.createdAt,t.ownerName])})]}),Object(an.jsx)(ur,{small:!0,overflow:\"auto\",className:\"group-description\",children:t.description})]}),Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{small:!0,underline:!0,pointer:!0,onClick:()=>l(\"homeroom\"),children:We(\"group.linktobase\")}),Object(an.jsx)(ur,{small:!0,underline:!0,pointer:!0,onClick:()=>l(\"furniture\"),children:We(\"group.buyfurni\")}),Object(an.jsx)(ur,{small:!0,underline:!0,pointer:!0,onClick:()=>l(\"popular_groups\"),children:We(\"group.showgroups\")})]}),t.type!==ss.PRIVATE&&Object(an.jsx)(bn,{disabled:t.membershipType===ts.REQUEST_PENDING||o,onClick:()=>{t.type===ss.PRIVATE&&t.membershipType===ts.NOT_MEMBER||(t.membershipType!==ts.MEMBER?t&&ns(t.id):i(We(\"group.leaveconfirm.desc\"),(()=>{Ee(new a.vd(t.id,F().userId)),s&&s()}),null))},children:We(o?\"group.youareowner\":t.type===ss.PRIVATE?\"\":t.membershipType===ts.MEMBER?\"group.leave\":t.membershipType===ts.NOT_MEMBER&&t.type===ss.REGULAR?\"group.join\":t.membershipType===ts.REQUEST_PENDING?\"group.membershippending\":t.membershipType===ts.NOT_MEMBER&&t.type===ss.EXCLUSIVE?\"group.requestmembership\":void 0)})]})]})]}):null},qo=e=>{const[t,s]=Object(c.useState)(null);return pr(a.nd,(e=>{const n=e.getParser();(t&&t.id===n.id||n.flag)&&s(n)})),t?Object(an.jsxs)(yn,{className:\"nitro-group-information-standalone\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"group.window.title\"),onCloseClick:e=>s(null)}),Object(an.jsx)(In,{children:Object(an.jsx)(Vo,{groupInformation:t,onClose:()=>s(null)})})]}):null},zo=[\"regular\",\"exclusive\",\"private\"],Yo=e=>{const{groupData:t=null,setGroupData:s=null,setCloseAction:n=null}=e,[r,i]=Object(c.useState)(t.groupState),[o,l]=Object(c.useState)(t.groupCanMembersDecorate),d=Object(c.useCallback)((()=>!!t&&(r===t.groupState&&o===t.groupCanMembersDecorate||(t.groupId<=0?(s((e=>{const t={...e};return t.groupState=r,t.groupCanMembersDecorate=o,t})),!0):(Ee(new a.zd(t.groupId,r,o?0:1)),!0)))),[t,r,o,s]);return Object(c.useEffect)((()=>{i(t.groupState),l(t.groupCanMembersDecorate)}),[t]),Object(c.useEffect)((()=>(n({action:d}),()=>n(null))),[n,d]),Object(an.jsxs)(Fn,{overflow:\"auto\",children:[Object(an.jsx)(Fn,{children:zo.map(((e,t)=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"groupState\",checked:r===t,onChange:e=>i(t)}),Object(an.jsxs)(Fn,{gap:0,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"i\",{className:`icon icon-group-type-${t}`}),Object(an.jsx)(ur,{bold:!0,children:We(`group.edit.settings.type.${e}.label`)})]}),Object(an.jsx)(ur,{children:We(`group.edit.settings.type.${e}.help`)})]})]},t)))}),Object(an.jsx)(dr,{}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:o,onChange:e=>l((e=>!e))}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"group.edit.settings.rights.caption\")}),Object(an.jsx)(ur,{children:We(\"group.edit.settings.rights.members.help\")})]})]})]})},$o=[1,2,3,5],Ko=e=>{const[t,s]=Object(c.useState)(1),[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(null),l=()=>{r((e=>(e&&e.action&&e.action(),null))),o(null)};return pr(a.nd,(e=>{const t=e.getParser();i&&i.groupId===t.id&&o((e=>{const s={...e};return s.groupName=t.title,s.groupDescription=t.description,s.groupState=t.type,s.groupCanMembersDecorate=t.canMembersDecorate,s}))})),pr(a.Bd,(e=>{const t=e.getParser(),s=[];t.badgeParts.forEach(((e,t)=>{s.push(new a.bd(e.isBase?a.bd.BASE:a.bd.SYMBOL,e.key,e.color,e.position))})),o({groupId:t.id,groupName:t.title,groupDescription:t.description,groupHomeroomId:t.roomId,groupState:t.state,groupCanMembersDecorate:t.canMembersDecorate,groupColors:[t.colorA,t.colorB],groupBadgeParts:s})})),!i||i.groupId<=0?null:Object(an.jsxs)(yn,{className:\"nitro-group-manager\",children:[Object(an.jsx)(vn,{headerText:We(\"group.window.title\"),onCloseClick:l}),Object(an.jsx)(or,{children:$o.map((e=>Object(an.jsx)(ar,{isActive:t===e,onClick:()=>(e=>{n&&n.action&&n.action(),s(e)})(e),children:We(`group.edit.tab.${e}`)},e)))}),Object(an.jsxs)(In,{children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsx)(on,{className:`nitro-group-tab-image tab-${t}`}),Object(an.jsxs)(Fn,{grow:!0,gap:0,children:[Object(an.jsx)(ur,{bold:!0,fontSize:4,children:We(`group.edit.tabcaption.${t}`)}),Object(an.jsx)(ur,{children:We(`group.edit.tabdesc.${t}`)})]})]}),Object(an.jsxs)(Fn,{grow:!0,overflow:\"hidden\",children:[1===t&&Object(an.jsx)(Bo,{groupData:i,setGroupData:o,setCloseAction:r,onClose:l}),2===t&&Object(an.jsx)(Uo,{groupData:i,setGroupData:o,setCloseAction:r,skipDefault:!0}),3===t&&Object(an.jsx)(Mo,{groupData:i,setGroupData:o,setCloseAction:r}),5===t&&Object(an.jsx)(Yo,{groupData:i,setGroupData:o,setCloseAction:r})]})]})]})},Xo=e=>{const[t,s]=Object(c.useState)(-1),[n,r]=Object(c.useState)(-1),[i,o]=Object(c.useState)(null),[d,u]=Object(c.useState)(-1),[j,h]=Object(c.useState)(0),[b,g]=Object(c.useState)(\"\"),[m,O]=Object(c.useState)(null),{showConfirm:p=null}=Hr(),f=e=>{if(e.rank===a.ud.OWNER)return\"group.members.owner\";if(i.admin){if(e.rank===a.ud.ADMIN)return\"group.members.removerights\";if(e.rank===a.ud.MEMBER)return\"group.members.giverights\"}return\"\"},x=Object(c.useCallback)((()=>{-1!==t&&-1!==n&&-1!==d&&Ee(new a.pd(t,d,b,n))}),[t,n,d,b]);return pr(a.qd,(e=>{const t=e.getParser();o(t),r(t.level),h(Math.ceil(t.totalMembersCount/t.pageSize))})),pr(a.hd,(e=>{const t=e.getParser();p(We(t.furnitureCount>0?\"group.kickconfirm.desc\":\"group.kickconfirm_nofurni.desc\",[\"user\",\"amount\"],[m,t.furnitureCount.toString()]),(()=>{Ee(new a.vd(i.groupId,t.userId)),x()}),null),O(null)})),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(t.length<2)return;const n=parseInt(t[1])||-1,c=parseInt(t[2])||3;s(n),r(c),u(0)},eventUrlPrefix:\"group-members/\"};return l(e),()=>E(e)}),[]),Object(c.useEffect)((()=>{u(0)}),[t,n,b]),Object(c.useEffect)((()=>{-1!==t&&-1!==n&&-1!==d&&Ee(new a.pd(t,d,b,n))}),[t,n,d,b]),Object(c.useEffect)((()=>{-1!==t&&(r(-1),o(null),h(0),g(\"\"),O(null))}),[t]),-1!==t&&i?Object(an.jsxs)(yn,{className:\"nitro-group-members\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"group.members.title\",[\"groupName\"],[i?i.groupTitle:\"\"]),onCloseClick:e=>s(-1)}),Object(an.jsxs)(In,{overflow:\"hidden\",children:[Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsx)(hn,{center:!0,className:\"group-badge\",children:Object(an.jsx)(Dn,{badgeCode:i.badge,isGroup:!0,className:\"mx-auto d-block\"})}),Object(an.jsxs)(Fn,{fullWidth:!0,gap:1,children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm w-100\",placeholder:We(\"group.members.searchinfo\"),value:b,onChange:e=>g(e.target.value)}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm w-100\",value:n,onChange:e=>r(parseInt(e.target.value)),children:[Object(an.jsx)(\"option\",{value:\"0\",children:We(\"group.members.search.all\")}),Object(an.jsx)(\"option\",{value:\"1\",children:We(\"group.members.search.admins\")}),Object(an.jsx)(\"option\",{value:\"2\",children:We(\"group.members.search.pending\")})]})]})]}),Object(an.jsx)(un,{columnCount:2,overflow:\"auto\",className:\"nitro-group-members-list-grid\",children:i.result.map(((e,t)=>Object(an.jsxs)(hn,{gap:2,alignItems:\"center\",overflow:\"hidden\",className:\"member-list-item bg-white rounded p-2\",children:[Object(an.jsx)(\"div\",{className:\"avatar-head cursor-pointer\",onClick:()=>Xs(e.id),children:Object(an.jsx)(kn,{figure:e.figure,headOnly:!0,direction:2})}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{bold:!0,small:!0,pointer:!0,onClick:t=>Xs(e.id),children:e.name}),e.rank!==a.ud.REQUESTED&&Object(an.jsx)(ur,{small:!0,italics:!0,variant:\"muted\",children:We(\"group.members.since\",[\"date\"],[e.joinedAt])})]}),Object(an.jsxs)(Fn,{gap:1,children:[e.rank!==a.ud.REQUESTED&&Object(an.jsx)(hn,{center:!0,children:Object(an.jsx)(on,{pointer:i.admin,className:\"icon icon-group-small-\"+(e.rank===a.ud.OWNER?\"owner\":e.rank===a.ud.ADMIN?\"admin\":i.admin&&e.rank===a.ud.MEMBER?\"not-admin\":\"\"),title:We(f(e)),onClick:t=>(e=>{i.admin&&e.rank!==a.ud.OWNER&&(e.rank!==a.ud.ADMIN?Ee(new a.Zc(i.groupId,e.id)):Ee(new a.ad(i.groupId,e.id)),x())})(e)})}),i.admin&&e.rank===a.ud.REQUESTED&&Object(an.jsx)(hn,{alignItems:\"center\",children:Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-accept\",title:We(\"group.members.accept\"),onClick:t=>(e=>{i.admin&&e.rank===a.ud.REQUESTED&&(Ee(new a.rd(i.groupId,e.id)),x())})(e)})}),i.admin&&e.rank!==a.ud.OWNER&&e.id!==F().userId&&Object(an.jsx)(hn,{alignItems:\"center\",children:Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-deny\",title:We(e.rank===a.ud.REQUESTED?\"group.members.reject\":\"group.members.kick\"),onClick:t=>(e=>{if(i.admin){if(e.rank===a.ud.REQUESTED)return Ee(new a.sd(i.groupId,e.id)),void x();O(e.name),Ee(new a.id(i.groupId,e.id))}})(e)})})]})]},t)))}),Object(an.jsxs)(hn,{gap:1,justifyContent:\"between\",alignItems:\"center\",children:[Object(an.jsx)(bn,{disabled:0===i.pageIndex,onClick:e=>u((e=>e-1)),children:Object(an.jsx)(fn.a,{icon:\"chevron-left\"})}),Object(an.jsx)(ur,{small:!0,children:We(\"group.members.pageinfo\",[\"amount\",\"page\",\"totalPages\"],[i.totalMembersCount.toString(),(i.pageIndex+1).toString(),j.toString()])}),Object(an.jsx)(bn,{disabled:i.pageIndex===j-1,onClick:e=>u((e=>e+1)),children:Object(an.jsx)(fn.a,{icon:\"chevron-right\"})})]})]})]}):null},Qo=e=>{const[t,s]=Object(c.useState)(!1),{}=rc();return pr(a.td,(e=>{const t=e.getParser();s(!1),ps(t.roomId)})),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"create\":return void s(!0);case\"manage\":if(!t[2])return;return s(!1),void Ee(new a.Ad(Number(t[2])))}},eventUrlPrefix:\"groups/\"};return l(e),()=>E(e)}),[]),Object(an.jsxs)(an.Fragment,{children:[t&&Object(an.jsx)(Go,{onClose:()=>s(!1)}),!t&&Object(an.jsx)(Ko,{}),Object(an.jsx)(Xo,{}),Object(an.jsx)(qo,{})]})},Jo=e=>{const{helpRequestDescription:t=null,helpRequestAverageTime:s=0}=e,n=e=>Ee(new a.Kd(e));return Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(Fn,{gap:0,className:\"bg-muted p-2 rounded\",children:[Object(an.jsx)(ur,{bold:!0,children:We(\"guide.help.request.guide.accept.request.title\")}),Object(an.jsx)(ur,{variant:\"muted\",children:We(\"guide.help.request.type.1\")}),Object(an.jsx)(ur,{wrap:!0,textBreak:!0,children:t})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(bn,{variant:\"success\",onClick:e=>n(!0),children:We(\"guide.help.request.guide.accept.accept.button\")}),Object(an.jsx)(bn,{variant:\"danger\",onClick:e=>n(!1),children:We(\"guide.help.request.guide.accept.skip.link\")})]})]})},Zo=e=>{const{isOnDuty:t=!1,isHandlingGuideRequests:s=!1,setIsHandlingGuideRequests:n=null,isHandlingHelpRequests:r=!1,setIsHandlingHelpRequests:c=null,isHandlingBullyReports:i=!1,setIsHandlingBullyReports:a=null,guidesOnDuty:o=0,helpersOnDuty:l=0,guardiansOnDuty:d=0,processAction:u=null}=e;return Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,className:\"bg-muted p-2 rounded\",children:[Object(an.jsx)(on,{className:\"duty-switch\"+(t?\"\":\" off\"),onClick:e=>u(\"toggle_duty\")}),Object(an.jsxs)(Fn,{gap:0,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"guide.help.guide.tool.yourstatus\")}),Object(an.jsx)(ur,{children:We(\"guide.help.guide.tool.duty.\"+(t?\"on\":\"off\"))})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"guide.help.guide.tool.tickettypeselection.caption\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",disabled:t,type:\"checkbox\",checked:s,onChange:e=>n(e.target.checked)}),Object(an.jsx)(ur,{children:We(\"guide.help.guide.tool.tickettypeselection.guiderequests\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",disabled:t,type:\"checkbox\",checked:r,onChange:e=>c(e.target.checked)}),Object(an.jsx)(ur,{children:We(\"guide.help.guide.tool.tickettypeselection.onlyhelprequests\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",disabled:t,type:\"checkbox\",checked:i,onChange:e=>a(e.target.checked)}),Object(an.jsx)(ur,{children:We(\"guide.help.guide.tool.tickettypeselection.bullyreports\")})]})]}),Object(an.jsx)(\"hr\",{className:\"bg-dark m-0\"}),Object(an.jsxs)(hn,{center:!0,gap:2,children:[Object(an.jsx)(on,{className:\"info-icon\"}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(on,{dangerouslySetInnerHTML:{__html:We(\"guide.help.guide.tool.guidesonduty\",[\"amount\"],[o.toString()])}}),Object(an.jsx)(on,{dangerouslySetInnerHTML:{__html:We(\"guide.help.guide.tool.helpersonduty\",[\"amount\"],[l.toString()])}}),Object(an.jsx)(on,{dangerouslySetInnerHTML:{__html:We(\"guide.help.guide.tool.guardiansonduty\",[\"amount\"],[d.toString()])}})]})]}),Object(an.jsx)(\"hr\",{className:\"bg-dark m-0\"}),Object(an.jsxs)(hn,{justifyContent:\"between\",gap:2,children:[Object(an.jsx)(bn,{disabled:!0,onClick:e=>u(\"forum_link\"),children:We(\"guide.help.guide.tool.forum.link\")}),Object(an.jsx)(bn,{disabled:!0,children:We(\"guide.help.guide.tool.skill.link\")})]})]})},el=e=>{const t=Object(c.useRef)(null),{isGuide:s=!1,userId:n=0,userName:r=null,userFigure:i=null,isTyping:o=!1,messageGroups:l=[]}=e,[d,u]=Object(c.useState)(\"\");Object(c.useEffect)((()=>{var e;null===(e=t.current)||void 0===e||e.scrollIntoView({block:\"end\",behavior:\"smooth\"})}),[l]);const j=Object(c.useCallback)((()=>{Ee(new a.Jd)}),[]),h=Object(c.useCallback)((()=>{Ee(new a.Ld)}),[]),b=Object(c.useCallback)((()=>{Ee(new a.Td)}),[]);pr(a.Sd,(e=>{ps(e.getParser().requesterRoomId)}));const g=Object(c.useCallback)((()=>{d&&d.length&&(Ee(new a.Nd(d)),u(\"\"))}),[d]),m=Object(c.useCallback)((e=>{\"Enter\"===e.key&&g()}),[g]),O=Object(c.useCallback)((e=>e===F().userId),[]);return Object(an.jsxs)(Fn,{fullHeight:!0,children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,className:\"bg-muted p-2 rounded\",children:[s&&Object(an.jsxs)(gn,{children:[Object(an.jsx)(bn,{onClick:j,children:We(\"guide.help.request.guide.ongoing.visit.button\")}),Object(an.jsx)(bn,{disabled:!0,onClick:h,children:We(\"guide.help.request.guide.ongoing.invite.button\")})]}),!s&&Object(an.jsxs)(Fn,{gap:0,children:[Object(an.jsx)(ur,{bold:!0,children:r}),Object(an.jsx)(ur,{children:We(\"guide.help.request.user.ongoing.guide.desc\")})]}),Object(an.jsx)(bn,{variant:\"danger\",disabled:!0,children:We(\"guide.help.common.report.link\")})]}),Object(an.jsx)(Fn,{overflow:\"hidden\",gap:1,className:\"bg-muted rounded chat-messages p-2\",children:Object(an.jsxs)(Fn,{overflow:\"auto\",children:[l.map(((e,t)=>Object(an.jsxs)(hn,{fullWidth:!0,justifyContent:O(e.userId)?\"end\":\"start\",gap:2,children:[Object(an.jsx)(on,{shrink:!0,className:\"message-avatar\",children:!O(e.userId)&&Object(an.jsx)(kn,{figure:i,direction:2})}),Object(an.jsxs)(on,{className:\"bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-\"+(O(e.userId)?\"right\":\"left\"),children:[Object(an.jsxs)(ur,{bold:!0,children:[O(e.userId)&&F().userName,!O(e.userId)&&r]}),e.messages.map(((e,t)=>Object(an.jsx)(on,{className:\"text-break\",children:e.message},t)))]}),O(e.userId)&&Object(an.jsx)(on,{className:\"message-avatar flex-shrink-0\",children:Object(an.jsx)(kn,{figure:F().figure,direction:4})})]},t))),Object(an.jsx)(\"div\",{ref:t})]})}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:We(\"guide.help.request.guide.ongoing.input.empty\",[\"name\"],[r]),value:d,onChange:e=>u(e.target.value),onKeyDown:m}),Object(an.jsx)(bn,{variant:\"success\",onClick:g,children:We(\"widgets.chatinput.say\")})]}),o&&Object(an.jsx)(ur,{variant:\"muted\",children:We(\"guide.help.common.typing\")})]}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:b,children:We(\"guide.help.request.\"+(s?\"guide\":\"user\")+\".ongoing.close.link\")})]})},tl=e=>{const{userRequest:t=\"\",setUserRequest:s=null}=e,[n,r]=Object(c.useState)(!1);return Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{children:We(\"guide.help.request.user.create.help\")}),Object(an.jsx)(\"textarea\",{className:\"request-message\",maxLength:140,value:t,onChange:e=>s(e.target.value),placeholder:We(\"guide.help.request.user.create.input.help\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",disabled:t.length<15||n,onClick:()=>{r(!0),Ee(new a.Fd(1,t))},children:We(\"guide.help.request.user.create.input.button\")})]})},sl=e=>{const{userName:t=null}=e,s=Object(c.useCallback)((e=>{Ee(new a.Id(e))}),[]);return Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(hn,{justifyContent:\"between\",gap:1,className:\"bg-muted p-2 rounded\",children:[Object(an.jsxs)(Fn,{gap:0,children:[Object(an.jsx)(ur,{bold:!0,children:t}),Object(an.jsx)(ur,{children:We(\"guide.help.request.user.feedback.guide.desc\")})]}),Object(an.jsx)(bn,{variant:\"danger\",disabled:!0,children:We(\"guide.help.common.report.link\")})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"guide.help.request.user.feedback.closed.title\")}),Object(an.jsx)(ur,{children:We(\"guide.help.request.user.feedback.closed.desc\")})]}),t&&t.length>0&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"bg-dark m-0 mt-auto\"}),Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{center:!0,bold:!0,children:We(\"guide.help.request.user.feedback.question\")}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:e=>s(!0),children:We(\"guide.help.request.user.feedback.positive.button\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"danger\",onClick:e=>s(!1),children:We(\"guide.help.request.user.feedback.negative.button\")})]})]})]})]})},nl=e=>{const{helpRequestDescription:t=null,helpRequestAverageTime:s=0}=e;return Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(Fn,{gap:0,className:\"bg-muted rounded p-2\",children:[Object(an.jsx)(ur,{bold:!0,children:We(\"guide.help.request.guide.accept.request.title\")}),Object(an.jsx)(ur,{variant:\"muted\",children:We(\"guide.help.request.type.1\")}),Object(an.jsx)(ur,{wrap:!0,textBreak:!0,children:t})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"guide.help.request.user.pending.info.title\")}),Object(an.jsx)(ur,{children:We(\"guide.help.request.user.pending.info.message\")}),Object(an.jsx)(ur,{children:We(\"guide.help.request.user.pending.info.waiting\",[\"waitingtime\"],[s.toString()])})]}),Object(an.jsx)(bn,{variant:\"danger\",onClick:()=>Ee(new a.Rd),children:We(\"guide.help.request.user.pending.cancel.button\")})]})},rl=e=>Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"guide.help.request.user.thanks.info.title\")}),Object(an.jsx)(ur,{children:We(\"guide.help.request.user.thanks.info.desc\")})]}),cl=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(We(\"guide.help.guide.tool.title\")),[i,o]=Object(c.useState)(!1),[d,u]=Object(c.useState)(rs.GUIDE_TOOL_MENU),[j,h]=Object(c.useState)(!1),[b,g]=Object(c.useState)(!1),[m,O]=Object(c.useState)(!1),[f,x]=Object(c.useState)(!1),[_,I]=Object(c.useState)(0),[C,v]=Object(c.useState)(0),[N,T]=Object(c.useState)(0),[S,w]=Object(c.useState)(\"\"),[R,y]=Object(c.useState)(null),[k,A]=Object(c.useState)(0),[D,L]=Object(c.useState)(0),[P,U]=Object(c.useState)(null),[M,B]=Object(c.useState)(null),[H,G]=Object(c.useState)(!1),[W,V]=Object(c.useState)([]),{simpleAlert:q=null}=Hr(),z=Object(c.useCallback)(((e,t)=>{switch(e){case rs.GUIDE_TOOL_MENU:r(We(\"guide.help.guide.tool.title\")),o(!1);break;case rs.GUIDE_ACCEPT:r(We(\"guide.help.request.guide.accept.title\")),o(!0);break;case rs.GUIDE_ONGOING:r(We(\"guide.help.request.guide.ongoing.title\",[\"name\"],[t])),o(!0);break;case rs.USER_CREATE:r(We(\"guide.help.request.user.create.title\")),o(!1);break;case rs.USER_PENDING:r(We(\"guide.help.request.user.pending.title\")),o(!0);break;case rs.USER_ONGOING:r(We(\"guide.help.request.user.ongoing.title\",[\"name\"],[t])),o(!0);break;case rs.USER_FEEDBACK:r(We(\"guide.help.request.user.feedback.title\")),o(!0);break;case rs.USER_THANKS:r(We(\"guide.help.request.user.thanks.title\")),o(!1)}u(e),s(!0)}),[]),Y=Object(c.useCallback)((e=>{switch(e.type){case Ar.SHOW_GUIDE_TOOL:return void s(!0);case Ar.HIDE_GUIDE_TOOL:return void s(!1);case Ar.TOGGLE_GUIDE_TOOL:return void s((e=>!e));case Ar.CREATE_HELP_REQUEST:return void z(rs.USER_CREATE)}}),[z]);fr(Ar.SHOW_GUIDE_TOOL,Y),fr(Ar.HIDE_GUIDE_TOOL,Y),fr(Ar.TOGGLE_GUIDE_TOOL,Y),fr(Ar.CREATE_HELP_REQUEST,Y),pr(a.Bf,(e=>{!e.getParser().isAllowed(a.Cf.USE_GUIDE_TOOL)&&j&&(h(!1),Ee(new a.Pd(!1,!1,!1,!1)))})),pr(a.Dd,(e=>{const t=e.getParser();h(t.onDuty),v(t.guidesOnDuty),I(t.helpersOnDuty),T(t.guardiansOnDuty)})),pr(a.Ed,(e=>{const t=e.getParser();y(t.helpRequestDescription),A(t.roleSpecificWaitTime),t.asGuide&&j&&z(rs.GUIDE_ACCEPT),t.asGuide||z(rs.USER_PENDING)})),pr(a.Ud,(e=>{const t=e.getParser();j?(L(t.requesterUserId),U(t.requesterName),B(t.requesterFigure),z(rs.GUIDE_ONGOING,t.requesterName)):(L(t.guideUserId),U(t.guideName),B(t.guideFigure),z(rs.USER_ONGOING,t.guideName))})),pr(a.Qd,(e=>{const t=e.getParser();G(t.isTyping)})),pr(a.Od,(e=>{const t=e.getParser(),s=[...W];let n=s[s.length-1];n&&n.userId===t.senderId||(n=new is(t.senderId),s.push(n)),n.addChat(new cs(t.chatMessage)),V(s)})),pr(a.Md,(e=>{const t=e.getParser(),s=[...W];let n=s[s.length-1];const r=j?F().userId:D;n&&n.userId===r||(n=new is(r),s.push(n)),n.addChat(new cs(t.roomName,t.roomId)),V(s)})),pr(a.Hd,(e=>{j?(L(0),U(null),B(null),G(!1),V([]),z(rs.GUIDE_TOOL_MENU)):z(rs.USER_FEEDBACK)})),pr(a.Gd,(e=>{L(0),U(null),B(null),G(!1),V([]),z(j?rs.GUIDE_TOOL_MENU:rs.USER_THANKS)})),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");t.length<2||t[1]},eventUrlPrefix:\"help/\"};return l(e),()=>E(e)}),[]);const $=Object(c.useCallback)((e=>{switch(e){case\"close\":return s(!1),w(\"\"),void u(rs.GUIDE_TOOL_MENU);case\"toggle_duty\":return b||m||f?void h((e=>(Ee(new a.Pd(!e,!e&&m,!e&&f,!e&&b)),!e))):void q(We(\"guide.help.guide.tool.noqueueselected.message\"),null,null,null,We(\"guide.help.guide.tool.noqueueselected.caption\"),null);case\"forum_link\":const e=p(\"group.homepage.url\",\"\").replace(\"%groupid%\",p(\"guide.help.alpha.groupid\",\"0\"));return void window.open(e)}}),[b,m,f,q]);return t?Object(an.jsxs)(yn,{className:\"nitro-guide-tool\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:n,onCloseClick:e=>$(\"close\"),noCloseButton:i}),Object(an.jsxs)(In,{className:\"text-black\",children:[d===rs.GUIDE_TOOL_MENU&&Object(an.jsx)(Zo,{isOnDuty:j,isHandlingGuideRequests:m,setIsHandlingGuideRequests:O,isHandlingHelpRequests:f,setIsHandlingHelpRequests:x,isHandlingBullyReports:b,setIsHandlingBullyReports:g,guidesOnDuty:C,helpersOnDuty:_,guardiansOnDuty:N,processAction:$}),d===rs.GUIDE_ACCEPT&&Object(an.jsx)(Jo,{helpRequestDescription:R,helpRequestAverageTime:k}),[rs.GUIDE_ONGOING,rs.USER_ONGOING].includes(d)&&Object(an.jsx)(el,{isGuide:j,userId:D,userName:P,userFigure:M,isTyping:H,messageGroups:W}),d===rs.USER_CREATE&&Object(an.jsx)(tl,{userRequest:S,setUserRequest:w}),d===rs.USER_PENDING&&Object(an.jsx)(nl,{helpRequestDescription:R,helpRequestAverageTime:k}),d===rs.USER_FEEDBACK&&Object(an.jsx)(sl,{userName:P}),d===rs.USER_THANKS&&Object(an.jsx)(rl,{})]})]}):null};var il=s(88),al=s(141);const ol=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(0),[d,u]=Object(c.useState)(null),{userFigure:j=null}=pi(),{purse:h=null,clubStatus:b=null}=Tc(),{badgeCodes:g=[],activate:O=null,deactivate:f=null}=uc(),x=()=>We(\"hccenter.special.sum\",[\"credits\"],[(n.creditRewardForStreakBonus+n.creditRewardForMonthlySpent).toString()]);if(pr(a.pb,(e=>{const t=e.getParser();o(t.giftsAvailable)})),pr(a.Th,(e=>{const t=e.getParser();r(t.data)})),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))if(\"open\"!==t[1]);else if(t.length>2&&\"hccenter\"===t[2])s(!0)},eventUrlPrefix:\"habboUI/\"};return l(e),()=>E(e)}),[]),Object(c.useEffect)((()=>{u((e=>{let t=null;return os.forEach((s=>e.indexOf(s)>-1&&(t=s))),t||\"HC1\"})(g))}),[g]),Object(c.useEffect)((()=>{if(!t)return;const e=O();return()=>f(e)}),[t,O,f]),Object(c.useEffect)((()=>{Ee(new a.xc),Ee(new a.Sh)}),[]),!t)return null;const _=Object(an.jsx)(il.a,{id:\"popover-basic\",children:Object(an.jsxs)(il.a.Body,{className:\"text-black py-2 px-3\",children:[Object(an.jsx)(\"h5\",{children:We(\"hccenter.breakdown.title\")}),Object(an.jsx)(\"div\",{children:We(\"hccenter.breakdown.creditsspent\",[\"credits\"],[n.totalCreditsSpent.toString()])}),Object(an.jsx)(\"div\",{children:We(\"hccenter.breakdown.paydayfactor.percent\",[\"percent\"],[(100*n.kickbackPercentage).toString()])}),Object(an.jsx)(\"div\",{children:We(\"hccenter.breakdown.streakbonus\",[\"credits\"],[n.creditRewardForStreakBonus.toString()])}),Object(an.jsx)(\"hr\",{className:\"w-100 text-black my-1\"}),Object(an.jsx)(\"div\",{children:We(\"hccenter.breakdown.total\",[\"credits\",\"actual\"],[x(),(100*(n.kickbackPercentage*n.totalCreditsSpent+n.creditRewardForStreakBonus)/100).toString()])}),Object(an.jsx)(\"div\",{className:\"btn btn-link text-primary p-0\",onClick:()=>m(\"habbopages/\"+p(\"hc.center\")[\"payday.habbopage\"]),children:We(\"hccenter.special.infolink\")})]})});return Object(an.jsxs)(yn,{theme:\"primary-slim\",className:\"nitro-hc-center\",children:[Object(an.jsx)(vn,{headerText:We(\"generic.hccenter\"),onCloseClick:()=>s(!1)}),Object(an.jsxs)(hn,{position:\"relative\",className:\"bg-muted p-2\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(\"div\",{className:\"hc-logo\"}),Object(an.jsx)(hn,{children:Object(an.jsx)(bn,{variant:\"success\",onClick:e=>m(\"catalog/open/\"+p(\"catalog.links\")[\"hc.buy_hc\"]),children:We(b===as.ACTIVE?\"hccenter.btn.extend\":\"hccenter.btn.buy\")})})]}),Object(an.jsx)(on,{position:\"absolute\",className:\"end-0 p-4 top-0 habbo-avatar\",children:Object(an.jsx)(kn,{figure:j,direction:4,scale:2})})]}),Object(an.jsxs)(In,{children:[Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsx)(Dn,{badgeCode:d,className:\"align-self-center flex-shrink-0 me-1\"}),Object(an.jsxs)(Fn,{size:5,className:\"streak-info\",gap:0,children:[Object(an.jsx)(ur,{children:We(\"hccenter.status.\"+b)}),Object(an.jsx)(ur,{dangerouslySetInnerHTML:{__html:(()=>{switch(b){case as.ACTIVE:return We(`hccenter.status.${b}.info`,[\"timeleft\",\"joindate\",\"streakduration\"],[h.clubDays<=0?We(\"purse.clubdays.zero.amount.text\"):h.minutesUntilExpiration>-1&&h.minutesUntilExpiration<1440?a.Zb.shortFormat(60*h.minutesUntilExpiration):a.Zb.shortFormat(86400*(31*h.clubPeriods+h.clubDays)),n.firstSubscriptionDate,a.Zb.shortFormat(86400*n.currentHcStreak)]);case as.EXPIRED:return We(`hccenter.status.${b}.info`,[\"joindate\"],[n.firstSubscriptionDate]);default:return We(`hccenter.status.${b}.info`)}})()}})]})]}),p(\"hc.center\")[\"payday.info\"]&&Object(an.jsxs)(hn,{alignItems:\"center\",children:[Object(an.jsxs)(Fn,{className:\"rounded-start bg-primary p-2 payday-special mb-1\",children:[Object(an.jsx)(\"h4\",{className:\"mb-1\",children:We(\"hccenter.special.title\")}),Object(an.jsx)(\"div\",{children:We(\"hccenter.special.info\")}),Object(an.jsx)(\"div\",{className:\"btn btn-link text-white p-0 mt-auto align-self-baseline\",onClick:()=>m(\"habbopages/\"+p(\"hc.center\")[\"payday.habbopage\"]),children:We(\"hccenter.special.infolink\")})]}),Object(an.jsxs)(\"div\",{className:\"payday flex-shrink-0 p-2\",children:[Object(an.jsx)(\"h5\",{className:\"mb-2 ms-2\",children:We(\"hccenter.special.time.title\")}),Object(an.jsxs)(\"div\",{className:\"d-flex flex-row mb-2\",children:[Object(an.jsx)(\"div\",{className:\"clock me-2\"}),Object(an.jsx)(\"h6\",{className:\"mb-0 align-self-center\",children:n.timeUntilPayday<60?We(\"hccenter.special.time.soon\"):a.Zb.shortFormat(60*n.timeUntilPayday)})]}),b===as.ACTIVE&&Object(an.jsxs)(\"div\",{className:\"pe-3\",children:[Object(an.jsx)(\"h5\",{className:\"ms-2 mb-1 bolder\",children:We(\"hccenter.special.amount.title\")}),Object(an.jsxs)(\"div\",{className:\"d-flex flex-column\",children:[Object(an.jsx)(\"div\",{className:\"w-100 text-center ms-4n\",children:x()}),Object(an.jsx)(al.a,{trigger:[\"hover\",\"focus\"],placement:\"left\",overlay:_,children:Object(an.jsx)(\"div\",{className:\"btn btn-link align-self-end text-primary\",children:We(\"hccenter.breakdown.infolink\")})})]})]})]})]}),p(\"hc.center\")[\"gift.info\"]&&Object(an.jsxs)(\"div\",{className:\"rounded bg-success p-2 d-flex flex-row mb-0\",children:[Object(an.jsxs)(\"div\",{children:[Object(an.jsx)(\"h4\",{className:\"mb-1\",children:We(\"hccenter.gift.title\")}),Object(an.jsx)(\"div\",{dangerouslySetInnerHTML:{__html:i>0?We(\"hccenter.unclaimedgifts\",[\"unclaimedgifts\"],[i.toString()]):We(\"hccenter.gift.info\")}})]}),Object(an.jsx)(\"button\",{className:\"btn btn-primary btn-lg align-self-center ms-auto\",onClick:()=>m(\"catalog/open/\"+p(\"catalog.links\")[\"hc.hc_gifts\"]),children:We(b===as.ACTIVE?\"hccenter.btn.gifts.redeem\":\"hccenter.btn.gifts.view\")})]}),p(\"hc.center\")[\"benefits.info\"]&&Object(an.jsxs)(\"div\",{className:\"benefits text-black py-2\",children:[Object(an.jsx)(\"h5\",{className:\"mb-1 text-primary\",children:We(\"hccenter.general.title\")}),Object(an.jsx)(\"div\",{className:\"mb-2\",dangerouslySetInnerHTML:{__html:We(\"hccenter.general.info\")}}),Object(an.jsx)(\"button\",{className:\"btn btn-link p-0 text-primary\",onClick:()=>m(\"habbopages/\"+p(\"hc.center\")[\"benefits.habbopage\"]),children:We(\"hccenter.general.infolink\")})]})]})]})},ll=e=>{const[t,s]=Object(c.useState)(\"\"),{activeReport:n=null,setActiveReport:r=null}=ic();return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontSize:4,children:We(\"help.emergency.chat_report.subtitle\")}),Object(an.jsx)(ur,{children:We(\"help.cfh.input.text\")})]}),Object(an.jsx)(\"textarea\",{className:\"form-control h-100\",value:t,onChange:e=>s(e.target.value)}),Object(an.jsxs)(hn,{gap:2,justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"secondary\",disabled:!(n.reportType===us.BULLY||n.reportType===us.EMERGENCY),onClick:()=>{r((e=>({...e,currentStep:e.currentStep-1})))},children:We(\"generic.back\")}),Object(an.jsx)(bn,{disabled:t.length<15,onClick:()=>{t.length<15||r((e=>{const s=ds.REPORT_SUMMARY;return{...e,message:t,currentStep:s}}))},children:We(\"help.emergency.main.submit.button\")})]})]})},dl=e=>{const{setActiveReport:t=null}=ic();return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{grow:!0,center:!0,gap:1,children:[Object(an.jsx)(ur,{fontSize:3,children:We(\"help.main.frame.title\")}),Object(an.jsx)(ur,{children:We(\"help.main.self.description\")})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(bn,{onClick:()=>{t((e=>({...e,currentStep:ds.SELECT_USER})))},children:We(\"help.main.bully.subtitle\")}),Object(an.jsx)(bn,{onClick:()=>$e(new Ar(Ar.CREATE_HELP_REQUEST)),children:We(\"help.main.help.title\")}),Object(an.jsx)(bn,{disabled:!0,children:We(\"help.main.self.tips.title\")})]}),Object(an.jsx)(bn,{variant:\"link\",textColor:\"black\",onClick:()=>Ee(new a.wc(!1)),children:We(\"help.main.my.sanction.status\")})]})},ul=e=>{const{username:t=\"\",onAction:s=null}=e,[n,r]=Object(c.useState)(!1);pr(a.Wi,(e=>{const t=e.getParser();t&&t.webId===F().userId&&s(\"close\")}));const i=Object(c.useCallback)((()=>{n||(r(!0),Ee(new a.lb(t)))}),[n,t]);return Object(an.jsxs)(\"div\",{className:\"d-flex flex-column gap-4 h-100\",children:[Object(an.jsx)(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:We(\"tutorial.name_change.info.confirm\")}),Object(an.jsxs)(\"div\",{className:\"d-flex flex-column align-items-center gap-1 h-100\",children:[Object(an.jsx)(\"div\",{children:We(\"tutorial.name_change.confirm\")}),Object(an.jsx)(\"div\",{className:\"fw-bold\",children:t})]}),Object(an.jsxs)(\"div\",{className:\"d-flex gap-2\",children:[Object(an.jsx)(\"button\",{className:\"btn btn-success w-100\",disabled:n,onClick:i,children:We(\"generic.ok\")}),Object(an.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:()=>s(\"close\"),children:We(\"cancel\")})]})]})},jl=e=>{const{onAction:t=null}=e;return Object(an.jsxs)(\"div\",{className:\"d-flex flex-column gap-4 h-100\",children:[Object(an.jsx)(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:We(\"tutorial.name_change.info.main\")}),Object(an.jsx)(\"div\",{className:\"fw-bold d-flex align-items-center justify-content-center h-100 w-100\",children:We(\"tutorial.name_change.current\",[\"name\"],[F().userName])}),Object(an.jsxs)(\"div\",{className:\"d-flex gap-2\",children:[Object(an.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:()=>t(\"start\"),children:We(\"tutorial.name_change.change\")}),Object(an.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:()=>t(\"confirmation\",F().userName),children:We(\"tutorial.name_change.keep\")})]})]})},hl=e=>{const{onAction:t=null}=e,[s,n]=Object(c.useState)(\"\"),[r,i]=Object(c.useState)(!1),[o,l]=Object(c.useState)(!1),[d,u]=Object(c.useState)(null),[j,h]=Object(c.useState)([]);pr(a.nb,(e=>{l(!1);const t=e.getParser();if(t)switch(t.resultCode){case 0:i(!0);break;case 2:u(\"short\");break;case 3:u(\"long\");break;case 4:u(\"invalid\");break;case 5:h(t.nameSuggestions),u(\"taken\");break;case 6:u(\"change_not_allowed\")}}));const b=Object(c.useCallback)((()=>{\"\"!==s&&(i(!1),h([]),u(null),l(!0),Ee(new a.mb(s)))}),[s]),g=Object(c.useCallback)((e=>{i(!1),h([]),u(null),n(e)}),[]);return Object(an.jsxs)(\"div\",{className:\"d-flex flex-column gap-3 h-100\",children:[Object(an.jsx)(\"div\",{children:We(\"tutorial.name_change.info.select\")}),Object(an.jsxs)(\"div\",{className:\"d-flex gap-2\",children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:s,onChange:e=>g(e.target.value)}),Object(an.jsx)(\"button\",{className:\"btn btn-primary\",disabled:\"\"===s||o,onClick:b,children:We(\"tutorial.name_change.check\")})]}),!d&&!r&&Object(an.jsx)(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:We(\"help.tutorial.name.info\")}),d&&Object(an.jsx)(\"div\",{className:\"bg-danger rounded p-2 text-center text-white\",children:We(`help.tutorial.name.${d}`,[\"name\"],[s])}),r&&Object(an.jsx)(\"div\",{className:\"bg-success rounded p-2 text-center text-white\",children:We(\"help.tutorial.name.available\",[\"name\"],[s])}),j&&Object(an.jsx)(\"div\",{className:\"d-flex flex-column gap-2\",children:j.map(((e,t)=>Object(an.jsx)(\"div\",{className:\"col bg-muted rounded p-1 cursor-pointer\",onClick:()=>g(e),children:e},t)))}),Object(an.jsxs)(\"div\",{className:\"d-flex gap-2\",children:[Object(an.jsx)(\"button\",{className:\"btn btn-success w-100\",disabled:!r,onClick:()=>t(\"confirmation\",s),children:We(\"tutorial.name_change.pick\")}),Object(an.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:()=>t(\"close\"),children:We(\"cancel\")})]})]})},bl=\"INIT\",gl=\"INPUT\",ml=\"CONFIRMATION\",Ol=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(bl),[i,a]=Object(c.useState)(\"\");fr(Dr.INIT,(e=>{r(bl),s(!0)}));const o=Object(c.useCallback)(((e,t)=>{switch(e){case\"start\":r(gl);break;case\"confirmation\":a(t),r(ml);break;case\"close\":a(\"\"),s(!1)}}),[]),l=Object(c.useMemo)((()=>{switch(n){case bl:return\"tutorial.name_change.title.main\";case gl:return\"tutorial.name_change.title.select\";case ml:return\"tutorial.name_change.title.confirm\"}}),[n]);return t?Object(an.jsxs)(yn,{className:\"nitro-change-username\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(l),onCloseClick:()=>o(\"close\")}),Object(an.jsxs)(In,{className:\"text-black\",children:[n===bl&&Object(an.jsx)(jl,{onAction:o}),n===gl&&Object(an.jsx)(hl,{onAction:o}),n===ml&&Object(an.jsx)(ul,{username:i,onAction:o})]})]}):null},pl=e=>{const{activeReport:t=null,setActiveReport:s=null}=ic();return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontSize:4,children:We(\"help.cfh.button.send\")}),Object(an.jsx)(ur,{children:We(\"help.main.summary\")})]}),Object(an.jsx)(bn,{variant:\"success\",onClick:()=>{const e=[];switch(t.reportType){case us.BULLY:case us.EMERGENCY:case us.ROOM:{const s=t.roomId<=0?t.reportedChats[0].roomId:t.roomId;t.reportedChats.forEach((t=>e.push(t.entityId,t.message))),Ee(new a.Q(t.message,t.cfhTopic,t.reportedUserId,s,e));break}case us.IM:t.reportedChats.forEach((t=>e.push(t.entityId,t.message))),Ee(new a.O(t.message,t.cfhTopic,t.reportedUserId,e));break;case us.THREAD:Ee(new a.N(t.groupId,t.threadId,t.cfhTopic,t.message));break;case us.MESSAGE:Ee(new a.M(t.groupId,t.threadId,t.messageId,t.cfhTopic,t.message));break;case us.PHOTO:Ee(new a.P(t.extraData,t.cfhTopic,t.roomId,F().userId,t.roomObjectId))}s(null)},children:We(\"guide.help.request.emergency.submit.button\")})]})},fl=e=>{const{sanctionInfo:t=null,setSanctionInfo:s=null}=ic(),n=(e,t,s)=>{let n=`help.sanction.${e}`;switch(t){case\"ALERT\":n+=\".alert\";break;case\"MUTE\":n+=\".mute\";break;case\"BAN_PERMANENT\":n+=\".permban\";break;default:if(n+=\".ban\",s>24)return n+=\".days\",We(n,[\"days\"],[(s/24).toString()])}return We(n,[\"hours\"],[s.toString()])};return t?Object(an.jsxs)(yn,{className:\"nitro-help\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"help.sanction.info.title\"),onCloseClick:()=>s(null)}),Object(an.jsx)(In,{className:\"text-black\",children:Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{center:!0,size:5,overflow:\"hidden\",children:Object(an.jsx)(on,{className:\"index-image\"})}),Object(an.jsxs)(Fn,{justifyContent:\"between\",size:7,overflow:\"hidden\",children:[\"cfh.reason.EMPTY\"===t.sanctionReason?Object(an.jsx)(\"div\",{className:\"col-12 fw-bold\",children:We(\"help.sanction.current.none\")}):Object(an.jsxs)(an.Fragment,{children:[(t.probationHoursLeft>0||t.isSanctionActive)&&Object(an.jsx)(\"div\",{className:\"col-12 fw-bold\",children:We(\"help.sanction.probation.reminder\")}),Object(an.jsxs)(\"div\",{className:\"col-12 fw-bold \"+(t.isSanctionNew?\"text-danger\":\"\"),children:[We(\"help.sanction.last.sanction\"),\" \",n(\"current\",t.sanctionName,t.sanctionLengthHours)]}),Object(an.jsxs)(\"div\",{className:\"col-12\",children:[We(\"generic.start.time\"),\" \",t.sanctionCreationTime]}),Object(an.jsxs)(\"div\",{className:\"col-12\",children:[We(\"generic.reason\"),\" \",t.sanctionReason]}),Object(an.jsxs)(\"div\",{className:\"col-12\",children:[We(\"help.sanction.probation.days.left\"),\" \",Math.trunc(t.probationHoursLeft/24)+1]})]}),t.hasCustomMute&&!t.isSanctionActive&&Object(an.jsx)(\"div\",{className:\"col-12 fw-bold\",children:We(\"help.sanction.custom.mute\")}),t.tradeLockExpiryTime&&t.tradeLockExpiryTime.length>0&&Object(an.jsxs)(\"div\",{className:\"col-12 fw-bold\",children:[We(\"trade.locked.until\"),\" \",t.tradeLockExpiryTime]}),Object(an.jsx)(\"div\",{className:\"col-12\",children:n(\"next\",t.nextSanctionName,t.nextSanctionLengthHours)}),Object(an.jsx)(bn,{variant:\"success\",onClick:e=>s(null),children:We(\"habbo.way.ok.button\")})]})]})})]}):null},xl=e=>{const[t,s]=Object(c.useState)([]),{activeReport:n=null,setActiveReport:r=null}=ic(),{chatHistory:i=[],messengerHistory:o=[]}=Jr(),l=Object(c.useMemo)((()=>{switch(n.reportType){case us.BULLY:case us.EMERGENCY:return i.filter((e=>e.type===Mt.TYPE_CHAT&&e.entityId===n.reportedUserId&&e.entityType===a.ah.USER));case us.IM:return o.filter((e=>e.entityId===n.reportedUserId&&e.type===Mt.TYPE_IM))}return[]}),[n,i,o]);return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontSize:4,children:We(\"help.emergency.chat_report.subtitle\")}),Object(an.jsx)(ur,{children:We(\"help.emergency.chat_report.description\")})]}),Object(an.jsxs)(Fn,{gap:1,overflow:\"hidden\",children:[!l||!l.length&&Object(an.jsx)(ur,{children:We(\"help.cfh.error.no_user_data\")}),l.length>0&&Object(an.jsx)(jn,{gap:1,columnCount:1,columnMinHeight:25,overflow:\"auto\",children:l.map(((e,n)=>Object(an.jsx)(Vn,{onClick:t=>{return n=e,void s((e=>{const t=[...e],s=t.indexOf(n);return s>=0?t.splice(s,1):t.push(n),t}));var n},itemActive:t.indexOf(e)>=0,children:Object(an.jsx)(ur,{children:e.message})},e.id)))})]}),Object(an.jsxs)(hn,{gap:2,justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"secondary\",onClick:()=>{r((e=>({...e,currentStep:e.currentStep-1})))},disabled:n.reportType===us.IM,children:We(\"generic.back\")}),Object(an.jsx)(bn,{disabled:t.length<=0,onClick:()=>{!t||t.length<=0||r((e=>({...e,reportedChats:t,currentStep:ds.SELECT_TOPICS})))},children:We(\"help.emergency.main.submit.button\")})]})]})},_l=e=>{const[t,s]=Object(c.useState)(-1),{chatHistory:n=[]}=Jr(),{activeReport:r=null,setActiveReport:i=null}=ic(),o=Object(c.useMemo)((()=>{const e=new Map;return n.forEach((t=>{t.type!==Mt.TYPE_CHAT||t.entityType!==a.ah.USER||t.entityId===F().userId||e.has(t.entityId)||e.set(t.entityId,{id:t.entityId,username:t.name})})),Array.from(e.values())}),[n]);return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontSize:4,children:We(\"help.emergency.main.step.two.title\")}),o.length>0&&Object(an.jsx)(ur,{children:We(\"report.user.pick.user\")})]}),Object(an.jsxs)(Fn,{gap:1,overflow:\"hidden\",children:[!o.length&&Object(an.jsx)(ur,{children:We(\"report.user.error.nolist\")}),o.length>0&&Object(an.jsx)(jn,{columnCount:1,columnMinHeight:25,gap:1,children:o.map(((e,n)=>Object(an.jsx)(Vn,{onClick:t=>{return n=e.id,void s((e=>n===e?-1:n));var n},itemActive:t===e.id,children:Object(an.jsx)(\"span\",{dangerouslySetInnerHTML:{__html:e.username}})},e.id)))})]}),Object(an.jsxs)(hn,{gap:2,justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"secondary\",onClick:()=>{i((e=>({...e,currentStep:e.currentStep-1})))},children:We(\"generic.back\")}),Object(an.jsx)(bn,{disabled:t<=0,onClick:()=>{t<=0||i((e=>({...e,reportedUserId:t,currentStep:ds.SELECT_CHATS})))},children:We(\"help.emergency.main.submit.button\")})]})]})},Il=e=>{const[t,s]=Object(c.useState)(-1),[n,r]=Object(c.useState)(-1),{setActiveReport:i=null}=ic(),{cfhCategories:a=[]}=Ec();return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontSize:4,children:We(\"help.emergency.chat_report.subtitle\")}),Object(an.jsx)(ur,{children:We(\"help.cfh.pick.topic\")})]}),Object(an.jsxs)(Fn,{gap:1,overflow:\"auto\",children:[t<0&&a.map(((e,t)=>Object(an.jsx)(bn,{variant:\"danger\",onClick:e=>s(t),children:We(`help.cfh.reason.${e.name}`)},t))),t>=0&&a[t].topics.map(((e,t)=>Object(an.jsx)(bn,{variant:\"danger\",onClick:e=>r(t),active:n===t,children:We(`help.cfh.topic.${e.id}`)},t)))]}),Object(an.jsxs)(hn,{gap:2,justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"secondary\",onClick:()=>{i((e=>({...e,currentStep:e.currentStep-1})))},children:We(\"generic.back\")}),Object(an.jsx)(bn,{disabled:n<0,onClick:()=>{t<0||n<0||i((e=>({...e,cfhCategory:t,cfhTopic:a[t].topics[n].id,currentStep:ds.INPUT_REPORT_MESSAGE})))},children:We(\"help.emergency.main.submit.button\")})]})]})},El=e=>{const[t,s]=Object(c.useState)(!1),{activeReport:n=null,setActiveReport:r=null,report:i=null}=ic();Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e));case\"tour\":return;case\"report\":if(t.length>=5&&\"room\"===t[2]){parseInt(t[3]),unescape(t.splice(4).join(\"/\"))}return}},eventUrlPrefix:\"help/\"};return l(e),()=>E(e)}),[]),Object(c.useEffect)((()=>{n&&s(!0)}),[n]);const a=()=>{if(n)switch(n.currentStep){case ds.SELECT_USER:return Object(an.jsx)(_l,{});case ds.SELECT_CHATS:return Object(an.jsx)(xl,{});case ds.SELECT_TOPICS:return Object(an.jsx)(Il,{});case ds.INPUT_REPORT_MESSAGE:return Object(an.jsx)(ll,{});case ds.REPORT_SUMMARY:return Object(an.jsx)(pl,{})}return Object(an.jsx)(dl,{})};return Object(an.jsxs)(an.Fragment,{children:[t&&Object(an.jsxs)(yn,{className:\"nitro-help\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"help.button.cfh\"),onCloseClick:()=>{r(null),s(!1)}}),Object(an.jsx)(In,{className:\"text-black\",children:Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{center:!0,size:5,overflow:\"hidden\",children:Object(an.jsx)(on,{className:\"index-image\"})}),Object(an.jsx)(Fn,{justifyContent:\"between\",size:7,overflow:\"hidden\",children:Object(an.jsx)(a,{})})]})})]}),Object(an.jsx)(fl,{}),Object(an.jsx)(Ol,{})]})},Cl=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(null),[l,d]=Object(c.useState)(null);return pr(a.y,(e=>{const t=e.getParser();s(t.productType),r(t.productClassId),o(t.totalCoinsForBonus),d(t.coinsStillRequiredToBuy)})),Object(c.useEffect)((()=>{Ee(new a.rc)}),[]),t?Object(an.jsxs)(\"div\",{className:\"bonus-rare widget d-flex\",children:[t,Object(an.jsxs)(\"div\",{className:\"bg-light-dark rounded overflow-hidden position-relative bonus-bar-container\",children:[Object(an.jsx)(\"div\",{className:\"d-flex justify-content-center align-items-center w-100 h-100 position-absolute small top-0\",children:i-l+\"/\"+i}),Object(an.jsx)(\"div\",{className:\"small bg-info rounded position-absolute top-0 h-100\",style:{width:(i-l)/i*100+\"%\"}})]})]}):null},vl=e=>{const{data:t=null,level:s=0}=e;return Object(an.jsxs)(\"div\",{className:\"hof-user-container\",children:[Object(an.jsxs)(\"div\",{className:\"hof-tooltip\",children:[Object(an.jsxs)(\"div\",{className:\"hof-header\",children:[s,\". \",t.userName,\" \",Object(an.jsx)(ir,{userId:t.userId})]}),Object(an.jsx)(\"div\",{className:\"small text-center text-white\",children:We(\"landing.view.competition.hof.points\",[\"points\"],[He(t.currentScore).toString()])})]}),Object(an.jsx)(kn,{figure:t.figure,direction:2})]})},Nl=e=>{const{slot:t=-1,conf:s=null}=e,[n,r]=Object(c.useState)(null);return pr(a.tb,(e=>{const t=e.getParser();r(t.data)})),Object(c.useEffect)((()=>{const e=s?s.campaign:\"\";Ee(new a.zc(e))}),[s]),n?Object(an.jsx)(\"div\",{className:\"hall-of-fame d-flex\",children:n.hof&&n.hof.length>0&&n.hof.map(((e,t)=>Object(an.jsx)(vl,{data:e,level:t+1},t)))}):null},Tl=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(0);return pr(a.Pf,(e=>{const t=e.getParser();s(t.articles)})),Object(c.useEffect)((()=>{Ee(new a.Mc)}),[]),t?Object(an.jsxs)(\"div\",{className:\"promo-articles widget mb-2\",children:[Object(an.jsxs)(\"div\",{className:\"d-flex flex-row align-items-center w-100 mb-1\",children:[Object(an.jsx)(\"small\",{className:\"flex-shrink-0 pe-1\",children:We(\"landing.view.promo.article.header\")}),Object(an.jsx)(\"hr\",{className:\"w-100 my-0\"})]}),Object(an.jsx)(\"div\",{className:\"d-flex flex-row mb-1\",children:t&&t.length>0&&t.map(((e,s)=>Object(an.jsx)(\"div\",{className:\"promo-articles-bullet cursor-pointer \"+(e===t[n]?\"promo-articles-bullet-active\":\"\"),onClick:e=>r(s)},e.id)))}),t&&t[n]&&Object(an.jsxs)(\"div\",{className:\"promo-article d-flex flex-row row mx-0\",children:[Object(an.jsx)(\"div\",{className:\"promo-article-image\",style:{backgroundImage:`url(${t[n].imageUrl})`}}),Object(an.jsxs)(\"div\",{className:\"col-3 d-flex flex-column h-100\",children:[Object(an.jsx)(\"h3\",{className:\"my-0\",children:t[n].title}),Object(an.jsx)(\"b\",{children:t[n].bodyText}),Object(an.jsx)(\"button\",{className:\"btn btn-sm mt-auto btn-gainsboro\",onClick:e=>I(t[n].linkContent),children:t[n].buttonText})]})]})]}):null},Sl=e=>{const{conf:t=null}=e,s=Object(c.useCallback)((e=>{const s=t[e];return s?\"image\"===e?g().interpolate(s):s:null}),[t]);return Object(an.jsxs)(\"div\",{className:\"widgetcontainer widget d-flex flex-row overflow-hidden\",children:[Object(an.jsx)(\"div\",{className:\"widgetcontainer-image flex-shrink-0\",style:{backgroundImage:`url(${s(\"image\")})`}}),Object(an.jsxs)(\"div\",{className:\"d-flex flex-column align-self-center\",children:[Object(an.jsx)(\"h3\",{className:\"my-0\",children:We(`landing.view.${s(\"texts\")}.header`)}),Object(an.jsx)(\"i\",{children:We(`landing.view.${s(\"texts\")}.body`)}),Object(an.jsx)(\"button\",{className:\"btn btn-sm btn-gainsboro align-self-start px-3 mt-auto\",onClick:e=>I(s(\"btnLink\")),children:We(`landing.view.${s(\"texts\")}.button`)})]})]})},wl=e=>{switch(e.widgetType){case\"promoarticle\":return Object(an.jsx)(Tl,{});case\"achievementcompetition_hall_of_fame\":return Object(an.jsx)(Nl,{slot:e.slot,conf:e.widgetConf});case\"bonusrare\":return Object(an.jsx)(Cl,{});case\"widgetcontainer\":return Object(an.jsx)(Sl,{conf:e.widgetConf});default:return null}},Rl=e=>{const{widgetType:t=null,widgetSlot:s=0,widgetConf:n=null,className:r=\"\",...c}=e;return Object(an.jsx)(\"div\",{className:`widget-slot slot-${s} ${r||\"\"}`,...c,children:Object(an.jsx)(wl,{widgetType:t,slot:s,widgetConf:n})})},yl=e=>{const[t,s]=Object(c.useState)(!0),{userFigure:n=null}=pi(),r=Object(c.useCallback)((e=>{switch(e.type){case a.mh.CREATED:return void s(!1);case a.mh.ENDED:return void s(e.openLandingView)}}),[]);if(Or(a.mh.CREATED,r),Or(a.mh.ENDED,r),!t)return null;const i=p(\"hotelview\").images[\"background.colour\"],o=g().interpolate(p(\"hotelview\").images.background),l=g().interpolate(p(\"hotelview\").images.sun),d=g().interpolate(p(\"hotelview\").images.drape),u=g().interpolate(p(\"hotelview\").images.left),j=g().interpolate(p(\"hotelview\").images[\"right.repeat\"]),h=g().interpolate(p(\"hotelview\").images.right);return Object(an.jsxs)(\"div\",{className:\"nitro-hotel-view\",style:i&&i?{background:i}:{},children:[Object(an.jsx)(\"div\",{className:\"container h-100 py-3 overflow-hidden landing-widgets\",children:Object(an.jsxs)(\"div\",{className:\"row h-100\",children:[Object(an.jsxs)(\"div\",{className:\"col-9 h-100 d-flex flex-column\",children:[Object(an.jsx)(Rl,{widgetSlot:1,widgetType:p(\"hotelview\").widgets[\"slot.1.widget\"],widgetConf:p(\"hotelview\").widgets[\"slot.1.conf\"],className:\"col-6\"}),Object(an.jsxs)(\"div\",{className:\"col-12 row mx-0\",children:[Object(an.jsx)(Rl,{widgetSlot:2,widgetType:p(\"hotelview\").widgets[\"slot.2.widget\"],widgetConf:p(\"hotelview\").widgets[\"slot.2.conf\"],className:\"col-7\"}),Object(an.jsx)(Rl,{widgetSlot:3,widgetType:p(\"hotelview\").widgets[\"slot.3.widget\"],widgetConf:p(\"hotelview\").widgets[\"slot.3.conf\"],className:\"col-5\"}),Object(an.jsx)(Rl,{widgetSlot:4,widgetType:p(\"hotelview\").widgets[\"slot.4.widget\"],widgetConf:p(\"hotelview\").widgets[\"slot.4.conf\"],className:\"col-7\"}),Object(an.jsx)(Rl,{widgetSlot:5,widgetType:p(\"hotelview\").widgets[\"slot.5.widget\"],widgetConf:p(\"hotelview\").widgets[\"slot.5.conf\"],className:\"col-5\"})]}),Object(an.jsx)(Rl,{widgetSlot:6,widgetType:p(\"hotelview\").widgets[\"slot.6.widget\"],widgetConf:p(\"hotelview\").widgets[\"slot.6.conf\"],className:\"mt-auto\"})]}),Object(an.jsx)(\"div\",{className:\"col-3 h-100\",children:Object(an.jsx)(Rl,{widgetSlot:7,widgetType:p(\"hotelview\").widgets[\"slot.7.widget\"],widgetConf:p(\"hotelview\").widgets[\"slot.7.conf\"]})})]})}),Object(an.jsx)(\"div\",{className:\"background position-absolute\",style:o&&o.length?{backgroundImage:`url(${o})`}:{}}),Object(an.jsx)(\"div\",{className:\"sun position-absolute\",style:l&&l.length?{backgroundImage:`url(${l})`}:{}}),Object(an.jsx)(\"div\",{className:\"drape position-absolute\",style:d&&d.length?{backgroundImage:`url(${d})`}:{}}),Object(an.jsx)(\"div\",{className:\"left position-absolute\",style:u&&u.length?{backgroundImage:`url(${u})`}:{}}),Object(an.jsx)(\"div\",{className:\"right-repeat position-absolute\",style:j&&j.length?{backgroundImage:`url(${j})`}:{}}),Object(an.jsx)(\"div\",{className:\"right position-absolute\",style:h&&h.length?{backgroundImage:`url(${h})`}:{}}),p(\"hotelview\")[\"show.avatar\"]&&Object(an.jsx)(\"div\",{className:\"avatar-image\",children:Object(an.jsx)(kn,{figure:n,direction:2})})]})},kl=e=>{const{badgeCode:t=null,children:s=null,...n}=e,{selectedBadgeCode:r=null,setSelectedBadgeCode:c=null,toggleBadge:i=null,getBadgeId:a=null}=uc(),{isUnseen:o=null}=lc(),l=o(jt.BADGE,a(t));return Object(an.jsxs)(Vn,{itemActive:r===t,itemUnseen:l,onMouseDown:e=>c(t),onDoubleClick:e=>i(r),...n,children:[Object(an.jsx)(Dn,{badgeCode:t}),s]})},Al=e=>{const[t,s]=Object(c.useState)(!1),{badgeCodes:n=[],activeBadgeCodes:r=[],selectedBadgeCode:i=null,isWearingBadge:a=null,canWearBadges:o=null,toggleBadge:l=null,getBadgeId:d=null,activate:u=null,deactivate:j=null}=uc(),{isUnseen:h=null,removeUnseen:b=null}=lc();return Object(c.useEffect)((()=>{i&&h(jt.BADGE,d(i))&&b(jt.BADGE,d(i))}),[i,h,b,d]),Object(c.useEffect)((()=>{if(!t)return;const e=u();return()=>j(e)}),[t,u,j]),Object(c.useEffect)((()=>(s(!0),()=>s(!1))),[]),Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:7,overflow:\"hidden\",children:Object(an.jsx)(jn,{columnCount:4,children:n&&n.length>0&&n.map(((e,t)=>r.indexOf(e)>=0?null:Object(an.jsx)(kl,{badgeCode:e},t)))})}),Object(an.jsxs)(Fn,{className:\"justify-content-between\",size:5,overflow:\"auto\",children:[Object(an.jsxs)(Fn,{overflow:\"hidden\",gap:2,children:[Object(an.jsx)(ur,{children:We(\"inventory.badges.activebadges\")}),Object(an.jsx)(jn,{columnCount:3,children:r&&r.length>0&&r.map(((e,t)=>Object(an.jsx)(kl,{badgeCode:e},t)))})]}),!!i&&Object(an.jsxs)(Fn,{grow:!0,justifyContent:\"end\",gap:2,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsx)(Dn,{shrink:!0,badgeCode:i}),Object(an.jsx)(ur,{children:Be(i)})]}),Object(an.jsx)(bn,{variant:a(i)?\"danger\":\"success\",disabled:!a(i)&&!o(),onClick:e=>l(i),children:We(a(i)?\"inventory.badges.clearbadge\":\"inventory.badges.wearbadge\")})]})]})]})},Dl=e=>{const{title:t=\"\",desc:s=\"\",children:n=null,...r}=e;return Object(an.jsxs)(un,{...r,children:[Object(an.jsx)(Fn,{center:!0,size:5,overflow:\"hidden\",children:Object(an.jsx)(\"div\",{className:\"empty-image\"})}),Object(an.jsxs)(Fn,{justifyContent:\"center\",size:7,overflow:\"hidden\",children:[Object(an.jsx)(ur,{fontWeight:\"bold\",fontSize:5,overflow:\"unset\",truncate:!0,children:t}),Object(an.jsx)(ur,{overflow:\"auto\",children:s})]}),n]})},Ll=e=>{const{botItem:t=null,children:s=null,...n}=e,[r,i]=Object(c.useState)(!1),{selectedBot:o=null,setSelectedBot:l=null}=hc(),{isUnseen:d=null}=lc(),u=d(jt.BOT,t.botData.id),j=e=>{switch(e.type){case a.Ve.MOUSE_DOWN:return l(t),void i(!0);case a.Ve.MOUSE_UP:return void i(!1);case a.Ve.ROLL_OUT:if(!r||o!==t)return;return void ut(t);case\"dblclick\":return void ut(t)}};return Object(an.jsxs)(Vn,{itemActive:o===t,itemUnseen:u,onMouseDown:j,onMouseUp:j,onMouseOut:j,onDoubleClick:j,...n,children:[Object(an.jsx)(kn,{figure:t.botData.figure,direction:3,headOnly:!0}),s]})},Pl=e=>{const{roomSession:t=null,roomPreviewer:s=null}=e,[n,r]=Object(c.useState)(!1),{botItems:i=[],selectedBot:o=null,activate:l=null,deactivate:d=null}=hc(),{isUnseen:u=null,removeUnseen:j=null}=lc();return Object(c.useEffect)((()=>{if(!o||!s)return;const e=o.botData,t=C();let n=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_WALL_TYPE),r=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_FLOOR_TYPE),c=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_LANDSCAPE_TYPE);n=n&&n.length?n:\"101\",r=r&&r.length?r:\"101\",c=c&&c.length?c:\"1.1\",s.reset(!1),s.updateRoomWallsAndFloorVisibility(!0,!0),s.updateObjectRoom(r,n,c),s.addAvatarIntoRoom(e.figure,0)}),[s,o]),Object(c.useEffect)((()=>{o&&u(jt.BOT,o.botData.id)&&j(jt.BOT,o.botData.id)}),[o,u,j]),Object(c.useEffect)((()=>{if(!n)return;const e=l();return()=>d(e)}),[n,l,d]),Object(c.useEffect)((()=>(r(!0),()=>r(!1))),[]),i&&i.length?Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:7,overflow:\"hidden\",children:Object(an.jsx)(jn,{columnCount:5,children:i&&i.length>0&&i.map((e=>Object(an.jsx)(Ll,{botItem:e},e.botData.id)))})}),Object(an.jsxs)(Fn,{size:5,overflow:\"auto\",children:[Object(an.jsx)(Fn,{overflow:\"hidden\",position:\"relative\",children:Object(an.jsx)(nr,{roomPreviewer:s,height:140})}),o&&Object(an.jsxs)(Fn,{grow:!0,justifyContent:\"between\",gap:2,children:[Object(an.jsx)(ur,{grow:!0,truncate:!0,children:o.botData.name}),!!t&&Object(an.jsx)(bn,{variant:\"success\",onClick:e=>ut(o),children:We(\"inventory.furni.placetoroom\")})]})]})]}):Object(an.jsx)(Dl,{title:We(\"inventory.empty.bots.title\"),desc:We(\"inventory.empty.bots.desc\")})},Ul=e=>{const{groupItem:t=null,...s}=e,[n,r]=Object(c.useState)(!1),{selectedItem:i=null,setSelectedItem:o=null}=mc(),l=e=>{switch(e.type){case a.Ve.MOUSE_DOWN:return o(t),void r(!0);case a.Ve.MOUSE_UP:return void r(!1);case a.Ve.ROLL_OUT:if(!n||t!==i)return;return void dt(t);case\"dblclick\":return void dt(t)}},d=t.getUnlockedCount();return Object(an.jsx)(Vn,{className:d?\"\":\"opacity-0-5 \",itemImage:t.iconUrl,itemCount:t.getUnlockedCount(),itemActive:t===i,itemUniqueNumber:t.stuffData.uniqueNumber,itemUnseen:t.hasUnseenItems,onMouseDown:l,onMouseUp:l,onMouseOut:l,onDoubleClick:l,...s})},Ml=e=>{const{groupItems:t=[],setGroupItems:s=null}=e,[n,r]=Object(c.useState)(\"\");return Object(c.useEffect)((()=>{let e=[...t];if(n&&n.length){const s=n.toLocaleLowerCase();e=t.filter((e=>s&&s.length&&e.name.toLocaleLowerCase().includes(s)?e:null))}s(e)}),[t,s,n]),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:We(\"generic.search\"),value:n,onChange:e=>r(e.target.value)}),Object(an.jsx)(bn,{variant:\"primary\",children:Object(an.jsx)(fn.a,{icon:\"search\"})})]})},Fl=e=>{const{roomSession:t=null,roomPreviewer:s=null}=e,[n,r]=Object(c.useState)(!1),[i,o]=Object(c.useState)([]),{groupItems:l=[],selectedItem:d=null,activate:u=null,deactivate:j=null}=mc(),{resetItems:h=null}=lc();return Object(c.useEffect)((()=>{if(!d||!s)return;const e=d.getLastItem();if(!e)return;const t=C();let n=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_WALL_TYPE),r=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_FLOOR_TYPE),c=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_LANDSCAPE_TYPE);if(n=n&&n.length?n:\"101\",r=r&&r.length?r:\"101\",c=c&&c.length?c:\"1.1\",s.reset(!1),s.updateObjectRoom(r,n,c),s.updateRoomWallsAndFloorVisibility(!0,!0),e.category===Je.WALL_PAPER||e.category===Je.FLOOR||e.category===Je.LANDSCAPE){if(r=e.category===Je.FLOOR?d.stuffData.getLegacyString():r,n=e.category===Je.WALL_PAPER?d.stuffData.getLegacyString():n,c=e.category===Je.LANDSCAPE?d.stuffData.getLegacyString():c,s.updateObjectRoom(r,n,c),e.category===Je.LANDSCAPE){const e=F().getWallItemDataByName(\"noob_window_double\");e&&s.addWallItemIntoRoom(e.id,new a.kj(90,0,0),e.customParams)}}else d.isWallItem?s.addWallItemIntoRoom(d.type,new a.kj(90),e.stuffData.getLegacyString()):s.addFurnitureIntoRoom(d.type,new a.kj(90),d.stuffData,e.extra.toString())}),[s,d]),Object(c.useEffect)((()=>{d&&d.hasUnseenItems&&(h(jt.FURNI,d.items.map((e=>e.id))),d.hasUnseenItems=!1)}),[d,h]),Object(c.useEffect)((()=>{if(!n)return;const e=u();return()=>j(e)}),[n,u,j]),Object(c.useEffect)((()=>(r(!0),()=>r(!1))),[]),l&&l.length?Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:7,overflow:\"hidden\",children:[Object(an.jsx)(Ml,{groupItems:l,setGroupItems:o}),Object(an.jsx)(jn,{columnCount:5,children:i&&i.length>0&&i.map(((e,t)=>Object(an.jsx)(Ul,{groupItem:e},t)))})]}),Object(an.jsxs)(Fn,{size:5,overflow:\"auto\",children:[Object(an.jsxs)(Fn,{overflow:\"hidden\",position:\"relative\",children:[Object(an.jsx)(nr,{roomPreviewer:s,height:140}),d&&d.stuffData.isUnique&&Object(an.jsx)(Gn,{className:\"top-2 end-2\",position:\"absolute\",uniqueNumber:d.stuffData.uniqueNumber,uniqueSeries:d.stuffData.uniqueSeries}),d&&d.stuffData.rarityLevel>-1&&Object(an.jsx)(sr,{className:\"top-2 end-2\",position:\"absolute\",level:d.stuffData.rarityLevel})]}),d&&Object(an.jsxs)(Fn,{grow:!0,justifyContent:\"between\",gap:2,children:[Object(an.jsx)(ur,{grow:!0,truncate:!0,children:d.name}),Object(an.jsxs)(Fn,{gap:1,children:[!!t&&Object(an.jsx)(bn,{variant:\"success\",onClick:e=>dt(d),children:We(\"inventory.furni.placetoroom\")}),d&&d.isSellable&&Object(an.jsx)(bn,{onClick:e=>(e=>{const t=e.getLastItem();return!!t&&!!t.sellable&&void $e(new Nr(t))})(d),children:We(\"inventory.marketplace.sell\")})]})]})]})]}):Object(an.jsx)(Dl,{title:We(\"inventory.empty.title\"),desc:We(\"inventory.empty.desc\")})},Bl=e=>{const{cancelTrade:t=null}=e,[s,n]=Object(c.useState)(null),[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(null),[d,u]=Object(c.useState)(null),[j,h]=Object(c.useState)(3),[b,g]=Object(c.useState)(1),{ownUser:m=null,otherUser:O=null,groupItems:p=[],tradeState:f=gt.TRADING_STATE_READY,progressTrade:x=null,removeItem:_=null,setTradeState:I=null}=_c(),{simpleAlert:E=null}=Hr(),C=(e,t,s,n,r)=>{if(!m||m.accepts||!m.userItems)return!1;if(m.userItems.length<9)return!0;if(!n)return!1;let c=t.toString();return c=s===Je.POSTER?c+\"poster\"+r.getLegacyString():s===Je.GUILD_FURNI?((e,t)=>{let s=e.toString();if(!(t instanceof a.di))return s;let n=1;for(;n<5;)s=s+\",\"+t.getValue(n),n++;return s})(t,r):(e?\"I\":\"S\")+c,!!m.userItems.getValue(c)},v=e=>{if(!s)return;const t=s.getTradeItems(e);if(!t||!t.length)return;let n=null;const r=[];for(const s of t)r.push(s.id),n||(n=s);if(m.userItems.length+r.length<=1500)if(!n.isGroupable&&r.length)Ee(new a.ri(r.pop()));else{const e=[];for(const t of r)C(n.isWallItem,n.type,n.category,n.isGroupable,n.stuffData)&&e.push(t);e.length&&(1===e.length?Ee(new a.ri(e.pop())):Ee(new a.si(...e)))}else E(We(\"trading.items.too_many_items.desc\"),fs.DEFAULT,null,null,We(\"trading.items.too_many_items.title\"))},N=e=>{const t=e?\"lock\":\"unlock\",s=e?\"success\":\"danger\";return Object(an.jsx)(fn.a,{icon:t,className:\"text-\"+s})},T=e=>{((e,t)=>{(isNaN(Number(e))||Number(e)<0||!e)&&(e=1),e=Math.max(Number(e),1),(e=Math.min(Number(e),t))!==b&&g(e)})(b,e),v(b)};return Object(c.useEffect)((()=>{g(1)}),[s]),Object(c.useEffect)((()=>{if(f!==gt.TRADING_STATE_COUNTDOWN)return;h(3);const e=setInterval((()=>{h((t=>{const s=t-1;return 0===s&&clearInterval(e),s}))}),1e3);return()=>clearInterval(e)}),[f,I]),Object(c.useEffect)((()=>{0===j&&I(gt.TRADING_STATE_CONFIRMING)}),[j,I]),f!==gt.TRADING_STATE_READY&&m&&O?Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:4,overflow:\"hidden\",children:[Object(an.jsx)(Ml,{groupItems:p,setGroupItems:u}),Object(an.jsxs)(hn,{column:!0,fullHeight:!0,justifyContent:\"between\",overflow:\"hidden\",gap:2,children:[Object(an.jsx)(jn,{columnCount:3,children:d&&d.length>0&&d.map(((e,t)=>{const r=e.getUnlockedCount();return Object(an.jsx)(Vn,{className:r?\"\":\"opacity-0-5 \",itemImage:e.iconUrl,itemCount:r,itemActive:s===e,itemUniqueNumber:e.stuffData.uniqueNumber,onClick:t=>r&&n(e),onDoubleClick:e=>v(1),children:r>0&&s===e&&Object(an.jsx)(bn,{position:\"absolute\",variant:\"success\",className:\"trade-button bottom-1 end-1\",onClick:e=>v(1),children:Object(an.jsx)(fn.a,{icon:\"chevron-right\"})})},t)}))}),Object(an.jsxs)(Fn,{gap:1,alignItems:\"end\",children:[Object(an.jsxs)(un,{overflow:\"hidden\",children:[Object(an.jsx)(Fn,{size:6,overflow:\"hidden\",children:Object(an.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",placeholder:We(\"catalog.bundlewidget.spinner.select.amount\"),disabled:!s,value:b,onChange:e=>g(e.target.valueAsNumber)})}),Object(an.jsx)(Fn,{size:6,overflow:\"hidden\",children:Object(an.jsx)(bn,{variant:\"secondary\",disabled:!s,onClick:e=>T(s.getUnlockedCount()),children:We(\"inventory.trading.areoffering\")})})]}),Object(an.jsx)(on,{fullWidth:!0,className:\"badge bg-muted\",children:s?s.name:We(\"catalog_selectproduct\")})]})]})]}),Object(an.jsxs)(Fn,{size:8,overflow:\"hidden\",children:[Object(an.jsxs)(un,{overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{size:6,overflow:\"hidden\",children:[Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",children:[Object(an.jsxs)(ur,{children:[We(\"inventory.trading.you\"),\" \",We(\"inventory.trading.areoffering\"),\":\"]}),N(m.accepts)]}),Object(an.jsx)(jn,{columnCount:3,children:Array.from(Array(9),((e,t)=>{const s=m.userItems.getWithIndex(t)||null;return s?Object(an.jsx)(Vn,{itemActive:r===s,itemImage:s.iconUrl,itemCount:s.getTotalCount(),itemUniqueNumber:s.stuffData.uniqueNumber,onClick:e=>i(s),onDoubleClick:e=>_(s),children:r===s&&Object(an.jsx)(bn,{position:\"absolute\",variant:\"danger\",className:\"trade-button bottom-1 start-1\",onClick:e=>_(s),children:Object(an.jsx)(fn.a,{icon:\"chevron-left\"})})},t):Object(an.jsx)(Vn,{},t)}))}),Object(an.jsx)(on,{fullWidth:!0,className:\"badge bg-muted\",children:r?r.name:We(\"catalog_selectproduct\")})]}),Object(an.jsxs)(Fn,{size:6,overflow:\"hidden\",children:[Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",children:[Object(an.jsxs)(ur,{children:[O.userName,\" \",We(\"inventory.trading.isoffering\"),\":\"]}),N(O.accepts)]}),Object(an.jsx)(jn,{columnCount:3,children:Array.from(Array(9),((e,t)=>{const s=O.userItems.getWithIndex(t)||null;return s?Object(an.jsx)(Vn,{itemActive:o===s,itemImage:s.iconUrl,itemCount:s.getTotalCount(),itemUniqueNumber:s.stuffData.uniqueNumber,onClick:e=>l(s)},t):Object(an.jsx)(Vn,{},t)}))}),Object(an.jsx)(on,{fullWidth:!0,className:\"badge bg-muted w-100\",children:o?o.name:We(\"catalog_selectproduct\")})]})]}),Object(an.jsxs)(hn,{grow:!0,justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"danger\",onClick:t,children:We(\"generic.cancel\")}),f===gt.TRADING_STATE_READY&&Object(an.jsx)(bn,{variant:\"secondary\",disabled:!m.itemCount&&!O.itemCount,onClick:x,children:We(\"inventory.trading.accept\")}),f===gt.TRADING_STATE_RUNNING&&Object(an.jsx)(bn,{variant:\"secondary\",disabled:!m.itemCount&&!O.itemCount,onClick:x,children:We(m.accepts?\"inventory.trading.modify\":\"inventory.trading.accept\")}),f===gt.TRADING_STATE_COUNTDOWN&&Object(an.jsx)(bn,{variant:\"secondary\",disabled:!0,children:We(\"inventory.trading.countdown\",[\"counter\"],[j.toString()])}),f===gt.TRADING_STATE_CONFIRMING&&Object(an.jsx)(bn,{variant:\"secondary\",onClick:x,children:We(\"inventory.trading.button.restore\")}),f===gt.TRADING_STATE_CONFIRMED&&Object(an.jsx)(bn,{variant:\"secondary\",children:We(\"inventory.trading.info.waiting\")})]})]})]}):null},Hl=e=>{const{petItem:t=null,children:s=null,...n}=e,[r,i]=Object(c.useState)(!1),{selectedPet:o=null,setSelectedPet:l=null}=fc(),{isUnseen:d}=lc(),u=d(jt.PET,t.petData.id),j=e=>{switch(e.type){case a.Ve.MOUSE_DOWN:return l(t),void i(!0);case a.Ve.MOUSE_UP:return void i(!1);case a.Ve.ROLL_OUT:if(!r||t!==o)return;return void lt(t);case\"dblclick\":return void lt(t)}};return Object(an.jsxs)(Vn,{itemActive:t===o,itemUnseen:u,onMouseDown:j,onMouseUp:j,onMouseOut:j,onDoubleClick:j,...n,children:[Object(an.jsx)(er,{figure:t.petData.figureData.figuredata,direction:3,headOnly:!0}),s]})},Gl=e=>{const{roomSession:t=null,roomPreviewer:s=null}=e,[n,r]=Object(c.useState)(!1),{petItems:i=null,selectedPet:o=null,activate:l=null,deactivate:d=null}=fc(),{isUnseen:u=null,removeUnseen:j=null}=lc();return Object(c.useEffect)((()=>{if(!o||!s)return;const e=o.petData,t=C();let n=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_WALL_TYPE),r=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_FLOOR_TYPE),c=t.getRoomInstanceVariable(t.activeRoomId,a.ch.ROOM_LANDSCAPE_TYPE);n=n&&n.length?n:\"101\",r=r&&r.length?r:\"101\",c=c&&c.length?c:\"1.1\",s.reset(!1),s.updateRoomWallsAndFloorVisibility(!0,!0),s.updateObjectRoom(r,n,c),s.addPetIntoRoom(e.figureString)}),[s,o]),Object(c.useEffect)((()=>{o&&u(jt.PET,o.petData.id)&&j(jt.PET,o.petData.id)}),[o,u,j]),Object(c.useEffect)((()=>{if(!n)return;const e=l();return()=>d(e)}),[n,l,d]),Object(c.useEffect)((()=>(r(!0),()=>r(!1))),[]),i&&i.length?Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{size:7,overflow:\"hidden\",children:Object(an.jsx)(jn,{columnCount:5,children:i&&i.length>0&&i.map((e=>Object(an.jsx)(Hl,{petItem:e},e.petData.id)))})}),Object(an.jsxs)(Fn,{size:5,overflow:\"auto\",children:[Object(an.jsx)(Fn,{overflow:\"hidden\",position:\"relative\",children:Object(an.jsx)(nr,{roomPreviewer:s,height:140})}),o&&o.petData&&Object(an.jsxs)(Fn,{grow:!0,justifyContent:\"between\",gap:2,children:[Object(an.jsx)(ur,{grow:!0,truncate:!0,children:o.petData.name}),!!t&&Object(an.jsx)(bn,{variant:\"success\",onClick:e=>lt(o),children:We(\"inventory.furni.placetoroom\")})]})]})]}):Object(an.jsx)(Dl,{title:We(\"inventory.empty.pets.title\"),desc:We(\"inventory.empty.pets.desc\")})},Wl=\"inventory.furni\",Vl=\"inventory.bots\",ql=\"inventory.furni.tab.pets\",zl=\"inventory.badges\",Yl=[Wl,Vl,ql,zl],$l=[jt.FURNI,jt.BOT,jt.PET,jt.BADGE],Kl=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(Yl[0]),[i,o]=Object(c.useState)(null),[d,u]=Object(c.useState)(null),{isTrading:j=!1,stopTrading:h=null}=_c(),{getCount:b=null,resetCategory:g=null}=lc(),m=()=>{j&&h(),s(!1)};return mr(a.Fg.PLACED,(e=>{nt&&(ct(!1),e.placedInRoom||s(!0))})),Or([a.mh.CREATED,a.mh.ENDED],(e=>{switch(e.type){case a.mh.CREATED:return void o(e.session);case a.mh.ENDED:return o(null),void s(!1)}})),pr(a.u,(e=>{const t=e.getParser();for(const s of t.data)x().setBadgePointLimit(s.badgeId,s.limit)})),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e))}},eventUrlPrefix:\"inventory/\"};return l(e),()=>E(e)}),[]),Object(c.useEffect)((()=>(u(new a.eh(C(),++a.eh.PREVIEW_COUNTER)),()=>{u((e=>(e.dispose(),null)))})),[]),Object(c.useEffect)((()=>{!t&&j&&s(!0)}),[t,j]),t?Object(an.jsxs)(yn,{uniqueKey:\"inventory\",className:\"nitro-inventory\",theme:j?\"primary-slim\":\"\",children:[Object(an.jsx)(vn,{headerText:We(\"inventory.title\"),onCloseClick:m}),!j&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(or,{children:Yl.map(((e,t)=>Object(an.jsx)(ar,{isActive:n===e,onClick:t=>r(e),count:b($l[t]),children:We(e)},t)))}),Object(an.jsxs)(In,{children:[n===Wl&&Object(an.jsx)(Fl,{roomSession:i,roomPreviewer:d}),n===Vl&&Object(an.jsx)(Pl,{roomSession:i,roomPreviewer:d}),n===ql&&Object(an.jsx)(Gl,{roomSession:i,roomPreviewer:d}),n===zl&&Object(an.jsx)(Al,{})]})]}),j&&Object(an.jsx)(In,{children:Object(an.jsx)(Bl,{cancelTrade:m})})]}):null},Xl=e=>{const{records:t=null}=e,{openRoomInfo:s=null}=Ec(),n=e=>{let s=t[0].chatlog[e.index];return Object(an.jsx)(Ja.b,{cache:o,columnIndex:0,parent:e.parent,rowIndex:e.index,children:Object(an.jsxs)(un,{fullHeight:!1,style:e.style,gap:1,alignItems:\"center\",className:\"log-entry py-1 border-bottom\",children:[Object(an.jsx)(ur,{className:\"g-col-2\",children:s.timestamp}),Object(an.jsx)(ur,{className:\"g-col-3\",bold:!0,underline:!0,pointer:!0,onClick:e=>m(`mod-tools/open-user-info/${s.userId}`),children:s.userName}),Object(an.jsx)(ur,{textBreak:!0,wrap:!0,className:\"g-col-7\",children:s.message})]},e.key)},e.key)},r=e=>{let s=null,n=null,r=!1,c=0;for(let i=0;i<t.length;i++){if(n=t[i],c++,c+=n.chatlog.length,e.index>c-1)continue;if(e.index+1===c-n.chatlog.length){r=!0;break}const a=e.index-(c-n.chatlog.length);s=n.chatlog[a];break}return Object(an.jsxs)(Ja.b,{cache:o,columnIndex:0,parent:e.parent,rowIndex:e.index,children:[r&&n&&Object(an.jsx)(a,{roomId:n.roomId,roomName:n.roomName,uniqueKey:e.key,style:e.style}),!r&&Object(an.jsxs)(un,{fullHeight:!1,style:e.style,gap:1,alignItems:\"center\",className:\"log-entry py-1 border-bottom\",children:[Object(an.jsx)(ur,{className:\"g-col-2\",children:s.timestamp}),Object(an.jsx)(ur,{className:\"g-col-3\",bold:!0,underline:!0,pointer:!0,onClick:e=>m(`mod-tools/open-user-info/${s.userId}`),children:s.userName}),Object(an.jsx)(ur,{textBreak:!0,wrap:!0,className:\"g-col-7\",children:s.message})]},e.key)]},e.key)},i=Object(c.useCallback)((()=>{let e=0;for(let s=0;s<t.length;s++)e++,e+=t[s].chatlog.length;return e}),[t]),a=e=>Object(an.jsxs)(hn,{gap:2,alignItems:\"center\",justifyContent:\"between\",className:\"room-info bg-muted rounded p-1\",style:e.style,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:\"Room name:\"}),Object(an.jsx)(ur,{children:e.roomName})]}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{onClick:t=>ps(e.roomId),children:\"Visit Room\"}),Object(an.jsx)(bn,{onClick:t=>s(e.roomId),children:\"Room Tools\"})]})]},e.uniqueKey),o=new Ja.c({defaultHeight:25,fixedWidth:!0});return Object(an.jsxs)(an.Fragment,{children:[t&&1===t.length&&Object(an.jsx)(a,{roomId:t[0].roomId,roomName:t[0].roomName,uniqueKey:null,style:{}}),Object(an.jsxs)(Fn,{fit:!0,gap:0,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{gap:2,children:Object(an.jsxs)(un,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object(an.jsx)(on,{className:\"g-col-2\",children:\"Time\"}),Object(an.jsx)(on,{className:\"g-col-3\",children:\"User\"}),Object(an.jsx)(on,{className:\"g-col-7\",children:\"Message\"})]})}),t&&t.length>0&&Object(an.jsx)(Fn,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:Object(an.jsx)(Ja.a,{defaultWidth:400,defaultHeight:200,children:e=>{let{height:s,width:c}=e;return o.clearAll(),Object(an.jsx)(Ja.d,{width:c,height:s,rowCount:t.length>1?i():t[0].chatlog.length,rowHeight:o.rowHeight,className:\"log-entry-container\",rowRenderer:t.length>1?r:n,deferredMeasurementCache:o})}})})]})]})},Ql=e=>{const{roomId:t=null,onCloseClick:s=null}=e,[n,r]=Object(c.useState)(null);return pr(a.xg,(e=>{const s=e.getParser();s&&s.data.roomId===t&&r(s.data)})),Object(c.useEffect)((()=>{Ee(new a.Oc(t))}),[t]),n?Object(an.jsxs)(yn,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",windowPosition:Sn.TOP_LEFT,children:[Object(an.jsx)(vn,{headerText:`Room Chatlog ${n.roomName}`,onCloseClick:s}),Object(an.jsx)(In,{className:\"text-black h-100\",children:n&&Object(an.jsx)(Xl,{records:[n]})})]}):null},Jl=e=>{const{roomId:t=null,onCloseClick:s=null}=e,[n,r]=Object(c.useState)(!1),[i,o]=Object(c.useState)(null),[l,d]=Object(c.useState)(null),[u,j]=Object(c.useState)(null),[h,b]=Object(c.useState)(null),[g,O]=Object(c.useState)(!1),[p,f]=Object(c.useState)(0),[x,_]=Object(c.useState)(!1),[I,E]=Object(c.useState)(!1),[C,v]=Object(c.useState)(!1),[N,T]=Object(c.useState)(\"\"),S=(e,s)=>{if(e)switch(e){case\"alert_only\":if(0===N.trim().length)return;return Ee(new a.Me(a.Me.ACTION_ALERT,N,\"\")),void Ee(new a.Le(t,I?1:0,C?1:0,x?1:0));case\"send_message\":if(0===N.trim().length)return;return Ee(new a.Me(a.Me.ACTION_MESSAGE,N,\"\")),void Ee(new a.Le(t,I?1:0,C?1:0,x?1:0))}};return pr(a.Re,(e=>{const s=e.getParser();s&&s.data.flatId===t&&(o(s.data.flatId),d(s.data.room.name),j(s.data.ownerId),b(s.data.ownerName),O(s.data.ownerInRoom),f(s.data.userCount))})),Object(c.useEffect)((()=>{n||(Ee(new a.Hc(t)),r(!0))}),[t,n,r]),Object(an.jsxs)(yn,{className:\"nitro-mod-tools-room\",theme:\"primary-slim\",windowPosition:Sn.TOP_LEFT,children:[Object(an.jsx)(vn,{headerText:\"Room Info\"+(l?\": \"+l:\"\"),onCloseClick:e=>s()}),Object(an.jsxs)(In,{className:\"text-black\",children:[Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsxs)(Fn,{justifyContent:\"center\",grow:!0,gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsx)(ur,{bold:!0,align:\"end\",className:\"col-7\",children:\"Room Owner:\"}),Object(an.jsx)(ur,{underline:!0,pointer:!0,truncate:!0,children:h})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsx)(ur,{bold:!0,align:\"end\",className:\"col-7\",children:\"Users in room:\"}),Object(an.jsx)(ur,{children:p})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsx)(ur,{bold:!0,align:\"end\",className:\"col-7\",children:\"Owner in room:\"}),Object(an.jsx)(ur,{children:g?\"Yes\":\"No\"})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(bn,{onClick:e=>ps(t),children:\"Visit Room\"}),Object(an.jsx)(bn,{onClick:e=>m(`mod-tools/open-room-chatlog/${t}`),children:\"Chatlog\"})]})]}),Object(an.jsxs)(Fn,{className:\"bg-muted rounded p-2\",gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:x,onChange:e=>_(e.target.checked)}),Object(an.jsx)(ur,{small:!0,children:\"Kick everyone out\"})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:I,onChange:e=>E(e.target.checked)}),Object(an.jsx)(ur,{small:!0,children:\"Enable the doorbell\"})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:C,onChange:e=>v(e.target.checked)}),Object(an.jsx)(ur,{small:!0,children:\"Change room name\"})]})]}),Object(an.jsx)(\"textarea\",{className:\"form-control\",placeholder:\"Type a mandatory message to the users in this text box...\",value:N,onChange:e=>T(e.target.value)}),Object(an.jsxs)(hn,{justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"danger\",onClick:e=>S(\"send_message\"),children:\"Send Caution\"}),Object(an.jsx)(bn,{onClick:e=>S(\"alert_only\"),children:\"Send Alert only\"})]})]})]})},Zl=e=>{const{onCloseClick:t=null,issueId:s=null}=e,[n,r]=Object(c.useState)(null);return pr(a.ib,(e=>{const t=e.getParser();t&&t.data.issueId===s&&r(t.data)})),Object(c.useEffect)((()=>{Ee(new a.vc(s))}),[s]),Object(an.jsxs)(yn,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:\"Issue Chatlog\",onCloseClick:t}),Object(an.jsx)(In,{className:\"text-black\",children:n&&Object(an.jsx)(Xl,{records:[n.chatRecord]})})]})},ed=e=>{const{issueId:t=null,onIssueInfoClosed:s=null}=e,[n,r]=Object(c.useState)(!1),{tickets:i=[],openUserInfo:o=null}=Ec(),l=i.find((e=>e.issueId===t)),d=e=>{Ee(new a.ob([t],e)),s(t)};return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(yn,{className:\"nitro-mod-tools-handle-issue\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:\"Resolving issue \"+t,onCloseClick:()=>s(t)}),Object(an.jsxs)(In,{className:\"text-black\",children:[Object(an.jsx)(ur,{fontSize:4,children:\"Issue Information\"}),Object(an.jsxs)(un,{overflow:\"auto\",children:[Object(an.jsx)(Fn,{size:8,children:Object(an.jsx)(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:Object(an.jsxs)(\"tbody\",{children:[Object(an.jsxs)(\"tr\",{children:[Object(an.jsx)(\"th\",{children:\"Source\"}),Object(an.jsx)(\"td\",{children:js(l.categoryId)})]}),Object(an.jsxs)(\"tr\",{children:[Object(an.jsx)(\"th\",{children:\"Category\"}),Object(an.jsx)(\"td\",{className:\"text-break\",children:We(\"help.cfh.topic.\"+l.reportedCategoryId)})]}),Object(an.jsxs)(\"tr\",{children:[Object(an.jsx)(\"th\",{children:\"Description\"}),Object(an.jsx)(\"td\",{className:\"text-break\",children:l.message})]}),Object(an.jsxs)(\"tr\",{children:[Object(an.jsx)(\"th\",{children:\"Caller\"}),Object(an.jsx)(\"td\",{children:Object(an.jsx)(ur,{bold:!0,underline:!0,pointer:!0,onClick:e=>o(l.reporterUserId),children:l.reporterUserName})})]}),Object(an.jsxs)(\"tr\",{children:[Object(an.jsx)(\"th\",{children:\"Reported User\"}),Object(an.jsx)(\"td\",{children:Object(an.jsx)(ur,{bold:!0,underline:!0,pointer:!0,onClick:e=>o(l.reportedUserId),children:l.reportedUserName})})]})]})})}),Object(an.jsxs)(Fn,{size:4,gap:1,children:[Object(an.jsx)(bn,{variant:\"secondary\",onClick:()=>r(!n),children:\"Chatlog\"}),Object(an.jsx)(bn,{onClick:e=>d(a.ob.RESOLUTION_USELESS),children:\"Close as useless\"}),Object(an.jsx)(bn,{variant:\"danger\",onClick:e=>d(a.ob.RESOLUTION_ABUSIVE),children:\"Close as abusive\"}),Object(an.jsx)(bn,{variant:\"success\",onClick:e=>d(a.ob.RESOLUTION_RESOLVED),children:\"Close as resolved\"}),Object(an.jsx)(bn,{variant:\"secondary\",onClick:e=>(e=>{Ee(new a.fg([e])),s(e)})(t),children:\"Release\"})]})]})]})]}),n&&Object(an.jsx)(Zl,{issueId:t,onCloseClick:()=>r(!1)})]})},td=e=>{const{myIssues:t=null,handleIssue:s=null}=e;return Object(an.jsxs)(Fn,{gap:0,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{gap:2,children:Object(an.jsxs)(un,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object(an.jsx)(on,{className:\"g-col-2\",children:\"Type\"}),Object(an.jsx)(on,{className:\"g-col-3\",children:\"Room/Player\"}),Object(an.jsx)(on,{className:\"g-col-3\",children:\"Opened\"}),Object(an.jsx)(on,{className:\"g-col-2\"}),Object(an.jsx)(on,{className:\"g-col-2\"})]})}),Object(an.jsx)(Fn,{overflow:\"auto\",className:\"striped-children\",gap:0,children:t&&t.length>0&&t.map((e=>Object(an.jsxs)(un,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[Object(an.jsx)(on,{className:\"g-col-2\",children:e.categoryId}),Object(an.jsx)(on,{className:\"g-col-3\",children:e.reportedUserName}),Object(an.jsx)(on,{className:\"g-col-3\",children:new Date(Date.now()-e.issueAgeInMilliseconds).toLocaleTimeString()}),Object(an.jsx)(on,{className:\"g-col-2\",children:Object(an.jsx)(bn,{variant:\"primary\",onClick:t=>s(e.issueId),children:\"Handle\"})}),Object(an.jsx)(on,{className:\"g-col-2\",children:Object(an.jsx)(bn,{variant:\"danger\",onClick:t=>Ee(new a.fg([e.issueId])),children:\"Release\"})})]},e.issueId)))})]})},sd=e=>{const{openIssues:t=null}=e;return Object(an.jsxs)(Fn,{gap:0,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{gap:2,children:Object(an.jsxs)(un,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object(an.jsx)(on,{className:\"g-col-2\",children:\"Type\"}),Object(an.jsx)(on,{className:\"g-col-3\",children:\"Room/Player\"}),Object(an.jsx)(on,{className:\"g-col-4\",children:\"Opened\"}),Object(an.jsx)(on,{className:\"g-col-3\"})]})}),Object(an.jsx)(Fn,{overflow:\"auto\",className:\"striped-children\",gap:0,children:t&&t.length>0&&t.map((e=>Object(an.jsxs)(un,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[Object(an.jsx)(on,{className:\"g-col-2\",children:e.categoryId}),Object(an.jsx)(on,{className:\"g-col-3\",children:e.reportedUserName}),Object(an.jsx)(on,{className:\"g-col-4\",children:new Date(Date.now()-e.issueAgeInMilliseconds).toLocaleTimeString()}),Object(an.jsx)(on,{className:\"g-col-3\",children:Object(an.jsx)(bn,{variant:\"success\",onClick:t=>Ee(new a.Mf([e.issueId],!1,0,\"pick issue button\")),children:\"Pick Issue\"})})]},e.issueId)))})]})},nd=e=>{const{pickedIssues:t=null}=e;return Object(an.jsxs)(Fn,{gap:0,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{gap:2,children:Object(an.jsxs)(un,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object(an.jsx)(on,{className:\"g-col-2\",children:\"Type\"}),Object(an.jsx)(on,{className:\"g-col-3\",children:\"Room/Player\"}),Object(an.jsx)(on,{className:\"g-col-4\",children:\"Opened\"}),Object(an.jsx)(on,{className:\"g-col-3\",children:\"Picker\"})]})}),Object(an.jsx)(Fn,{overflow:\"auto\",className:\"striped-children\",gap:0,children:t&&t.length>0&&t.map((e=>Object(an.jsxs)(un,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[Object(an.jsx)(on,{className:\"g-col-2\",children:e.categoryId}),Object(an.jsx)(on,{className:\"g-col-3\",children:e.reportedUserName}),Object(an.jsx)(on,{className:\"g-col-4\",children:new Date(Date.now()-e.issueAgeInMilliseconds).toLocaleTimeString()}),Object(an.jsx)(on,{className:\"g-col-3\",children:e.pickerUserName})]},e.issueId)))})]})},rd=[\"Open Issues\",\"My Issues\",\"Picked Issues\"],cd=e=>{const{onCloseClick:t=null}=e,[s,n]=Object(c.useState)(0),[r,i]=Object(c.useState)([]),{tickets:o=[]}=Ec(),l=o.filter((e=>e.state===a.le.STATE_OPEN)),d=o.filter((e=>e.state===a.le.STATE_PICKED&&e.pickerUserId===F().userId)),u=o.filter((e=>e.state===a.le.STATE_PICKED)),j=e=>{i((t=>{const s=[...t],n=s.indexOf(e);return n>=0&&s.splice(n,1),s}))},h=e=>{i((t=>{const s=[...t],n=s.indexOf(e);return-1===n?s.push(e):s.splice(n,1),s}))},b=()=>{switch(s){case 0:return Object(an.jsx)(sd,{openIssues:l});case 1:return Object(an.jsx)(td,{myIssues:d,handleIssue:h});case 2:return Object(an.jsx)(nd,{pickedIssues:u})}return null};return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(yn,{className:\"nitro-mod-tools-tickets\",children:[Object(an.jsx)(vn,{headerText:\"Tickets\",onCloseClick:t}),Object(an.jsx)(or,{children:rd.map(((e,t)=>Object(an.jsx)(ar,{isActive:s===t,onClick:e=>n(t),children:e},t)))}),Object(an.jsx)(In,{gap:1,children:Object(an.jsx)(b,{})})]}),r&&r.length>0&&r.map((e=>Object(an.jsx)(ed,{issueId:e,onIssueInfoClosed:j},e)))]})},id=e=>{const{userId:t=null,onCloseClick:s=null}=e,[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(null);return pr(a.Mi,(e=>{const s=e.getParser();s&&s.data.userId===t&&(o(s.data.username),r(s.data.roomChatlogs))})),Object(c.useEffect)((()=>{Ee(new a.Sc(t))}),[t]),Object(an.jsxs)(yn,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",windowPosition:Sn.TOP_LEFT,children:[Object(an.jsx)(vn,{headerText:`User Chatlog: ${i||\"\"}`,onCloseClick:s}),Object(an.jsx)(In,{className:\"text-black h-100\",children:n&&Object(an.jsx)(Xl,{records:n})})]})},ad=[new hs(1,\"Alert\",hs.ALERT,1,0),new hs(2,\"Mute 1h\",hs.MUTE,2,0),new hs(3,\"Ban 18h\",hs.BAN,3,0),new hs(4,\"Ban 7 days\",hs.BAN,4,0),new hs(5,\"Ban 30 days (step 1)\",hs.BAN,5,0),new hs(7,\"Ban 30 days (step 2)\",hs.BAN,7,0),new hs(6,\"Ban 100 years\",hs.BAN,6,0),new hs(106,\"Ban avatar-only 100 years\",hs.BAN,6,0),new hs(101,\"Kick\",hs.KICK,0,0),new hs(102,\"Lock trade 1 week\",hs.TRADE_LOCK,0,168),new hs(104,\"Lock trade permanent\",hs.TRADE_LOCK,0,876e3),new hs(105,\"Message\",hs.MESSAGE,0,0)],od=e=>{const{user:t=null,onCloseClick:s=null}=e,[n,r]=Object(c.useState)(-1),[i,o]=Object(c.useState)(-1),[l,d]=Object(c.useState)(\"\"),{cfhCategories:u=null,settings:j=null}=Ec(),{simpleAlert:h=null}=Hr(),b=Object(c.useMemo)((()=>{const e=[];if(u&&u.length)for(const t of u)for(const s of t.topics)e.push(s);return e}),[u]),g=e=>h(e,fs.DEFAULT,null,null,\"Error\");return t?Object(an.jsxs)(yn,{className:\"nitro-mod-tools-user-action\",theme:\"primary-slim\",windowPosition:Sn.TOP_LEFT,children:[Object(an.jsx)(vn,{headerText:\"Mod Action: \"+(t?t.username:\"\"),onCloseClick:()=>s()}),Object(an.jsxs)(In,{className:\"text-black\",children:[Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n,onChange:e=>r(parseInt(e.target.value)),children:[Object(an.jsx)(\"option\",{value:-1,disabled:!0,children:\"CFH Topic\"}),b.map(((e,t)=>Object(an.jsx)(\"option\",{value:t,children:We(\"help.cfh.topic.\"+e.id)},t)))]}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:i,onChange:e=>o(parseInt(e.target.value)),children:[Object(an.jsx)(\"option\",{value:-1,disabled:!0,children:\"Sanction Type\"}),ad.map(((e,t)=>Object(an.jsx)(\"option\",{value:t,children:e.name},t)))]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{small:!0,children:\"Optional message type, overrides default\"}),Object(an.jsx)(\"textarea\",{className:\"form-control\",value:l,onChange:e=>d(e.target.value)})]}),Object(an.jsxs)(hn,{justifyContent:\"between\",gap:1,children:[Object(an.jsx)(bn,{variant:\"primary\",onClick:()=>{let e=null;const r=b[n];if(-1===n&&(e=\"You must select a CFH topic\"),e)return g(e);const c=0===l.trim().length?We(`help.cfh.topic.${r.id}`):l;Ee(new a.Bb(t.userId,n,c)),s()},children:\"Default Sanction\"}),Object(an.jsx)(bn,{variant:\"success\",onClick:()=>{let e=null;const r=b[n],c=ad[i];if(-1===n||-1===i?e=\"You must select a CFH topic and Sanction\":j&&j.cfhPermission?r?c||(e=\"You must select a sanction\"):e=\"You must select a CFH topic\":e=\"You do not have permission to do this\",e)return void g(e);const o=0===l.trim().length?We(`help.cfh.topic.${r.id}`):l;switch(c.actionType){case hs.ALERT:if(!j.alertPermission)return void g(\"You have insufficient permissions\");Ee(new a.Fe(t.userId,o,r.id));break;case hs.MUTE:Ee(new a.Je(t.userId,o,r.id));break;case hs.BAN:if(!j.banPermission)return void g(\"You have insufficient permissions\");Ee(new a.Ge(t.userId,o,r.id,i,106===c.actionId));break;case hs.KICK:if(!j.kickPermission)return void g(\"You have insufficient permissions\");Ee(new a.He(t.userId,o,r.id));break;case hs.TRADE_LOCK:{const e=60*c.actionLengthHours;Ee(new a.Ke(t.userId,o,e,r.id));break}case hs.MESSAGE:if(0===l.trim().length)return void g(\"Please write a message to user\");Ee(new a.Ie(t.userId,l,r.id))}s()},children:\"Sanction\"})]})]})]}):null},ld=e=>{const{userId:t=null,onCloseClick:s=null}=e,[n,r]=Object(c.useState)(null);if(pr(a.Kh,(e=>{const s=e.getParser();s.data.userId===t&&r(s.data)})),Object(c.useEffect)((()=>{Ee(new a.Qc(t))}),[t]),!t)return null;const i=e=>{const t=n.rooms[e.index];return Object(an.jsxs)(un,{fullHeight:!1,style:e.style,gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[Object(an.jsxs)(ur,{className:\"g-col-2\",children:[t.enterHour.toString().padStart(2,\"0\"),\": \",t.enterMinute.toString().padStart(2,\"0\")]}),Object(an.jsx)(ur,{className:\"g-col-7\",children:t.roomName}),Object(an.jsx)(ur,{bold:!0,underline:!0,pointer:!0,variant:\"primary\",className:\"g-col-3\",onClick:e=>ps(t.roomId),children:\"Visit Room\"})]},e.key)};return Object(an.jsxs)(yn,{className:\"nitro-mod-tools-user-visits\",theme:\"primary-slim\",windowPosition:Sn.TOP_LEFT,children:[Object(an.jsx)(vn,{headerText:\"User Visits\",onCloseClick:s}),Object(an.jsx)(In,{className:\"text-black\",gap:1,children:Object(an.jsxs)(Fn,{fullHeight:!0,gap:0,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{gap:2,children:Object(an.jsxs)(un,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object(an.jsx)(on,{className:\"g-col-2\",children:\"Time\"}),Object(an.jsx)(on,{className:\"g-col-7\",children:\"Room name\"}),Object(an.jsx)(on,{className:\"g-col-3\",children:\"Visit\"})]})}),Object(an.jsx)(Fn,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:n&&Object(an.jsx)(Ja.a,{defaultWidth:400,defaultHeight:200,children:e=>{let{height:t,width:s}=e;return Object(an.jsx)(Ja.d,{width:s,height:t,rowCount:n.rooms.length,rowHeight:25,className:\"log-entry-container\",rowRenderer:i})}})})]})})]})},dd=e=>{const{user:t=null,onCloseClick:s=null}=e,[n,r]=Object(c.useState)(\"\"),{simpleAlert:i=null}=Hr();if(!t)return null;return Object(an.jsxs)(yn,{className:\"nitro-mod-tools-user-message\",theme:\"primary-slim\",windowPosition:Sn.TOP_LEFT,children:[Object(an.jsx)(vn,{headerText:\"Send Message\",onCloseClick:()=>s()}),Object(an.jsxs)(In,{className:\"text-black\",children:[Object(an.jsxs)(ur,{children:[\"Message To: \",t.username]}),Object(an.jsx)(\"textarea\",{className:\"form-control\",value:n,onChange:e=>r(e.target.value)}),Object(an.jsx)(bn,{fullWidth:!0,onClick:()=>{0!==n.trim().length?(Ee(new a.Ie(t.userId,n,-999)),s()):i(\"Please write a message to user.\",null,null,null,\"Error\",null)},children:\"Send message\"})]})]})},ud=e=>{const{onCloseClick:t=null,userId:s=null}=e,[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(!1),[l,d]=Object(c.useState)(!1),[u,j]=Object(c.useState)(!1),h=Object(c.useMemo)((()=>n?[{localeKey:\"modtools.userinfo.userName\",value:n.userName,showOnline:!0},{localeKey:\"modtools.userinfo.cfhCount\",value:n.cfhCount.toString()},{localeKey:\"modtools.userinfo.abusiveCfhCount\",value:n.abusiveCfhCount.toString()},{localeKey:\"modtools.userinfo.cautionCount\",value:n.cautionCount.toString()},{localeKey:\"modtools.userinfo.banCount\",value:n.banCount.toString()},{localeKey:\"modtools.userinfo.lastSanctionTime\",value:n.lastSanctionTime},{localeKey:\"modtools.userinfo.tradingLockCount\",value:n.tradingLockCount.toString()},{localeKey:\"modtools.userinfo.tradingExpiryDate\",value:n.tradingExpiryDate},{localeKey:\"modtools.userinfo.minutesSinceLastLogin\",value:a.Zb.format(60*n.minutesSinceLastLogin,\".ago\",2)},{localeKey:\"modtools.userinfo.lastPurchaseDate\",value:n.lastPurchaseDate},{localeKey:\"modtools.userinfo.primaryEmailAddress\",value:n.primaryEmailAddress},{localeKey:\"modtools.userinfo.identityRelatedBanCount\",value:n.identityRelatedBanCount.toString()},{localeKey:\"modtools.userinfo.registrationAgeInMinutes\",value:a.Zb.format(60*n.registrationAgeInMinutes,\".ago\",2)},{localeKey:\"modtools.userinfo.userClassification\",value:n.userClassification}]:null),[n]);return pr(a.Te,(e=>{const t=e.getParser();t&&t.data.userId===s&&r(t.data)})),Object(c.useEffect)((()=>{Ee(new a.Ic(s))}),[s]),n?Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(yn,{className:\"nitro-mod-tools-user\",theme:\"primary-slim\",windowPosition:Sn.TOP_LEFT,children:[Object(an.jsx)(vn,{headerText:We(\"modtools.userinfo.title\",[\"username\"],[n.userName]),onCloseClick:()=>t()}),Object(an.jsx)(In,{className:\"text-black\",children:Object(an.jsxs)(un,{overflow:\"hidden\",children:[Object(an.jsx)(Fn,{size:8,overflow:\"auto\",children:Object(an.jsx)(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:Object(an.jsx)(\"tbody\",{children:h.map(((e,t)=>Object(an.jsxs)(\"tr\",{children:[Object(an.jsx)(\"th\",{scope:\"row\",children:We(e.localeKey)}),Object(an.jsxs)(\"td\",{children:[e.value,e.showOnline&&Object(an.jsx)(\"i\",{className:`icon icon-pf-${n.online?\"online\":\"offline\"} ms-2`})]})]},t)))})})}),Object(an.jsxs)(Fn,{size:4,gap:1,children:[Object(an.jsx)(bn,{onClick:e=>m(`mod-tools/open-user-chatlog/${s}`),children:\"Room Chat\"}),Object(an.jsx)(bn,{onClick:e=>o(!i),children:\"Send Message\"}),Object(an.jsx)(bn,{onClick:e=>j(!u),children:\"Room Visits\"}),Object(an.jsx)(bn,{onClick:e=>d(!l),children:\"Mod Action\"})]})]})})]}),i&&Object(an.jsx)(dd,{user:{userId:s,username:n.userName},onCloseClick:()=>o(!1)}),l&&Object(an.jsx)(od,{user:{userId:s,username:n.userName},onCloseClick:()=>d(!1)}),u&&Object(an.jsx)(ld,{userId:s,onCloseClick:()=>j(!1)})]}):null},jd=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(-1),[i,o]=Object(c.useState)(null),[d,u]=Object(c.useState)(!1),{openRooms:j=[],openRoomChatlogs:h=[],openUserChatlogs:b=[],openUserInfos:g=[],openRoomInfo:O=null,closeRoomInfo:p=null,toggleRoomInfo:f=null,openRoomChatlog:x=null,closeRoomChatlog:_=null,toggleRoomChatlog:I=null,openUserInfo:C=null,closeUserInfo:v=null,toggleUserInfo:N=null,openUserChatlog:T=null,closeUserChatlog:S=null,toggleUserChatlog:w=null}=Ec(),R=Object(c.useRef)(null);return mr([a.Eg.INITIALIZED,a.Eg.DISPOSED],(e=>{if(!a.Rg.isRoomPreviewerId(e.roomId))switch(e.type){case a.Eg.INITIALIZED:return void r(e.roomId);case a.Eg.DISPOSED:return void r(-1)}})),wc((e=>{if(e.category!==a.Wg.UNIT)return;const t=he();if(!t)return;const s=t.userDataManager.getUserDataByIndex(e.id);s&&s.type===a.ah.USER&&o({userId:s.webID,username:s.name})})),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e));case\"open-room-info\":return void O(Number(t[2]));case\"close-room-info\":return void p(Number(t[2]));case\"toggle-room-info\":return void f(Number(t[2]));case\"open-room-chatlog\":return void x(Number(t[2]));case\"close-room-chatlog\":return void _(Number(t[2]));case\"toggle-room-chatlog\":return void I(Number(t[2]));case\"open-user-info\":return void C(Number(t[2]));case\"close-user-info\":return void v(Number(t[2]));case\"toggle-user-info\":return void N(Number(t[2]));case\"open-user-chatlog\":return void T(Number(t[2]));case\"close-user-chatlog\":return void S(Number(t[2]));case\"toggle-user-chatlog\":return void w(Number(t[2]))}},eventUrlPrefix:\"mod-tools/\"};return l(e),()=>E(e)}),[O,p,f,x,_,I,C,v,N,T,S,w]),Object(an.jsxs)(an.Fragment,{children:[t&&Object(an.jsxs)(yn,{uniqueKey:\"mod-tools\",className:\"nitro-mod-tools\",windowPosition:Sn.TOP_LEFT,theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:\"Mod Tools\",onCloseClick:e=>s(!1)}),Object(an.jsxs)(In,{className:\"text-black\",gap:1,children:[Object(an.jsxs)(bn,{gap:1,onClick:e=>m(`mod-tools/toggle-room-info/${n}`),disabled:n<=0,className:\"position-relative\",children:[Object(an.jsx)(on,{className:\"icon icon-small-room position-absolute start-1\"}),\" Room Tool\"]}),Object(an.jsxs)(bn,{innerRef:R,gap:1,onClick:e=>m(`mod-tools/toggle-room-chatlog/${n}`),disabled:n<=0,className:\"position-relative\",children:[Object(an.jsx)(on,{className:\"icon icon-chat-history position-absolute start-1\"}),\" Chatlog Tool\"]}),Object(an.jsxs)(bn,{gap:1,onClick:()=>m(`mod-tools/toggle-user-info/${i.userId}`),disabled:!i,className:\"position-relative\",children:[Object(an.jsx)(on,{className:\"icon icon-user position-absolute start-1\"}),\" User: \",i?i.username:\"\"]}),Object(an.jsxs)(bn,{gap:1,onClick:()=>u((e=>!e)),className:\"position-relative\",children:[Object(an.jsx)(on,{className:\"icon icon-tickets position-absolute start-1\"}),\" Report Tool\"]})]})]}),j.length>0&&j.map((e=>Object(an.jsx)(Jl,{roomId:e,onCloseClick:()=>m(`mod-tools/close-room-info/${e}`)},e))),h.length>0&&h.map((e=>Object(an.jsx)(Ql,{roomId:e,onCloseClick:()=>m(`mod-tools/close-room-chatlog/${e}`)},e))),g.length>0&&g.map((e=>Object(an.jsx)(ud,{userId:e,onCloseClick:()=>m(`mod-tools/close-user-info/${e}`)},e))),b.length>0&&b.map((e=>Object(an.jsx)(id,{userId:e,onCloseClick:()=>m(`mod-tools/close-user-chatlog/${e}`)},e))),d&&Object(an.jsx)(cd,{onCloseClick:()=>u(!1)})]})},hd=[bs.START_DOORBELL,bs.STATE_WAITING,bs.STATE_NO_ANSWER,bs.START_PASSWORD,bs.STATE_WRONG_PASSWORD],bd=[bs.START_DOORBELL,bs.STATE_WAITING,bs.STATE_NO_ANSWER],gd=(bs.START_PASSWORD,bs.STATE_WRONG_PASSWORD,e=>{const[t,s]=Object(c.useState)(\"\"),{doorData:n=null,setDoorData:r=null}=vc(),i=()=>{n&&n.state===bs.STATE_WAITING&&be(),r(null)};if(Object(c.useEffect)((()=>{n&&n.state===bs.STATE_NO_ANSWER&&be()}),[n]),!n||n.state===bs.NONE||-1===hd.indexOf(n.state))return null;const a=bd.indexOf(n.state)>=0;return Object(an.jsxs)(yn,{className:\"nitro-navigator-doorbell\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(a?\"navigator.doorbell.title\":\"navigator.password.title\"),onCloseClick:i}),Object(an.jsxs)(In,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:n&&n.roomInfo&&n.roomInfo.roomName}),n.state===bs.START_DOORBELL&&Object(an.jsx)(ur,{children:We(\"navigator.doorbell.info\")}),n.state===bs.STATE_WAITING&&Object(an.jsx)(ur,{children:We(\"navigator.doorbell.waiting\")}),n.state===bs.STATE_NO_ANSWER&&Object(an.jsx)(ur,{children:We(\"navigator.doorbell.no.answer\")}),n.state===bs.START_PASSWORD&&Object(an.jsx)(ur,{children:We(\"navigator.password.info\")}),n.state===bs.STATE_WRONG_PASSWORD&&Object(an.jsx)(ur,{children:We(\"navigator.password.retryinfo\")})]}),a&&Object(an.jsxs)(Fn,{gap:1,children:[n.state===bs.START_DOORBELL&&Object(an.jsx)(bn,{variant:\"success\",onClick:()=>{n&&n.roomInfo&&(P(n.roomInfo.roomId),r((e=>{const t={...e};return t.state=bs.STATE_PENDING_SERVER,t})))},children:We(\"navigator.doorbell.button.ring\")}),Object(an.jsx)(bn,{variant:\"danger\",onClick:i,children:We(\"generic.cancel\")})]}),!a&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"navigator.password.enter\")}),Object(an.jsx)(\"input\",{type:\"password\",className:\"form-control form-control-sm\",onChange:e=>s(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(bn,{variant:\"success\",onClick:()=>{n&&n.roomInfo&&(P(n.roomInfo.roomId,t),r((e=>{const t={...e};return t.state=bs.STATE_PENDING_SERVER,t})))},children:We(\"navigator.password.button.try\")}),Object(an.jsx)(bn,{variant:\"danger\",onClick:i,children:We(\"generic.cancel\")})]})]})]})]})}),md=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(null),[l,d]=Object(c.useState)(null),[u,j]=Object(c.useState)(null),[h,b]=Object(c.useState)(0),[g,m]=Object(c.useState)([]),[O,f]=Object(c.useState)(\"\"),{categories:x=null}=vc(),_=p(\"hc.disabled\",!1),I=e=>p(\"images.url\")+`/navigator/models/model_${e}.png`;return Object(c.useEffect)((()=>{if(!t){const e=[];for(let t=10;t<=100;t+=10)e.push(t);s(e),j(e[0])}}),[t]),Object(c.useEffect)((()=>{x&&x.length&&d(x[0].id)}),[x]),Object(c.useEffect)((()=>{const e=p(\"navigator.room.models\");e&&e.length&&(m(e),f(e[0].name))}),[]),Object(an.jsxs)(Fn,{overflow:\"hidden\",children:[Object(an.jsxs)(un,{overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{size:6,gap:1,overflow:\"auto\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"navigator.createroom.roomnameinfo\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:60,onChange:e=>r(e.target.value),placeholder:We(\"navigator.createroom.roomnameinfo\")})]}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{children:We(\"navigator.createroom.roomdescinfo\")}),Object(an.jsx)(\"textarea\",{className:\"flex-grow-1 form-control form-control-sm w-100\",maxLength:255,onChange:e=>o(e.target.value),placeholder:We(\"navigator.createroom.roomdescinfo\")})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"navigator.category\")}),Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",onChange:e=>d(Number(e.target.value)),children:x&&x.length>0&&x.map((e=>Object(an.jsx)(\"option\",{value:e.id,children:We(e.name)},e.id)))})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"navigator.maxvisitors\")}),Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",onChange:e=>j(Number(e.target.value)),children:t&&t.map((e=>Object(an.jsx)(\"option\",{value:e,children:e},e)))})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"navigator.tradesettings\")}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",onChange:e=>b(Number(e.target.value)),children:[Object(an.jsx)(\"option\",{value:\"0\",children:We(\"navigator.roomsettings.trade_not_allowed\")}),Object(an.jsx)(\"option\",{value:\"1\",children:We(\"navigator.roomsettings.trade_not_with_Controller\")}),Object(an.jsx)(\"option\",{value:\"2\",children:We(\"navigator.roomsettings.trade_allowed\")})]})]})]}),Object(an.jsx)(Fn,{size:6,gap:1,overflow:\"auto\",children:g.map(((e,t)=>Object(an.jsxs)(Vn,{fullHeight:!0,onClick:()=>((e,t)=>{!e||e.clubLevel>B()||f(g[t].name)})(e,t),itemActive:O===e.name,overflow:\"unset\",gap:0,className:\"p-1\",disabled:B()<e.clubLevel,children:[Object(an.jsx)(hn,{fullHeight:!0,center:!0,overflow:\"hidden\",children:Object(an.jsx)(\"img\",{alt:\"\",src:I(e.name)})}),Object(an.jsxs)(ur,{bold:!0,children:[e.tileSize,\" \",We(\"navigator.createroom.tilesize\")]}),!_&&e.clubLevel>a.Xd.NO_CLUB&&Object(an.jsx)(Pn,{position:\"absolute\",className:\"top-1 end-1\",type:\"hc\"})]},e.name)))})]}),Object(an.jsx)(bn,{fullWidth:!0,variant:!n||n.length<3?\"danger\":\"success\",onClick:()=>{Ee(new a.zb(n,i,\"model_\"+O,Number(l),Number(u),h))},disabled:!n||n.length<3,children:We(\"navigator.createroom.create\")})]})};const Od=e=>{const{onCloseClick:t=null}=e,[s,n]=Object(c.useState)(!1),[r,i]=Object(c.useState)(!1),{navigatorData:o=null}=vc(),l=e=>{switch(e){case\"settings\":return F().userId===o.enteredGuestRoom.ownerId||F().isModerator;case\"staff_pick\":return F().securityLevel>=a.Uh.COMMUNITY;default:return!1}},d=(e,s)=>{if(o&&o.enteredGuestRoom)switch(e){case\"set_home_room\":let e=-1;return o.homeRoomId!==o.enteredGuestRoom.roomId&&(e=o.enteredGuestRoom.roomId),void(e>0&&Ee(new a.Ji(e)));case\"navigator_search_tag\":return;case\"open_room_thumbnail_camera\":return void $e(new Pr(Pr.TOGGLE_THUMBNAIL));case\"open_group_info\":return void Qt(o.enteredGuestRoom.habboGroupId);case\"toggle_room_link\":return void m(\"navigator/toggle-room-link\");case\"open_room_settings\":return void Ee(new a.wh(o.enteredGuestRoom.roomId));case\"toggle_pick\":return n((e=>!e)),void Ee(new a.gi(o.enteredGuestRoom.roomId));case\"toggle_mute\":return i((e=>!e)),void Ee(new a.Vg);case\"open_floorplan_editor\":return void m(\"floor-editor/toggle\");case\"close\":return void t()}};return Object(c.useEffect)((()=>{o&&(n(o.currentRoomIsStaffPick),o.enteredGuestRoom&&i(o.enteredGuestRoom.allInRoomMuted))}),[o]),o.enteredGuestRoom?Object(an.jsxs)(yn,{className:\"nitro-room-info\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"navigator.roomsettings.roominfo\"),onCloseClick:()=>d(\"close\")}),Object(an.jsx)(In,{className:\"text-black\",children:o.enteredGuestRoom&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(hn,{gap:2,overflow:\"hidden\",children:[Object(an.jsx)(rr,{roomId:o.enteredGuestRoom.roomId,customUrl:o.enteredGuestRoom.officialRoomPicRef,children:l(\"settings\")&&Object(an.jsx)(\"i\",{className:\"icon icon-camera-small position-absolute b-0 r-0 m-1 cursor-pointer top-0\",onClick:()=>d(\"open_room_thumbnail_camera\")})}),Object(an.jsxs)(Fn,{grow:!0,gap:1,overflow:\"hidden\",children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"i\",{onClick:()=>d(\"set_home_room\"),className:\"flex-shrink-0 icon icon-house-small cursor-pointer\"+Xi()({\" gray\":o.homeRoomId!==o.enteredGuestRoom.roomId})}),Object(an.jsx)(ur,{bold:!0,children:o.enteredGuestRoom.roomName})]}),o.enteredGuestRoom.showOwner&&Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{variant:\"muted\",children:We(\"navigator.roomownercaption\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:o.enteredGuestRoom.ownerId}),Object(an.jsx)(ur,{children:o.enteredGuestRoom.ownerName})]})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{variant:\"muted\",children:We(\"navigator.roomrating\")}),Object(an.jsx)(ur,{children:o.currentRoomRating})]}),o.enteredGuestRoom.tags.length>0&&Object(an.jsx)(hn,{alignItems:\"center\",gap:1,children:o.enteredGuestRoom.tags.map((e=>Object(an.jsxs)(ur,{pointer:!0,className:\"bg-muted rounded p-1\",onClick:e=>d(\"navigator_search_tag\"),children:[\"#\",e]},e)))})]}),Object(an.jsxs)(Fn,{alignItems:\"center\",gap:1,children:[l(\"settings\")&&Object(an.jsx)(\"i\",{className:\"icon icon-cog cursor-pointer\",title:We(\"navigator.room.popup.info.room.settings\"),onClick:e=>d(\"open_room_settings\")}),Object(an.jsx)(fn.a,{icon:\"link\",title:We(\"navigator.embed.caption\"),className:\"cursor-pointer\",onClick:e=>m(\"navigator/toggle-room-link\")})]})]}),Object(an.jsx)(ur,{overflow:\"auto\",style:{maxHeight:50},children:o.enteredGuestRoom.description}),o.enteredGuestRoom.habboGroupId>0&&Object(an.jsxs)(hn,{pointer:!0,alignItems:\"center\",gap:1,onClick:()=>d(\"open_group_info\"),children:[Object(an.jsx)(Dn,{className:\"flex-none\",badgeCode:o.enteredGuestRoom.groupBadgeCode,isGroup:!0}),Object(an.jsx)(ur,{underline:!0,children:We(\"navigator.guildbase\",[\"groupName\"],[o.enteredGuestRoom.groupName])})]})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[l(\"staff_pick\")&&Object(an.jsx)(bn,{onClick:()=>d(\"toggle_pick\"),children:We(s?\"navigator.staffpicks.unpick\":\"navigator.staffpicks.pick\")}),Object(an.jsx)(bn,{variant:\"danger\",disabled:!0,children:We(\"help.emergency.main.report.room\")}),l(\"settings\")&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(bn,{onClick:()=>d(\"toggle_mute\"),children:We(r?\"navigator.muteall_on\":\"navigator.muteall_off\")}),Object(an.jsx)(bn,{onClick:()=>d(\"open_floorplan_editor\"),children:We(\"open.floor.plan.editor\")})]})]})]})})]}):null};const pd=e=>{const{onCloseClick:t=null}=e,{navigatorData:s=null}=vc();return s.enteredGuestRoom?Object(an.jsxs)(yn,{className:\"nitro-room-link\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"navigator.embed.title\"),onCloseClick:t}),Object(an.jsx)(In,{className:\"text-black d-flex align-items-center\",children:Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsx)(rr,{roomId:s.enteredGuestRoom.roomId,customUrl:s.enteredGuestRoom.officialRoomPicRef}),Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{bold:!0,fontSize:5,children:We(\"navigator.embed.headline\")}),Object(an.jsx)(ur,{children:We(\"navigator.embed.info\")}),Object(an.jsx)(\"input\",{type:\"text\",readOnly:!0,className:\"form-control form-control-sm\",value:We(\"navigator.embed.src\",[\"roomId\"],[s.enteredGuestRoom.roomId.toString()]).replace(\"${url.prefix}\",p(\"url.prefix\",\"\"))})]})]})})]}):null},fd=e=>{const{roomData:t=null,handleChange:s=null}=e,[n,r]=Object(c.useState)(\"\"),[i,o]=Object(c.useState)(\"\"),[l,d]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{r(\"\"),o(\"\"),d(!1)}),[t]),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.roomaccess.caption\")}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.roomaccess.info\")})]}),Object(an.jsxs)(Fn,{overflow:\"auto\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.doormode\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:t.lockState===a.zg.OPEN_STATE&&!l,onChange:e=>s(\"lock_state\",a.zg.OPEN_STATE)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.doormode.open\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:t.lockState===a.zg.DOORBELL_STATE&&!l,onChange:e=>s(\"lock_state\",a.zg.DOORBELL_STATE)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.doormode.doorbell\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:t.lockState===a.zg.INVISIBLE_STATE&&!l,onChange:e=>s(\"lock_state\",a.zg.INVISIBLE_STATE)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.doormode.invisible\")})]}),Object(an.jsxs)(hn,{fullWidth:!0,gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:t.lockState===a.zg.PASSWORD_STATE||l,onChange:e=>d(e.target.checked)}),!l&&t.lockState!==a.zg.PASSWORD_STATE&&Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.doormode.password\")}),(l||t.lockState===a.zg.PASSWORD_STATE)&&Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.doormode.password\")}),Object(an.jsx)(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:n,onChange:e=>r(e.target.value),placeholder:We(\"navigator.roomsettings.password\"),onFocus:e=>d(!0)}),l&&n.length<=0&&Object(an.jsx)(ur,{bold:!0,small:!0,variant:\"danger\",children:We(\"navigator.roomsettings.passwordismandatory\")}),Object(an.jsx)(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:i,onChange:e=>o(e.target.value),onBlur:()=>{!l||n.length<=0||i.length<=0||n!==i||s(\"password\",n)},placeholder:We(\"navigator.roomsettings.passwordconfirm\")}),l&&n.length>0&&n!==i&&Object(an.jsx)(ur,{bold:!0,small:!0,variant:\"danger\",children:We(\"navigator.roomsettings.invalidconfirm\")})]})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.pets\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:t.allowPets,onChange:e=>s(\"allow_pets\",e.target.checked)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.allowpets\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:t.allowPetsEat,onChange:e=>s(\"allow_pets_eat\",e.target.checked)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.allowfoodconsume\")})]})]})]})]})},xd=e=>{const{roomData:t=null,handleChange:s=null,onClose:n=null}=e,[r,i]=Object(c.useState)(\"\"),[o,l]=Object(c.useState)(\"\"),{showConfirm:d=null}=Hr(),{categories:u=null}=vc();return Object(c.useEffect)((()=>{i(t.roomName),l(t.roomDescription)}),[t]),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{className:\"col-3\",children:We(\"navigator.roomname\")}),Object(an.jsxs)(Fn,{fullWidth:!0,gap:0,children:[Object(an.jsx)(\"input\",{className:\"form-control form-control-sm\",value:r,maxLength:60,onChange:e=>i(e.target.value),onBlur:()=>{r===t.roomName||r.length<3||r.length>60||s(\"name\",r)}}),r.length<3&&Object(an.jsx)(ur,{bold:!0,small:!0,variant:\"danger\",children:We(\"navigator.roomsettings.roomnameismandatory\")})]})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{className:\"col-3\",children:We(\"navigator.roomsettings.desc\")}),Object(an.jsx)(\"textarea\",{className:\"form-control form-control-sm\",value:o,maxLength:255,onChange:e=>l(e.target.value),onBlur:()=>{o===t.roomDescription||o.length>255||s(\"description\",o)}})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{className:\"col-3\",children:We(\"navigator.category\")}),Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",value:t.categoryId,onChange:e=>s(\"category\",e.target.value),children:u&&u.map((e=>Object(an.jsx)(\"option\",{value:e.id,children:We(e.name)},e.id)))})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{className:\"col-3\",children:We(\"navigator.maxvisitors\")}),Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",value:t.userCount,onChange:e=>s(\"max_visitors\",e.target.value),children:ms&&ms.map((e=>Object(an.jsx)(\"option\",{value:e,children:e},e)))})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{className:\"col-3\",children:We(\"navigator.tradesettings\")}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:t.tradeState,onChange:e=>s(\"trade_state\",e.target.value),children:[Object(an.jsx)(\"option\",{value:\"0\",children:We(\"navigator.roomsettings.trade_not_allowed\")}),Object(an.jsx)(\"option\",{value:\"1\",children:We(\"navigator.roomsettings.trade_not_with_Controller\")}),Object(an.jsx)(\"option\",{value:\"2\",children:We(\"navigator.roomsettings.trade_allowed\")})]})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(on,{className:\"col-3\"}),Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:t.allowWalkthrough,onChange:e=>s(\"allow_walkthrough\",e.target.checked)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.allow_walk_through\")})]}),Object(an.jsxs)(ur,{variant:\"danger\",underline:!0,bold:!0,pointer:!0,className:\"d-flex justify-content-center align-items-center gap-1\",onClick:()=>{d(We(\"navigator.roomsettings.deleteroom.confirm.message\",[\"room_name\"],[t.roomName]),(()=>{Ee(new a.Ag(t.roomId)),n&&n(),m(\"navigator/search/myworld_view\")}),null,null,null,We(\"navigator.roomsettings.deleteroom.confirm.title\"))},children:[Object(an.jsx)(fn.a,{icon:\"times\"}),We(\"navigator.roomsettings.delete\")]})]})},_d=e=>{var t;const{roomData:s=null,handleChange:n=null}=e,[r,i]=Object(c.useState)(-1),[o,l]=Object(c.useState)([]);pr(a.x,(e=>{const t=e.getParser();s&&s.roomId===t.roomId&&l(t.bannedUsers)}));const d=Object(c.useCallback)((e=>{l((t=>{const s=[...t],n=s.findIndex((t=>t.userId===e));return n>=0&&s.splice(n,1),s})),Ee(new a.Ch(e,s.roomId)),i(-1)}),[s]);return Object(c.useEffect)((()=>{Ee(new a.sg(s.roomId))}),[s.roomId]),Object(an.jsxs)(un,{overflow:\"auto\",children:[Object(an.jsxs)(Fn,{size:6,children:[Object(an.jsxs)(ur,{bold:!0,children:[We(\"navigator.roomsettings.moderation.banned.users\"),\" (\",o.length,\")\"]}),Object(an.jsx)(hn,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:Object(an.jsx)(Fn,{fullWidth:!0,overflow:\"auto\",gap:1,children:o&&o.length>0&&o.map(((e,t)=>Object(an.jsxs)(hn,{shrink:!0,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[Object(an.jsx)(ir,{userName:e.userName}),Object(an.jsxs)(ur,{pointer:!0,grow:!0,onClick:t=>i(e.userId),children:[\" \",e.userName]})]},t)))})}),Object(an.jsxs)(bn,{disabled:r<=0,onClick:e=>d(r),children:[We(\"navigator.roomsettings.moderation.unban\"),\" \",r>0&&(null===(t=o.find((e=>e.userId===r)))||void 0===t?void 0:t.userName)]})]}),Object(an.jsxs)(Fn,{size:6,children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.moderation.mute.header\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:s.moderationSettings.allowMute===a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS,onChange:e=>n(\"moderation_mute\",e.target.checked?a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS:a.Ug.MODERATION_LEVEL_NONE)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.moderation.rights\")})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.moderation.kick.header\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:s.moderationSettings.allowKick===a.Ug.MODERATION_LEVEL_ALL,onChange:e=>n(\"moderation_kick\",e.target.checked?a.Ug.MODERATION_LEVEL_ALL:a.Ug.MODERATION_LEVEL_NONE)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.moderation.all\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:s.moderationSettings.allowKick>=a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS,disabled:s.moderationSettings.allowKick===a.Ug.MODERATION_LEVEL_ALL,onChange:e=>n(\"moderation_kick\",e.target.checked?a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS:a.Ug.MODERATION_LEVEL_NONE)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.moderation.rights\")})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.moderation.ban.header\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:s.moderationSettings.allowBan===a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS,onChange:e=>n(\"moderation_ban\",e.target.checked?a.Ug.MODERATION_LEVEL_USER_WITH_RIGHTS:a.Ug.MODERATION_LEVEL_NONE)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.moderation.rights\")})]})]})]})]})},Id=e=>{const{roomData:t=null}=e,[s,n]=Object(c.useState)(new Map);return pr(a.Qb,(e=>{const s=e.getParser();t&&t.roomId===s.roomId&&n(s.users)})),pr(a.Ob,(e=>{const s=e.getParser();t&&t.roomId===s.roomId&&n((e=>{const t=new Map(e);return t.set(s.data.userId,s.data.userName),t}))})),pr(a.Pb,(e=>{const s=e.getParser();t&&t.roomId===s.roomId&&n((e=>{const t=new Map(e);return t.delete(s.userId),t}))})),Object(c.useEffect)((()=>{Ee(new a.Ih(t.roomId))}),[t.roomId]),Object(an.jsxs)(un,{children:[Object(an.jsxs)(Fn,{size:6,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.flatctrls.userswithrights\",[\"displayed\",\"total\"],[s.size.toString(),s.size.toString()])}),Object(an.jsx)(hn,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:Object(an.jsx)(Fn,{fullWidth:!0,overflow:\"auto\",gap:1,children:Array.from(s.entries()).map(((e,t)=>{let[s,n]=e;return Object(an.jsxs)(hn,{shrink:!0,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[Object(an.jsx)(ir,{userName:n}),Object(an.jsxs)(ur,{pointer:!0,grow:!0,onClick:e=>Ee(new a.Ah(s)),children:[\" \",n]})]},t)}))})})]}),Object(an.jsx)(Fn,{size:6,justifyContent:\"end\",children:Object(an.jsx)(bn,{variant:\"danger\",disabled:!s.size,onClick:e=>Ee(new a.gg(t.roomId)),children:We(\"navigator.flatctrls.clear\")})})]})},Ed=e=>{const{roomData:t=null,handleChange:s=null}=e,[n,r]=Object(c.useState)(0);return Object(c.useEffect)((()=>{r(t.chatSettings.distance)}),[t.chatSettings]),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.vip.caption\")}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.vip.info\")})]}),Object(an.jsxs)(un,{overflow:\"auto\",children:[Object(an.jsxs)(Fn,{size:6,gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.chat_settings\")}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.chat_settings.info\")}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:t.chatSettings.mode,onChange:e=>s(\"bubble_mode\",e.target.value),children:[Object(an.jsx)(\"option\",{value:a.vg.CHAT_MODE_FREE_FLOW,children:We(\"navigator.roomsettings.chat.mode.free.flow\")}),Object(an.jsx)(\"option\",{value:a.vg.CHAT_MODE_LINE_BY_LINE,children:We(\"navigator.roomsettings.chat.mode.line.by.line\")})]}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:t.chatSettings.weight,onChange:e=>s(\"chat_weight\",e.target.value),children:[Object(an.jsx)(\"option\",{value:a.vg.CHAT_BUBBLE_WIDTH_NORMAL,children:We(\"navigator.roomsettings.chat.bubbles.width.normal\")}),Object(an.jsx)(\"option\",{value:a.vg.CHAT_BUBBLE_WIDTH_THIN,children:We(\"navigator.roomsettings.chat.bubbles.width.thin\")}),Object(an.jsx)(\"option\",{value:a.vg.CHAT_BUBBLE_WIDTH_WIDE,children:We(\"navigator.roomsettings.chat.bubbles.width.wide\")})]}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:t.chatSettings.speed,onChange:e=>s(\"bubble_speed\",e.target.value),children:[Object(an.jsx)(\"option\",{value:a.vg.CHAT_SCROLL_SPEED_FAST,children:We(\"navigator.roomsettings.chat.speed.fast\")}),Object(an.jsx)(\"option\",{value:a.vg.CHAT_SCROLL_SPEED_NORMAL,children:We(\"navigator.roomsettings.chat.speed.normal\")}),Object(an.jsx)(\"option\",{value:a.vg.CHAT_SCROLL_SPEED_SLOW,children:We(\"navigator.roomsettings.chat.speed.slow\")})]}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:t.chatSettings.protection,onChange:e=>s(\"flood_protection\",e.target.value),children:[Object(an.jsx)(\"option\",{value:a.vg.FLOOD_FILTER_LOOSE,children:We(\"navigator.roomsettings.chat.flood.loose\")}),Object(an.jsx)(\"option\",{value:a.vg.FLOOD_FILTER_NORMAL,children:We(\"navigator.roomsettings.chat.flood.normal\")}),Object(an.jsx)(\"option\",{value:a.vg.FLOOD_FILTER_STRICT,children:We(\"navigator.roomsettings.chat.flood.strict\")})]}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.chat_settings.hearing.distance\")}),Object(an.jsx)(\"input\",{type:\"number\",min:\"0\",className:\"form-control form-control-sm\",value:n,onChange:e=>r(e.target.valueAsNumber),onBlur:e=>s(\"chat_distance\",n)})]}),Object(an.jsxs)(Fn,{size:6,gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"navigator.roomsettings.vip_settings\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:t.hideWalls,onChange:e=>s(\"hide_walls\",e.target.checked)}),Object(an.jsx)(ur,{children:We(\"navigator.roomsettings.hide_walls\")})]}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:t.wallThickness,onChange:e=>s(\"wall_thickness\",e.target.value),children:[Object(an.jsx)(\"option\",{value:\"0\",children:We(\"navigator.roomsettings.wall_thickness.normal\")}),Object(an.jsx)(\"option\",{value:\"1\",children:We(\"navigator.roomsettings.wall_thickness.thick\")}),Object(an.jsx)(\"option\",{value:\"-1\",children:We(\"navigator.roomsettings.wall_thickness.thin\")}),Object(an.jsx)(\"option\",{value:\"-2\",children:We(\"navigator.roomsettings.wall_thickness.thinnest\")})]}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:t.floorThickness,onChange:e=>s(\"floor_thickness\",e.target.value),children:[Object(an.jsx)(\"option\",{value:\"0\",children:We(\"navigator.roomsettings.floor_thickness.normal\")}),Object(an.jsx)(\"option\",{value:\"1\",children:We(\"navigator.roomsettings.floor_thickness.thick\")}),Object(an.jsx)(\"option\",{value:\"-1\",children:We(\"navigator.roomsettings.floor_thickness.thin\")}),Object(an.jsx)(\"option\",{value:\"-2\",children:We(\"navigator.roomsettings.floor_thickness.thinnest\")})]})]})]})]})},Cd=[\"navigator.roomsettings.tab.1\",\"navigator.roomsettings.tab.2\",\"navigator.roomsettings.tab.3\",\"navigator.roomsettings.tab.4\",\"navigator.roomsettings.tab.5\"],vd=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(Cd[0]);pr(a.xh,(e=>{const t=e.getParser();if(!t)return;const n=t.data;s({roomId:n.roomId,roomName:n.name,roomDescription:n.description,categoryId:n.categoryId,userCount:n.maximumVisitorsLimit,tags:n.tags,tradeState:n.tradeMode,allowWalkthrough:n.allowWalkThrough,lockState:n.doorMode,password:null,allowPets:n.allowPets,allowPetsEat:n.allowFoodConsume,hideWalls:n.hideWalls,wallThickness:n.wallThickness,floorThickness:n.floorThickness,chatSettings:{mode:n.chatSettings.mode,weight:n.chatSettings.weight,speed:n.chatSettings.speed,distance:n.chatSettings.distance,protection:n.chatSettings.protection},moderationSettings:{allowMute:n.roomModerationSettings.allowMute,allowKick:n.roomModerationSettings.allowKick,allowBan:n.roomModerationSettings.allowBan}}),Ee(new a.sg(n.roomId))}));const i=()=>{s(null),r(Cd[0])},o=(e,t)=>{s((s=>{const n={...s};switch(e){case\"name\":n.roomName=String(t);break;case\"description\":n.roomDescription=String(t);break;case\"category\":n.categoryId=Number(t);break;case\"max_visitors\":n.userCount=Number(t);break;case\"trade_state\":n.tradeState=Number(t);break;case\"allow_walkthrough\":n.allowWalkthrough=Boolean(t);break;case\"allow_pets\":n.allowPets=Boolean(t);break;case\"allow_pets_eat\":n.allowPetsEat=Boolean(t);break;case\"hide_walls\":n.hideWalls=Boolean(t);break;case\"wall_thickness\":n.wallThickness=Number(t);break;case\"floor_thickness\":n.floorThickness=Number(t);break;case\"lock_state\":n.lockState=Number(t);break;case\"password\":n.lockState=a.zg.PASSWORD_STATE,n.password=String(t);break;case\"moderation_mute\":n.moderationSettings.allowMute=Number(t);break;case\"moderation_kick\":n.moderationSettings.allowKick=Number(t);break;case\"moderation_ban\":n.moderationSettings.allowBan=Number(t);break;case\"bubble_mode\":n.chatSettings.mode=Number(t);break;case\"chat_weight\":n.chatSettings.weight=Number(t);break;case\"bubble_speed\":n.chatSettings.speed=Number(t);break;case\"flood_protection\":n.chatSettings.protection=Number(t);break;case\"chat_distance\":n.chatSettings.distance=Number(t)}return Ee(new a.Qh(n.roomId,n.roomName,n.roomDescription,n.lockState,n.password,n.userCount,n.categoryId,n.tags.length,n.tags,n.tradeState,n.allowPets,n.allowPetsEat,n.allowWalkthrough,n.hideWalls,n.wallThickness,n.floorThickness,n.moderationSettings.allowMute,n.moderationSettings.allowKick,n.moderationSettings.allowBan,n.chatSettings.mode,n.chatSettings.weight,n.chatSettings.speed,n.chatSettings.distance,n.chatSettings.protection)),n}))};return t?Object(an.jsxs)(yn,{uniqueKey:\"nitro-room-settings\",className:\"nitro-room-settings\",children:[Object(an.jsx)(vn,{headerText:We(\"navigator.roomsettings\"),onCloseClick:i}),Object(an.jsx)(or,{children:Cd.map((e=>Object(an.jsx)(ar,{isActive:n===e,onClick:t=>r(e),children:We(e)},e)))}),Object(an.jsxs)(In,{children:[n===Cd[0]&&Object(an.jsx)(xd,{roomData:t,handleChange:o,onClose:i}),n===Cd[1]&&Object(an.jsx)(fd,{roomData:t,handleChange:o}),n===Cd[2]&&Object(an.jsx)(Id,{roomData:t,handleChange:o}),n===Cd[3]&&Object(an.jsx)(Ed,{roomData:t,handleChange:o}),n===Cd[4]&&Object(an.jsx)(_d,{roomData:t,handleChange:o})]})]}):null};var Nd=s(87);const Td=e=>{const{roomData:t=null}=e,[s,n]=Object(c.useState)(!1),r=Object(c.useRef)();return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(on,{pointer:!0,innerRef:r,className:\"icon icon-navigator-info\",onMouseOver:e=>n(!0),onMouseLeave:e=>n(!1)}),Object(an.jsx)(Nd.a,{show:s,target:r.current,placement:\"right\",children:Object(an.jsx)(il.a,{children:Object(an.jsx)(In,{overflow:\"hidden\",className:\"room-info image-rendering-pixelated bg-transparent\",children:Object(an.jsxs)(hn,{gap:2,overflow:\"hidden\",children:[Object(an.jsxs)(rr,{roomId:t.roomId,customUrl:t.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[t.habboGroupId>0&&Object(an.jsx)(Dn,{badgeCode:t.groupBadgeCode,isGroup:!0,className:\"position-absolute top-0 start-0 m-1 \"}),t.doorMode!==a.zg.OPEN_STATE&&Object(an.jsx)(\"i\",{className:\"position-absolute end-0 mb-1 me-1 icon icon-navigator-room-\"+(t.doorMode===a.zg.DOORBELL_STATE?\"locked\":t.doorMode===a.zg.PASSWORD_STATE?\"password\":t.doorMode===a.zg.INVISIBLE_STATE?\"invisible\":\"\")})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,truncate:!0,className:\"flex-grow-1\",style:{maxHeight:13},children:t.roomName}),Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsx)(ur,{italics:!0,variant:\"muted\",children:We(\"navigator.roomownercaption\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:t.ownerId}),Object(an.jsx)(ur,{italics:!0,children:t.ownerName})]})]}),Object(an.jsx)(ur,{className:\"flex-grow-1\",children:t.description}),Object(an.jsxs)(hn,{className:\"badge p-1 position-absolute m-1 bottom-0 end-0 m-2 \"+(()=>{const e=t.userCount/t.maxUserCount*100;let s=\"bg-primary\";return e>=92?s=\"bg-danger\":e>=50?s=\"bg-warning\":e>0&&(s=\"bg-success\"),s})(),gap:1,children:[Object(an.jsx)(fn.a,{icon:\"user\"}),t.userCount]})]})]})})})})]})},Sd=e=>{const{roomData:t=null,children:s=null,thumbnail:n=!1,...r}=e,{setDoorData:c=null}=vc(),i=()=>{const e=t.userCount/t.maxUserCount*100;let s=\"bg-primary\";return e>=92?s=\"bg-danger\":e>=50?s=\"bg-warning\":e>0&&(s=\"bg-success\"),s},o=e=>{if(t.ownerId!==F().userId){if(0!==t.habboGroupId)return void ps(t.roomId);switch(t.doorMode){case a.zg.DOORBELL_STATE:return void c((e=>{const s={...e};return s.roomInfo=t,s.state=bs.START_DOORBELL,s}));case a.zg.PASSWORD_STATE:return void c((e=>{const s={...e};return s.roomInfo=t,s.state=bs.START_PASSWORD,s}))}}P(t.roomId)};return n?Object(an.jsxs)(Fn,{pointer:!0,overflow:\"hidden\",alignItems:\"center\",onClick:o,gap:0,className:\"navigator-item p-1 bg-light rounded-3 small mb-1 flex-column border border-muted\",...r,children:[Object(an.jsxs)(rr,{roomId:t.roomId,customUrl:t.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[t.habboGroupId>0&&Object(an.jsx)(Dn,{badgeCode:t.groupBadgeCode,isGroup:!0,className:\"position-absolute top-0 start-0 m-1\"}),Object(an.jsxs)(hn,{center:!0,className:\"badge p-1 position-absolute m-1 \"+i(),gap:1,children:[Object(an.jsx)(fn.a,{icon:\"user\"}),t.userCount]}),t.doorMode!==a.zg.OPEN_STATE&&Object(an.jsx)(\"i\",{className:\"position-absolute end-0 mb-1 me-1 icon icon-navigator-room-\"+(t.doorMode===a.zg.DOORBELL_STATE?\"locked\":t.doorMode===a.zg.PASSWORD_STATE?\"password\":t.doorMode===a.zg.INVISIBLE_STATE?\"invisible\":\"\")})]}),Object(an.jsxs)(hn,{className:\"w-100\",children:[Object(an.jsx)(ur,{truncate:!0,className:\"flex-grow-1\",children:t.roomName}),Object(an.jsx)(hn,{reverse:!0,alignItems:\"center\",gap:1,children:Object(an.jsx)(Td,{roomData:t})}),s]})]}):Object(an.jsxs)(hn,{pointer:!0,overflow:\"hidden\",alignItems:\"center\",onClick:o,gap:2,className:\"navigator-item px-2 py-1 small\",...r,children:[Object(an.jsxs)(hn,{center:!0,className:\"badge p-1 \"+i(),gap:1,children:[Object(an.jsx)(fn.a,{icon:\"user\"}),t.userCount]}),Object(an.jsx)(ur,{truncate:!0,grow:!0,children:t.roomName}),Object(an.jsxs)(hn,{reverse:!0,alignItems:\"center\",gap:1,children:[Object(an.jsx)(Td,{roomData:t}),t.habboGroupId>0&&Object(an.jsx)(\"i\",{className:\"icon icon-navigator-room-group\"}),t.doorMode!==a.zg.OPEN_STATE&&Object(an.jsx)(\"i\",{className:\"icon icon-navigator-room-\"+(t.doorMode===a.zg.DOORBELL_STATE?\"locked\":t.doorMode===a.zg.PASSWORD_STATE?\"password\":t.doorMode===a.zg.INVISIBLE_STATE?\"invisible\":\"\")})]}),s]})},wd=e=>{const{searchResult:t=null,...s}=e,[n,r]=Object(c.useState)(!0),[i,a]=Object(c.useState)(0);Object(c.useEffect)((()=>{t&&a(t.mode)}),[t]);const o=i>=gs.THUMBNAILS;return Object(an.jsxs)(Fn,{className:\"bg-white rounded border border-muted\",gap:0,children:[Object(an.jsxs)(hn,{fullWidth:!0,alignItems:\"center\",justifyContent:\"between\",className:\"px-2 py-1\",children:[Object(an.jsxs)(hn,{grow:!0,pointer:!0,alignItems:\"center\",gap:1,onClick:e=>r((e=>!e)),children:[Object(an.jsx)(fn.a,{icon:n?\"minus\":\"plus\",className:\"text-secondary\"}),Object(an.jsx)(ur,{children:We((()=>{let e=t.code;return e&&e.length?e.startsWith(\"${\")?e.slice(2,e.length-1):\"navigator.searchcode.title.\"+e:t.data})())})]}),Object(an.jsx)(fn.a,{icon:i===gs.LIST?\"th\":i>=gs.THUMBNAILS?\"bars\":null,className:\"text-secondary\",onClick:()=>{a((e=>e===gs.LIST?gs.THUMBNAILS:gs.LIST))}})]}),\" \",n&&Object(an.jsx)(an.Fragment,{children:o?Object(an.jsx)(jn,{columnCount:3,...s,columnMinWidth:110,columnMinHeight:130,className:\"mx-2\",children:t.rooms.length>0&&t.rooms.map(((e,t)=>Object(an.jsx)(Sd,{roomData:e,thumbnail:!0},t)))}):Object(an.jsx)(un,{columnCount:1,className:\"navigator-grid\",gap:0,children:t.rooms.length>0&&t.rooms.map(((e,t)=>Object(an.jsx)(Sd,{roomData:e},t)))})})]})},Rd=e=>{const{sendSearch:t=null}=e,[s,n]=Object(c.useState)(0),[r,i]=Object(c.useState)(\"\"),{topLevelContext:a=null,searchResult:o=null}=vc(),l=()=>{if(!a)return;let e=Os[s];e||(e=Os[0]);const n=(e.query?e.query+\":\":\"\")+r;t(n||\"\",a.code)};return Object(c.useEffect)((()=>{if(!o)return;const e=o.data.split(\":\");let t=null,s=\"\";if(e.length>=2){const[n,...r]=e;t=Os.find((e=>e.query===n)),s=r.join(\":\")}else s=o.data;t||(t=Os[0]),n(Os.findIndex((e=>e===t))),i(s)}),[o]),Object(an.jsxs)(hn,{fullWidth:!0,gap:1,children:[Object(an.jsx)(hn,{shrink:!0,children:Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",value:s,onChange:e=>n(parseInt(e.target.value)),children:Os.map(((e,t)=>Object(an.jsx)(\"option\",{value:t,children:We(\"navigator.filter.\"+e.name)},t)))})}),Object(an.jsxs)(hn,{fullWidth:!0,gap:1,children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:We(\"navigator.filter.input.placeholder\"),value:r,onChange:e=>i(e.target.value),onKeyDown:e=>(e=>{\"Enter\"===e.key&&l()})(e)}),Object(an.jsx)(bn,{variant:\"primary\",onClick:l,children:Object(an.jsx)(fn.a,{icon:\"search\"})})]})]})},yd=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(!1),[i,o]=Object(c.useState)(!1),[d,u]=Object(c.useState)(!1),[j,h]=Object(c.useState)(!1),[b,g]=Object(c.useState)(!1),[m,O]=Object(c.useState)(!0),[p,f]=Object(c.useState)(!1),{searchResult:x=null,topLevelContext:_=null,topLevelContexts:I=null,navigatorData:C=null}=vc(),v=Object(c.useRef)(null),N=Object(c.useRef)();Or(a.mh.CREATED,(e=>{s(!1),o(!1)}));const T=Object(c.useCallback)(((e,t)=>{o(!1),Ee(new a.af(t,e)),g(!0)}),[]),S=Object(c.useCallback)((()=>{if(n)return v.current?(T(v.current.value,v.current.code),void(v.current=null)):void(x?T(x.data,x.code):_&&T(\"\",_.code));f(!0)}),[n,x,_,T]);return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const n=e.split(\"/\");if(!(n.length<2))switch(n[1]){case\"show\":return s(!0),void f(!0);case\"hide\":return void s(!1);case\"toggle\":return t?void s(!1):(s(!0),void f(!0));case\"toggle-room-info\":return void u((e=>!e));case\"toggle-room-link\":return void h((e=>!e));case\"goto\":if(n.length<=2)return;if(\"home\"===n[2]){if(C.homeRoomId<=0)return;ps(C.homeRoomId)}else{ps(parseInt(n[2]))}return;case\"create\":return s(!0),void o(!0);case\"search\":if(n.length>2){const e=n[2];let t=\"\";n.length>3&&(t=n[3]),v.current={value:t,code:e},s(!0),f(!0)}return}},eventUrlPrefix:\"navigator/\"};return l(e),()=>E(e)}),[t,C]),Object(c.useEffect)((()=>{x&&(g(!1),N&&N.current&&(N.current.scrollTop=0))}),[x]),Object(c.useEffect)((()=>{t&&n&&p&&(S(),f(!1))}),[t,n,p,S]),Object(c.useEffect)((()=>{!n&&_&&r(!0)}),[n,_]),Object(c.useEffect)((()=>{t&&m&&(Ee(new a.Xe),O(!1))}),[t,m]),Object(c.useEffect)((()=>{a.pe.addCallback(a.ce.OPENROOM,(function(e){return Ee(new a.yb(e))}))}),[]),Object(an.jsxs)(an.Fragment,{children:[t&&Object(an.jsxs)(yn,{uniqueKey:\"navigator\",className:\"nitro-navigator\",children:[Object(an.jsx)(vn,{headerText:We(i?\"navigator.createroom.title\":\"navigator.title\"),onCloseClick:e=>s(!1)}),Object(an.jsxs)(or,{children:[I&&I.length>0&&I.map(((e,t)=>Object(an.jsx)(ar,{isActive:_===e&&!i,onClick:t=>T(\"\",e.code),children:We(\"navigator.toplevelview.\"+e.code)},t))),Object(an.jsx)(ar,{isActive:i,onClick:e=>o(!0),children:Object(an.jsx)(fn.a,{icon:\"plus\"})})]}),Object(an.jsxs)(In,{position:\"relative\",children:[b&&Object(an.jsx)(on,{fit:!0,position:\"absolute\",className:\"top-0 start-0 z-index-1 bg-muted opacity-0-5\"}),!i&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Rd,{sendSearch:T}),Object(an.jsx)(Fn,{innerRef:N,overflow:\"auto\",children:x&&x.results.map(((e,t)=>Object(an.jsx)(wd,{searchResult:e},t)))})]}),i&&Object(an.jsx)(md,{})]})]}),Object(an.jsx)(gd,{}),d&&Object(an.jsx)(Od,{onCloseClick:()=>u(!1)}),j&&Object(an.jsx)(pd,{onCloseClick:()=>h(!1)}),Object(an.jsx)(vd,{})]})},kd=/\\n\\r|\\n|\\r/gm,Ad=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(\"\"),[i,o]=Object(c.useState)(null),d=Object(c.useRef)(null),u=Object(c.useCallback)((async e=>{try{const t=await fetch(e);if(!t)return;const n=(await t.text()).split(kd),c=n.shift().split(\"|\");r(c[0]),o((e=>c[1]&&2===c[1].split(\";\").length?{width:parseInt(c[1].split(\";\")[0]),height:parseInt(c[1].split(\";\")[1])}:null)),s(n.join(\"\"))}catch(t){a.mf.error(`Failed to fetch ${e}`)}}),[]);return Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");t.length<2||(t.shift(),u(p(\"habbopages.url\")+t.join(\"/\")))},eventUrlPrefix:\"habbopages/\"};return l(e),()=>E(e)}),[u]),Object(c.useEffect)((()=>{const e=e=>{if(!(e.target instanceof HTMLAnchorElement))return;e.preventDefault();const t=e.target.href;t&&t.length&&I(t)};return document.addEventListener(\"click\",e),()=>{document.removeEventListener(\"click\",e)}}),[]),t?Object(an.jsxs)(yn,{className:\"nitropedia\",theme:\"primary-slim\",style:i?{width:i.width,height:i.height}:{},children:[Object(an.jsx)(vn,{headerText:n,onCloseClick:()=>s(null)}),Object(an.jsx)(In,{children:Object(an.jsx)(on,{fit:!0,innerRef:d,className:\"text-black\",dangerouslySetInnerHTML:{__html:t}})})]}):null},Dd=e=>{const[t,s]=Object(c.useState)(0),[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(!0),{showConfirm:l=null}=Hr();pr(a.Eb,(e=>{s(0),r(null)})),pr(a.Ng,(e=>{s(0),r(null)})),pr(a.Dc,(e=>{const t=e.getParser();t.roomEnter&&(t.data.habboGroupId>0?(s(t.data.habboGroupId),Ee(new a.md(t.data.habboGroupId,!1))):(s(0),r(null)))})),pr(a.Zd,(e=>{const c=e.getParser();!n||c.groupId!==n.id&&c.groupId!==t||(s(0),r(null))})),pr(a.nd,(e=>{const s=e.getParser();s.id===t&&r(s)}));const d=n&&n.ownerName===F().userName;return n?Object(an.jsx)(on,{className:\"nitro-notification-bubble rounded\",children:Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",pointer:!0,onClick:e=>o((e=>!e)),children:[Object(an.jsx)(ur,{variant:\"white\",children:We(\"group.homeroominfo.title\")}),Object(an.jsx)(fn.a,{icon:i?\"chevron-up\":\"chevron-down\"})]}),i&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(hn,{pointer:!0,alignItems:\"center\",gap:2,onClick:e=>Qt(n.id),children:[Object(an.jsx)(on,{className:\"group-badge\",children:Object(an.jsx)(Dn,{badgeCode:n.badge,isGroup:!0})}),Object(an.jsx)(ur,{variant:\"white\",children:n.title})]}),(n.type!==ss.PRIVATE||d)&&Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",disabled:n.membershipType===ts.REQUEST_PENDING,onClick:()=>{if(d)return Jt(n.id);n.type===ss.PRIVATE&&n.membershipType===ts.NOT_MEMBER||(n.membershipType!==ts.MEMBER?ns(n.id):l(We(\"group.leaveconfirm.desc\"),(()=>{Ee(new a.vd(n.id,F().userId))}),null))},children:We(d?\"group.manage\":n.type===ss.PRIVATE?\"\":n.membershipType===ts.MEMBER?\"group.leave\":n.membershipType===ts.NOT_MEMBER&&n.type===ss.REGULAR?\"group.join\":n.membershipType===ts.REQUEST_PENDING?\"group.membershippending\":n.membershipType===ts.NOT_MEMBER&&n.type===ss.EXCLUSIVE?\"group.requestmembership\":void 0)})]})]})}):null},Ld=e=>{const{title:t=\"Nitro\",onClose:s=null,...n}=e;return Object(an.jsx)($n,{title:t,onClose:s,...n,children:Object(an.jsxs)(un,{children:[Object(an.jsx)(Fn,{center:!0,size:5,children:Object(an.jsx)(\"object\",{data:\"https://assets.nitrodev.co/logos/nitro-n-dark.svg\",width:\"100\",height:\"100\",children:\"\\xa0\"})}),Object(an.jsxs)(Fn,{size:7,children:[Object(an.jsxs)(Fn,{alignItems:\"center\",gap:0,children:[Object(an.jsx)(ur,{bold:!0,fontSize:4,children:\"Nitro React\"}),Object(an.jsxs)(ur,{children:[\"v\",\"2.1.1\"]})]}),Object(an.jsxs)(Fn,{alignItems:\"center\",children:[Object(an.jsxs)(ur,{children:[Object(an.jsx)(\"b\",{children:\"Renderer:\"}),\" v\",a.vf.RENDERER_VERSION]}),Object(an.jsxs)(Fn,{fullWidth:!0,gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:e=>window.open(\"https://discord.nitrodev.co\"),children:\"Discord\"}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,onClick:e=>window.open(\"https://git.krews.org/nitro/nitro-react\"),children:\"Git\"}),Object(an.jsx)(bn,{fullWidth:!0,onClick:e=>window.open(\"https://git.krews.org/nitro/nitro-react/-/issues\"),children:\"Bug Report\"})]})]})]})]})]})})},Pd=e=>{const{item:t=null,title:s=e.item&&e.item.title||\"\",onClose:n=null,...r}=e,[i,a]=Object(c.useState)(!1),o=Object(c.useCallback)((()=>{I(t.clickUrl),n()}),[t,n]),l=t.alertType===fs.DEFAULT;return Object(an.jsxs)($n,{title:s,onClose:n,...r,type:l?fs.DEFAULT:t.alertType,children:[Object(an.jsxs)(hn,{fullHeight:!0,overflow:\"auto\",gap:l||t.imageUrl&&!i?2:0,children:[l&&!t.imageUrl&&Object(an.jsx)(on,{className:\"notification-frank flex-shrink-0\"}),t.imageUrl&&!i&&Object(an.jsx)(\"img\",{src:t.imageUrl,alt:t.title,onError:()=>{a(!0)},className:\"align-self-baseline\"}),Object(an.jsxs)(on,{classNames:[\"notification-text overflow-y-auto d-flex flex-column w-100\",t.clickUrl&&!l?\"justify-content-center\":\"\"],children:[t.messages.length>0&&t.messages.map(((e,t)=>{const s=e.replace(/\\r\\n|\\r|\\n/g,\"<br />\");return Object(an.jsx)(on,{dangerouslySetInnerHTML:{__html:s}},t)})),t.clickUrl&&t.clickUrl.length>0&&t.imageUrl&&!i&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"my-2 w-100\"}),Object(an.jsx)(bn,{onClick:o,className:\"align-self-center px-3\",children:We(t.clickUrlText)})]})]})]}),(!t.imageUrl||t.imageUrl&&i)&&Object(an.jsx)(an.Fragment,{children:Object(an.jsxs)(Fn,{alignItems:\"center\",center:!0,gap:0,children:[Object(an.jsx)(\"hr\",{className:\"my-2 w-100\"}),!t.clickUrl&&Object(an.jsx)(bn,{onClick:n,children:We(\"generic.close\")}),t.clickUrl&&t.clickUrl.length>0&&Object(an.jsx)(bn,{onClick:o,children:We(t.clickUrlText)})]})})]})},Ud=e=>{const{item:t=null,title:s=e.item&&e.item.title||\"\",onClose:n=null,...r}=e,[i,a]=Object(c.useState)(\"\"),[o,l]=Object(c.useState)([]),d=Object(c.useCallback)((()=>{I(t.clickUrl),n()}),[t,n]);Object(c.useEffect)((()=>{l(JSON.parse(t.messages[0]))}),[t]);const u=Object(c.useCallback)((e=>{let s=JSON.parse(t.messages[0]);l(s.filter((t=>t.includes(e)))),a(e)}),[t]),j=t.clickUrl&&t.clickUrl.startsWith(\"event:\");return Object(an.jsxs)($n,{title:s,onClose:n,...r,children:[Object(an.jsx)(hn,{fullWidth:!0,alignItems:\"center\",position:\"relative\",children:Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:We(\"generic.search\"),value:i,onChange:e=>u(e.target.value)})}),Object(an.jsx)(Fn,{fullHeight:!0,className:\"py-1\",overflow:\"hidden\",children:Object(an.jsx)(jn,{gap:1,columnCount:1,children:o&&o.map(((e,t)=>Object(an.jsx)(\"span\",{children:e},t)))})}),Object(an.jsx)(\"hr\",{className:\"my-2\"}),Object(an.jsxs)(Fn,{alignItems:\"center\",center:!0,gap:1,children:[!j&&!t.clickUrl&&Object(an.jsx)(bn,{onClick:n,children:We(\"generic.close\")}),t.clickUrl&&t.clickUrl.length>0&&Object(an.jsx)(bn,{onClick:d,children:We(t.clickUrlText)})]})]})},Md=(e,t)=>{if(!e)return null;const s={key:e.id,item:e,onClose:t};switch(e.alertType){case fs.NITRO:return Object(an.jsx)(Ld,{...s});case fs.SEARCH:return Object(an.jsx)(Ud,{...s});default:return Object(an.jsx)(Pd,{...s})}},Fd=e=>{const{item:t=null,onClose:s=null,...n}=e;return Object(an.jsxs)(Zn,{fadesOut:!1,className:\"flex-column club-gift\",onClose:s,...n,children:[Object(an.jsxs)(\"div\",{className:\"d-flex align-items-center gap-2 mb-2\",children:[Object(an.jsx)(Pn,{type:\"hc\",className:\"flex-shrink-0\"}),Object(an.jsx)(\"span\",{className:\"ms-1\",children:We(\"notifications.text.club_gift\")})]}),Object(an.jsxs)(\"div\",{className:\"d-flex align-items-center justify-content-end gap-2\",children:[Object(an.jsx)(\"button\",{type:\"button\",className:\"btn btn-success w-100 btn-sm\",onClick:()=>I(t.linkUrl),children:We(\"notifications.button.show_gift_list\")}),Object(an.jsx)(\"span\",{className:\"text-decoration-underline cursor-pointer text-nowrap\",onClick:s,children:We(\"notifications.button.later\")})]})]})},Bd=e=>{const{item:t=null,onClose:s=null,...n}=e,r=t.message.replace(/\\r\\n|\\r|\\n/g,\"<br />\");return Object(an.jsxs)(Zn,{onClose:s,gap:2,alignItems:\"center\",onClick:e=>t.linkUrl&&t.linkUrl.length&&I(t.linkUrl),...n,children:[Object(an.jsx)(hn,{center:!0,className:\"bubble-image-container\",children:t.iconUrl&&t.iconUrl.length&&Object(an.jsx)(\"img\",{className:\"no-select\",src:t.iconUrl,alt:\"\"})}),Object(an.jsx)(ur,{wrap:!0,variant:\"white\",dangerouslySetInnerHTML:{__html:r}})]})},Hd=(e,t)=>{if(!e)return null;const s={key:e.id,item:e,onClose:t};return e.notificationType===_s.CLUBGIFT?Object(an.jsx)(Fd,{...s}):Object(an.jsx)(Bd,{...s})},Gd=e=>{const{item:t=null,onClose:s=null,...n}=e,{message:r=null,onConfirm:c=null,onCancel:i=null,confirmText:a=null,cancelText:o=null,title:l=null}=t;return Object(an.jsxs)($n,{title:l,onClose:s,...n,type:fs.ALERT,children:[Object(an.jsx)(hn,{grow:!0,center:!0,children:Object(an.jsx)(ur,{children:r})}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"danger\",onClick:()=>{i&&i(),s()},children:o}),Object(an.jsx)(bn,{fullWidth:!0,onClick:()=>{c&&c(),s()},children:a})]})]})},Wd=(e,t)=>{if(!e)return null;const s={key:e.id,item:e,onClose:t};return e.confirmType,Object(an.jsx)(Gd,{...s})},Vd=e=>{const{alerts:t=[],bubbleAlerts:s=[],confirms:n=[],closeAlert:r=null,closeBubbleAlert:i=null,closeConfirm:a=null}=Hr(),o=Object(c.useMemo)((()=>{if(!t||!t.length)return null;const e=[];for(const s of t){const t=Md(s,(()=>r(s)));e.push(t)}return e}),[t,r]),l=Object(c.useMemo)((()=>{if(!s||!s.length)return null;const e=[];for(const t of s){const s=Hd(t,(()=>i(t)));t.notificationType!==_s.CLUBGIFT?e.push(s):e.unshift(s)}return e}),[s,i]),d=Object(c.useMemo)((()=>{if(!n||!n.length)return null;const e=[];for(const t of n){const s=Wd(t,(()=>a(t)));e.push(s)}return e}),[n,a]);return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Fn,{gap:1,children:l}),d,o]})};var qd=s(140);const zd=e=>{const{type:t=-1,amount:s=-1,short:n=!1}=e,r=Object(c.useMemo)((()=>Object(an.jsxs)(hn,{justifyContent:\"end\",pointer:!0,gap:1,className:\"nitro-purse-button rounded\",children:[Object(an.jsx)(ur,{truncate:!0,textEnd:!0,variant:\"white\",grow:!0,children:n?Ge(s):He(s)}),Object(an.jsx)(Pn,{type:t})]})),[s,n,t]);return n?Object(an.jsx)(al.a,{placement:\"left\",overlay:Object(an.jsx)(qd.a,{id:`tooltip-${t}`,children:He(s)}),children:r}):r},Yd=e=>{const{type:t=-1,amount:s=-1}=e;return Object(an.jsxs)(hn,{fullWidth:!0,justifyContent:\"between\",className:\"nitro-purse-seasonal-currency p-2 rounded\",children:[Object(an.jsx)(ur,{variant:\"white\",children:We(`purse.seasonal.currency.${t}`)}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",children:He(s)}),Object(an.jsx)(Pn,{type:t})]})]})},$d=e=>{const{purse:t=null,hcDisabled:s=!1}=Tc(),n=Object(c.useMemo)((()=>p(\"system.currency.types\",[])),[]),r=Object(c.useMemo)((()=>p(\"currency.display.number.short\",!1)),[]),i=Object(c.useMemo)((()=>{if(!t)return null;const e=31*t.clubPeriods+t.clubDays,s=t.minutesUntilExpiration;return t.clubLevel===a.Xd.NO_CLUB?We(\"purse.clubdays.zero.amount.text\"):s>-1&&s<1440?a.Zb.shortFormat(60*s):a.Zb.shortFormat(86400*e)}),[t]),o=Object(c.useCallback)((function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||!t.activityPoints||!t.activityPoints.size)return null;const i=Array.from(t.activityPoints.keys()).filter((e=>n.indexOf(e)>=0));let a=0;for(;a<e;)i.shift(),a++;a=0;const o=[];for(const n of i){if(s>-1&&a===s)break;c?o.push(Object(an.jsx)(Yd,{type:n,amount:t.activityPoints.get(n)},n)):o.push(Object(an.jsx)(zd,{type:n,amount:t.activityPoints.get(n),short:r},n)),a++}return o}),[t,n,r]);return t?Object(an.jsxs)(Fn,{alignItems:\"end\",className:\"nitro-purse-container\",gap:1,children:[Object(an.jsx)(hn,{className:\"nitro-purse rounded-bottom p-1\",children:Object(an.jsxs)(un,{fullWidth:!0,gap:1,children:[Object(an.jsxs)(Fn,{justifyContent:\"center\",size:s?10:6,gap:0,children:[Object(an.jsx)(zd,{type:-1,amount:t.credits,short:r}),o(0,2)]}),!s&&Object(an.jsxs)(Fn,{center:!0,pointer:!0,size:4,gap:1,className:\"nitro-purse-subscription rounded\",onClick:e=>m(\"habboUI/open/hccenter\"),children:[Object(an.jsx)(Pn,{type:\"hc\"}),Object(an.jsx)(ur,{variant:\"white\",children:i})]}),Object(an.jsxs)(Fn,{justifyContent:\"center\",size:2,gap:0,children:[Object(an.jsx)(hn,{center:!0,pointer:!0,fullHeight:!0,className:\"nitro-purse-button p-1 rounded\",onClick:e=>m(\"help/show\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-help\"})}),Object(an.jsx)(hn,{center:!0,pointer:!0,fullHeight:!0,className:\"nitro-purse-button p-1 rounded\",onClick:e=>m(\"user-settings/toggle\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-cog\"})})]})]})}),o(2,-1,!0)]}):null},Kd=e=>Object(an.jsx)(\"div\",{className:\"nitro-right-side\",children:Object(an.jsxs)(Fn,{position:\"relative\",gap:1,children:[Object(an.jsx)($d,{}),Object(an.jsx)(Dd,{}),Object(an.jsx)(Vd,{})]})}),Xd=e=>Object(an.jsx)(\"div\",{className:\"room-spectator\"}),Qd=e=>{const{justifyContent:t=\"center\",alignItems:s=\"center\",classNames:n=[],...r}=e,i=Object(c.useMemo)((()=>{const e=[\"menu-header\",\"p-1\"];return n.length&&e.push(...n),e}),[n]);return Object(an.jsx)(hn,{justifyContent:t,alignItems:s,classNames:i,...r})},Jd=e=>{const{chatEvent:t=null,onClose:s=null}=e,[n,r]=Object(c.useState)(\"${bot.skill.chatter.configuration.text.placeholder}\"===t.chat?\"\":t.chat),[i,o]=Object(c.useState)(t.automaticChat),[l,d]=Object(c.useState)(t.mixSentences),[u,j]=Object(c.useState)(t.chatDelay),h=Object(c.useMemo)((()=>fe(he().roomId,t.objectId,t.category,1)),[t]);return Object(an.jsx)(Rn,{windowPosition:Sn.NOTHING,handleSelector:\".drag-handler\",dragStyle:{top:h.y,left:h.x},children:Object(an.jsxs)(on,{className:\"nitro-context-menu bot-chat\",children:[Object(an.jsx)(Qd,{className:\"drag-handler\",children:We(\"bot.skill.chatter.configuration.title\")}),Object(an.jsxs)(Fn,{className:\"p-1\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",children:We(\"bot.skill.chatter.configuration.chat.text\")}),Object(an.jsx)(\"textarea\",{className:\"form-control form-control-sm\",placeholder:We(\"bot.skill.chatter.configuration.text.placeholder\"),value:n,rows:7,onChange:e=>r(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(ur,{fullWidth:!0,variant:\"white\",children:We(\"bot.skill.chatter.configuration.automatic.chat\")}),Object(an.jsx)(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:i,onChange:e=>o(e.target.checked)})]}),Object(an.jsxs)(hn,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(ur,{fullWidth:!0,variant:\"white\",children:We(\"bot.skill.chatter.configuration.markov\")}),Object(an.jsx)(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:l,onChange:e=>d(e.target.checked)})]}),Object(an.jsxs)(hn,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(ur,{fullWidth:!0,variant:\"white\",children:We(\"bot.skill.chatter.configuration.chat.delay\")}),Object(an.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:u,onChange:e=>j(e.target.valueAsNumber)})]})]}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"primary\",onClick:s,children:We(\"cancel\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:()=>{const e=n.replace(/;#;/g,\" \").replace(/\\r\\n|\\r|\\n/g,\"\\r\")+\";#;\"+i+\";#;\"+u+\";#;\"+l;Ee(new a.E(t.botId,Us.SETUP_CHAT,e)),s()},children:We(\"save\")})]})]})]})})},Zd=e=>{const{item:t=null,onClose:s=null}=e,[n,r]=Object(c.useState)(-1),[i,o]=Object(c.useState)(null),[l,d]=Object(c.useState)(null),{roomSession:u=null}=Ac(),j=Object(c.useCallback)((()=>{i&&C().selectRoomObject(u.roomId,i.roomIndex,a.Wg.UNIT)}),[u,i]),h=Object(c.useCallback)((()=>{u.usePetProduct(t.requestRoomObjectId,i.webID),s()}),[u,t,i,s]),b=Object(c.useMemo)((()=>{if(!i||!l)return null;const e=new a.Ff(i.figure),t=l.customParams.split(\" \"),s=parseInt(t[0]);switch(l.specialType){case Je.PET_SHAMPOO:{if(t.length<2)return null;const n=C().getPetColorResult(s,e.paletteId),r=C().getPetColorResultsForTag(s,t[1]);let c=-1;for(const e of r)if(e.breed===n.breed){c=parseInt(e.id);break}return Object(an.jsx)(er,{typeId:e.typeId,paletteId:c,petColor:e.color,customParts:e.customParts,direction:2})}case Je.PET_CUSTOM_PART:{if(t.length<4)return null;const s=[],n=t[1].split(\",\").map((e=>parseInt(e))),r=t[2].split(\",\").map((e=>parseInt(e))),c=t[3].split(\",\").map((e=>parseInt(e)));let i=0;for(;i<n.length;){const t=n[i],o=e.getCustomPart(t);let l=c[i];null!=o&&(l=o.paletteId),s.push(new a.Ef(t,r[i],l)),i++}return Object(an.jsx)(er,{typeId:e.typeId,paletteId:e.paletteId,petColor:e.color,customParts:s,direction:2})}case Je.PET_CUSTOM_PART_SHAMPOO:{if(t.length<3)return null;const s=[],n=t[1].split(\",\").map((e=>parseInt(e))),r=t[2].split(\",\").map((e=>parseInt(e)));let c=0;for(;c<n.length;){const t=n[c],i=e.getCustomPart(t);let o=-1;null!=i&&(o=i.partId),s.push(new a.Ef(n[c],o,r[c])),c++}return Object(an.jsx)(er,{typeId:e.typeId,paletteId:e.paletteId,petColor:e.color,customParts:s,direction:2})}case Je.PET_SADDLE:{if(t.length<4)return null;const s=[],n=t[1].split(\",\").map((e=>parseInt(e))),r=t[2].split(\",\").map((e=>parseInt(e))),c=t[3].split(\",\").map((e=>parseInt(e)));let i=0;for(;i<n.length;)s.push(new a.Ef(n[i],r[i],c[i])),i++;for(const t of e.customParts)-1===n.indexOf(t.layerId)&&s.push(t);return Object(an.jsx)(er,{typeId:e.typeId,paletteId:e.paletteId,petColor:e.color,customParts:s,direction:2})}case Je.MONSTERPLANT_REBREED:case Je.MONSTERPLANT_REVIVAL:case Je.MONSTERPLANT_FERTILIZE:{let t=\"rip\";const s=C().getRoomObject(u.roomId,i.roomIndex,a.Wg.UNIT);if(s&&(t=s.model.getValue(a.ch.FIGURE_POSTURE),\"rip\"===t)){const e=i.petLevel;t=e<7?`grw${e}`:\"std\"}return Object(an.jsx)(er,{typeId:e.typeId,paletteId:e.paletteId,petColor:e.color,customParts:e.customParts,posture:t,direction:2})}}}),[i,l,u]);return Object(c.useEffect)((()=>{const e=u.userDataManager.getUserDataByIndex(t.id);o(e);const s=de(u.roomId,t.requestRoomObjectId,a.Wg.FLOOR);if(!s)return;d(s);let n=-1;switch(s.specialType){case Je.PET_SHAMPOO:n=0;break;case Je.PET_CUSTOM_PART:n=1;break;case Je.PET_CUSTOM_PART_SHAMPOO:n=2;break;case Je.PET_SADDLE:n=3;break;case Je.MONSTERPLANT_REVIVAL:n=4;break;case Je.MONSTERPLANT_REBREED:n=5;break;case Je.MONSTERPLANT_FERTILIZE:n=6}r(n)}),[u,t]),i?Object(an.jsxs)(yn,{className:\"nitro-use-product-confirmation\",children:[Object(an.jsx)(vn,{headerText:We(\"useproduct.widget.title\",[\"name\"],[i.name]),onCloseClick:s}),Object(an.jsx)(In,{center:!0,children:Object(an.jsxs)(hn,{gap:2,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{children:Object(an.jsx)(on,{pointer:!0,className:\"product-preview\",onClick:j,children:b})}),Object(an.jsxs)(Fn,{justifyContent:\"between\",overflow:\"auto\",children:[Object(an.jsxs)(Fn,{gap:2,children:[0===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.shampoo\",[\"productName\"],[l.name])}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.shampoo\")})]}),1===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.custompart\",[\"productName\"],[l.name])}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.custompart\")})]}),2===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.custompartshampoo\",[\"productName\"],[l.name])}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.custompartshampoo\")})]}),3===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.saddle\",[\"productName\"],[l.name])}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.saddle\")})]}),4===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.revive_monsterplant\",[\"productName\"],[l.name])}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.revive_monsterplant\")})]}),5===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.rebreed_monsterplant\",[\"productName\"],[l.name])}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.rebreed_monsterplant\")})]}),6===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.fertilize_monsterplant\",[\"productName\"],[l.name])}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.fertilize_monsterplant\")})]})]}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"danger\",onClick:s,children:We(\"useproduct.widget.cancel\")}),Object(an.jsx)(bn,{variant:\"success\",onClick:h,children:We(\"useproduct.widget.use\")})]})]})]})})]}):null},eu=e=>{const{disabled:t=!1,fullWidth:s=!0,justifyContent:n=\"center\",alignItems:r=\"center\",classNames:i=[],onClick:a=null,...o}=e,l=Object(c.useMemo)((()=>{const e=[\"menu-item\",\"list-item\"];return t&&e.push(\"disabled\"),i.length&&e.push(...i),e}),[t,i]);return Object(an.jsx)(hn,{fullWidth:s,justifyContent:n,alignItems:r,classNames:l,onClick:e=>{t||a&&a(e)},...o})},tu=e=>{const{justifyContent:t=\"center\",alignItems:s=\"center\",classNames:n=[],collapsed:r=!0,...i}=e,a=Object(c.useMemo)((()=>{const e=[\"menu-footer\"];return n.length&&e.push(...n),e}),[n]);return Object(an.jsx)(hn,{justifyContent:t,alignItems:s,classNames:a,...i,children:Object(an.jsx)(fn.a,{icon:r?\"caret-up\":\"caret-down\",className:\"align-self-center\"})})},su=10;let nu=!1,ru=null,cu=-1e6,iu=1;const au=e=>{const{objectId:t=-1,category:s=-1,userType:n=-1,fades:r=!1,onClose:i=null,position:l=\"absolute\",classNames:d=[],style:u={},children:j=null,collapsable:h=!1,...b}=e,[g,m]=Object(c.useState)({x:null,y:null}),[O,p]=Object(c.useState)(1),[f,x]=Object(c.useState)(!1),[I,E]=Object(c.useState)(nu),C=Object(c.useRef)(),v=Object(c.useCallback)((e=>{if(!f)return;iu+=e;let t=1*(1-iu/75);if(t<=0)return i(),!1;p(t)}),[f,i]),N=Object(c.useCallback)(((e,t)=>{if(!e||!t||!ru)return;let s=-C.current.offsetHeight;n>-1&&(n===a.ah.USER||n===a.ah.BOT||n===a.ah.RENTABLE_BOT)?s+=e.height>50?15:0:s-=14,ru.addValue(t.y-e.top);let r=ru.getMax();r<cu-3&&(r=cu-3),cu=r;const c=t.y-r;let i=~~(t.x-C.current.offsetWidth/2),l=~~(c+s);const d=o().width-C.current.offsetWidth-su,u=o().height-C.current.offsetHeight-su;i<su?i=su:i>d&&(i=d),l<su?l=su:l>u&&(l=u),m({x:i,y:l})}),[n]),T=Object(c.useMemo)((()=>{const e=[\"nitro-context-menu\"];return I&&e.push(\"menu-hidden\"),e.push(null!==g.x?\"visible\":\"invisible\"),d.length&&e.push(...d),e}),[g,d,I]),S=Object(c.useMemo)((()=>{let e={};return e.left=g.x||0,e.top=g.y||0,e.opacity=O,Object.keys(u).length&&(e={...e,...u}),e}),[g,O,u]);return Object(c.useEffect)((()=>{if(!C.current)return;const e=e=>{if(!C.current)return;v(e);const n=fe(he().roomId,t,s),r=xe(he().roomId,t,s);N(n,r)};return _().add(e),()=>{_().remove(e)}}),[t,s,v,N]),Object(c.useEffect)((()=>{if(!r)return;const e=setTimeout((()=>x(!0)),5e3);return()=>clearTimeout(e)}),[r]),Object(c.useEffect)((()=>{nu=I}),[I]),Object(c.useEffect)((()=>{ru=new a.Mb(25),cu=-1e6,iu=1}),[]),Object(an.jsxs)(on,{innerRef:C,position:l,classNames:T,style:S,...b,children:[!(h&&nu)&&j,h&&Object(an.jsx)(tu,{onClick:()=>E(!I),collapsed:I})]})},ou=e=>{const{item:t=null,updateConfirmingProduct:s=null,onClose:n=null}=e,[r,i]=Object(c.useState)(0),{roomSession:o=null}=Ac();Object(c.useEffect)((()=>{if(!t)return;const e=de(o.roomId,t.requestRoomObjectId,a.Wg.FLOOR);if(!e)return;let s=0;switch(e.specialType){case Je.PET_SHAMPOO:s=1;break;case Je.PET_CUSTOM_PART:s=2;break;case Je.PET_CUSTOM_PART_SHAMPOO:s=3;break;case Je.PET_SADDLE:s=4;break;case Je.MONSTERPLANT_REVIVAL:s=5;break;case Je.MONSTERPLANT_REBREED:s=6;break;case Je.MONSTERPLANT_FERTILIZE:s=7}i(s)}),[o,t]);const l=Object(c.useCallback)((e=>{if(e)switch(e){case\"use_product\":case\"use_product_shampoo\":case\"use_product_custom_part\":case\"use_product_custom_part_shampoo\":case\"use_product_saddle\":case\"replace_product_saddle\":case\"revive_monsterplant\":case\"rebreed_monsterplant\":case\"fertilize_monsterplant\":s(t)}}),[t,s]);return Object(an.jsxs)(au,{objectId:t.id,category:a.Wg.UNIT,userType:a.ah.PET,onClose:n,collapsable:!0,children:[Object(an.jsx)(Qd,{children:t.name}),0===r&&Object(an.jsx)(eu,{onClick:e=>l(\"use_product\"),children:We(\"infostand.button.useproduct\")}),1===r&&Object(an.jsx)(eu,{onClick:e=>l(\"use_product_shampoo\"),children:We(\"infostand.button.useproduct_shampoo\")}),2===r&&Object(an.jsx)(eu,{onClick:e=>l(\"use_product_custom_part\"),children:We(\"infostand.button.useproduct_custom_part\")}),3===r&&Object(an.jsx)(eu,{onClick:e=>l(\"use_product_custom_part_shampoo\"),children:We(\"infostand.button.useproduct_custom_part_shampoo\")}),4===r&&Object(an.jsxs)(an.Fragment,{children:[t.replace&&Object(an.jsx)(eu,{onClick:e=>l(\"replace_product_saddle\"),children:We(\"infostand.button.replaceproduct_saddle\")}),!t.replace&&Object(an.jsx)(eu,{onClick:e=>l(\"use_product_saddle\"),children:We(\"infostand.button.useproduct_saddle\")})]}),5===r&&Object(an.jsx)(eu,{onClick:e=>l(\"revive_monsterplant\"),children:We(\"infostand.button.revive_monsterplant\")}),6===r&&Object(an.jsx)(eu,{onClick:e=>l(\"rebreed_monsterplant\"),children:We(\"infostand.button.rebreed_monsterplant\")}),7===r&&Object(an.jsx)(eu,{onClick:e=>l(\"fertilize_monsterplant\"),children:We(\"infostand.button.fertilize_monsterplant\")})]})},lu=e=>{const{avatarInfo:t=null,onClose:s=null}=e;return t?Object(an.jsx)(Fn,{className:\"nitro-infostand rounded\",children:Object(an.jsxs)(Fn,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:t.name}),Object(an.jsx)(fn.a,{icon:\"times\",className:\"cursor-pointer\",onClick:s})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(Fn,{fullWidth:!0,className:\"body-image bot\",children:Object(an.jsx)(kn,{figure:t.figure,direction:4})}),Object(an.jsx)(Fn,{grow:!0,center:!0,gap:0,children:t.badges.length>0&&t.badges.map((e=>Object(an.jsx)(Dn,{badgeCode:e,showInfo:!0},e)))})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsx)(hn,{alignItems:\"center\",className:\"bg-light-dark rounded py-1 px-2\",children:Object(an.jsx)(ur,{fullWidth:!0,wrap:!0,textBreak:!0,variant:\"white\",small:!0,className:\"motto-content\",children:t.motto})}),t.carryItem>0&&Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(\"hr\",{className:\"m-0\"}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"infostand.text.handitem\",[\"item\"],[We(\"handitem\"+t.carryItem)])})]})]})}):null},du=e=>{const{avatarInfo:t=null,onClose:s=null}=e,{roomSession:n=null}=Ac(),[r,i]=Object(c.useState)(0),[o,l]=Object(c.useState)(!1),[d,u]=Object(c.useState)(!1),[j,h]=Object(c.useState)(!1),[b,g]=Object(c.useState)([]),[O,p]=Object(c.useState)([]),[f,x]=Object(c.useState)([]),[_,I]=Object(c.useState)([]),[E,v]=Object(c.useState)(!1),[N,T]=Object(c.useState)(0),[S,w]=Object(c.useState)(0),[R,y]=Object(c.useState)(!1),[k,A]=Object(c.useState)(!1),[D,L]=Object(c.useState)(null);Object(c.useEffect)((()=>{let e=0,s=!1,r=!1,c=!1,o=[],d=[],j=[],b=[],m=!1,O=0,f=0,_=!1,E=!1;const N=t.roomControllerLevel>=a.yg.GUEST;if((N||t.isOwner||t.isRoomOwner||t.isAnyRoomController)&&(s=!0,r=!t.isWallItem,t.roomControllerLevel>=a.yg.MODERATOR&&(_=!0)),t.isAnyRoomController&&(E=!0),(t.usagePolicy===a.Nh.EVERYBODY||t.usagePolicy===a.Nh.CONTROLLER&&N||t.extraParam===a.Mh.JUKEBOX&&N||t.extraParam===a.Mh.USABLE_PRODUCT&&N)&&(c=!0),t.extraParam){if(t.extraParam===a.Mh.CRACKABLE_FURNI){const e=t.stuffData;c=!0,m=!0,O=e.hits,f=e.target}if(_){const e=t.extraParam.substr(a.Mh.BRANDING_OPTIONS.length);if(e){const t=e.split(\"\\t\");for(const e of t){const t=e.split(\"=\");t&&2===t.length&&(o.push(t[0]),d.push(t[1]))}}}}if(_){const e=C().getRoomObject(n.roomId,t.id,t.isWallItem?a.Wg.WALL:a.Wg.FLOOR);if(e){const t=e.model.getValue(a.ch.FURNITURE_CUSTOM_VARIABLES),s=e.model.getValue(a.ch.FURNITURE_DATA);if(t&&t.length)for(const e of t)j.push(e),b.push(s[e]||\"\")}}t.isOwner||t.isAnyRoomController?e=2:(t.isRoomOwner||t.roomControllerLevel>=a.yg.GUILD_ADMIN)&&(e=1),t.isStickie&&(e=0),i(e),l(s),u(r),h(c),g(o),p(d),x(j),I(b),v(m),T(O),w(f),y(_),A(E),L(null),t.groupId&&Ee(new a.md(t.groupId,!1))}),[n,t]),pr(a.nd,(e=>{const s=e.getParser();t&&t.groupId===s.id&&!s.flag&&(D&&L(null),L(s.title))}));const P=Object(c.useCallback)(((e,t)=>{const s=Array.from(O);s[e]=t,p(s)}),[O]),U=Object(c.useCallback)(((e,t)=>{const s=Array.from(_);s[e]=t,I(s)}),[_]),M=Object(c.useCallback)((()=>{if(0===b.length||0===O.length)return\"\";let e=\"\",t=0;for(;t<b.length;){e=e+(b[t]+\"=\")+O[t]+\"\\t\",t++}return e}),[b,O]),F=Object(c.useCallback)((e=>{if(!e||\"\"===e)return;switch(e){case\"buy_one\":return void m(`catalog/open/offerId/${t.purchaseOfferId}`);case\"move\":C().processRoomObjectOperation(t.id,t.category,a.Yg.OBJECT_MOVE);break;case\"rotate\":C().processRoomObjectOperation(t.id,t.category,a.Yg.OBJECT_ROTATE_POSITIVE);break;case\"pickup\":2===r?C().processRoomObjectOperation(t.id,t.category,a.Yg.OBJECT_PICKUP):C().processRoomObjectOperation(t.id,t.category,a.Yg.OBJECT_EJECT);break;case\"use\":C().useRoomObject(t.id,t.category);break;case\"save_branding_configuration\":{const e=new Map,s=M().split(\"\\t\");if(s)for(const t of s){const[s,n]=t.split(\"=\",2);e.set(s,n)}C().modifyRoomObjectDataWithMap(t.id,t.category,a.Yg.OBJECT_SAVE_STUFF_DATA,e);break}case\"save_custom_variables\":{const e=new Map;for(let t=0;t<f.length;t++){const s=f[t],n=_[t];s&&s.length&&n&&n.length&&e.set(s,n)}Ee(new a.ai(t.id,e));break}}}),[t,r,f,_,M]),B=Object(c.useCallback)((()=>{const e=t.stuffData;return e&&e instanceof a.di?e.getValue(2):null}),[t]);return t?Object(an.jsxs)(Fn,{gap:1,alignItems:\"end\",children:[Object(an.jsx)(Fn,{className:\"nitro-infostand rounded\",children:Object(an.jsxs)(Fn,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:t.name}),Object(an.jsx)(fn.a,{icon:\"times\",className:\"cursor-pointer\",onClick:s})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{position:\"relative\",gap:1,children:[t.stuffData.isUnique&&Object(an.jsx)(\"div\",{className:\"position-absolute end-0\",children:Object(an.jsx)(Gn,{uniqueNumber:t.stuffData.uniqueNumber,uniqueSeries:t.stuffData.uniqueSeries})}),t.stuffData.rarityLevel>-1&&Object(an.jsx)(\"div\",{className:\"position-absolute end-0\",children:Object(an.jsx)(sr,{level:t.stuffData.rarityLevel})}),t.image&&t.image.src.length&&Object(an.jsx)(\"img\",{className:\"d-block mx-auto\",src:t.image.src,alt:\"\"})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fullWidth:!0,wrap:!0,textBreak:!0,variant:\"white\",small:!0,children:t.description}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:t.ownerId}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"furni.owner\",[\"name\"],[t.ownerName])})]}),t.purchaseOfferId>0&&Object(an.jsx)(hn,{children:Object(an.jsx)(ur,{variant:\"white\",small:!0,underline:!0,pointer:!0,onClick:e=>F(\"buy_one\"),children:We(\"infostand.button.buy\")})})]}),Object(an.jsxs)(Fn,{gap:1,children:[E&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"m-0\"}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"infostand.crackable_furni.hits_remaining\",[\"hits\",\"target\"],[N.toString(),S.toString()])})]}),t.groupId>0&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"m-0\"}),Object(an.jsxs)(hn,{pointer:!0,alignItems:\"center\",gap:2,onClick:()=>Qt(t.groupId),children:[Object(an.jsx)(Dn,{badgeCode:B(),isGroup:!0}),Object(an.jsx)(ur,{variant:\"white\",underline:!0,children:D})]})]}),R&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"m-0\"}),k&&Object(an.jsxs)(ur,{small:!0,wrap:!0,variant:\"white\",children:[\"ID: \",t.id]}),b.length>0&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"m-0\"}),Object(an.jsx)(Fn,{gap:1,children:b.map(((e,t)=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{small:!0,wrap:!0,align:\"end\",variant:\"white\",className:\"col-4\",children:e}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:O[t],onChange:e=>P(t,e.target.value)})]},t)))})]})]}),f.length>0&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"m-0 my-1\"}),Object(an.jsx)(Fn,{gap:1,children:f.map(((e,t)=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{small:!0,wrap:!0,align:\"end\",variant:\"white\",className:\"col-4\",children:e}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:_[t],onChange:e=>U(t,e.target.value)})]},t)))})]})]})]})}),Object(an.jsxs)(hn,{gap:1,justifyContent:\"end\",children:[o&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>F(\"move\"),children:We(\"infostand.button.move\")}),d&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>F(\"rotate\"),children:We(\"infostand.button.rotate\")}),0!==r&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>F(\"pickup\"),children:We(1===r?\"infostand.button.eject\":\"infostand.button.pickup\")}),j&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>F(\"use\"),children:We(\"infostand.button.use\")}),b.length>0&&O.length>0&&b.length===O.length&&Object(an.jsx)(bn,{variant:\"dark\",onClick:()=>F(\"save_branding_configuration\"),children:We(\"save\")}),f.length>0&&_.length>0&&f.length===_.length&&Object(an.jsx)(bn,{variant:\"dark\",onClick:()=>F(\"save_custom_variables\"),children:We(\"save\")})]})]}):null},uu=e=>{const{avatarInfo:t=null,onClose:s=null}=e,[n,r]=Object(c.useState)(0),[i,o]=Object(c.useState)(0),{roomSession:l=null}=Ac(),{petRespectRemaining:d=0,respectPet:u=null}=pi();if(Object(c.useEffect)((()=>{r(t.remainingGrowTime),o(t.remainingTimeToLive)}),[t]),Object(c.useEffect)((()=>{if(t.petType!==a.Lf.MONSTERPLANT||t.dead)return;const e=setInterval((()=>{r((e=>e-1)),o((e=>e-1))}),1e3);return()=>clearInterval(e)}),[t]),!t)return null;const j=e=>{let n=!0;if(e&&\"\"!=e){switch(e){case\"respect\":u(t.id),d-1>=1&&(n=!1);break;case\"buyfood\":m(\"catalog/open/\"+p(\"catalog.links\")[\"pets.buy_saddle\"]);break;case\"train\":break;case\"treat\":Ee(new a.Kf(t.id));break;case\"compost\":null===l||void 0===l||l.compostPlant(t.id);break;case\"pick_up\":null===l||void 0===l||l.pickupPet(t.id)}n&&s()}};return Object(an.jsxs)(Fn,{gap:1,alignItems:\"end\",children:[Object(an.jsx)(Fn,{className:\"nitro-infostand rounded\",children:Object(an.jsxs)(Fn,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:t.name}),Object(an.jsx)(fn.a,{icon:\"times\",className:\"cursor-pointer\",onClick:s})]}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(`pet.breed.${t.petType}.${t.petBreed}`)}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),t.petType===a.Lf.MONSTERPLANT&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{center:!0,gap:1,children:[Object(an.jsx)(er,{figure:t.petFigure,posture:t.posture,direction:4}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:2,children:[!t.dead&&Object(an.jsx)(Fn,{alignItems:\"center\",gap:1,children:Object(an.jsx)(ur,{variant:\"white\",center:!0,small:!0,wrap:!0,children:We(\"pet.level\",[\"level\",\"maxlevel\"],[t.level.toString(),t.maximumLevel.toString()])})}),Object(an.jsxs)(Fn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,truncate:!0,children:We(\"infostand.pet.text.wellbeing\")}),Object(an.jsxs)(on,{fullWidth:!0,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[Object(an.jsx)(hn,{fit:!0,center:!0,position:\"absolute\",children:Object(an.jsx)(ur,{variant:\"white\",small:!0,children:t.dead?\"00:00:00\":Ue(0==i?t.remainingTimeToLive:i).split(\":\")[1]+\":\"+Ue(null==i||void 0==i?0:i).split(\":\")[2]+\":\"+Ue(null==i||void 0==i?0:i).split(\":\")[3]})}),Object(an.jsx)(on,{className:\"bg-success rounded pet-stats\",style:{width:t.dead?\"0\":Math.round(100*t.maximumTimeToLive/i).toString()}})]})]}),0!=n&&n>0&&Object(an.jsxs)(Fn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,truncate:!0,children:We(\"infostand.pet.text.growth\")}),Object(an.jsx)(Ln,{className:\"top-2 end-2\",day:Ue(n).split(\":\")[0],hour:Ue(n).split(\":\")[1],minutes:Ue(n).split(\":\")[2],seconds:Ue(n).split(\":\")[3]})]}),Object(an.jsxs)(Fn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,truncate:!0,children:We(\"infostand.pet.text.raritylevel\",[\"level\"],[We(`infostand.pet.raritylevel.${t.rarityLevel}`)])}),Object(an.jsx)(sr,{className:\"top-2 end-2\",level:t.rarityLevel})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"pet.age\",[\"age\"],[t.age.toString()])}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]})]}),t.petType!==a.Lf.MONSTERPLANT&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(Fn,{fullWidth:!0,overflow:\"hidden\",className:\"body-image pet p-1\",children:Object(an.jsx)(er,{figure:t.petFigure,posture:t.posture,direction:4})}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",center:!0,small:!0,wrap:!0,children:We(\"pet.level\",[\"level\",\"maxlevel\"],[t.level.toString(),t.maximumLevel.toString()])}),Object(an.jsxs)(Fn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,truncate:!0,children:We(\"infostand.pet.text.happiness\")}),Object(an.jsxs)(on,{fullWidth:!0,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[Object(an.jsx)(hn,{fit:!0,center:!0,position:\"absolute\",children:Object(an.jsx)(ur,{variant:\"white\",small:!0,children:t.happyness+\"/\"+t.maximumHappyness})}),Object(an.jsx)(on,{className:\"bg-info rounded pet-stats\",style:{width:t.happyness/t.maximumHappyness*100+\"%\"}})]})]}),Object(an.jsxs)(Fn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,truncate:!0,children:We(\"infostand.pet.text.experience\")}),Object(an.jsxs)(on,{fullWidth:!0,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[Object(an.jsx)(hn,{fit:!0,center:!0,position:\"absolute\",children:Object(an.jsx)(ur,{variant:\"white\",small:!0,children:t.experience+\"/\"+t.levelExperienceGoal})}),Object(an.jsx)(on,{className:\"bg-purple rounded pet-stats\",style:{width:t.experience/t.levelExperienceGoal*100+\"%\"}})]})]}),Object(an.jsxs)(Fn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,truncate:!0,children:We(\"infostand.pet.text.energy\")}),Object(an.jsxs)(on,{fullWidth:!0,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[Object(an.jsx)(hn,{fit:!0,center:!0,position:\"absolute\",children:Object(an.jsx)(ur,{variant:\"white\",small:!0,children:t.energy+\"/\"+t.maximumEnergy})}),Object(an.jsx)(on,{className:\"bg-success rounded pet-stats\",style:{width:t.energy/t.maximumEnergy*100+\"%\"}})]})]})]})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[t.petType!==a.Lf.MONSTERPLANT&&Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"infostand.text.petrespect\",[\"count\"],[t.respect.toString()])}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"pet.age\",[\"age\"],[t.age.toString()])}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]})]}),Object(an.jsx)(Fn,{gap:1,children:Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:t.ownerId}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"infostand.text.petowner\",[\"name\"],[t.ownerName])})]})})]})}),Object(an.jsxs)(hn,{gap:1,justifyContent:\"end\",children:[t.petType!==a.Lf.MONSTERPLANT&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>j(\"buyfood\"),children:We(\"infostand.button.buyfood\")}),t.isOwner&&t.petType!==a.Lf.MONSTERPLANT&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>j(\"train\"),children:We(\"infostand.button.train\")}),!t.dead&&t.energy/t.maximumEnergy<.98&&t.petType===a.Lf.MONSTERPLANT&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>j(\"treat\"),children:We(\"infostand.button.pettreat\")}),(null===l||void 0===l?void 0:l.isRoomOwner)&&t.petType===a.Lf.MONSTERPLANT&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>j(\"compost\"),children:We(\"infostand.button.compost\")}),t.isOwner&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>j(\"pick_up\"),children:We(\"inventory.pets.pickup\")}),d>0&&t.petType!==a.Lf.MONSTERPLANT&&Object(an.jsx)(bn,{variant:\"dark\",onClick:e=>j(\"respect\"),children:We(\"infostand.button.petrespect\",[\"count\"],[d.toString()])})]})]})},ju=e=>{const{avatarInfo:t=null,onClose:s=null}=e,n=Object(c.useMemo)((()=>!(t.botSkills.indexOf(Us.NO_PICK_UP)>=0)&&!(!t.amIOwner&&!t.amIAnyRoomController)),[t]);if(t)return Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(Fn,{className:\"nitro-infostand rounded\",children:Object(an.jsxs)(Fn,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:t.name}),Object(an.jsx)(fn.a,{icon:\"times\",className:\"cursor-pointer\",onClick:s})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(Fn,{fullWidth:!0,className:\"body-image bot\",children:Object(an.jsx)(kn,{figure:t.figure,direction:4})}),Object(an.jsx)(Fn,{grow:!0,center:!0,gap:0,children:t.badges.length>0&&t.badges.map((e=>Object(an.jsx)(Dn,{badgeCode:e,showInfo:!0},e)))})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(hn,{alignItems:\"center\",className:\"bg-light-dark rounded py-1 px-2\",children:Object(an.jsx)(ur,{fullWidth:!0,wrap:!0,textBreak:!0,variant:\"white\",small:!0,className:\"motto-content\",children:t.motto})}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:t.ownerId}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"infostand.text.botowner\",[\"name\"],[t.ownerName])})]}),t.carryItem>0&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"m-0\"}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"infostand.text.handitem\",[\"item\"],[We(\"handitem\"+t.carryItem)])})]})]})]})}),n&&Object(an.jsx)(hn,{justifyContent:\"end\",children:Object(an.jsx)(bn,{variant:\"dark\",onClick:()=>Ee(new a.C(t.webID)),children:We(\"infostand.button.pickup\")})})]})},hu=e=>{const{type:t=-1,relationship:s=null}=e;if(!s)return null;const n=a.dg.RELATIONSHIP_NAMES[t].toLocaleLowerCase();return Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"i\",{className:`nitro-friends-spritesheet icon-${n}`}),Object(an.jsx)(hn,{alignItems:\"center\",gap:0,children:Object(an.jsxs)(ur,{small:!0,variant:\"white\",onClick:e=>Xs(s.randomFriendId),children:[Object(an.jsx)(\"u\",{children:s.randomFriendName}),s.friendCount>1&&\" \"+We(`extendedprofile.relstatus.others.${n}`,[\"count\"],[(s.friendCount-1).toString()])]})})]})},bu=e=>{const{relationships:t=null}=e;return t&&t.relationshipStatusMap.length?Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(hu,{type:a.dg.HEART,relationship:t.relationshipStatusMap.getValue(a.dg.HEART)}),Object(an.jsx)(hu,{type:a.dg.SMILE,relationship:t.relationshipStatusMap.getValue(a.dg.SMILE)}),Object(an.jsx)(hu,{type:a.dg.BOBBA,relationship:t.relationshipStatusMap.getValue(a.dg.BOBBA)})]}):null},gu=e=>{const{avatarInfo:t=null,setAvatarInfo:s=null,onClose:n=null}=e,[r,i]=Object(c.useState)(null),[o,l]=Object(c.useState)(!1),[d,u]=Object(c.useState)(null),{roomSession:j=null}=Ac(),h=e=>{!o||e.length>p(\"motto.max.length\",38)||(j.sendMottoMessage(e),l(!1))};return Or(a.sh.RSUBE_BADGES,(e=>{if(!t||t.webID!==e.userId)return;t.badges.join(\"\")!==e.badges.join(\"\")&&s((t=>{const s=Le(t);return s.badges=e.badges,s}))})),Or(a.uh.USER_FIGURE,(e=>{t&&t.roomIndex===e.roomIndex&&s((t=>{const s=Le(t);return s.figure=e.figure,s.motto=e.customInfo,s.achievementScore=e.activityPoints,s}))})),Or(a.nh.FAVOURITE_GROUP_UPDATE,(e=>{t&&t.roomIndex===e.roomIndex&&s((t=>{const s=Le(t),n=-1===e.status||e.habboGroupId<=0;return s.groupId=n?-1:e.habboGroupId,s.groupName=n?null:e.habboGroupName,s.groupBadgeId=n?null:F().getGroupBadge(e.habboGroupId),s}))})),pr(a.eg,(e=>{const s=e.getParser();t&&t.webID===s.userId&&u(s)})),Object(c.useEffect)((()=>(l(!1),i(t.motto),Ee(new a.aj(t.webID)),()=>{l(!1),i(null),u(null)})),[t]),t?Object(an.jsx)(Fn,{className:\"nitro-infostand rounded\",children:Object(an.jsxs)(Fn,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(ir,{userId:t.webID}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:t.name})]}),Object(an.jsx)(fn.a,{icon:\"times\",className:\"cursor-pointer\",onClick:n})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(Fn,{fullWidth:!0,className:\"body-image\",onClick:e=>Xs(t.webID),children:Object(an.jsx)(kn,{figure:t.figure,direction:4})}),Object(an.jsxs)(Fn,{grow:!0,alignItems:\"center\",gap:0,children:[Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(hn,{center:!0,className:\"badge-image\",children:t.badges[0]&&Object(an.jsx)(Dn,{badgeCode:t.badges[0],showInfo:!0})}),Object(an.jsx)(hn,{center:!0,pointer:t.groupId>0,className:\"badge-image\",onClick:e=>Qt(t.groupId),children:t.groupId>0&&Object(an.jsx)(Dn,{badgeCode:t.groupBadgeId,isGroup:!0,showInfo:!0,customTitle:t.groupName})})]}),Object(an.jsxs)(hn,{center:!0,gap:1,children:[Object(an.jsx)(hn,{center:!0,className:\"badge-image\",children:t.badges[1]&&Object(an.jsx)(Dn,{badgeCode:t.badges[1],showInfo:!0})}),Object(an.jsx)(hn,{center:!0,className:\"badge-image\",children:t.badges[2]&&Object(an.jsx)(Dn,{badgeCode:t.badges[2],showInfo:!0})})]}),Object(an.jsxs)(hn,{center:!0,gap:1,children:[Object(an.jsx)(hn,{center:!0,className:\"badge-image\",children:t.badges[3]&&Object(an.jsx)(Dn,{badgeCode:t.badges[3],showInfo:!0})}),Object(an.jsx)(hn,{center:!0,className:\"badge-image\",children:t.badges[4]&&Object(an.jsx)(Dn,{badgeCode:t.badges[4],showInfo:!0})})]})]})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",className:\"bg-light-dark rounded py-1 px-2\",children:[t.type!==Ls.OWN_USER&&Object(an.jsx)(hn,{grow:!0,alignItems:\"center\",className:\"motto-content\",children:Object(an.jsx)(ur,{fullWidth:!0,pointer:!0,wrap:!0,textBreak:!0,small:!0,variant:\"white\",children:r})}),t.type===Ls.OWN_USER&&Object(an.jsxs)(hn,{grow:!0,alignItems:\"center\",gap:2,children:[Object(an.jsx)(fn.a,{icon:\"pencil-alt\",className:\"small\"}),Object(an.jsxs)(hn,{grow:!0,alignItems:\"center\",className:\"motto-content\",children:[!o&&Object(an.jsxs)(ur,{fullWidth:!0,pointer:!0,wrap:!0,textBreak:!0,small:!0,variant:\"white\",onClick:e=>l(!0),children:[r,\"\\xa0\"]}),o&&Object(an.jsx)(\"input\",{type:\"text\",className:\"motto-input\",maxLength:p(\"motto.max.length\",38),value:r,onChange:e=>i(e.target.value),onBlur:e=>h(e.target.value),onKeyDown:e=>{e.stopPropagation(),\"Enter\"!==e.key||h(e.target.value)},autoFocus:!0})]})]})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"infostand.text.achievement_score\")+\" \"+t.achievementScore}),t.carryItem>0&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"m-0\"}),Object(an.jsx)(ur,{variant:\"white\",small:!0,wrap:!0,children:We(\"infostand.text.handitem\",[\"item\"],[We(\"handitem\"+t.carryItem)])})]})]}),Object(an.jsx)(Fn,{gap:1,children:Object(an.jsx)(bu,{relationships:d})})]})}):null},mu=e=>{const{avatarInfo:t=null,onClose:s=null}=e,[n,r]=Object(c.useState)(0),{canRequestFriend:i=null}=ec(),{report:o=null}=ic(),{roomSession:l=null}=Ac(),{userRespectRemaining:d=0,respectUser:u=null}=pi(),j=Object(c.useMemo)((()=>t.amIOwner&&t.targetRoomControllerLevel<a.yg.GUEST&&!t.isGuildRoom),[t]),h=Object(c.useMemo)((()=>t.amIOwner&&t.targetRoomControllerLevel===a.yg.GUEST&&!t.isGuildRoom),[t]),b=Object(c.useMemo)((()=>t.canBeKicked||t.canBeBanned||t.canBeMuted||j||h),[j,h,t]),g=Object(c.useMemo)((()=>{let e=!1;const t=pe();if(t){const s=t.model.getValue(a.ch.FIGURE_CARRY_OBJECT);s>0&&s<999999&&(e=!0)}return e}),[]),O=e=>{let n=!0;if(e)switch(e){case\"moderate\":case\"back_moderate\":n=!1,r(1);break;case\"ban\":n=!1,r(2);break;case\"mute\":n=!1,r(3);break;case\"ambassador\":case\"back_ambassador\":n=!1,r(4);break;case\"ambassador_mute\":n=!1,r(5);break;case\"back\":n=!1,r(0);break;case\"whisper\":$e(new Ss(Ss.WHISPER,t.name));break;case\"friend\":m(`friends/request/${t.webID}/${t.name}`);break;case\"relationship\":n=!1,r(6);break;case\"respect\":u(t.webID),d-1>=1&&(n=!1);break;case\"ignore\":F().ignoreUser(t.name);break;case\"unignore\":F().unignoreUser(t.name);break;case\"kick\":case\"ambassador_kick\":l.sendKickMessage(t.webID);break;case\"ban_hour\":l.sendBanMessage(t.webID,\"RWUAM_BAN_USER_HOUR\");break;case\"ban_day\":l.sendBanMessage(t.webID,\"RWUAM_BAN_USER_DAY\");break;case\"perm_ban\":l.sendBanMessage(t.webID,\"RWUAM_BAN_USER_PERM\");break;case\"mute_2min\":case\"ambassador_mute_2min\":l.sendMuteMessage(t.webID,2);break;case\"mute_5min\":l.sendMuteMessage(t.webID,5);break;case\"mute_10min\":case\"ambassador_mute_10min\":l.sendMuteMessage(t.webID,10);break;case\"give_rights\":l.sendGiveRightsMessage(t.webID);break;case\"remove_rights\":l.sendTakeRightsMessage(t.webID);break;case\"trade\":Ee(new a.wi(t.roomIndex));break;case\"report\":o(us.BULLY,{reportedUserId:t.webID});break;case\"pass_hand_item\":Ee(new a.Fh(t.webID));break;case\"ambassador_alert\":l.sendAmbassadorAlertMessage(t.webID);break;case\"ambassador_mute_60min\":l.sendMuteMessage(t.webID,60);break;case\"ambassador_mute_18hour\":l.sendMuteMessage(t.webID,1080);break;case\"rship_heart\":Ee(new a.bi(t.webID,Gt.RELATIONSHIP_HEART));break;case\"rship_smile\":Ee(new a.bi(t.webID,Gt.RELATIONSHIP_SMILE));break;case\"rship_bobba\":Ee(new a.bi(t.webID,Gt.RELATIONSHIP_BOBBA));break;case\"rship_none\":Ee(new a.bi(t.webID,Gt.RELATIONSHIP_NONE))}n&&s()};return Object(c.useEffect)((()=>{r(0)}),[t]),Object(an.jsxs)(au,{objectId:t.roomIndex,category:a.Wg.UNIT,userType:t.userType,onClose:s,collapsable:!0,children:[Object(an.jsx)(Qd,{className:\"cursor-pointer\",onClick:e=>Xs(t.webID),children:t.name}),0===n&&Object(an.jsxs)(an.Fragment,{children:[i(t.webID)&&Object(an.jsx)(eu,{onClick:e=>O(\"friend\"),children:We(\"infostand.button.friend\")}),Object(an.jsx)(eu,{onClick:e=>O(\"trade\"),children:We(\"infostand.button.trade\")}),Object(an.jsx)(eu,{onClick:e=>O(\"whisper\"),children:We(\"infostand.button.whisper\")}),d>0&&Object(an.jsx)(eu,{onClick:e=>O(\"respect\"),children:We(\"infostand.button.respect\",[\"count\"],[d.toString()])}),!i(t.webID)&&Object(an.jsxs)(eu,{onClick:e=>O(\"relationship\"),children:[We(\"infostand.link.relationship\"),Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"})]}),!t.isIgnored&&Object(an.jsx)(eu,{onClick:e=>O(\"ignore\"),children:We(\"infostand.button.ignore\")}),t.isIgnored&&Object(an.jsx)(eu,{onClick:e=>O(\"unignore\"),children:We(\"infostand.button.unignore\")}),Object(an.jsx)(eu,{onClick:e=>O(\"report\"),children:We(\"infostand.button.report\")}),b&&Object(an.jsxs)(eu,{onClick:e=>O(\"moderate\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"}),We(\"infostand.link.moderate\")]}),t.isAmbassador&&Object(an.jsxs)(eu,{onClick:e=>O(\"ambassador\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"}),We(\"infostand.link.ambassador\")]}),g&&Object(an.jsx)(eu,{onClick:e=>O(\"pass_hand_item\"),children:We(\"avatar.widget.pass_hand_item\")})]}),1===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>O(\"kick\"),children:We(\"infostand.button.kick\")}),Object(an.jsxs)(eu,{onClick:e=>O(\"mute\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"}),We(\"infostand.button.mute\")]}),Object(an.jsxs)(eu,{onClick:e=>O(\"ban\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"}),We(\"infostand.button.ban\")]}),j&&Object(an.jsx)(eu,{onClick:e=>O(\"give_rights\"),children:We(\"infostand.button.giverights\")}),h&&Object(an.jsx)(eu,{onClick:e=>O(\"remove_rights\"),children:We(\"infostand.button.removerights\")}),Object(an.jsxs)(eu,{onClick:e=>O(\"back\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]}),2===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>O(\"ban_hour\"),children:We(\"infostand.button.ban_hour\")}),Object(an.jsx)(eu,{onClick:e=>O(\"ban_day\"),children:We(\"infostand.button.ban_day\")}),Object(an.jsx)(eu,{onClick:e=>O(\"perm_ban\"),children:We(\"infostand.button.perm_ban\")}),Object(an.jsxs)(eu,{onClick:e=>O(\"back_moderate\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]}),3===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>O(\"mute_2min\"),children:We(\"infostand.button.mute_2min\")}),Object(an.jsx)(eu,{onClick:e=>O(\"mute_5min\"),children:We(\"infostand.button.mute_5min\")}),Object(an.jsx)(eu,{onClick:e=>O(\"mute_10min\"),children:We(\"infostand.button.mute_10min\")}),Object(an.jsxs)(eu,{onClick:e=>O(\"back_moderate\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]}),4===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>O(\"ambassador_alert\"),children:We(\"infostand.button.alert\")}),Object(an.jsx)(eu,{onClick:e=>O(\"ambassador_kick\"),children:We(\"infostand.button.kick\")}),Object(an.jsxs)(eu,{onClick:e=>O(\"ambassador_mute\"),children:[We(\"infostand.button.mute\"),Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"})]}),Object(an.jsxs)(eu,{onClick:e=>O(\"back\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]}),5===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>O(\"ambassador_mute_2min\"),children:We(\"infostand.button.mute_2min\")}),Object(an.jsx)(eu,{onClick:e=>O(\"ambassador_mute_10min\"),children:We(\"infostand.button.mute_10min\")}),Object(an.jsx)(eu,{onClick:e=>O(\"ambassador_mute_60min\"),children:We(\"infostand.button.mute_60min\")}),Object(an.jsx)(eu,{onClick:e=>O(\"ambassador_mute_18hr\"),children:We(\"infostand.button.mute_18hour\")}),Object(an.jsxs)(eu,{onClick:e=>O(\"back_ambassador\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]}),6===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(hn,{className:\"menu-list-split-3\",children:[Object(an.jsx)(eu,{onClick:e=>O(\"rship_heart\"),children:Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-heart\"})}),Object(an.jsx)(eu,{onClick:e=>O(\"rship_smile\"),children:Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-smile\"})}),Object(an.jsx)(eu,{onClick:e=>O(\"rship_bobba\"),children:Object(an.jsx)(on,{pointer:!0,className:\"nitro-friends-spritesheet icon-bobba\"})})]}),Object(an.jsx)(eu,{onClick:e=>O(\"rship_none\"),children:We(\"avatar.widget.clear_relationship\")}),Object(an.jsxs)(eu,{onClick:e=>O(\"back\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]})]})},Ou=e=>{const{classNames:t=[],...s}=e,n=Object(c.useMemo)((()=>{const e=[\"menu-list\"];return t.length&&e.push(...t),e}),[t]);return Object(an.jsx)(Fn,{classNames:n,...s})},pu=e=>{const{userId:t=-1,userName:s=\"\",roomIndex:n=-1,setIsDecorating:r=null}=e;return Object(an.jsx)(au,{objectId:n,category:a.Wg.UNIT,onClose:null,children:Object(an.jsx)(Ou,{children:Object(an.jsx)(eu,{onClick:e=>r(!1),children:We(\"widget.avatar.stop_decorating\")})})})},fu=e=>{const{avatarInfo:t=null,onClose:s=null}=e,n=e=>{if(e)switch(e){case\"move\":_e(t.id,t.category,a.Yg.OBJECT_MOVE);break;case\"rotate\":_e(t.id,t.category,a.Yg.OBJECT_ROTATE_POSITIVE);break;case\"pickup\":_e(t.id,t.category,a.Yg.OBJECT_PICKUP);break;case\"eject\":_e(t.id,t.category,a.Yg.OBJECT_EJECT)}};return Object(an.jsxs)(au,{objectId:t.id,category:t.category,onClose:s,collapsable:!0,children:[Object(an.jsx)(Qd,{children:t.name}),Object(an.jsxs)(hn,{className:\"menu-list-split-3\",children:[Object(an.jsx)(eu,{onClick:e=>n(\"move\"),children:Object(an.jsx)(fn.a,{icon:\"arrows-up-down-left-right\",className:\"center\"})}),Object(an.jsx)(eu,{onClick:e=>n(\"rotate\"),disabled:t.isWallItem,children:Object(an.jsx)(fn.a,{icon:\"rotate\",className:\"center\"})}),(t.isOwner||t.isAnyRoomController)&&Object(an.jsx)(eu,{onClick:e=>n(\"pickup\"),children:Object(an.jsx)(fn.a,{icon:\"trash-arrow-up\",className:\"center\"})}),!t.isOwner&&!t.isAnyRoomController&&(t.isRoomOwner||t.roomControllerLevel>=a.yg.GUILD_ADMIN)&&Object(an.jsx)(eu,{onClick:e=>n(\"eject\"),children:Object(an.jsx)(fn.a,{icon:\"trash-arrow-up\",className:\"center\"})})]})]})},xu=e=>{const{nameInfo:t=null,onClose:s=null}=e,n=Object(c.useMemo)((()=>{const e=[\"name-only\"];return t.isFriend&&e.push(\"is-friend\"),e}),[t]);return Object(an.jsx)(au,{objectId:t.roomIndex,category:t.category,userType:t.userType,fades:t.id!==F().userId,classNames:n,onClose:s,children:Object(an.jsx)(\"div\",{className:\"text-shadow\",children:t.name})})},_u=e=>{const{avatarInfo:t=null,isDancing:s=!1,setIsDecorating:n=null,onClose:r=null}=e,[i,o]=Object(c.useState)(s&&ge()?1:0),{roomSession:l=null}=Ac(),d=e=>{let t=!0;if(e)if(e.startsWith(\"sign_\")){const t=parseInt(e.split(\"_\")[1]);l.sendSignMessage(t)}else switch(e){case\"decorate\":n(!0);break;case\"change_name\":$e(new Dr(Dr.INIT));break;case\"change_looks\":m(\"avatar-editor/show\");break;case\"expressions\":t=!1,o(3);break;case\"sit\":l.sendPostureMessage(qs.POSTURE_SIT);break;case\"stand\":l.sendPostureMessage(qs.POSTURE_STAND);break;case\"wave\":l.sendExpressionMessage(a.o.WAVE.ordinal);break;case\"blow\":l.sendExpressionMessage(a.o.BLOW.ordinal);break;case\"laugh\":l.sendExpressionMessage(a.o.LAUGH.ordinal);break;case\"idle\":l.sendExpressionMessage(a.o.IDLE.ordinal);break;case\"dance_menu\":t=!1,o(1);break;case\"dance\":l.sendDanceMessage(1);break;case\"dance_stop\":l.sendDanceMessage(0);break;case\"dance_1\":case\"dance_2\":case\"dance_3\":case\"dance_4\":l.sendDanceMessage(parseInt(e.charAt(e.length-1)));break;case\"signs\":t=!1,o(4);break;case\"back\":t=!1,o(0);break;case\"drop_carry_item\":Ee(new a.Eh)}t&&r()},u=function(){const e=pe();return!!e&&77===e.model.getValue(a.ch.FIGURE_EFFECT)}();return Object(an.jsxs)(au,{objectId:t.roomIndex,category:a.Wg.UNIT,userType:t.userType,onClose:r,collapsable:!0,children:[Object(an.jsx)(Qd,{className:\"cursor-pointer\",onClick:e=>Xs(t.webID),children:t.name}),0===i&&Object(an.jsxs)(an.Fragment,{children:[t.allowNameChange&&Object(an.jsx)(eu,{onClick:e=>d(\"change_name\"),children:We(\"widget.avatar.change_name\")}),(t.amIOwner||t.amIAnyRoomController||t.roomControllerLevel>a.yg.GUEST)&&Object(an.jsx)(eu,{onClick:e=>d(\"decorate\"),children:We(\"widget.avatar.decorate\")}),Object(an.jsx)(eu,{onClick:e=>d(\"change_looks\"),children:We(\"widget.memenu.myclothes\")}),ge()&&!u&&Object(an.jsxs)(eu,{onClick:e=>d(\"dance_menu\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"}),We(\"widget.memenu.dance\")]}),!s&&!ge()&&!u&&Object(an.jsx)(eu,{onClick:e=>d(\"dance\"),children:We(\"widget.memenu.dance\")}),s&&!ge()&&!u&&Object(an.jsx)(eu,{onClick:e=>d(\"dance_stop\"),children:We(\"widget.memenu.dance.stop\")}),Object(an.jsxs)(eu,{onClick:e=>d(\"expressions\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"}),We(\"infostand.link.expressions\")]}),Object(an.jsxs)(eu,{onClick:e=>d(\"signs\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-right\",className:\"right\"}),We(\"infostand.show.signs\")]}),t.carryItem>0&&Object(an.jsx)(eu,{onClick:e=>d(\"drop_carry_item\"),children:We(\"avatar.widget.drop_hand_item\")})]}),1===i&&Object(an.jsxs)(an.Fragment,{children:[s&&Object(an.jsx)(eu,{onClick:e=>d(\"dance_stop\"),children:We(\"widget.memenu.dance.stop\")}),Object(an.jsx)(eu,{onClick:e=>d(\"dance_1\"),children:We(\"widget.memenu.dance1\")}),Object(an.jsx)(eu,{onClick:e=>d(\"dance_2\"),children:We(\"widget.memenu.dance2\")}),Object(an.jsx)(eu,{onClick:e=>d(\"dance_3\"),children:We(\"widget.memenu.dance3\")}),Object(an.jsx)(eu,{onClick:e=>d(\"dance_4\"),children:We(\"widget.memenu.dance4\")}),Object(an.jsxs)(eu,{onClick:e=>d(\"back\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]}),3===i&&Object(an.jsxs)(an.Fragment,{children:[ue()===a.l.POSTURE_STAND&&Object(an.jsx)(eu,{onClick:e=>d(\"sit\"),children:We(\"widget.memenu.sit\")}),U()&&Object(an.jsx)(eu,{onClick:e=>d(\"stand\"),children:We(\"widget.memenu.stand\")}),M()&&Object(an.jsx)(eu,{onClick:e=>d(\"wave\"),children:We(\"widget.memenu.wave\")}),M()&&Object(an.jsxs)(eu,{disabled:!me(),onClick:e=>d(\"laugh\"),children:[!me()&&Object(an.jsx)(Pn,{type:\"hc\"}),We(\"widget.memenu.laugh\")]}),M()&&Object(an.jsxs)(eu,{disabled:!me(),onClick:e=>d(\"blow\"),children:[!me()&&Object(an.jsx)(Pn,{type:\"hc\"}),We(\"widget.memenu.blow\")]}),Object(an.jsx)(eu,{onClick:e=>d(\"idle\"),children:We(\"widget.memenu.idle\")}),Object(an.jsxs)(eu,{onClick:e=>d(\"back\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]}),4===i&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(hn,{className:\"menu-list-split-3\",children:[Object(an.jsx)(eu,{onClick:e=>d(\"sign_1\"),children:\"1\"}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_2\"),children:\"2\"}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_3\"),children:\"3\"})]}),Object(an.jsxs)(hn,{className:\"menu-list-split-3\",children:[Object(an.jsx)(eu,{onClick:e=>d(\"sign_4\"),children:\"4\"}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_5\"),children:\"5\"}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_6\"),children:\"6\"})]}),Object(an.jsxs)(hn,{className:\"menu-list-split-3\",children:[Object(an.jsx)(eu,{onClick:e=>d(\"sign_7\"),children:\"7\"}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_8\"),children:\"8\"}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_9\"),children:\"9\"})]}),Object(an.jsxs)(hn,{className:\"menu-list-split-3\",children:[Object(an.jsx)(eu,{onClick:e=>d(\"sign_10\"),children:\"10\"}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_11\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-sign-heart\"})}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_12\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-sign-skull\"})})]}),Object(an.jsxs)(hn,{className:\"menu-list-split-3\",children:[Object(an.jsx)(eu,{onClick:e=>d(\"sign_0\"),children:\"0\"}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_13\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-sign-exclamation\"})}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_15\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-sign-smile\"})})]}),Object(an.jsxs)(hn,{className:\"menu-list-split-3\",children:[Object(an.jsx)(eu,{onClick:e=>d(\"sign_14\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-sign-soccer\"})}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_17\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-sign-yellow\"})}),Object(an.jsx)(eu,{onClick:e=>d(\"sign_16\"),children:Object(an.jsx)(\"i\",{className:\"icon icon-sign-red\"})})]}),Object(an.jsxs)(eu,{onClick:e=>d(\"back\"),children:[Object(an.jsx)(fn.a,{icon:\"chevron-left\",className:\"left\"}),We(\"generic.back\")]})]})]})},Iu=e=>{const{avatarInfo:t=null,onClose:s=null}=e,[n,r]=Object(c.useState)(0),{roomSession:i=null}=Ac(),{petRespectRemaining:o=0,respectPet:l=null}=pi(),d=Object(c.useMemo)((()=>{let e=!1;const t=pe();if(t){const s=t.model.getValue(a.ch.FIGURE_CARRY_OBJECT);s>0&&s<999999&&(e=!0)}return e}),[]),u=e=>{let n=!0;if(e)switch(e){case\"respect\":l(t.id),o-1>=1&&(n=!1);break;case\"treat\":Ee(new a.Kf(t.id));break;case\"pass_handitem\":Ee(new a.Gh(t.id));break;case\"train\":case\"breed\":case\"revive\":break;case\"pick_up\":i.pickupPet(t.id);break;case\"mount\":i.mountPet(t.id);break;case\"toggle_riding_permission\":i.togglePetRiding(t.id);break;case\"toggle_breeding_permission\":i.togglePetBreeding(t.id);break;case\"dismount\":i.dismountPet(t.id);break;case\"saddle_off\":i.removePetSaddle(t.id);break;case\"harvest\":i.harvestPet(t.id);break;case\"compost\":i.compostPlant(t.id);break;case\"buy_saddle\":m(\"catalog/open/\"+p(\"catalog.links\")[\"pets.buy_saddle\"])}n&&s()};return Object(c.useEffect)((()=>{r((e=>t.petType===a.Lf.MONSTERPLANT?3:t.saddle&&!t.rider?1:t.rider?2:0))}),[t]),Object(an.jsxs)(au,{objectId:t.roomIndex,category:a.Wg.UNIT,userType:a.ah.PET,onClose:s,collapsable:!0,children:[Object(an.jsx)(Qd,{children:t.name}),0===n&&Object(an.jsxs)(an.Fragment,{children:[o>0&&Object(an.jsx)(eu,{onClick:e=>u(\"respect\"),children:We(\"infostand.button.petrespect\",[\"count\"],[o.toString()])}),Object(an.jsx)(eu,{onClick:e=>u(\"train\"),children:We(\"infostand.button.train\")}),Object(an.jsx)(eu,{onClick:e=>u(\"pick_up\"),children:We(\"infostand.button.pickup\")}),t.petType===a.Lf.HORSE&&Object(an.jsx)(eu,{onClick:e=>u(\"buy_saddle\"),children:We(\"infostand.button.buy_saddle\")}),[a.Lf.BEAR,a.Lf.TERRIER,a.Lf.CAT,a.Lf.DOG,a.Lf.PIG].indexOf(t.petType)>-1&&Object(an.jsx)(eu,{onClick:e=>u(\"breed\"),children:We(\"infostand.button.breed\")})]}),1===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>u(\"mount\"),children:We(\"infostand.button.mount\")}),Object(an.jsxs)(eu,{onClick:e=>u(\"toggle_riding_permission\"),gap:1,children:[Object(an.jsx)(\"input\",{type:\"checkbox\",checked:!!t.publiclyRideable,readOnly:!0}),We(\"infostand.button.toggle_riding_permission\")]}),o>0&&Object(an.jsx)(eu,{onClick:e=>u(\"respect\"),children:We(\"infostand.button.petrespect\",[\"count\"],[o.toString()])}),Object(an.jsx)(eu,{onClick:e=>u(\"train\"),children:We(\"infostand.button.train\")}),Object(an.jsx)(eu,{onClick:e=>u(\"pick_up\"),children:We(\"infostand.button.pickup\")}),Object(an.jsx)(eu,{onClick:e=>u(\"saddle_off\"),children:We(\"infostand.button.saddleoff\")})]}),2===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>u(\"dismount\"),children:We(\"infostand.button.dismount\")}),o>0&&Object(an.jsx)(eu,{onClick:e=>u(\"respect\"),children:We(\"infostand.button.petrespect\",[\"count\"],[o.toString()])})]}),3===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>u(\"pick_up\"),children:We(\"infostand.button.pickup\")}),t.dead&&Object(an.jsx)(eu,{onClick:e=>u(\"revive\"),children:We(\"infostand.button.revive\")}),i.isRoomOwner&&Object(an.jsx)(eu,{onClick:e=>u(\"compost\"),children:We(\"infostand.button.compost\")}),!t.dead&&t.energy/t.maximumEnergy<.98&&Object(an.jsx)(eu,{onClick:e=>u(\"treat\"),children:We(\"infostand.button.pettreat\")}),!t.dead&&t.level===t.maximumLevel&&t.breedable&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(eu,{onClick:e=>u(\"toggle_breeding_permission\"),gap:1,children:[Object(an.jsx)(\"input\",{type:\"checkbox\",checked:t.publiclyBreedable,readOnly:!0}),We(\"infostand.button.toggle_breeding_permission\")]}),Object(an.jsx)(eu,{onClick:e=>u(\"breed\"),children:We(\"infostand.button.breed\")})]})]}),d&&Object(an.jsx)(eu,{onClick:e=>u(\"pass_hand_item\"),children:We(\"infostand.button.pass_hand_item\")})]})},Eu=e=>{const{avatarInfo:t=null,onClose:s=null}=e,[n,r]=Object(c.useState)(0),{roomSession:i=null}=Ac(),{petRespectRemaining:o=0,respectPet:l=null}=pi(),d=Object(c.useMemo)((()=>i.isRoomOwner||i.controllerLevel>=a.yg.GUEST||F().isModerator),[i]),u=Object(c.useMemo)((()=>{let e=!1;const t=pe();if(t){const s=t.model.getValue(a.ch.FIGURE_CARRY_OBJECT);s>0&&s<999999&&(e=!0)}return e}),[]),j=e=>{let n=!0;if(e)switch(e){case\"respect\":l(t.id),o-1>=1&&(n=!1);break;case\"treat\":Ee(new a.Kf(t.id));break;case\"pass_handitem\":Ee(new a.Gh(t.id));break;case\"pick_up\":i.pickupPet(t.id);break;case\"mount\":i.mountPet(t.id);break;case\"dismount\":i.dismountPet(t.id)}n&&s()};return Object(c.useEffect)((()=>{r((e=>t.petType===a.Lf.MONSTERPLANT?3:t.saddle&&!t.rider?1:t.rider?2:0))}),[t]),Object(an.jsxs)(au,{objectId:t.roomIndex,category:a.Wg.UNIT,userType:a.ah.PET,onClose:s,collapsable:!0,children:[Object(an.jsx)(Qd,{children:t.name}),0===n&&o>0&&Object(an.jsx)(eu,{onClick:e=>j(\"respect\"),children:We(\"infostand.button.petrespect\",[\"count\"],[o.toString()])}),1===n&&Object(an.jsxs)(an.Fragment,{children:[!!t.publiclyRideable&&Object(an.jsx)(eu,{onClick:e=>j(\"mount\"),children:We(\"infostand.button.mount\")}),o>0&&Object(an.jsx)(eu,{onClick:e=>j(\"respect\"),children:We(\"infostand.button.petrespect\",[\"count\"],[o.toString()])})]}),2===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(eu,{onClick:e=>j(\"dismount\"),children:We(\"infostand.button.dismount\")}),o>0&&Object(an.jsx)(eu,{onClick:e=>j(\"respect\"),children:We(\"infostand.button.petrespect\",[\"count\"],[o.toString()])})]}),3===n&&!t.dead&&t.energy/t.maximumEnergy<.98&&Object(an.jsx)(eu,{onClick:e=>j(\"treat\"),children:We(\"infostand.button.pettreat\")}),d&&Object(an.jsx)(eu,{onClick:e=>j(\"pick_up\"),children:We(\"infostand.button.pickup\")}),u&&Object(an.jsx)(eu,{onClick:e=>j(\"pass_hand_item\"),children:We(\"infostand.button.pass_hand_item\")})]})},Cu=e=>{const{avatarInfo:t=null,onClose:s=null}=e,[n,r]=Object(c.useState)(0),[i,l]=Object(c.useState)(\"\"),[d,u]=Object(c.useState)(\"\");pr(a.A,(e=>{const n=e.getParser();if(n.botId===t.webID)switch(n.commandId){case Us.CHANGE_BOT_NAME:return l(n.data),void r(1);case Us.CHANGE_BOT_MOTTO:return u(n.data),void r(2);case Us.SETUP_CHAT:{const e=n.data,r=e.split(-1===e.indexOf(\";#;\")?\";\":\";#;\");return void(3!==r.length&&4!==r.length||($e(new ws(t.roomIndex,a.Wg.UNIT,t.webID,r[0],\"true\"===r[1].toLowerCase()||\"1\"===r[1],parseInt(r[2]),!!r[3]&&(\"true\"===r[3].toLowerCase()||\"1\"===r[3]))),s()))}}}));const j=e=>Ee(new a.kg(t.webID,e)),h=e=>{let n=!0;if(e)switch(e){case\"donate_to_all\":j(Us.DONATE_TO_ALL),Ee(new a.E(t.webID,Us.DONATE_TO_ALL,\"\"));break;case\"donate_to_user\":j(Us.DONATE_TO_USER),Ee(new a.E(t.webID,Us.DONATE_TO_USER,\"\"));break;case\"change_bot_name\":j(Us.CHANGE_BOT_NAME),n=!1;break;case\"save_bot_name\":Ee(new a.E(t.webID,Us.CHANGE_BOT_NAME,i));break;case\"change_bot_motto\":j(Us.CHANGE_BOT_MOTTO),n=!1;break;case\"save_bot_motto\":Ee(new a.E(t.webID,Us.CHANGE_BOT_MOTTO,d));break;case\"dress_up\":Ee(new a.E(t.webID,Us.DRESS_UP,\"\"));break;case\"random_walk\":Ee(new a.E(t.webID,Us.RANDOM_WALK,\"\"));break;case\"setup_chat\":j(Us.SETUP_CHAT),n=!1;break;case\"dance\":Ee(new a.E(t.webID,Us.DANCE,\"\"));break;case\"nux_take_tour\":o().createLinkEvent(\"help/tour\"),Ee(new a.E(t.webID,Us.NUX_TAKE_TOUR,\"\"));break;case\"pick\":Ee(new a.C(t.webID))}n&&s()};Object(c.useEffect)((()=>{r(0)}),[t]);const b=t.amIOwner||t.amIAnyRoomController;return Object(an.jsxs)(au,{objectId:t.roomIndex,category:a.Wg.UNIT,userType:a.ah.RENTABLE_BOT,onClose:s,collapsable:!0,children:[Object(an.jsx)(Qd,{children:t.name}),0===n&&b&&Object(an.jsxs)(an.Fragment,{children:[t.botSkills.indexOf(Us.DONATE_TO_ALL)>=0&&Object(an.jsx)(eu,{onClick:e=>h(\"donate_to_all\"),children:We(\"avatar.widget.donate_to_all\")}),t.botSkills.indexOf(Us.DONATE_TO_USER)>=0&&Object(an.jsx)(eu,{onClick:e=>h(\"donate_to_user\"),children:We(\"avatar.widget.donate_to_user\")}),t.botSkills.indexOf(Us.CHANGE_BOT_NAME)>=0&&Object(an.jsx)(eu,{onClick:e=>h(\"change_bot_name\"),children:We(\"avatar.widget.change_bot_name\")}),t.botSkills.indexOf(Us.CHANGE_BOT_MOTTO)>=0&&Object(an.jsx)(eu,{onClick:e=>h(\"change_bot_motto\"),children:We(\"avatar.widget.change_bot_motto\")}),t.botSkills.indexOf(Us.DRESS_UP)>=0&&Object(an.jsx)(eu,{onClick:e=>h(\"dress_up\"),children:We(\"avatar.widget.dress_up\")}),t.botSkills.indexOf(Us.RANDOM_WALK)>=0&&Object(an.jsx)(eu,{onClick:e=>h(\"random_walk\"),children:We(\"avatar.widget.random_walk\")}),t.botSkills.indexOf(Us.SETUP_CHAT)>=0&&Object(an.jsx)(eu,{onClick:e=>h(\"setup_chat\"),children:We(\"avatar.widget.setup_chat\")}),t.botSkills.indexOf(Us.DANCE)>=0&&Object(an.jsx)(eu,{onClick:e=>h(\"dance\"),children:We(\"avatar.widget.dance\")}),-1===t.botSkills.indexOf(Us.NO_PICK_UP)&&Object(an.jsx)(eu,{onClick:e=>h(\"pick\"),children:We(\"avatar.widget.pick_up\")})]}),1===n&&Object(an.jsxs)(Fn,{className:\"menu-item\",onClick:null,gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",children:We(\"bot.skill.name.configuration.new.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:i,maxLength:p(\"bot.name.max.length\",15),onChange:e=>l(e.target.value)}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"secondary\",onClick:e=>h(null),children:We(\"cancel\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:e=>h(\"save_bot_name\"),children:We(\"save\")})]})]}),2===n&&Object(an.jsxs)(Fn,{className:\"menu-item\",onClick:null,gap:1,children:[Object(an.jsx)(ur,{variant:\"white\",children:We(\"bot.skill.name.configuration.new.motto\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:d,maxLength:p(\"motto.max.length\",38),onChange:e=>u(e.target.value)}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"secondary\",onClick:e=>h(null),children:We(\"cancel\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:e=>h(\"save_bot_motto\"),children:We(\"save\")})]})]})]})},vu=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(!1),[i,o]=Object(c.useState)(null),{avatarInfo:l=null,setAvatarInfo:d=null,activeNameBubble:u=null,setActiveNameBubble:j=null,nameBubbles:h=[],removeNameBubble:b=null,productBubbles:g=[],confirmingProduct:m=null,updateConfirmingProduct:O=null,removeProductBubble:p=null,isDecorating:f=!1,setIsDecorating:x=null}=ci(),{roomSession:_=null}=Ac();mr(a.Eg.NORMAL_MODE,(e=>{t&&s(!1)})),mr(a.Eg.GAME_MODE,(e=>{t||s(!0)})),Or(a.ih.RSDE_DANCE,(e=>{e.roomIndex===_.ownRoomIndex&&r(0!==e.danceId)})),fr(ws.UPDATE_CHAT,(e=>o(e)));return Object(an.jsxs)(an.Fragment,{children:[f&&Object(an.jsx)(pu,{userId:F().userId,userName:F().userName,roomIndex:_.ownRoomIndex,setIsDecorating:x}),(()=>{if(!_||t)return null;if(u)return Object(an.jsx)(xu,{nameInfo:u,onClose:()=>j(null)});if(l)switch(l.type){case ys.FURNI:{const e=l;return f?Object(an.jsx)(fu,{avatarInfo:e,onClose:()=>d(null)}):null}case Ls.OWN_USER:case Ls.PEER:{const e=l;return e.isSpectatorMode?null:e.isOwnUser?a.Kg.isRunning()?null:Object(an.jsx)(_u,{avatarInfo:e,isDancing:n,setIsDecorating:x,onClose:()=>d(null)}):Object(an.jsx)(mu,{avatarInfo:e,onClose:()=>d(null)})}case As.PET_INFO:{const e=l;return e.isOwner?Object(an.jsx)(Iu,{avatarInfo:e,onClose:()=>d(null)}):Object(an.jsx)(Eu,{avatarInfo:e,onClose:()=>d(null)})}case Ds.RENTABLE_BOT:return Object(an.jsx)(Cu,{avatarInfo:l,onClose:()=>d(null)})}return null})(),l&&Object(an.jsx)(Fn,{alignItems:\"end\",className:\"nitro-infostand-container\",children:(()=>{if(!l)return null;switch(l.type){case ys.FURNI:return Object(an.jsx)(du,{avatarInfo:l,onClose:()=>d(null)});case Ls.OWN_USER:case Ls.PEER:return Object(an.jsx)(gu,{avatarInfo:l,setAvatarInfo:d,onClose:()=>d(null)});case Ls.BOT:return Object(an.jsx)(lu,{avatarInfo:l,onClose:()=>d(null)});case Ds.RENTABLE_BOT:return Object(an.jsx)(ju,{avatarInfo:l,onClose:()=>d(null)});case As.PET_INFO:return Object(an.jsx)(uu,{avatarInfo:l,onClose:()=>d(null)})}})()}),h.length>0&&h.map(((e,t)=>Object(an.jsx)(xu,{nameInfo:e,onClose:()=>b(t)},t))),g.length>0&&g.map(((e,t)=>Object(an.jsx)(ou,{item:e,updateConfirmingProduct:O,onClose:()=>p(t)},e.id))),i&&Object(an.jsx)(Jd,{chatEvent:i,onClose:()=>o(null)}),m&&Object(an.jsx)(Zd,{item:m,onClose:()=>O(null)})]})},Nu=e=>{const{chatStyleId:t=0,chatStyleIds:s=null,selectChatStyleId:n=null}=e,[r,i]=Object(c.useState)(null),[a,o]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{a||i(null)}),[a]),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(on,{pointer:!0,className:\"icon chatstyles-icon\",onClick:e=>{let t=!1;o((e=>(t=!e,t))),t&&i(e.target)}}),Object(an.jsx)(Nd.a,{show:a,target:r,placement:\"top\",children:Object(an.jsx)(il.a,{className:\"nitro-chat-style-selector-container image-rendering-pixelated\",children:Object(an.jsx)(In,{overflow:\"hidden\",className:\"bg-transparent\",children:Object(an.jsx)(un,{columnCount:3,overflow:\"auto\",children:s&&s.length>0&&s.map((e=>Object(an.jsx)(hn,{center:!0,pointer:!0,className:\"bubble-parent-container\",onClick:t=>(e=>{n(e),o(!1)})(e),children:Object(an.jsx)(on,{className:\"bubble-container\",children:Object(an.jsx)(on,{className:`chat-bubble bubble-${e}`,children:\"\\xa0\"})},e)},e)))})})})})]})},Tu=e=>{const[t,s]=Object(c.useState)(\"\"),{chatStyleId:n=0,updateChatStyleId:r=null}=pi(),{selectedUsername:i=\"\",floodBlocked:o=!1,floodBlockedSeconds:l=0,setIsTyping:d=null,setIsIdle:u=null,sendChat:j=null}=ii(),h=Object(c.useRef)(),b=Object(c.useMemo)((()=>We(\"widgets.chatinput.mode.whisper\")),[]),g=Object(c.useMemo)((()=>We(\"widgets.chatinput.mode.shout\")),[]),m=Object(c.useMemo)((()=>We(\"widgets.chatinput.mode.speak\")),[]),O=Object(c.useMemo)((()=>p(\"chat.input.maxlength\",100)),[]),f=Object(c.useCallback)((()=>{const e=document.activeElement;return!!e&&((!h||h.current!==e)&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))}),[h]),x=Object(c.useCallback)((()=>{h.current.focus(),h.current.setSelectionRange(2*h.current.value.length,2*h.current.value.length)}),[h]),_=Object(c.useCallback)((()=>{s((e=>e===b&&i.length?`${e} ${i}`:e))}),[i,b]),I=Object(c.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||\"\"===e)return;let r=t?Fs.CHAT_SHOUT:Fs.CHAT_DEFAULT,c=e;const i=c.split(\" \");let a=\"\",o=\"\";switch(i[0]){case b:r=Fs.CHAT_WHISPER,a=i[1],o=b+\" \"+a+\" \",i.shift(),i.shift();break;case g:r=Fs.CHAT_SHOUT,i.shift();break;case m:r=Fs.CHAT_DEFAULT,i.shift()}c=i.join(\" \"),d(!1),u(!1),c.length<=O&&(/%CC%/g.test(encodeURIComponent(c))?s(\"\"):(s(\"\"),j(c,r,a,n))),s(o)}),[b,g,m,O,n,d,u,j]),E=Object(c.useCallback)((e=>{e&&e.length?(d(!0),u(!0)):d(!1),s(e)}),[d,u]),C=Object(c.useCallback)((e=>{if(o||!h.current||f())return;document.activeElement!==h.current&&x();const t=e.target.value;switch(e.key){case\" \":case\"Space\":return void _();case\"NumpadEnter\":case\"Enter\":return void I(t,e.shiftKey);case\"Backspace\":if(t){const e=t.split(\" \");e[0]===b&&3===e.length&&\"\"===e[2]&&s(\"\")}return}}),[o,h,b,f,x,_,I]);fr(Ss.CHAT_INPUT_CONTENT,(e=>{switch(e.chatMode){case Ss.WHISPER:return void s(`${b} ${e.userName} `);case Ss.SHOUT:return}}));const v=Object(c.useMemo)((()=>{let e=[];const t=p(\"chat.styles\");for(const s of t)s&&(s.minRank>0?F().hasSecurity(s.minRank)&&e.push(s.styleId):s.isSystemStyle&&F().hasSecurity(a.yg.MODERATOR)?e.push(s.styleId):p(\"chat.styles.disabled\").indexOf(s.styleId)>=0||(s.isHcOnly&&B()>=a.Xd.CLUB||s.isAmbassadorOnly&&F().isAmbassador?e.push(s.styleId):s.isHcOnly||s.isAmbassadorOnly||e.push(s.styleId)));return e}),[]);return Object(c.useEffect)((()=>(document.body.addEventListener(\"keydown\",C),()=>{document.body.removeEventListener(\"keydown\",C)})),[C]),Object(c.useEffect)((()=>{h.current&&(h.current.parentElement.dataset.value=t)}),[t]),he().isSpectator?null:Object(Tn.createPortal)(Object(an.jsxs)(\"div\",{className:\"nitro-chat-input-container\",children:[Object(an.jsxs)(\"div\",{className:\"input-sizer align-items-center\",children:[!o&&Object(an.jsx)(\"input\",{ref:h,type:\"text\",className:\"chat-input\",placeholder:We(\"widgets.chatinput.default\"),value:t,maxLength:O,onChange:e=>E(e.target.value),onMouseDown:e=>x()}),o&&Object(an.jsxs)(ur,{variant:\"danger\",children:[We(\"chat.input.alert.flood\",[\"time\"],[l.toString()]),\" \"]})]}),Object(an.jsx)(Nu,{chatStyleId:n,chatStyleIds:v,selectChatStyleId:r})]}),document.getElementById(\"toolbar-chat-input-container\"))},Su=e=>{const{chat:t=null,makeRoom:s=null,bubbleWidth:n=a.vg.CHAT_BUBBLE_WIDTH_NORMAL}=e,[r,i]=Object(c.useState)(!1),o=Object(c.useRef)(),l=Object(c.useMemo)((()=>{switch(n){case a.vg.CHAT_BUBBLE_WIDTH_NORMAL:return 350;case a.vg.CHAT_BUBBLE_WIDTH_THIN:return 240;case a.vg.CHAT_BUBBLE_WIDTH_WIDE:return 2e3}}),[n]);return Object(c.useEffect)((()=>{const e=o.current;if(!e)return;const n=e.offsetWidth,r=e.offsetHeight;t.width=n,t.height=r,t.elementRef=e;let c=t.left,i=t.top;return c||i||(c=t.location.x-n/2,i=e.parentElement.offsetHeight-r,t.left=c,t.top=i),t.visible||(s(t),t.visible=!0),()=>{t.elementRef=null}}),[o,t,s]),Object(c.useEffect)((()=>i(t.visible)),[t.visible]),Object(an.jsxs)(\"div\",{ref:o,className:\"bubble-container \"+(r?\"visible\":\"invisible\"),onClick:e=>C().selectRoomObject(t.roomId,t.senderId,a.Wg.UNIT),children:[0===t.styleId&&Object(an.jsx)(\"div\",{className:\"user-container-bg\",style:{backgroundColor:t.color}}),Object(an.jsxs)(\"div\",{className:`chat-bubble bubble-${t.styleId} type-${t.type}`,style:{maxWidth:l},children:[Object(an.jsx)(\"div\",{className:\"user-container\",children:t.imageUrl&&t.imageUrl.length>0&&Object(an.jsx)(\"div\",{className:\"user-image\",style:{backgroundImage:`url(${t.imageUrl})`}})}),Object(an.jsxs)(\"div\",{className:\"chat-content\",children:[Object(an.jsx)(\"b\",{className:\"username mr-1\",dangerouslySetInnerHTML:{__html:`${t.username}: `}}),Object(an.jsx)(\"span\",{className:\"message\",dangerouslySetInnerHTML:{__html:`${t.formattedText}`}})]}),Object(an.jsx)(\"div\",{className:\"pointer\"})]})]})};let wu=0;const Ru=e=>{const[t,s]=Object(c.useState)(wu++),{chatMessages:n=[],setChatMessages:r=null,chatSettings:i=null,getScrollSpeed:l=6e3,removeHiddenChats:d=null,moveAllChatsUp:u=null}=di(),j=Object(c.useRef)(),h=(e,t,s)=>{const r=n.length;if(r)for(let c=r-1;c>=0;c--){const r=n[c];if(!(!r||e===r||s.indexOf(r)>=0||r.top+r.height-t>e.top+e.height)&&(e.skipMovement=!0,Hs(e,r,-t,0))){const t=Math.abs(r.top+r.height-e.top);s.push(r),r.top-=t,r.skipMovement=!0,h(r,t,s)}}},b=e=>{if(i.mode===a.vg.CHAT_MODE_FREE_FLOW)e.skipMovement=!0,h(e,0,[e]),d();else{const t=e.top+e.height,s=e.height,r=j.current.offsetHeight-t,c=s-r;r<s&&(n.forEach((t=>{t!==e&&(t.top-=c)})),d())}};return Object(c.useEffect)((()=>{const e=function(){if(!j||!j.current)return;const e=j.current.offsetHeight,t=Math.round(document.body.offsetHeight*p(\"chat.viewer.height.percentage\"));j.current.style.height=`${t}px`,r((s=>(s&&s.forEach((s=>s.top-=e-t)),s)))};return window.addEventListener(\"resize\",e),e(),()=>{window.removeEventListener(\"resize\",e)}}),[r]),Object(c.useEffect)((()=>{const e={workerMessageReceived:e=>{\"MOVE_CHATS\"!==e.type||u(15)}};var s;return s=e,o().addWorkerEventTracker(s),Ce({type:\"CREATE_INTERVAL\",time:l,timerId:t,response:{type:\"MOVE_CHATS\"}}),()=>{Ce({type:\"REMOVE_INTERVAL\",timerId:t}),(e=>{o().removeWorkerEventTracker(e)})(e)}}),[t,l,u]),Object(an.jsx)(\"div\",{ref:j,className:\"nitro-chat-widget\",children:n.map((e=>Object(an.jsx)(Su,{chat:e,makeRoom:b,bubbleWidth:i.weight},e.id)))})},yu=e=>{const{title:t=null,items:s=[],selectItem:n=null,onClose:r=null}=e,[i,a]=Object(c.useState)(null),[o,l]=Object(c.useState)(\"\"),d=F().isModerator,u=Object(c.useMemo)((()=>{const e=o.toLocaleLowerCase();return s.filter((t=>t.name.toLocaleLowerCase().includes(e)))}),[s,o]),j=e=>{const t=u[e.index];return Object(an.jsx)(hn,{alignItems:\"center\",position:\"absolute\",className:\"rounded px-1\"+(i===t?\" bg-muted\":\"\"),pointer:!0,style:e.style,onClick:e=>a(t),children:Object(an.jsxs)(ur,{truncate:!0,children:[t.name,\" \",d&&\" - \"+t.id]})},e.key)};return Object(c.useEffect)((()=>{i&&n(i)}),[i,n]),Object(an.jsxs)(yn,{className:\"nitro-chooser-widget\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:t,onCloseClick:r}),Object(an.jsxs)(In,{overflow:\"hidden\",children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:We(\"generic.search\"),value:o,onChange:e=>l(e.target.value)}),Object(an.jsx)(Fn,{fullHeight:!0,overflow:\"auto\",children:Object(an.jsx)(Ja.a,{defaultWidth:0,defaultHeight:0,children:e=>{let{width:t,height:s}=e;return Object(an.jsx)(Ja.d,{width:t,height:s,rowCount:u.length,rowHeight:20,rowRenderer:j})}})})]})]})},ku=e=>{const{items:t=null,onClose:s=null,selectItem:n=null,populateChooser:r=null}=hi();return Object(c.useEffect)((()=>{const e={linkReceived:e=>{e.split(\"/\");r()},eventUrlPrefix:\"furni-chooser/\"};return l(e),()=>E(e)}),[r]),t?Object(an.jsx)(yu,{title:We(\"widget.chooser.furni.title\"),items:t,selectItem:n,onClose:s}):null},Au=e=>{const{items:t=null,onClose:s=null,selectItem:n=null,populateChooser:r=null}=gi();return Object(c.useEffect)((()=>{const e={linkReceived:e=>{e.split(\"/\");r()},eventUrlPrefix:\"user-chooser/\"};return l(e),()=>E(e)}),[r]),t?Object(an.jsx)(yu,{title:We(\"widget.chooser.user.title\"),items:t,selectItem:n,onClose:s}):null},Du=e=>{const[t,s]=Object(c.useState)(!1),{users:n=[],answer:r=null}=ui();return Object(c.useEffect)((()=>{s(!!n.length)}),[n]),t?Object(an.jsxs)(yn,{className:\"nitro-widget-doorbell\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"navigator.doorbell.title\"),onCloseClick:e=>s(!1)}),Object(an.jsxs)(In,{overflow:\"hidden\",gap:0,children:[Object(an.jsx)(Fn,{gap:2,children:Object(an.jsxs)(un,{gap:1,className:\"text-black fw-bold border-bottom px-1 pb-1\",children:[Object(an.jsx)(on,{className:\"g-col-6\",children:We(\"generic.username\")}),Object(an.jsx)(on,{className:\"g-col-6\"})]})}),Object(an.jsx)(Fn,{overflow:\"auto\",className:\"striped-children\",gap:0,children:n&&n.length>0&&n.map((e=>Object(an.jsxs)(un,{gap:1,alignItems:\"center\",className:\"text-black border-bottom p-1\",children:[Object(an.jsx)(on,{className:\"g-col-6\",children:e}),Object(an.jsx)(on,{className:\"g-col-6\",children:Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object(an.jsx)(bn,{variant:\"success\",onClick:()=>r(e,!0),children:We(\"generic.accept\")}),Object(an.jsx)(bn,{variant:\"danger\",onClick:()=>r(e,!1),children:We(\"generic.deny\")})]})})]},e)))})]})]}):null},Lu=e=>{const{objectId:t=-1,category:s=-1,noFollow:n=!1,position:r=\"absolute\",...i}=e,[a,l]=Object(c.useState)({x:-1,y:-1}),d=Object(c.useRef)();return Object(c.useEffect)((()=>{let e=!1;const r=()=>{const e=(()=>{const e=he();return fe(e.roomId,t,s,1)})();e&&d.current&&l({x:Math.round(e.left+e.width/2-d.current.offsetWidth/2),y:Math.round(e.top-d.current.offsetHeight+10)})};return n?r():(e=!0,o().ticker.add(r)),()=>{e&&o().ticker.remove(r)}}),[t,s,n]),Object(an.jsx)(on,{innerRef:d,position:r,visible:a.x+(d.current?d.current.offsetWidth:0)>-1,className:\"object-location\",style:{left:a.x,top:a.y},...i})},Pu=e=>{const{roomIndex:t=-1,request:s=null,hideFriendRequest:n=null,requestResponse:r=null}=e;return Object(an.jsx)(Lu,{objectId:t,category:a.Wg.UNIT,children:Object(an.jsx)(on,{className:\"nitro-friend-request-dialog nitro-context-menu p-2\",children:Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:2,children:[Object(an.jsx)(ur,{variant:\"white\",fontSize:6,children:We(\"widget.friendrequest.from\",[\"username\"],[s.name])}),Object(an.jsx)(fn.a,{icon:\"times\",className:\"cursor-pointer\",onClick:e=>n(s.requesterUserId)})]}),Object(an.jsxs)(hn,{justifyContent:\"end\",gap:1,children:[Object(an.jsx)(bn,{variant:\"danger\",onClick:e=>r(s.requesterUserId,!1),children:We(\"widget.friendrequest.decline\")}),Object(an.jsx)(bn,{variant:\"success\",onClick:e=>r(s.requesterUserId,!0),children:We(\"widget.friendrequest.accept\")})]})]})})})},Uu=e=>{const{displayedRequests:t=[],hideFriendRequest:s=null}=ji(),{requestResponse:n=null}=ec();return t.length?Object(an.jsx)(an.Fragment,{children:t.map(((e,t)=>Object(an.jsx)(Pu,{roomIndex:e.roomIndex,request:e.request,hideFriendRequest:s,requestResponse:n},t)))}):null},Mu=e=>{const{objectId:t=-1,onClose:s=null}=e,{roomSession:n=null}=Ac();return Object(an.jsxs)(yn,{className:\"nitro-use-product-confirmation\",children:[Object(an.jsx)(vn,{headerText:We(\"effectbox.header.title\"),onCloseClick:s}),Object(an.jsx)(In,{center:!0,children:Object(an.jsx)(hn,{gap:2,children:Object(an.jsxs)(Fn,{justifyContent:\"between\",children:[Object(an.jsx)(ur,{children:We(\"effectbox.header.description\")}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"danger\",onClick:s,children:We(\"generic.cancel\")}),Object(an.jsx)(bn,{variant:\"success\",onClick:()=>{n.useMultistateItem(t),s()},children:We(\"generic.ok\")})]})]})})})]})},Fu=e=>{const{objectId:t=-1,onClose:s=null}=e,[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(-1),{roomSession:l=null}=Ac();return Object(c.useEffect)((()=>{if(!l||-1===t)return;const e=de(l.roomId,t,a.Wg.FLOOR);if(!e)return;r(e);let n=-1;if(e.specialType===Je.MONSTERPLANT_SEED)n=0;-1!==n?o(n):s()}),[l,t,s]),-1===i?null:Object(an.jsxs)(yn,{className:\"nitro-use-product-confirmation\",children:[Object(an.jsx)(vn,{headerText:We(\"useproduct.widget.title.plant_seed\",[\"name\"],[n.name]),onCloseClick:s}),Object(an.jsx)(In,{center:!0,children:Object(an.jsxs)(hn,{gap:2,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{children:Object(an.jsx)(on,{className:\"product-preview\",children:Object(an.jsx)(on,{className:\"monsterplant-image\"})})}),Object(an.jsxs)(Fn,{justifyContent:\"between\",overflow:\"auto\",children:[Object(an.jsxs)(Fn,{gap:2,children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.plant_seed\",[\"productName\"],[n.name])}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.plant_seed\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"danger\",onClick:s,children:We(\"useproduct.widget.cancel\")}),Object(an.jsx)(bn,{variant:\"success\",onClick:()=>{l.useMultistateItem(t),s()},children:We(\"widget.monsterplant_seed.button.use\")})]})]})]})})]})},Bu=e=>{const{objectId:t=-1,onClose:s=null}=e,[n,r]=Object(c.useState)(-1),[i,o]=Object(c.useState)(ye.MALE),[l,u]=Object(c.useState)(null),{roomSession:j=null}=Ac();return Object(c.useEffect)((()=>{let e=-1;const n=F().figure,c=F().gender,i=[];if(j&&t>=0){const s=de(j.roomId,t,a.Wg.FLOOR);if(s&&s.specialType===Je.FIGURE_PURCHASABLE_SET){e=0;const t=s.customParams.split(\",\").map((e=>parseInt(e)));for(const e of t)d().isValidFigureSetForGender(e,c)&&i.push(e)}}-1!==e?(o(c),u(d().getFigureStringWithFigureIds(n,c,i)),r(e)):s()}),[j,t,s]),-1===n?null:Object(an.jsxs)(yn,{className:\"nitro-use-product-confirmation\",children:[Object(an.jsx)(vn,{headerText:We(\"useproduct.widget.title.bind_clothing\"),onCloseClick:s}),Object(an.jsx)(In,{center:!0,children:Object(an.jsxs)(hn,{gap:2,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{children:Object(an.jsx)(on,{className:\"mannequin-preview\",children:Object(an.jsx)(kn,{figure:l,direction:2})})}),Object(an.jsxs)(Fn,{justifyContent:\"between\",overflow:\"auto\",children:[Object(an.jsxs)(Fn,{gap:2,children:[Object(an.jsx)(ur,{children:We(\"useproduct.widget.text.bind_clothing\")}),Object(an.jsx)(ur,{children:We(\"useproduct.widget.info.bind_clothing\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(bn,{variant:\"danger\",onClick:s,children:We(\"useproduct.widget.cancel\")}),Object(an.jsx)(bn,{variant:\"success\",onClick:()=>{f().send(new a.ag(t)),f().send(new a.Ti(i,l)),s()},children:We(\"useproduct.widget.bind_clothing\")})]})]})]})})]})},Hu=e=>{const{closeConfirm:t=null,processAction:s=null,onClose:n=null,objectId:r=-1,mode:c=null,confirmMode:i=null,confirmingObjectId:o=-1,groupData:l=null,isGroupMember:d=!1}=Mc();return Object(an.jsxs)(an.Fragment,{children:[\"MONSTERPLANT_SEED_CONFIRMATION\"===i&&Object(an.jsx)(Fu,{objectId:o,onClose:t}),\"PURCHASABLE_CLOTHING_CONFIRMATION\"===i&&Object(an.jsx)(Bu,{objectId:o,onClose:t}),\"EFFECTBOX_OPEN\"===i&&Object(an.jsx)(Mu,{objectId:o,onClose:t}),r>=0&&c&&Object(an.jsxs)(au,{objectId:r,category:a.Wg.FLOOR,onClose:n,fades:!0,children:[c===a.wb.FRIEND_FURNITURE&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Qd,{children:We(\"friendfurni.context.title\")}),Object(an.jsx)(eu,{onClick:e=>s(\"use_friend_furni\"),children:We(\"friendfurni.context.use\")})]}),c===a.wb.MONSTERPLANT_SEED&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Qd,{children:We(\"furni.mnstr_seed.name\")}),Object(an.jsx)(eu,{onClick:e=>s(\"use_monsterplant_seed\"),children:We(\"widget.monsterplant_seed.button.use\")})]}),c===a.wb.RANDOM_TELEPORT&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Qd,{children:We(\"furni.random_teleport.name\")}),Object(an.jsx)(eu,{onClick:e=>s(\"use_random_teleport\"),children:We(\"widget.random_teleport.button.use\")})]}),c===a.wb.PURCHASABLE_CLOTHING&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Qd,{children:We(\"furni.generic_usable.name\")}),Object(an.jsx)(eu,{onClick:e=>s(\"use_purchaseable_clothing\"),children:We(\"widget.generic_usable.button.use\")})]}),\"GROUP_FURNITURE\"===c&&l&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Qd,{className:\"cursor-pointer text-truncate\",onClick:()=>Qt(l.guildId),children:l.guildName}),!d&&Object(an.jsx)(eu,{onClick:e=>s(\"join_group\"),children:We(\"widget.furniture.button.join.group\")}),Object(an.jsx)(eu,{onClick:e=>s(\"go_to_group_homeroom\"),children:We(\"widget.furniture.button.go.to.group.home.room\")}),l.guildHasReadableForum&&Object(an.jsx)(eu,{onClick:e=>s(\"open_forum\"),children:We(\"widget.furniture.button.open_group_forum\")})]})]})]})},Gu=e=>{const{objectId:t=-1,hue:s=0,setHue:n=null,saturation:r=0,setSaturation:c=null,lightness:i=0,setLightness:a=null,applyToner:o=null,toggleToner:l=null,onClose:d=null}=Dc();return-1===t?null:Object(an.jsxs)(yn,{theme:\"primary-slim\",className:\"nitro-room-widget-toner\",children:[Object(an.jsx)(vn,{headerText:We(\"widget.backgroundcolor.title\"),onCloseClick:d}),Object(an.jsxs)(In,{overflow:\"hidden\",justifyContent:\"between\",children:[Object(an.jsxs)(Fn,{overflow:\"auto\",gap:1,children:[Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{bold:!0,children:We(\"widget.backgroundcolor.hue\")}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:0,max:360,value:s,onChange:e=>n(e),thumbClassName:\"thumb degree\",renderThumb:(e,t)=>Object(an.jsx)(\"div\",{...e,children:t.valueNow})})]}),Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{bold:!0,children:We(\"widget.backgroundcolor.saturation\")}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:0,max:100,value:r,onChange:e=>c(e),thumbClassName:\"thumb percent\",renderThumb:(e,t)=>Object(an.jsx)(\"div\",{...e,children:t.valueNow})})]}),Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{bold:!0,children:We(\"widget.backgroundcolor.lightness\")}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:0,max:100,value:i,onChange:e=>a(e),thumbClassName:\"thumb percent\",renderThumb:(e,t)=>Object(an.jsx)(\"div\",{...e,children:t.valueNow})})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"primary\",onClick:l,children:We(\"widget.backgroundcolor.button.on\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"primary\",onClick:o,children:We(\"widget.backgroundcolor.button.apply\")})]})]})]})},Wu=e=>{const{objectId:t=-1,color:s=\"1\",badgeName:n=\"\",badgeDesc:r=\"\",date:c=\"\",senderName:i=\"\",onClose:a=null}=Lc();return-1===t?null:Object(an.jsx)(cr,{color:s,message:r,date:c,senderName:i,customTitle:n,onCloseClick:a})},Vu=e=>{const[t,s]=Object(c.useState)(!1),{presets:n=[],dimmerState:r=0,selectedPresetId:i=0,color:o=16777215,brightness:l=255,effectId:d=0,selectedColor:u=0,setSelectedColor:j=null,selectedBrightness:h=0,setSelectedBrightness:b=null,selectedEffectId:g=0,setSelectedEffectId:m=null,selectPresetId:O=null,applyChanges:f}=Fc();mr(a.Ig.REMOVE_DIMMER,(e=>s(!1))),Object(c.useEffect)((()=>{n&&n.length&&s(!0)}),[n]);const x=Object(c.useMemo)((()=>p(\"widget.dimmer.colorwheel\",!1)),[]);return t?Object(an.jsxs)(yn,{className:\"nitro-room-widget-dimmer\",children:[Object(an.jsx)(vn,{headerText:We(\"widget.dimmer.title\"),onCloseClick:()=>{Gs.previewDimmer(o,l,2===d),s(!1)}}),1===r&&Object(an.jsx)(or,{children:n.map((e=>Object(an.jsx)(ar,{isActive:i===e.id,onClick:t=>O(e.id),children:We(`widget.dimmer.tab.${e.id}`)},e.id)))}),Object(an.jsxs)(In,{children:[0===r&&Object(an.jsxs)(Fn,{alignItems:\"center\",children:[Object(an.jsx)(on,{className:\"dimmer-banner\"}),Object(an.jsx)(ur,{center:!0,className:\"bg-muted rounded p-1\",children:We(\"widget.dimmer.info.off\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:()=>Gs.changeState(),children:We(\"widget.dimmer.button.on\")})]}),1===r&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontWeight:\"bold\",children:We(\"widget.backgroundcolor.hue\")}),x&&Object(an.jsx)(\"input\",{type:\"color\",className:\"form-control\",value:Pe.makeColorNumberHex(u),onChange:e=>j(Pe.convertFromHex(e.target.value))}),!x&&Object(an.jsx)(un,{gap:1,columnCount:7,children:Gs.AVAILABLE_COLORS.map(((e,t)=>Object(an.jsx)(Fn,{fullWidth:!0,pointer:!0,className:\"color-swatch rounded\"+Xi()({\" active\":e===u}),onClick:()=>j(e),style:{backgroundColor:Gs.HTML_COLORS[t]}},t)))})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{fontWeight:\"bold\",children:We(\"widget.backgroundcolor.lightness\")}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:Gs.MIN_BRIGHTNESS,max:Gs.MAX_BRIGHTNESS,value:h,onChange:e=>b(e),thumbClassName:\"thumb percent\",renderThumb:(e,t)=>Object(an.jsx)(\"div\",{...e,children:Gs.scaleBrightness(t.valueNow)})})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:2===g,onChange:e=>m(e.target.checked?2:1)}),Object(an.jsx)(ur,{children:We(\"widget.dimmer.type.checkbox\")})]}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"danger\",onClick:()=>Gs.changeState(),children:We(\"widget.dimmer.button.off\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:f,children:We(\"widget.dimmer.button.apply\")})]})]})]})]}):null},qu=e=>{const{objectId:t=-1,value:s=0,onClose:n=null,redeem:r=null}=Bc();return-1===t?null:Object(an.jsxs)(yn,{className:\"nitro-widget-exchange-credit\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"catalog.redeem.dialog.title\"),onCloseClick:n}),Object(an.jsx)(In,{center:!0,children:Object(an.jsxs)(hn,{overflow:\"hidden\",gap:2,children:[Object(an.jsx)(Fn,{center:!0,children:Object(an.jsx)(on,{className:\"exchange-image\"})}),Object(an.jsxs)(Fn,{grow:!0,justifyContent:\"between\",overflow:\"hidden\",children:[Object(an.jsxs)(Fn,{gap:1,overflow:\"auto\",children:[Object(an.jsx)(ur,{fontWeight:\"bold\",children:We(\"creditfurni.description\",[\"credits\"],[s.toString()])}),Object(an.jsx)(ur,{children:We(\"creditfurni.prompt\")})]}),Object(an.jsx)(bn,{variant:\"success\",onClick:r,children:We(\"catalog.redeem.dialog.button.exchange\")})]})]})})]})},zu=e=>{const{objectId:t=-1,photoData:s=null,onClose:n=null}=Hc();return-1!==t&&s?Object(an.jsxs)(yn,{className:\"nitro-external-image-widget\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:\"\",onCloseClick:n}),Object(an.jsxs)(In,{children:[Object(an.jsx)(hn,{center:!0,className:\"picture-preview border border-black\",style:s.w?{backgroundImage:\"url(\"+s.w+\")\"}:{},children:!s.w&&Object(an.jsx)(ur,{bold:!0,children:We(\"camera.loading\")})}),s.m&&s.m.length&&Object(an.jsx)(ur,{center:!0,children:s.m}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(ur,{children:s.n||\"\"}),Object(an.jsx)(ur,{children:new Date(1e3*s.t).toLocaleDateString()})]})]})]}):null},Yu=e=>{const{objectId:t=-1,type:s=0,stage:n=0,usernames:r=[],figures:c=[],date:i=null,onClose:a=null,respond:o=null}=Gc();return-1===t?null:n>0?Object(an.jsxs)(yn,{className:\"nitro-engraving-lock\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"friend.furniture.confirm.lock.caption\"),onCloseClick:a}),Object(an.jsxs)(In,{children:[Object(an.jsx)(\"h5\",{className:\"text-black text-center fw-bold mt-2 mb-2\",children:We(\"friend.furniture.confirm.lock.subtitle\")}),Object(an.jsx)(\"div\",{className:\"d-flex justify-content-center mb-2\",children:Object(an.jsx)(\"div\",{className:`engraving-lock-stage-${n}`})}),2===n&&Object(an.jsx)(\"div\",{className:\"text-small text-black text-center mb-2\",children:We(\"friend.furniture.confirm.lock.other.locked\")}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,onClick:e=>o(!1),children:We(\"friend.furniture.confirm.lock.button.cancel\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:e=>o(!0),children:We(\"friend.furniture.confirm.lock.button.confirm\")})]})]})]}):r.length>0?Object(an.jsx)(Rn,{handleSelector:\".nitro-engraving-lock-view\",children:Object(an.jsxs)(\"div\",{className:`nitro-engraving-lock-view engraving-lock-${s}`,children:[Object(an.jsx)(\"div\",{className:\"engraving-lock-close\",onClick:a}),Object(an.jsxs)(hn,{justifyContent:\"center\",children:[Object(an.jsx)(\"div\",{className:\"engraving-lock-avatar\",children:Object(an.jsx)(kn,{figure:c[0],direction:2})}),Object(an.jsx)(\"div\",{className:\"engraving-lock-avatar\",children:Object(an.jsx)(kn,{figure:c[1],direction:4})})]}),Object(an.jsxs)(Fn,{justifyContent:\"between\",className:\"mt-1\",children:[Object(an.jsxs)(Fn,{alignItems:\"center\",justifyContent:\"center\",gap:1,children:[Object(an.jsxs)(\"div\",{children:[0===s&&We(\"lovelock.engraving.caption\"),3===s&&We(\"wildwest.engraving.caption\")]}),Object(an.jsx)(\"div\",{children:i})]}),Object(an.jsxs)(hn,{justifyContent:\"center\",gap:4,children:[Object(an.jsx)(\"div\",{children:r[0]}),Object(an.jsx)(\"div\",{children:r[1]})]})]})]})}):void 0},$u=e=>{const{objectId:t=-1,classId:s=-1,itemType:n=null,text:r=null,isOwnerOfFurniture:c=!1,senderName:i=null,senderFigure:a=null,placedItemId:o=-1,placedItemType:l=null,placedInRoom:d=!1,imageUrl:u=null,openPresent:j=null,onClose:h=null}=Xc(),{groupItems:b=[]}=mc();if(-1===t)return null;return Object(an.jsxs)(yn,{className:\"nitro-gift-opening\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(i?\"widget.furni.present.window.title_from\":\"widget.furni.present.window.title\",[\"name\"],[i]),onCloseClick:h}),Object(an.jsxs)(In,{children:[-1===o&&Object(an.jsxs)(Fn,{overflow:\"hidden\",children:[Object(an.jsx)(hn,{center:!0,overflow:\"auto\",children:Object(an.jsx)(Mn,{userName:i,figure:a,message:r})}),c&&Object(an.jsxs)(hn,{gap:1,children:[i&&Object(an.jsx)(bn,{fullWidth:!0,onClick:e=>m(\"catalog/open\"),children:We(\"widget.furni.present.give_gift\",[\"name\"],[i])}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:j,children:We(\"widget.furni.present.open_gift\")})]})]}),o>-1&&Object(an.jsxs)(hn,{gap:2,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{center:!0,className:\"p-2\",children:Object(an.jsx)(qn,{imageUrl:u})}),Object(an.jsxs)(Fn,{grow:!0,children:[Object(an.jsxs)(Fn,{center:!0,gap:1,children:[Object(an.jsx)(ur,{wrap:!0,small:!0,children:We(\"widget.furni.present.message_opened\")}),Object(an.jsx)(ur,{bold:!0,fontSize:5,children:r})]}),Object(an.jsxs)(Fn,{grow:!0,gap:1,children:[Object(an.jsxs)(hn,{gap:1,children:[d&&Object(an.jsx)(bn,{fullWidth:!0,onClick:null,children:We(\"widget.furni.present.put_in_inventory\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:e=>(e=>{const t=b.find((t=>{var s;return(null===(s=t.getItemById(e))||void 0===s?void 0:s.id)===e}));t&&dt(t),h()})(o),children:We(d?\"widget.furni.present.keep_in_room\":\"widget.furni.present.place_in_room\")})]}),i&&i.length&&Object(an.jsx)(bn,{fullWidth:!0,onClick:e=>m(\"catalog/open\"),children:We(\"widget.furni.present.give_gift\",[\"name\"],[i])})]})]})]})]})]})},Ku=e=>{const{stuffDatas:t=null,getScoreType:s=null,getClearType:n=null}=qc();return t&&t.size?Object(an.jsx)(an.Fragment,{children:Array.from(t.entries()).map(((e,t)=>{let[r,c]=e;return Object(an.jsx)(Lu,{objectId:r,category:a.Wg.FLOOR,children:Object(an.jsxs)(Fn,{className:\"nitro-widget-high-score nitro-context-menu\",gap:0,children:[Object(an.jsx)(Qd,{children:We(\"high.score.display.caption\",[\"scoretype\",\"cleartype\"],[We(`high.score.display.scoretype.${s(c.scoreType)}`),We(`high.score.display.cleartype.${n(c.clearType)}`)])}),Object(an.jsxs)(Ou,{overflow:\"hidden\",gap:1,className:\"h-100\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",children:[Object(an.jsx)(ur,{center:!0,bold:!0,variant:\"white\",className:\"col-8\",children:We(\"high.score.display.users.header\")}),Object(an.jsx)(ur,{center:!0,bold:!0,variant:\"white\",className:\"col-4\",children:We(\"high.score.display.score.header\")})]}),Object(an.jsx)(\"hr\",{className:\"m-0\"})]}),Object(an.jsx)(Fn,{overflow:\"auto\",gap:1,className:\"overflow-y-scroll\",children:c.entries.map(((e,t)=>Object(an.jsxs)(hn,{alignItems:\"center\",children:[Object(an.jsx)(ur,{center:!0,variant:\"white\",className:\"col-8\",children:e.users.join(\", \")}),Object(an.jsx)(ur,{center:!0,variant:\"white\",className:\"col-4\",children:e.score})]},t)))})]})]})},t)}))}):null},Xu=e=>{const{}=zc();return null},Qu=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)(-1),{objectId:i=-1,figure:o=null,gender:l=null,clubLevel:u=a.Xd.NO_CLUB,name:j=null,setName:h=null,saveFigure:b=null,wearFigure:g=null,saveName:m=null,onClose:O=null}=Yc();return Object(c.useEffect)((()=>{if(-1===i)return;const e=he();e.isRoomOwner||e.controllerLevel>=a.yg.GUEST||F().isModerator?r(0):F().gender.toLowerCase()===l.toLowerCase()?B()<u?r(3):r(2):r(4)}),[i,l,u]),Object(c.useEffect)((()=>{switch(n){case 0:case 4:{const e=d().createFigureContainer(o);Ws.transformAsMannequinFigure(e),s(e.getFigureString());break}case 1:{const e=d().createFigureContainer(F().figure);Ws.transformAsMannequinFigure(e),s(e.getFigureString());break}case 2:case 3:{const e=Ws.getMergedMannequinFigureContainer(F().figure,o);s(e.getFigureString());break}}}),[n,o,u]),-1===i?null:Object(an.jsxs)(yn,{className:\"nitro-mannequin no-resize\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"mannequin.widget.title\"),onCloseClick:O}),Object(an.jsx)(In,{center:!0,children:Object(an.jsxs)(hn,{fullWidth:!0,gap:2,overflow:\"hidden\",children:[Object(an.jsx)(Fn,{children:Object(an.jsxs)(on,{position:\"relative\",className:\"mannequin-preview\",children:[Object(an.jsx)(kn,{position:\"absolute\",figure:t,direction:2}),u>0&&Object(an.jsx)(Pn,{className:\"position-absolute end-2 bottom-2\",type:\"hc\"})]})}),Object(an.jsxs)(Fn,{grow:!0,justifyContent:\"between\",overflow:\"auto\",children:[0===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:j,onChange:e=>h(e.target.value),onBlur:m}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(bn,{variant:\"success\",onClick:e=>r(1),children:We(\"mannequin.widget.style\")}),Object(an.jsx)(bn,{variant:\"success\",onClick:g,children:We(\"mannequin.widget.wear\")})]})]}),1===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:j}),Object(an.jsx)(ur,{wrap:!0,children:We(\"mannequin.widget.savetext\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",children:[Object(an.jsx)(ur,{underline:!0,pointer:!0,onClick:e=>r(0),children:We(\"mannequin.widget.back\")}),Object(an.jsx)(bn,{variant:\"success\",onClick:b,children:We(\"mannequin.widget.save\")})]})]}),2===n&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:j}),Object(an.jsx)(ur,{children:We(\"mannequin.widget.weartext\")})]}),Object(an.jsx)(bn,{variant:\"success\",onClick:g,children:We(\"mannequin.widget.wear\")})]}),3===n&&Object(an.jsx)(hn,{center:!0,grow:!0,children:Object(an.jsx)(ur,{children:We(\"mannequin.widget.clubnotification\")})}),4===n&&Object(an.jsx)(ur,{children:We(\"mannequin.widget.wronggender\")})]})]})})]})},Ju=e=>{const{}=Qc();return null},Zu=[\"9CCEFF\",\"FF9CFF\",\"9CFF9C\",\"FFFF33\"],ej=[\"blue\",\"pink\",\"green\",\"yellow\"],tj=e=>{let t=Zu.indexOf(e);return-1===t&&(t=0),ej[t]},sj=e=>{const{objectId:t=-1,color:s=\"0\",setColor:n=null,text:r=\"\",setText:c=null,canModify:i=!1,onClose:a=null}=Jc();return-1===t?null:Object(an.jsx)(Rn,{handleSelector:\".drag-handler\",windowPosition:Sn.TOP_LEFT,children:Object(an.jsxs)(\"div\",{className:\"nitro-stickie nitro-stickie-image stickie-\"+tj(s),children:[Object(an.jsxs)(\"div\",{className:\"d-flex align-items-center stickie-header drag-handler\",children:[Object(an.jsx)(\"div\",{className:\"d-flex align-items-center flex-grow-1 h-100\",children:i&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"div\",{className:\"nitro-stickie-image stickie-trash header-trash\",onClick:a}),Zu.map((e=>Object(an.jsx)(\"div\",{className:\"stickie-color ms-1\",onClick:t=>n(e),style:{backgroundColor:Pe.makeColorHex(e)}},e)))]})}),Object(an.jsx)(\"div\",{className:\"d-flex align-items-center nitro-stickie-image stickie-close header-close\",onClick:a})]}),Object(an.jsx)(\"div\",{className:\"stickie-context\",children:Object(an.jsx)(\"textarea\",{className:\"context-text\",value:r,onChange:e=>c(e.target.value),tabIndex:0,autoFocus:!0})})]})})},nj=e=>{const{objectId:t=-1,height:s=0,maxHeight:n=40,onClose:r=null,updateHeight:i=null}=Zc(),[o,l]=Object(c.useState)(\"\");return Object(c.useEffect)((()=>{l(s.toString())}),[s]),-1===t?null:Object(an.jsxs)(yn,{className:\"nitro-widget-custom-stack-height\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"widget.custom.stack.height.title\"),onCloseClick:r}),Object(an.jsxs)(In,{justifyContent:\"between\",children:[Object(an.jsx)(ur,{children:We(\"widget.custom.stack.height.text\")}),Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:0,max:n,step:.01,value:s,onChange:e=>i(e),renderThumb:(e,t)=>Object(an.jsx)(\"div\",{...e,children:t.valueNow})}),Object(an.jsx)(\"input\",{className:\"show-number-arrows\",style:{width:50},type:\"number\",min:0,max:n,value:o,onChange:e=>(e=>{l(e);const t=parseFloat(e);isNaN(t)||t===s||i(t)})(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(bn,{onClick:e=>Ee(new a.nc(t,-100)),children:We(\"furniture.above.stack\")}),Object(an.jsx)(bn,{onClick:e=>Ee(new a.nc(t,0)),children:We(\"furniture.floor.level\")})]})]})]})},rj=[\"9CCEFF\",\"FF9CFF\",\"9CFF9C\",\"FFFF33\"],cj=[\"blue\",\"pink\",\"green\",\"yellow\"],ij=[\"post_it\",\"post_it_shakesp\",\"post_it_dreams\",\"post_it_xmas\",\"post_it_vd\",\"post_it_juninas\"],aj=[\"post_it\",\"shakesp\",\"dreams\",\"christmas\",\"heart\",\"juninas\"],oj=e=>{let t=rj.indexOf(e);return-1===t&&(t=0),cj[t]},lj=e=>{let t=ij.indexOf(e);return-1===t&&(t=0),aj[t]},dj=e=>{const{objectId:t=-1,color:s=\"0\",text:n=\"\",type:r=\"\",canModify:i=!1,updateColor:a=null,updateText:o=null,trash:l=null,onClose:d=null}=ei(),[u,j]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{j(!1)}),[t,s,n,r]),-1===t?null:Object(an.jsx)(Rn,{handleSelector:\".drag-handler\",windowPosition:Sn.TOP_LEFT,children:Object(an.jsxs)(\"div\",{className:\"nitro-stickie nitro-stickie-image stickie-\"+(\"post_it\"==r?oj(s):lj(r)),children:[Object(an.jsxs)(\"div\",{className:\"d-flex align-items-center stickie-header drag-handler\",children:[Object(an.jsx)(\"div\",{className:\"d-flex align-items-center flex-grow-1 h-100\",children:i&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"div\",{className:\"nitro-stickie-image stickie-trash header-trash\",onClick:l}),\"post_it\"==r&&Object(an.jsx)(an.Fragment,{children:rj.map((e=>Object(an.jsx)(\"div\",{className:\"stickie-color ms-1\",onClick:t=>a(e),style:{backgroundColor:Pe.makeColorHex(e)}},e)))})]})}),Object(an.jsx)(\"div\",{className:\"d-flex align-items-center nitro-stickie-image stickie-close header-close\",onClick:d})]}),Object(an.jsx)(\"div\",{className:\"stickie-context\",children:u&&i?Object(an.jsx)(\"textarea\",{className:\"context-text\",defaultValue:n,tabIndex:0,onBlur:e=>o(e.target.value),autoFocus:!0}):Object(an.jsx)(\"div\",{className:\"context-text\",onClick:e=>i&&j(!0),children:n})})]})})},uj=e=>{const{objectId:t=-1,color:s=\"1\",senderName:n=\"\",date:r=\"\",message:c=\"\",onClose:i=null}=ti();return-1===t?null:Object(an.jsx)(cr,{color:s,message:c,date:r,senderName:n,onCloseClick:i})};var jj=s(83);const hj=e=>{const[t,s]=Object(c.useState)(null),{objectId:n=-1,videoId:r=null,videoStart:i=0,videoEnd:a=0,currentVideoState:o=null,selectedVideo:l=null,playlists:d=[],onClose:u=null,previous:j=null,next:h=null,pause:b=null,play:g=null,selectVideo:m=null}=si(),O=Object(c.useCallback)((e=>{if(s(e.target),-1!==n)switch(e.target.getPlayerState()){case-1:case 1:return void(1!==o&&g());case 2:2!==o&&b()}}),[n,o,g,b]);if(Object(c.useEffect)((()=>{null!==o&&t&&(o!==Ks.PLAYING||t.getPlayerState()===Ks.PLAYING?o!==Ks.PAUSED||t.getPlayerState()===Ks.PAUSED||t.pauseVideo():t.playVideo())}),[o,t]),-1===n)return null;const p={height:\"375\",width:\"500\",playerVars:{autoplay:1,disablekb:1,controls:0,origin:window.origin,modestbranding:1,start:i,end:a}};return Object(an.jsxs)(yn,{className:\"youtube-tv-widget\",children:[Object(an.jsx)(vn,{headerText:\"\",onCloseClick:u}),Object(an.jsx)(In,{children:Object(an.jsxs)(\"div\",{className:\"row w-100 h-100\",children:[Object(an.jsxs)(\"div\",{className:\"youtube-video-container col-9\",children:[r&&r.length>0&&Object(an.jsx)(jj.a,{videoId:r,opts:p,onReady:e=>s(e.target),onStateChange:O,containerClassName:\"youtubeContainer\"}),(!r||0===r.length)&&Object(an.jsx)(\"div\",{className:\"empty-video w-100 h-100 justify-content-center align-items-center d-flex\",children:We(\"widget.furni.video_viewer.no_videos\")})]}),Object(an.jsxs)(\"div\",{className:\"playlist-container col-3\",children:[Object(an.jsxs)(\"span\",{className:\"playlist-controls justify-content-center d-flex\",children:[Object(an.jsx)(\"i\",{className:\"icon icon-youtube-prev cursor-pointer\",onClick:j}),Object(an.jsx)(\"i\",{className:\"icon icon-youtube-next cursor-pointer\",onClick:h})]}),Object(an.jsx)(\"div\",{className:\"mb-1\",children:We(\"widget.furni.video_viewer.playlists\")}),Object(an.jsx)(un,{columnCount:1,className:\"playlist-grid\",children:d&&d.map(((e,t)=>Object(an.jsxs)(Vn,{onClick:t=>m(e.video),itemActive:e.video===l,children:[Object(an.jsx)(\"b\",{children:e.title}),\" - \",e.description]},t)))})]})]})})]})},bj=e=>Object(an.jsxs)(on,{fit:!0,position:\"absolute\",className:\"nitro-room-widgets top-0 start-0\",children:[Object(an.jsx)(Gu,{}),Object(an.jsx)(Wu,{}),Object(an.jsx)(Vu,{}),Object(an.jsx)(qu,{}),Object(an.jsx)(zu,{}),Object(an.jsx)(Yu,{}),Object(an.jsx)($u,{}),Object(an.jsx)(Ku,{}),Object(an.jsx)(Xu,{}),Object(an.jsx)(Qu,{}),Object(an.jsx)(Ju,{}),Object(an.jsx)(sj,{}),Object(an.jsx)(nj,{}),Object(an.jsx)(dj,{}),Object(an.jsx)(uj,{}),Object(an.jsx)(Hu,{}),Object(an.jsx)(hj,{})]}),gj=e=>{const[t,s]=Object(c.useState)(!1),{roomSession:n=null}=Ac(),r=Object(c.useCallback)((e=>{switch(e.type){case Pr.SHOW_THUMBNAIL:return void s(!0);case Pr.HIDE_THUMBNAIL:return void s(!1);case Pr.TOGGLE_THUMBNAIL:return void s((e=>!e))}}),[]);fr(Pr.SHOW_THUMBNAIL,r),fr(Pr.HIDE_THUMBNAIL,r),fr(Pr.TOGGLE_THUMBNAIL,r);const i=Object(c.useCallback)((e=>{C().saveTextureAsScreenshot(e,!0),s(!1)}),[]);return t?Object(an.jsx)(Yn,{roomId:n.roomId,textureReceiver:i,onClose:()=>s(!1)}):null},mj=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(null),[i,o]=Object(c.useState)(null),[l,d]=Object(c.useState)(null),[u,j]=Object(c.useState)(!1),{navigatorData:h=null}=vc(),{roomSession:b=null}=Ac(),g=e=>{switch(e){case\"settings\":return void m(\"navigator/toggle-room-info\");case\"zoom\":return void s((e=>{let t=C().getRoomInstanceRenderingCanvasScale(b.roomId,1);return e?t*=2:t/=2,C().setRoomInstanceRenderingCanvasScale(b.roomId,1,t),!e}));case\"chat_history\":return void m(\"chat-history/toggle\");case\"like_room\":return void Ee(new a.Zf(1));case\"toggle_room_link\":return void m(\"navigator/toggle-room-link\")}};return pr(a.Dc,(e=>{const t=e.getParser();t.roomEnter&&t.data.roomId===b.roomId&&(n!==t.data.roomName&&r(t.data.roomName),i!==t.data.ownerName&&o(t.data.ownerName),l!==t.data.tags&&d(t.data.tags))})),Object(c.useEffect)((()=>{j(!0);const e=setTimeout((()=>j(!1)),5e3);return()=>clearTimeout(e)}),[n,i,l]),Object(an.jsxs)(hn,{className:\"nitro-room-tools-container\",gap:2,children:[Object(an.jsxs)(Fn,{center:!0,className:\"nitro-room-tools p-2\",children:[Object(an.jsx)(on,{pointer:!0,title:We(\"room.settings.button.text\"),className:\"icon icon-cog\",onClick:()=>g(\"settings\")}),Object(an.jsx)(on,{pointer:!0,title:We(\"room.zoom.button.text\"),onClick:()=>g(\"zoom\"),className:\"icon \"+Xi()({\"icon-zoom-less\":!t,\"icon-zoom-more\":t})}),Object(an.jsx)(on,{pointer:!0,title:We(\"room.chathistory.button.text\"),onClick:()=>g(\"chat_history\"),className:\"icon icon-chat-history\"}),h.canRate&&Object(an.jsx)(on,{pointer:!0,title:We(\"room.like.button.text\"),onClick:()=>g(\"like_room\"),className:\"icon icon-like-room\"})]}),Object(an.jsx)(Fn,{justifyContent:\"center\",children:Object(an.jsx)(Jn,{type:Xn.SLIDE_LEFT,inProp:u,timeout:300,children:Object(an.jsx)(Fn,{center:!0,children:Object(an.jsxs)(Fn,{className:\"nitro-room-tools-info rounded py-2 px-3\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{wrap:!0,variant:\"white\",fontSize:4,children:n}),Object(an.jsx)(ur,{variant:\"muted\",fontSize:5,children:i})]}),l&&l.length>0&&Object(an.jsx)(hn,{gap:2,children:l.map(((e,t)=>Object(an.jsxs)(ur,{small:!0,variant:\"white\",className:\"rounded bg-primary p-1\",children:[\"#\",e]},t)))})]})})})})]})},Oj=e=>{const{question:t=null,canVote:s=null,vote:n=null,noVotes:r=null,yesVotes:c=null}=e;return Object(an.jsxs)(Fn,{gap:2,className:\"wordquiz-question p-2\",children:[!s&&Object(an.jsxs)(hn,{fullWidth:!0,alignItems:\"center\",gap:2,children:[Object(an.jsx)(hn,{center:!0,pointer:!0,className:\"bg-danger rounded p-2\",children:Object(an.jsx)(ur,{variant:\"white\",children:r})}),Object(an.jsx)(ur,{variant:\"white\",center:!0,textBreak:!0,children:t}),Object(an.jsx)(hn,{center:!0,pointer:!0,className:\"bg-success rounded p-2\",children:Object(an.jsx)(ur,{variant:\"white\",children:c})})]}),s&&Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{variant:\"white\",center:!0,textBreak:!0,children:t}),Object(an.jsxs)(hn,{fullWidth:!0,justifyContent:\"center\",gap:1,children:[Object(an.jsx)(hn,{center:!0,pointer:!0,className:\"bg-danger rounded p-1\",onClick:e=>n($s),children:Object(an.jsx)(on,{className:\"word-quiz-dislike\"})}),Object(an.jsx)(hn,{center:!0,pointer:!0,className:\"bg-success rounded p-1\",onClick:e=>n(\"1\"),children:Object(an.jsx)(on,{className:\"word-quiz-like\"})})]})]})]})},pj=e=>{const{userIndex:t=null,vote:s=null,...n}=e;return Object(an.jsx)(Lu,{objectId:t,category:a.Wg.UNIT,...n,children:Object(an.jsx)(hn,{center:!0,pointer:!0,className:`bg-${s===$s?\"danger\":\"success\"} rounded p-1`,children:Object(an.jsx)(on,{className:`word-quiz-${s===$s?\"dislike\":\"like\"}-sm`})})})},fj=e=>{const{question:t=null,answerSent:s=!1,answerCounts:n=null,userAnswers:r=null,vote:c=null}=mi();return Object(an.jsxs)(an.Fragment,{children:[t&&Object(an.jsx)(Oj,{question:t.content,canVote:!s,vote:c,noVotes:n.get($s)||0,yesVotes:n.get(\"1\")||0}),r&&Array.from(r.entries()).map(((e,t)=>{let[s,n]=e;return Object(an.jsx)(pj,{userIndex:s,vote:n.value},t)}))]})},xj=e=>{const{roomSession:t=null}=Ac(),{simpleAlert:s=null}=Hr();return mr(a.Oh.ROOM_ZOOM,(e=>C().setRoomInstanceRenderingCanvasScale(e.roomId,1,e.level,null,null,!1,e.asDelta))),mr([a.Ig.REQUEST_TEASER,a.Ig.REQUEST_ECOTRONBOX,a.Ig.REQUEST_CLOTHING_CHANGE,a.Ig.REQUEST_PLAYLIST_EDITOR,a.Ig.OPEN_WIDGET,a.Ig.CLOSE_WIDGET,a.Hg.FURNI_CLICK,a.Hg.FURNI_DOUBLE_CLICK,a.Hg.TOOLTIP_SHOW,a.Hg.TOOLTIP_HIDE],(e=>{if(!t)return;e.objectId,e.category;switch(e.type){case a.Ig.REQUEST_TEASER:case a.Ig.REQUEST_ECOTRONBOX:case a.Ig.REQUEST_PLACEHOLDER:case a.Ig.REQUEST_CLOTHING_CHANGE:case a.Ig.REQUEST_PLAYLIST_EDITOR:case a.Ig.OPEN_WIDGET:case a.Ig.CLOSE_WIDGET:case a.Jg.USE_PRODUCT_FROM_ROOM:case a.Hg.FURNI_CLICK:case a.Hg.FURNI_DOUBLE_CLICK:case a.Hg.TOOLTIP_SHOW:case a.Hg.TOOLTIP_HIDE:}})),Or([a.lh.RSEME_KICKED,a.lh.RSEME_PETS_FORBIDDEN_IN_HOTEL,a.lh.RSEME_PETS_FORBIDDEN_IN_FLAT,a.lh.RSEME_MAX_PETS,a.lh.RSEME_MAX_NUMBER_OF_OWN_PETS,a.lh.RSEME_NO_FREE_TILES_FOR_PET,a.lh.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET,a.lh.RSEME_BOTS_FORBIDDEN_IN_HOTEL,a.lh.RSEME_BOTS_FORBIDDEN_IN_FLAT,a.lh.RSEME_BOT_LIMIT_REACHED,a.lh.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT,a.lh.RSEME_BOT_NAME_NOT_ACCEPTED],(e=>{let t=We(\"error.title\"),n=\"\";switch(e.type){case a.lh.RSEME_MAX_PETS:n=We(\"room.error.max_pets\");break;case a.lh.RSEME_MAX_NUMBER_OF_OWN_PETS:n=We(\"room.error.max_own_pets\");break;case a.lh.RSEME_KICKED:n=We(\"room.error.kicked\"),t=We(\"generic.alert.title\");break;case a.lh.RSEME_PETS_FORBIDDEN_IN_HOTEL:n=We(\"room.error.pets.forbidden_in_hotel\");break;case a.lh.RSEME_PETS_FORBIDDEN_IN_FLAT:n=We(\"room.error.pets.forbidden_in_flat\");break;case a.lh.RSEME_NO_FREE_TILES_FOR_PET:n=We(\"room.error.pets.no_free_tiles\");break;case a.lh.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET:n=We(\"room.error.pets.selected_tile_not_free\");break;case a.lh.RSEME_BOTS_FORBIDDEN_IN_HOTEL:n=We(\"room.error.bots.forbidden_in_hotel\");break;case a.lh.RSEME_BOTS_FORBIDDEN_IN_FLAT:n=We(\"room.error.bots.forbidden_in_flat\");break;case a.lh.RSEME_BOT_LIMIT_REACHED:n=We(\"room.error.max_bots\");break;case a.lh.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT:n=We(\"room.error.bots.selected_tile_not_free\");break;case a.lh.RSEME_BOT_NAME_NOT_ACCEPTED:n=We(\"room.error.bots.name.not.accepted\");break;default:return}s(n,fs.DEFAULT,null,null,t)})),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(vu,{}),Object(an.jsx)(Ru,{}),Object(an.jsx)(Tu,{}),Object(an.jsx)(Du,{}),Object(an.jsx)(bj,{}),Object(an.jsx)(mj,{}),Object(an.jsx)(gj,{}),Object(an.jsx)(ku,{}),Object(an.jsx)(Au,{}),Object(an.jsx)(fj,{}),Object(an.jsx)(Uu,{})]})},_j=e=>{const{roomSession:t=null}=Ac(),s=Object(c.useRef)();return Object(c.useEffect)((()=>{const e=o().renderer.view;if(!e)return;e.onclick=e=>S(e),e.onmousemove=e=>S(e),e.onmousedown=e=>S(e),e.onmouseup=e=>S(e),e.ontouchstart=e=>k(e),e.ontouchmove=e=>k(e),e.ontouchend=e=>k(e),e.ontouchcancel=e=>k(e);const t=s.current;t&&t.appendChild(e)}),[]),Object(an.jsx)(on,{fit:!0,innerRef:s,className:!t&&\"d-none\",children:t&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(xj,{}),t.isSpectator&&Object(an.jsx)(Xd,{})]})})},Ij=e=>{const{useGuideTool:t=!1,unseenAchievementCount:s=0,setMeExpanded:n=null,children:r=null,...i}=e,o=Object(c.useRef)();return Object(c.useEffect)((()=>{const e=he();e&&C().selectRoomObject(e.roomId,e.ownRoomIndex,a.Wg.UNIT)}),[]),Object(c.useEffect)((()=>{const e=e=>n(!1);return document.addEventListener(\"click\",e),()=>document.removeEventListener(a.Ve.MOUSE_CLICK,e)}),[n]),Object(an.jsxs)(hn,{innerRef:o,alignItems:\"center\",className:\"nitro-toolbar-me p-2\",gap:2,children:[t&&Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-me-helper-tool\",onClick:e=>$e(new Ar(Ar.TOGGLE_GUIDE_TOOL))}),Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-me-achievements\",onClick:e=>m(\"achievements/toggle\"),children:s>0&&Object(an.jsx)(Bn,{count:s})}),Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-me-profile\",onClick:e=>Xs(F().userId)}),Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-me-rooms\",onClick:e=>m(\"navigator/search/myworld_view\")}),Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-me-clothing\",onClick:e=>m(\"avatar-editor/toggle\")}),Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-me-settings\",onClick:e=>m(\"user-settings/toggle\")}),r]})},Ej=e=>{const{isInRoom:t}=e,[s,n]=Object(c.useState)(!1),[r,i]=Object(c.useState)(!1),{userFigure:o=null}=pi(),{getFullCount:l=0}=lc(),{getTotalUnseen:d=0}=xr(),{requests:u=[]}=ec(),{iconState:j=Vt.HIDDEN}=sc(),h=F().isModerator;pr(a.Bf,(e=>{const t=e.getParser();i(t.isAllowed(a.Cf.USE_GUIDE_TOOL))}));const b=Object(c.useCallback)(((e,t,s,n)=>{const r=document.body.getElementsByClassName(e)[0];if(!r)return;t.className=\"toolbar-icon-animation\",t.style.visibility=\"visible\",t.style.left=s+\"px\",t.style.top=n+\"px\",document.body.append(t);const c=r.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.x-c.x,l=i.y-c.y,d=Math.sqrt(o*o+l*l),u=500-Math.abs(1/d*100*500*.5),j=`ToolbarBouncing[${e}]`;a.Ue.getMotionByTag(j)||(a.Ue.runMotion(new a.Yf(new a.nj(u+8),new a.Hb(r,400,12))).tag=j);const h=new a.Yf(new a.Ib(new a.ne(t,u,c.x-i.x+20,c.y-i.y,100,1),1),new a.Fb(t));a.Ue.runMotion(h)}),[]);return mr(a.uf.ANIMATE_ICON,(e=>{b(\"icon-inventory\",e.image,e.x,e.y)})),Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(Jn,{type:Xn.FADE_IN,inProp:s,timeout:300,children:Object(an.jsx)(Ij,{useGuideTool:r,unseenAchievementCount:d,setMeExpanded:n})}),Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",gap:2,className:\"nitro-toolbar py-1 px-3\",children:[Object(an.jsxs)(hn,{gap:2,alignItems:\"center\",children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsxs)(hn,{center:!0,pointer:!0,className:\"navigation-item item-avatar \"+(s?\"active \":\"\"),onClick:e=>n(!s),children:[Object(an.jsx)(kn,{figure:o,direction:2,position:\"absolute\"}),d>0&&Object(an.jsx)(Bn,{count:d})]}),t&&Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-habbo\",onClick:e=>Oe()}),!t&&Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-house\",onClick:e=>m(\"navigator/goto/home\")}),Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-rooms\",onClick:e=>m(\"navigator/toggle\")}),Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-catalog\",onClick:e=>m(\"catalog/toggle\")}),Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-inventory\",onClick:e=>m(\"inventory/toggle\"),children:l>0&&Object(an.jsx)(Bn,{count:l})}),t&&Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-camera\",onClick:e=>m(\"camera/toggle\")}),h&&Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-modtools\",onClick:e=>m(\"mod-tools/toggle\")})]}),Object(an.jsx)(hn,{alignItems:\"center\",id:\"toolbar-chat-input-container\"})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:2,children:[Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsx)(on,{pointer:!0,className:\"navigation-item icon icon-friendall\",onClick:e=>m(\"friends/toggle\"),children:u.length>0&&Object(an.jsx)(Bn,{count:u.length})}),(j===Vt.SHOW||j===Vt.UNREAD)&&Object(an.jsx)(on,{pointer:!0,className:`navigation-item icon icon-message ${j===Vt.UNREAD&&\"is-unseen\"}`,onClick:e=>Xt()})]}),Object(an.jsx)(on,{id:\"toolbar-friend-bar-container\",className:\"d-none d-lg-block\"})]})]})]})},Cj=e=>{const{badges:t=null,gap:s=1,justifyContent:n=\"between\",...r}=e;return Object(an.jsx)(an.Fragment,{children:t&&t.length>0&&t.map(((e,t)=>Object(an.jsx)(Fn,{center:!0,children:Object(an.jsx)(Dn,{badgeCode:e},e)},e)))})},vj=e=>{const{relationships:t=null}=e,s=e=>{let{type:s}=e;const n=t&&t.relationshipStatusMap.hasKey(s)?t.relationshipStatusMap.getValue(s):null,r=a.dg.RELATIONSHIP_NAMES[s].toLocaleLowerCase();return Object(an.jsxs)(hn,{fullWidth:!0,gap:1,children:[Object(an.jsx)(hn,{center:!0,className:\"user-relationship\",children:Object(an.jsx)(\"i\",{className:`nitro-friends-spritesheet icon-${r}`})}),Object(an.jsxs)(Fn,{grow:!0,gap:0,children:[Object(an.jsxs)(hn,{alignItems:\"center\",justifyContent:\"between\",className:\"bg-white rounded px-2 py-1 user-relationship\",children:[Object(an.jsxs)(ur,{small:!0,underline:!0,pointer:!0,onClick:e=>n&&n.randomFriendId>=1&&Xs(n.randomFriendId),children:[(!n||0===n.friendCount)&&We(\"extendedprofile.add.friends\"),n&&n.friendCount>=1&&n.randomFriendName]}),n&&n.friendCount>=1&&Object(an.jsx)(hn,{center:!0,position:\"relative\",className:\"avatar-image-container\",children:Object(an.jsx)(kn,{figure:n.randomFriendFigure,headOnly:!0,direction:4})})]}),Object(an.jsxs)(ur,{small:!0,italics:!0,className:\"user-relationship-count\",children:[(!n||0===n.friendCount)&&We(\"extendedprofile.no.friends.in.this.category\"),n&&n.friendCount>1&&We(`extendedprofile.relstatus.others.${r}`,[\"count\"],[(n.friendCount-1).toString()]),\"\\xa0\"]})]})]})};return Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(s,{type:a.dg.HEART}),Object(an.jsx)(s,{type:a.dg.SMILE}),Object(an.jsx)(s,{type:a.dg.BOBBA})]})},Nj=e=>{const{relationships:t=null,friendsCount:s=null}=e;return Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(ur,{small:!0,children:[Object(an.jsx)(\"b\",{children:We(\"extendedprofile.friends.count\")}),\" \",s]}),Object(an.jsx)(ur,{bold:!0,small:!0,children:We(\"extendedprofile.relstatus\")}),Object(an.jsx)(Fn,{children:Object(an.jsx)(vj,{relationships:t})})]})},Tj=e=>{const{itsMe:t=null,groups:s=null,onLeaveGroup:n=null,overflow:r=\"hidden\",gap:i=2,...o}=e,[l,d]=Object(c.useState)(null),[u,j]=Object(c.useState)(null);return pr(a.nd,(e=>{const t=e.getParser();l&&l===t.id&&!t.flag&&j(t)})),Object(c.useEffect)((()=>{l&&Ee(new a.md(l,!1))}),[l]),Object(c.useEffect)((()=>{j(null),s.length>0&&d((e=>(e===s[0].groupId&&Ee(new a.md(s[0].groupId,!1)),s[0].groupId)))}),[s]),s&&s.length?Object(an.jsxs)(un,{overflow:r,gap:2,...o,children:[Object(an.jsx)(Fn,{alignItems:\"center\",size:2,overflow:\"auto\",children:Object(an.jsx)(jn,{overflow:null,columnCount:1,columnMinHeight:50,className:\"user-groups-container\",children:s.map(((e,s)=>Object(an.jsxs)(Vn,{overflow:\"unset\",itemActive:l===e.groupId,onClick:()=>d(e.groupId),className:\"p-1\",children:[t&&Object(an.jsx)(\"i\",{className:\"position-absolute end-0 top-0 z-index-1 icon icon-group-\"+(e.favourite?\"favorite\":\"not-favorite\"),onClick:()=>(e=>{Ee(e.favourite?new a.Cd(e.groupId):new a.kd(e.groupId))})(e)}),Object(an.jsx)(Dn,{badgeCode:e.badgeCode,isGroup:!0})]},s)))})}),Object(an.jsx)(Fn,{size:10,overflow:\"hidden\",children:u&&Object(an.jsx)(Vo,{groupInformation:u,onClose:n})})]}):Object(an.jsx)(Fn,{center:!0,fullHeight:!0,children:Object(an.jsxs)(hn,{justifyContent:\"center\",gap:2,children:[Object(an.jsx)(on,{className:\"no-group-spritesheet image-1\"}),Object(an.jsx)(on,{className:\"no-group-spritesheet image-2\"}),Object(an.jsx)(on,{className:\"no-group-spritesheet image-3\"})]})})},Sj=e=>{const{userProfile:t=null}=e,[s,n]=Object(c.useState)(t.requestSent),r=t.id===F().userId,i=!s&&!r&&!t.isMyFriend&&!t.requestSent;return Object(c.useEffect)((()=>{n(t.requestSent)}),[t]),Object(an.jsxs)(hn,{gap:2,children:[Object(an.jsx)(Fn,{center:!0,className:\"avatar-container\",children:Object(an.jsx)(kn,{figure:t.figure,direction:2})}),Object(an.jsxs)(Fn,{children:[Object(an.jsxs)(Fn,{gap:0,children:[Object(an.jsx)(ur,{bold:!0,children:t.username}),Object(an.jsxs)(ur,{italics:!0,textBreak:!0,small:!0,children:[t.motto,\"\\xa0\"]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(ur,{small:!0,children:[Object(an.jsx)(\"b\",{children:We(\"extendedprofile.created\")}),\" \",t.registration]}),Object(an.jsxs)(ur,{small:!0,children:[Object(an.jsx)(\"b\",{children:We(\"extendedprofile.last.login\")}),\" \",a.Zb.format(t.secondsSinceLastVisit,\".ago\",2)]}),Object(an.jsxs)(ur,{small:!0,children:[Object(an.jsx)(\"b\",{children:We(\"extendedprofile.achievementscore\")}),\" \",t.achievementPoints]})]}),Object(an.jsxs)(hn,{gap:1,children:[t.isOnline&&Object(an.jsx)(\"i\",{className:\"icon icon-pf-online\"}),!t.isOnline&&Object(an.jsx)(\"i\",{className:\"icon icon-pf-offline\"}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[i&&Object(an.jsx)(ur,{small:!0,underline:!0,pointer:!0,onClick:()=>{n(!0),Ee(new a.mg(t.username))},children:We(\"extendedprofile.addasafriend\")}),!i&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"i\",{className:\"icon icon-pf-tick\"}),r&&Object(an.jsx)(ur,{children:We(\"extendedprofile.me\")}),t.isMyFriend&&Object(an.jsx)(ur,{children:We(\"extendedprofile.friend\")}),(s||t.requestSent)&&Object(an.jsx)(ur,{children:We(\"extendedprofile.friendrequestsent\")})]})]})]})]})]})},wj=e=>{const[t,s]=Object(c.useState)(null),[n,r]=Object(c.useState)([]),[i,o]=Object(c.useState)(null),l=Object(c.useCallback)((()=>{t&&t.id===F().userId&&Xs(t.id)}),[t]);return pr(a.Ri,(e=>{const s=e.getParser();t&&s.userId===t.id&&r(s.badges)})),pr(a.eg,(e=>{const s=e.getParser();t&&s.userId===t.id&&o(s)})),pr(a.Zi,(e=>{const t=e.getParser();let n=!1;s((e=>(e&&e.id&&(n=e.id===t.id),t))),n||(r([]),o(null)),Ee(new a.Qi(t.id)),Ee(new a.aj(t.id))})),mr(a.Fg.SELECTED,(e=>{if(!t)return;if(e.category!==a.Wg.UNIT)return;const s=he().userDataManager.getUserDataByIndex(e.objectId);s.type===a.ah.USER&&Xs(s.webID)})),t?Object(an.jsxs)(yn,{uniqueKey:\"nitro-user-profile\",theme:\"primary-slim\",className:\"user-profile\",children:[Object(an.jsx)(vn,{headerText:We(\"extendedprofile.caption\"),onCloseClick:()=>{s(null),r([]),o(null)}}),Object(an.jsxs)(In,{overflow:\"hidden\",children:[Object(an.jsxs)(un,{fullHeight:!1,gap:2,children:[Object(an.jsxs)(Fn,{size:7,gap:1,className:\"user-container pe-2\",children:[Object(an.jsx)(Sj,{userProfile:t}),Object(an.jsx)(un,{columnCount:5,fullHeight:!0,className:\"bg-muted rounded px-2 py-1\",children:Object(an.jsx)(Cj,{fullWidth:!0,center:!0,badges:n})})]}),Object(an.jsx)(Fn,{size:5,children:i&&Object(an.jsx)(Nj,{relationships:i,friendsCount:t.friendsCount})})]}),Object(an.jsx)(hn,{alignItems:\"center\",className:\"rooms-button-container px-2 py-1\",children:Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,onClick:e=>m(`navigator/search/hotel_view/owner:${t.username}`),children:[Object(an.jsx)(\"i\",{className:\"icon icon-rooms\"}),Object(an.jsx)(ur,{bold:!0,underline:!0,pointer:!0,children:We(\"extendedprofile.rooms\")})]})}),Object(an.jsx)(Tj,{fullWidth:!0,itsMe:t.id===F().userId,groups:t.groups,onLeaveGroup:l})]})]}):null},Rj=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(null),[i,o]=Vr(),[d,u]=zr(),j=Object(c.useCallback)(((e,t)=>{let c=!0;const i=n.clone();switch(e){case\"close_view\":return s(!1),void(c=!1);case\"oldchat\":i.oldChat=t,Ee(new a.dj(i.oldChat));break;case\"room_invites\":i.roomInvites=t,Ee(new a.ej(i.roomInvites));break;case\"camera_follow\":i.cameraFollow=t,Ee(new a.bj(i.cameraFollow));break;case\"system_volume\":i.volumeSystem=t,i.volumeSystem=Math.max(0,i.volumeSystem),i.volumeSystem=Math.min(100,i.volumeSystem);break;case\"furni_volume\":i.volumeFurni=t,i.volumeFurni=Math.max(0,i.volumeFurni),i.volumeFurni=Math.min(100,i.volumeFurni);break;case\"trax_volume\":i.volumeTrax=t,i.volumeTrax=Math.max(0,i.volumeTrax),i.volumeTrax=Math.min(100,i.volumeTrax)}c&&r(i),ze(i)}),[n]),h=Object(c.useCallback)((e=>{if(\"volume\"===e)Ee(new a.fj(Math.round(n.volumeSystem),Math.round(n.volumeFurni),Math.round(n.volumeTrax)))}),[n]);return pr(a.cj,(e=>{const t=e.getParser(),s=new a.pf;s.volumeSystem=t.volumeSystem,s.volumeFurni=t.volumeFurni,s.volumeTrax=t.volumeTrax,s.oldChat=t.oldChat,s.roomInvites=t.roomInvites,s.cameraFollow=t.cameraFollow,s.flags=t.flags,s.chatType=t.chatType,r(s),ze(s)})),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(!0);case\"hide\":return void s(!1);case\"toggle\":return void s((e=>!e))}},eventUrlPrefix:\"user-settings/\"};return l(e),()=>E(e)}),[]),Object(c.useEffect)((()=>{n&&$e(n)}),[n]),t&&n?Object(an.jsxs)(yn,{uniqueKey:\"user-settings\",className:\"user-settings-window\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"widget.memenu.settings.title\"),onCloseClick:e=>j(\"close_view\")}),Object(an.jsxs)(In,{className:\"text-black\",children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:n.oldChat,onChange:e=>j(\"oldchat\",e.target.checked)}),Object(an.jsx)(ur,{children:We(\"memenu.settings.chat.prefer.old.chat\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:n.roomInvites,onChange:e=>j(\"room_invites\",e.target.checked)}),Object(an.jsx)(ur,{children:We(\"memenu.settings.other.ignore.room.invites\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:n.cameraFollow,onChange:e=>j(\"camera_follow\",e.target.checked)}),Object(an.jsx)(ur,{children:We(\"memenu.settings.other.disable.room.camera.follow\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:i,onChange:e=>o(e.target.checked)}),Object(an.jsx)(ur,{children:We(\"memenu.settings.other.place.multiple.objects\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:d,onChange:e=>u(e.target.checked)}),Object(an.jsx)(ur,{children:We(\"memenu.settings.other.skip.purchase.confirmation\")})]})]}),Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{bold:!0,children:We(\"widget.memenu.settings.volume\")}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"widget.memenu.settings.volume.ui\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(fn.a,{icon:0===n.volumeSystem?\"volume-mute\":n.volumeSystem>0?\"volume-down\":null,className:n.volumeSystem>=50?\"text-muted\":\"\"}),Object(an.jsx)(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeSystem\",value:n.volumeSystem,onChange:e=>j(\"system_volume\",e.target.value),onMouseUp:()=>h(\"volume\")}),Object(an.jsx)(fn.a,{icon:\"volume-up\",className:n.volumeSystem<50?\"text-muted\":\"\"})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"widget.memenu.settings.volume.furni\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(fn.a,{icon:0===n.volumeFurni?\"volume-mute\":n.volumeFurni>0?\"volume-down\":null,className:n.volumeFurni>=50?\"text-muted\":\"\"}),Object(an.jsx)(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeFurni\",value:n.volumeFurni,onChange:e=>j(\"furni_volume\",e.target.value),onMouseUp:()=>h(\"volume\")}),Object(an.jsx)(fn.a,{icon:\"volume-up\",className:n.volumeFurni<50?\"text-muted\":\"\"})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{children:We(\"widget.memenu.settings.volume.trax\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(fn.a,{icon:0===n.volumeTrax?\"volume-mute\":n.volumeTrax>0?\"volume-down\":null,className:n.volumeTrax>=50?\"text-muted\":\"\"}),Object(an.jsx)(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeTrax\",value:n.volumeTrax,onChange:e=>j(\"trax_volume\",e.target.value),onMouseUp:()=>h(\"volume\")}),Object(an.jsx)(fn.a,{icon:\"volume-up\",className:n.volumeTrax<50?\"text-muted\":\"\"})]})]})]})]})]}):null},yj=e=>{const{trigger:t=null,furniIds:s=[]}=ri();return Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.pickfurnis.caption\",[\"count\",\"limit\"],[s.length.toString(),t.maximumItemSelectionCount.toString()])}),Object(an.jsx)(ur,{small:!0,children:We(\"wiredfurni.pickfurnis.desc\")})]})},kj=e=>{const{wiredType:t=\"\",requiresFurni:s=tn.STUFF_SELECTION_OPTION_NONE,save:n=null,validate:r=null,children:i=null,hasSpecialInput:a=!1}=e,[o,l]=Object(c.useState)(null),[d,u]=Object(c.useState)(null),[j,h]=Object(c.useState)(!1),{trigger:b=null,setTrigger:g=null,setIntParams:m=null,setStringParam:O=null,setFurniIds:p=null,setAllowsFurni:f=null,saveWired:x=null}=ri(),_=()=>g(null);return Object(c.useEffect)((()=>{j&&(x(),h(!1))}),[j,x]),Object(c.useEffect)((()=>{if(!b)return;const e=b.spriteId||-1,t=F().getFloorItemData(e);t?(l(t.name),u(t.description)):(l(\"NAME: \"+e),u(\"NAME: \"+e)),a&&(m(b.intData),O(b.stringData)),s>tn.STUFF_SELECTION_OPTION_NONE&&p((e=>(e&&e.length&&nn.clearSelectionShaderFromFurni(e),b.selectedItems&&b.selectedItems.length?(nn.applySelectionShaderToFurni(b.selectedItems),b.selectedItems):[])))}),[b,a,s,m,O,p]),Object(c.useEffect)((()=>{f(s)}),[s,f]),Object(an.jsxs)(yn,{uniqueKey:\"nitro-wired\",className:\"nitro-wired\",theme:\"primary-slim\",children:[Object(an.jsx)(vn,{headerText:We(\"wiredfurni.title\"),onCloseClick:_}),Object(an.jsxs)(In,{children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"i\",{className:`icon icon-wired-${t}`}),Object(an.jsx)(ur,{bold:!0,children:o})]}),Object(an.jsx)(ur,{small:!0,children:d})]}),!!i&&Object(an.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),i,s>tn.STUFF_SELECTION_OPTION_NONE&&Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object(an.jsx)(yj,{})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(bn,{fullWidth:!0,variant:\"success\",onClick:()=>{r&&!r()||(n&&n(),h(!0))},children:We(\"wiredfurni.ready\")}),Object(an.jsx)(bn,{fullWidth:!0,variant:\"secondary\",onClick:_,children:We(\"cancel\")})]})]})]})},Aj=e=>{const{requiresFurni:t=tn.STUFF_SELECTION_OPTION_NONE,save:s=null,hasSpecialInput:n=!1,children:r=null}=e,{trigger:i=null,actionDelay:a=0,setActionDelay:o=null}=ri();return Object(c.useEffect)((()=>{o(i.delayInPulses)}),[i,o]),Object(an.jsxs)(kj,{wiredType:\"action\",requiresFurni:t,save:s,hasSpecialInput:n,children:[r,!!r&&Object(an.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object(an.jsxs)(Fn,{children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.delay\",[\"seconds\"],[Qs(a)])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:0,max:20,value:a,onChange:e=>o(e)})]})]})},Dj=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(\"\"),{trigger:i=null,setStringParam:a=null}=ri();return Object(c.useEffect)((()=>{const e=i.stringData.split(rn);e.length>0&&s(e[0]),e.length>1&&r(e[1].length>0?e[1]:\"hd-180-1.ch-210-66.lg-270-82.sh-290-81\")}),[i]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>a(t+rn+n),children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]}),Object(an.jsxs)(hn,{center:!0,children:[Object(an.jsx)(kn,{figure:n,direction:4}),Object(an.jsx)(bn,{onClick:e=>r(F().figure),children:We(\"wiredfurni.params.capture.figure\")})]})]})},Lj=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(-1),{trigger:i=null,setStringParam:a=null,setIntParams:o=null}=ri();return Object(c.useEffect)((()=>{s(i.stringData),r(i.intData.length>0?i.intData[0]:0)}),[i]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>{a(t),o([n])},children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"followMode\",id:\"followMode1\",checked:1===n,onChange:e=>r(1)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.start.following\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"followMode\",id:\"followMode2\",checked:0===n,onChange:e=>r(0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.stop.following\")})]})]})]})},Pj=[2,5,7,8,9,10,27],Uj=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(-1),{trigger:i=null,setStringParam:a=null,setIntParams:o=null}=ri();return Object(c.useEffect)((()=>{s(i.stringData),r(i.intData.length>0?i.intData[0]:0)}),[i]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>{a(t),o([n])},children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.handitem\")}),Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n,onChange:e=>r(parseInt(e.target.value)),children:[Object(an.jsx)(\"option\",{value:\"0\",children:\"------\"}),Pj.map((e=>Object(an.jsx)(\"option\",{value:e,children:We(`handitem${e}`)},e)))]})]})]})},Mj=e=>{const[t,s]=Object(c.useState)(\"\"),{trigger:n=null,setStringParam:r=null}=ri();return Object(c.useEffect)((()=>{s(n.stringData)}),[n]),Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:()=>r(t),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]})})},Fj=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(\"\"),[i,a]=Object(c.useState)(-1),{trigger:o=null,setStringParam:l=null,setIntParams:d=null}=ri();return Object(c.useEffect)((()=>{const e=o.stringData.split(rn);e.length>0&&s(e[0]),e.length>1&&r(e[1].length>0?e[1]:\"\"),a(o.intData.length>0?o.intData[0]:0)}),[o]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>{l(t+rn+n),d([i])},children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.message\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:p(\"wired.action.bot.talk.to.avatar.max.length\",64),value:n,onChange:e=>r(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode1\",checked:0===i,onChange:e=>a(0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.talk\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode2\",checked:1===i,onChange:e=>a(1)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.whisper\")})]})]})]})},Bj=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(\"\"),[i,a]=Object(c.useState)(-1),{trigger:o=null,setStringParam:l=null,setIntParams:d=null}=ri();return Object(c.useEffect)((()=>{const e=o.stringData.split(rn);e.length>0&&s(e[0]),e.length>1&&r(e[1].length>0?e[1]:\"\"),a(o.intData.length>0?o.intData[0]:0)}),[o]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>{l(t+rn+n),d([i])},children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.message\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:p(\"wired.action.bot.talk.max.length\",64),value:n,onChange:e=>r(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode1\",checked:0===i,onChange:e=>a(0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.talk\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode2\",checked:1===i,onChange:e=>a(1)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.shout\")})]})]})]})},Hj=e=>{const[t,s]=Object(c.useState)(\"\"),{trigger:n=null,setStringParam:r=null}=ri();return Object(c.useEffect)((()=>{s(n.stringData)}),[n]),Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:()=>r(t),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]})})},Gj=e=>Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null}),Wj=e=>Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null}),Vj=e=>{const[t,s]=Object(c.useState)(\"\"),{trigger:n=null,setStringParam:r=null}=ri();return Object(c.useEffect)((()=>{s(n.stringData)}),[n]),Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r(t),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.message\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:t,onChange:e=>s(e.target.value),maxLength:p(\"wired.action.chat.max.length\",100)})]})})},qj=e=>Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null}),zj=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(1),[i,a]=Object(c.useState)(!1),[o,l]=Object(c.useState)(1),[d,u]=Object(c.useState)(1),[j,h]=Object(c.useState)([]),{trigger:b=null,setIntParams:g=null,setStringParam:m=null}=ri(),O=Object(c.useCallback)((()=>{h((e=>[...e,{isBadge:!1,itemCode:\"\",probability:null}]))}),[h]),p=Object(c.useCallback)((e=>{h((t=>{const s=Array.from(t);return s.splice(e,1),s}))}),[h]),f=Object(c.useCallback)(((e,t,s,n)=>{const r=Array.from(j),c=r[e];c&&(c.isBadge=t,c.itemCode=s,c.probability=n,h(r))}),[j,h]),x=Object(c.useCallback)((()=>{let e=[];for(const t of j){if(!t.itemCode)continue;const s=[t.isBadge?\"0\":\"1\",t.itemCode,t.probability.toString()];e.push(s.join(\",\"))}e.length>0&&(m(e.join(\";\")),g([n,i?1:0,o,d]))}),[n,i,o,d,j,g,m]);return Object(c.useEffect)((()=>{const e=[];if(b.stringData.length>0&&b.stringData.includes(\";\")){const t=b.stringData.split(\";\");for(const s of t){const t=s.split(\",\");3===t.length&&e.push({isBadge:\"0\"===t[0],itemCode:t[1],probability:Number(t[2])})}}0===e.length&&e.push({isBadge:!1,itemCode:\"\",probability:null}),r(b.intData.length>0?b.intData[0]:0),a(b.intData.length>1&&1===b.intData[1]),l(b.intData.length>2?b.intData[2]:0),u(b.intData.length>3?b.intData[3]:0),s(b.intData.length>3&&b.intData[3]>0),h(e)}),[b]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:x,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"limitEnabled\",onChange:e=>s(e.target.checked)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.prizelimit\",[\"amount\"],[t?o.toString():\"\"])})]}),!t&&Object(an.jsx)(ur,{center:!0,small:!0,className:\"bg-muted rounded p-1\",children:\"Reward limit not set. Make sure rewards are badges or non-tradeable items.\"}),t&&Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:1e3,value:o,onChange:e=>l(e)}),Object(an.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:\"How often can a user be rewarded?\"}),Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsxs)(\"select\",{className:\"form-select form-select-sm w-100\",value:n,onChange:e=>r(Number(e.target.value)),children:[Object(an.jsx)(\"option\",{value:\"0\",children:\"Once\"}),Object(an.jsxs)(\"option\",{value:\"3\",children:[\"Once every \",d,\" minutes\"]}),Object(an.jsxs)(\"option\",{value:\"2\",children:[\"Once every \",d,\" hours\"]}),Object(an.jsxs)(\"option\",{value:\"1\",children:[\"Once every \",d,\" days\"]})]}),n>0&&Object(an.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:d,onChange:e=>u(Number(e.target.value))})]})]}),Object(an.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"uniqueRewards\",checked:i,onChange:e=>a(e.target.checked)}),Object(an.jsx)(ur,{children:\"Unique rewards\"})]}),Object(an.jsx)(ur,{center:!0,small:!0,className:\"bg-muted rounded p-1\",children:\"If checked each reward will be given once to each user. This will disable the probabilities option.\"}),Object(an.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object(an.jsxs)(hn,{justifyContent:\"between\",alignItems:\"center\",children:[Object(an.jsx)(ur,{bold:!0,children:\"Rewards\"}),Object(an.jsx)(bn,{variant:\"success\",onClick:O,children:Object(an.jsx)(fn.a,{icon:\"plus\"})})]}),Object(an.jsx)(Fn,{gap:1,children:j&&j.map(((e,t)=>Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:e.isBadge,onChange:s=>f(t,s.target.checked,e.itemCode,e.probability)}),Object(an.jsx)(ur,{small:!0,children:\"Badge?\"})]}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:e.itemCode,onChange:s=>f(t,e.isBadge,s.target.value,e.probability),placeholder:\"Item Code\"}),Object(an.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:e.probability,onChange:s=>f(t,e.isBadge,e.itemCode,Number(s.target.value)),placeholder:\"Probability\"}),t>0&&Object(an.jsx)(bn,{variant:\"danger\",onClick:e=>p(t),children:Object(an.jsx)(fn.a,{icon:\"trash\"})})]},t)))})]})},Yj=e=>{const[t,s]=Object(c.useState)(1),[n,r]=Object(c.useState)(1),[i,a]=Object(c.useState)(1),{trigger:o=null,setIntParams:l=null}=ri();return Object(c.useEffect)((()=>{o.intData.length>=2?(s(o.intData[0]),r(o.intData[1]),a(o.intData[2])):(s(1),r(1),a(1))}),[o]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>l([t,n,i]),children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.setpoints\",[\"points\"],[t.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:100,value:t,onChange:e=>s(e)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.settimesingame\",[\"times\"],[n.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:10,value:n,onChange:e=>r(e)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.team\")}),[1,2,3,4].map((e=>Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:`selectedTeam${e}`,checked:i===e,onChange:t=>a(e)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.team.\"+e)})]},e)))]})]})},$j=e=>{const[t,s]=Object(c.useState)(1),[n,r]=Object(c.useState)(1),{trigger:i=null,setIntParams:a=null}=ri();return Object(c.useEffect)((()=>{i.intData.length>=2?(s(i.intData[0]),r(i.intData[1])):(s(1),r(1))}),[i]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>a([t,n]),children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.setpoints\",[\"points\"],[t.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:100,value:t,onChange:e=>s(e)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.settimesingame\",[\"times\"],[n.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:10,value:n,onChange:e=>r(e)})]})]})},Kj=e=>{const[t,s]=Object(c.useState)(-1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.team\")}),[1,2,3,4].map((e=>Object(an.jsxs)(hn,{gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:`selectedTeam${e}`,checked:t===e,onChange:t=>s(e)}),Object(an.jsx)(ur,{children:We(`wiredfurni.params.team.${e}`)})]},e)))]})})},Xj=e=>{const[t,s]=Object(c.useState)(\"\"),{trigger:n=null,setStringParam:r=null}=ri();return Object(c.useEffect)((()=>{s(n.stringData)}),[n]),Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r(t),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.message\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:t,onChange:e=>s(e.target.value),maxLength:p(\"wired.action.kick.from.room.max.length\",100)})]})})},Qj=e=>Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null}),Jj=[{value:0,icon:\"ne\"},{value:2,icon:\"se\"},{value:4,icon:\"sw\"},{value:6,icon:\"nw\"}],Zj=[0,1,2,3,4,5,6],eh=e=>{const[t,s]=Object(c.useState)(-1),[n,r]=Object(c.useState)(-1),{trigger:i=null,setIntParams:a=null}=ri();return Object(c.useEffect)((()=>{i.intData.length>=2?(s(i.intData[0]),r(i.intData[1])):(s(-1),r(-1))}),[i]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!0,save:()=>a([t,n]),children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.startdir\")}),Object(an.jsx)(hn,{gap:1,children:Jj.map((e=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:`movement${e.value}`,checked:t===e.value,onChange:t=>s(e.value)}),Object(an.jsx)(ur,{children:Object(an.jsx)(\"i\",{className:`icon icon-${e.icon}`})})]},e.value)))})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.turn\")}),Zj.map((e=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"rotation\",id:`rotation${e}`,checked:n===e,onChange:t=>r(e)}),Object(an.jsx)(ur,{children:We(`wiredfurni.params.turn.${e}`)})]},e)))]})]})},th=[{value:0,icon:\"ne\"},{value:2,icon:\"se\"},{value:4,icon:\"sw\"},{value:6,icon:\"nw\"}],sh=e=>{const[t,s]=Object(c.useState)(-1),[n,r]=Object(c.useState)(-1),{trigger:i=null,setIntParams:a=null}=ri();return Object(c.useEffect)((()=>{i.intData.length>=2?(s(i.intData[1]),r(i.intData[0])):(s(-1),r(-1))}),[i]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!0,save:()=>a([n,t]),children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.emptytiles\",[\"tiles\"],[t.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:5,value:t,onChange:e=>s(e)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.startdir\")}),Object(an.jsx)(hn,{gap:1,children:th.map((e=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:`movement${e.value}`,checked:n===e.value,onChange:t=>r(e.value)}),Object(an.jsx)(ur,{children:Object(an.jsx)(\"i\",{className:`icon icon-${e.icon}`})})]},e.value)))})]})]})},nh=[{value:4,icon:\"ne\"},{value:5,icon:\"se\"},{value:6,icon:\"sw\"},{value:7,icon:\"nw\"},{value:2,icon:\"mv-2\"},{value:3,icon:\"mv-3\"},{value:1,icon:\"mv-1\"}],rh=[0,1,2,3],ch=e=>{const[t,s]=Object(c.useState)(-1),[n,r]=Object(c.useState)(-1),{trigger:i=null,setIntParams:a=null}=ri();return Object(c.useEffect)((()=>{i.intData.length>=2?(s(i.intData[0]),r(i.intData[1])):(s(-1),r(-1))}),[i]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!0,save:()=>a([t,n]),children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.movefurni\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"movement0\",checked:0===t,onChange:e=>s(0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.movefurni.0\")})]}),Object(an.jsxs)(hn,{gap:1,children:[nh.map((e=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:`movement${e.value}`,checked:t===e.value,onChange:t=>s(e.value)}),Object(an.jsx)(\"i\",{className:`icon icon-${e.icon}`})]},e.value))),Object(an.jsx)(\"div\",{className:\"col\"})]})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.rotatefurni\")}),rh.map((e=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"rotation\",id:`rotation${e}`,checked:n===e,onChange:t=>r(e)}),Object(an.jsxs)(ur,{children:[[1,2].includes(e)&&Object(an.jsx)(\"i\",{className:`icon icon-rot-${e}`}),We(`wiredfurni.params.rotatefurni.${e}`)]})]},e)))]})]})},ih=e=>{const[t,s]=Object(c.useState)(-1),[n,r]=Object(c.useState)(\"\"),{trigger:i=null,setIntParams:a=null,setStringParam:o=null}=ri();return Object(c.useEffect)((()=>{s(i.intData.length>0?i.intData[0]:0),r(i.stringData)}),[i]),Object(an.jsxs)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>{a([t]),o(n)},children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.length.minutes\",[\"minutes\"],[t.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:10,value:t,onChange:e=>s(e)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.message\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:n,onChange:e=>r(e.target.value),maxLength:p(\"wired.action.mute.user.max.length\",100)})]})]})},ah=e=>Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null}),oh=e=>{const[t,s]=Object(c.useState)(0),[n,r]=Object(c.useState)(0),[i,a]=Object(c.useState)(0),{trigger:o=null,setIntParams:l=null}=ri();return Object(c.useEffect)((()=>{s(o.getBoolean(0)?1:0),r(o.getBoolean(1)?1:0),a(o.getBoolean(2)?1:0)}),[o]),Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:()=>l([t,n,i]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.conditions\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"stateFlag\",checked:!!t,onChange:e=>s(e.target.checked?1:0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.condition.state\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"directionFlag\",checked:!!n,onChange:e=>r(e.target.checked?1:0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.condition.direction\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"positionFlag\",checked:!!i,onChange:e=>a(e.target.checked?1:0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.condition.position\")})]})]})})},lh=e=>Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null}),dh=e=>Object(an.jsx)(Aj,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null}),uh=e=>{const{requiresFurni:t=tn.STUFF_SELECTION_OPTION_NONE,save:s=null,hasSpecialInput:n=!1,children:r=null}=e;return Object(an.jsx)(kj,{wiredType:\"condition\",requiresFurni:t,hasSpecialInput:n,save:()=>s&&s(),children:r})},jh=[2,5,7,8,9,10,27],hh=e=>{const[t,s]=Object(c.useState)(-1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.handitem\")}),Object(an.jsx)(\"select\",{className:\"form-select form-select-sm\",value:t,onChange:e=>s(parseInt(e.target.value)),children:jh.map((e=>Object(an.jsx)(\"option\",{value:e,children:We(`handitem${e}`)},e)))})]})})},bh=e=>Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null}),gh=e=>Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!1,save:null}),mh=[1,2,3,4],Oh=e=>{const[t,s]=Object(c.useState)(-1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.team\")}),mh.map((e=>Object(an.jsxs)(hn,{gap:1,alignItems:\"center\",children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:`selectedTeam${e}`,checked:t===e,onChange:t=>s(e)}),Object(an.jsx)(ur,{children:We(`wiredfurni.params.team.${e}`)})]},e)))]})})},ph=e=>{const[t,s]=Object(c.useState)(\"\"),{trigger:n=null,setStringParam:r=null}=ri();return Object(c.useEffect)((()=>{s(n.stringData)}),[n]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r(t),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.badgecode\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:t,onChange:e=>s(e.target.value)})]})})},fh=e=>{const[t,s]=Object(c.useState)(-1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.effectid\")}),Object(an.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:t,onChange:e=>s(parseInt(e.target.value))})]})})},xh=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(\"\"),{trigger:i=null,setIntParams:a=null}=ri();return Object(c.useEffect)((()=>{if(i.intData.length>=2){let e=new Date,t=new Date;i.intData[0]>0&&(e=new Date(1e3*i.intData[0])),i.intData[1]>0&&(t=new Date(1e3*i.intData[1])),s(en(e)),r(en(t))}}),[i]),Object(an.jsxs)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>{let e=0,s=0;const r=new Date(t),c=new Date(n);r&&c&&(e=r.getTime()/1e3,s=c.getTime()/1e3),a([e,s])},children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.startdate\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:t,onChange:e=>s(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.enddate\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:n,onChange:e=>r(e.target.value)})]})]})},_h=e=>Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!1,save:null}),Ih=e=>{const[t,s]=Object(c.useState)(-1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.requireall\")}),[0,1].map((e=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"requireAll\",id:`requireAll${e}`,checked:t===e,onChange:t=>s(e)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.requireall.\"+e)})]},e)))]})})},Eh=e=>{const[t,s]=Object(c.useState)(-1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.not_requireall\")}),[0,1].map((e=>Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"requireAll\",id:`requireAll${e}`,checked:t===e,onChange:t=>s(e)}),Object(an.jsx)(ur,{children:We(`wiredfurni.params.not_requireall.${e}`)})]},e)))]})})},Ch=e=>Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!1,save:null}),vh=e=>{const[t,s]=Object(c.useState)(0),[n,r]=Object(c.useState)(0),[i,a]=Object(c.useState)(0),{trigger:o=null,setIntParams:l=null}=ri();return Object(c.useEffect)((()=>{s(o.getBoolean(0)?1:0),r(o.getBoolean(1)?1:0),a(o.getBoolean(2)?1:0)}),[o]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:()=>l([t,n,i]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.conditions\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"stateFlag\",checked:!!t,onChange:e=>s(e.target.checked?1:0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.condition.state\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"directionFlag\",checked:!!n,onChange:e=>r(e.target.checked?1:0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.condition.direction\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"positionFlag\",checked:!!i,onChange:e=>a(e.target.checked?1:0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.condition.position\")})]})]})})},Nh=e=>{const[t,s]=Object(c.useState)(-1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.allowbefore\",[\"seconds\"],[Qs(t)])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:1200,value:t,onChange:e=>s(e)})]})})},Th=e=>{const[t,s]=Object(c.useState)(-1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.allowafter\",[\"seconds\"],[Qs(t)])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:1200,value:t,onChange:e=>s(e)})]})})},Sh=e=>{const[t,s]=Object(c.useState)(1),[n,r]=Object(c.useState)(1),{trigger:i=null,setIntParams:a=null}=ri();return Object(c.useEffect)((()=>{i.intData.length>=2?(s(i.intData[0]),r(i.intData[1])):(s(1),r(1))}),[i]),Object(an.jsxs)(uh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>a([t,n]),children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.usercountmin\",[\"value\"],[t.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:50,value:t,onChange:e=>s(e)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.usercountmax\",[\"value\"],[n.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:50,value:n,onChange:e=>r(e)})]})]})},wh=e=>{const{requiresFurni:t=tn.STUFF_SELECTION_OPTION_NONE,save:s=null,hasSpecialInput:n=!1,children:r=null}=e;return Object(an.jsx)(kj,{wiredType:\"trigger\",requiresFurni:t,hasSpecialInput:n,save:()=>s&&s(),children:r})},Rh=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(0),{trigger:i=null,setStringParam:a=null}=ri();return Object(c.useEffect)((()=>{s(i.stringData),r(i.stringData?1:0)}),[i]),Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>a(1===n?t:\"\"),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.picktriggerer\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"avatarMode\",id:\"avatarMode0\",checked:0===n,onChange:e=>r(0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.anyavatar\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"avatarMode\",id:\"avatarMode1\",checked:1===n,onChange:e=>r(1)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.certainavatar\")})]}),1===n&&Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:t,onChange:e=>s(e.target.value)})]})})},yh=e=>{const[t,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(-1),{trigger:i=null,setStringParam:a=null,setIntParams:o=null}=ri();return Object(c.useEffect)((()=>{s(i.stringData),r(i.intData.length>0?i.intData[0]:0)}),[i]),Object(an.jsxs)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>{a(t),o([n])},children:[Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.whatissaid\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:t,onChange:e=>s(e.target.value)})]}),Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.picktriggerer\")}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"triggererAvatar\",id:\"triggererAvatar0\",checked:0===n,onChange:e=>r(0)}),Object(an.jsx)(ur,{children:We(\"wiredfurni.params.anyavatar\")})]}),Object(an.jsxs)(hn,{alignItems:\"center\",gap:1,children:[Object(an.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"triggererAvatar\",id:\"triggererAvatar1\",checked:1===n,onChange:e=>r(1)}),Object(an.jsx)(ur,{children:F().userName})]})]})]})},kh=e=>Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!1,save:null}),Ah=e=>Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!1,save:null}),Dh=e=>{const[t,s]=Object(c.useState)(\"\"),{trigger:n=null,setStringParam:r=null}=ri();return Object(c.useEffect)((()=>{s(n.stringData)}),[n]),Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r(t),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]})})},Lh=e=>{const[t,s]=Object(c.useState)(\"\"),{trigger:n=null,setStringParam:r=null}=ri();return Object(c.useEffect)((()=>{s(n.stringData)}),[n]),Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!0,save:()=>r(t),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.bot.name\")}),Object(an.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:t,onChange:e=>s(e.target.value)})]})})},Ph=e=>Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null}),Uh=e=>{const[t,s]=Object(c.useState)(1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.settime\",[\"seconds\"],[Qs(t)])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:1200,value:t,onChange:e=>s(e)})]})})},Mh=e=>{const[t,s]=Object(c.useState)(1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.setlongtime\",[\"time\"],[a.Zb.format(5*t).toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:120,value:t,onChange:e=>s(e)})]})})},Fh=e=>{const[t,s]=Object(c.useState)(1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.settime\",[\"seconds\"],[Qs(t)])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:60,value:t,onChange:e=>s(e)})]})})},Bh=e=>Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null}),Hh=e=>Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null}),Gh=e=>{const[t,s]=Object(c.useState)(1),{trigger:n=null,setIntParams:r=null}=ri();return Object(c.useEffect)((()=>{s(n.intData.length>0?n.intData[0]:0)}),[n]),Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:()=>r([t]),children:Object(an.jsxs)(Fn,{gap:1,children:[Object(an.jsx)(ur,{bold:!0,children:We(\"wiredfurni.params.setscore\",[\"points\"],[t.toString()])}),Object(an.jsx)(Fi.a,{className:\"nitro-slider\",min:1,max:1e3,value:t,onChange:e=>s(e)})]})})},Wh=e=>Object(an.jsx)(wh,{requiresFurni:tn.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!1,save:null}),Vh=e=>{const{trigger:t=null}=ri();return t?t instanceof a.pj?(e=>{switch(e){case Js.BOT_CHANGE_FIGURE:return Object(an.jsx)(Dj,{});case Js.BOT_FOLLOW_AVATAR:return Object(an.jsx)(Lj,{});case Js.BOT_GIVE_HAND_ITEM:return Object(an.jsx)(Uj,{});case Js.BOT_MOVE:return Object(an.jsx)(Mj,{});case Js.BOT_TALK:return Object(an.jsx)(Bj,{});case Js.BOT_TALK_DIRECT_TO_AVTR:return Object(an.jsx)(Fj,{});case Js.BOT_TELEPORT:return Object(an.jsx)(Hj,{});case Js.CALL_ANOTHER_STACK:return Object(an.jsx)(Gj,{});case Js.CHASE:return Object(an.jsx)(Wj,{});case Js.CHAT:return Object(an.jsx)(Vj,{});case Js.FLEE:return Object(an.jsx)(qj,{});case Js.GIVE_REWARD:return Object(an.jsx)(zj,{});case Js.GIVE_SCORE:return Object(an.jsx)($j,{});case Js.GIVE_SCORE_TO_PREDEFINED_TEAM:return Object(an.jsx)(Yj,{});case Js.JOIN_TEAM:return Object(an.jsx)(Kj,{});case Js.KICK_FROM_ROOM:return Object(an.jsx)(Xj,{});case Js.LEAVE_TEAM:return Object(an.jsx)(Qj,{});case Js.MOVE_FURNI:return Object(an.jsx)(ch,{});case Js.MOVE_AND_ROTATE_FURNI:return Object(an.jsx)(eh,{});case Js.MOVE_FURNI_TO:return Object(an.jsx)(sh,{});case Js.MUTE_USER:return Object(an.jsx)(ih,{});case Js.RESET:return Object(an.jsx)(ah,{});case Js.SET_FURNI_STATE:return Object(an.jsx)(oh,{});case Js.TELEPORT:return Object(an.jsx)(lh,{});case Js.TOGGLE_FURNI_STATE:return Object(an.jsx)(dh,{})}return null})(t.code):t instanceof a.Ci?(e=>{switch(e){case cn.AVATAR_ENTERS_ROOM:return Object(an.jsx)(Rh,{});case cn.AVATAR_SAYS_SOMETHING:return Object(an.jsx)(yh,{});case cn.AVATAR_WALKS_OFF_FURNI:return Object(an.jsx)(kh,{});case cn.AVATAR_WALKS_ON_FURNI:return Object(an.jsx)(Ah,{});case cn.BOT_REACHED_AVATAR:return Object(an.jsx)(Dh,{});case cn.BOT_REACHED_STUFF:return Object(an.jsx)(Lh,{});case cn.COLLISION:return Object(an.jsx)(Ph,{});case cn.EXECUTE_ONCE:return Object(an.jsx)(Uh,{});case cn.EXECUTE_PERIODICALLY:return Object(an.jsx)(Fh,{});case cn.EXECUTE_PERIODICALLY_LONG:return Object(an.jsx)(Mh,{});case cn.GAME_ENDS:return Object(an.jsx)(Bh,{});case cn.GAME_STARTS:return Object(an.jsx)(Hh,{});case cn.SCORE_ACHIEVED:return Object(an.jsx)(Gh,{});case cn.TOGGLE_FURNI:return Object(an.jsx)(Wh,{})}return null})(t.code):t instanceof a.ub?(e=>{switch(e){case Zs.ACTOR_HAS_HANDITEM:return Object(an.jsx)(hh,{});case Zs.ACTOR_IS_GROUP_MEMBER:case Zs.NOT_ACTOR_IN_GROUP:return Object(an.jsx)(bh,{});case Zs.ACTOR_IS_ON_FURNI:case Zs.NOT_ACTOR_ON_FURNI:return Object(an.jsx)(gh,{});case Zs.ACTOR_IS_IN_TEAM:case Zs.NOT_ACTOR_IN_TEAM:return Object(an.jsx)(Oh,{});case Zs.ACTOR_IS_WEARING_BADGE:case Zs.NOT_ACTOR_WEARS_BADGE:return Object(an.jsx)(ph,{});case Zs.ACTOR_IS_WEARING_EFFECT:case Zs.NOT_ACTOR_WEARING_EFFECT:return Object(an.jsx)(fh,{});case Zs.DATE_RANGE_ACTIVE:return Object(an.jsx)(xh,{});case Zs.FURNIS_HAVE_AVATARS:case Zs.FURNI_NOT_HAVE_HABBO:return Object(an.jsx)(_h,{});case Zs.HAS_STACKED_FURNIS:return Object(an.jsx)(Ih,{});case Zs.NOT_HAS_STACKED_FURNIS:return Object(an.jsx)(Eh,{});case Zs.STUFF_TYPE_MATCHES:case Zs.NOT_FURNI_IS_OF_TYPE:return Object(an.jsx)(Ch,{});case Zs.STATES_MATCH:case Zs.NOT_STATES_MATCH:return Object(an.jsx)(vh,{});case Zs.TIME_ELAPSED_LESS:return Object(an.jsx)(Nh,{});case Zs.TIME_ELAPSED_MORE:return Object(an.jsx)(Th,{});case Zs.USER_COUNT_IN:case Zs.NOT_USER_COUNT_IN:return Object(an.jsx)(Sh,{})}return null})(t.code):null:null},qh=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(!0);return Or(a.mh.CREATED,(e=>r(!1))),Or(a.mh.ENDED,(e=>r(e.openLandingView))),Object(c.useEffect)((()=>{s(!0),O().connection.onReady()}),[]),Object(c.useEffect)((()=>{const e={linkReceived:e=>{const t=e.split(\"/\");if(!(t.length<2))if(\"open\"!==t[1]);else if(t.length>2)if(\"credits\"===t[2]);else{const e=t[2];a.ce.openHabblet(e)}},eventUrlPrefix:\"habblet/\"};return l(e),()=>E(e)}),[]),Object(an.jsxs)(on,{fit:!0,children:[Object(an.jsx)(Jn,{type:Xn.FADE_IN,inProp:n,timeout:300,children:Object(an.jsx)(yl,{})}),Object(an.jsx)(Ej,{isInRoom:!n}),Object(an.jsx)(jd,{}),Object(an.jsx)(_j,{}),Object(an.jsx)(Za,{}),Object(an.jsx)(Vh,{}),Object(an.jsx)(Pi,{}),Object(an.jsx)(Ti,{}),Object(an.jsx)(yd,{}),Object(an.jsx)(Kl,{}),Object(an.jsx)(Qa,{}),Object(an.jsx)(Do,{}),Object(an.jsx)(Kd,{}),Object(an.jsx)(Rj,{}),Object(an.jsx)(wj,{}),Object(an.jsx)(Qo,{}),Object(an.jsx)(Vi,{}),Object(an.jsx)(El,{}),Object(an.jsx)(xo,{}),Object(an.jsx)(Ad,{}),Object(an.jsx)(cl,{}),Object(an.jsx)(ol,{}),Object(an.jsx)(Yi,{})]})};var zh=()=>{const e=[];self.onmessage=t=>{if(!t)return;const s=t.data;switch(s.type){case\"CREATE_INTERVAL\":{const t=s.timerId,n=s.time,r=s.response,c=setInterval((()=>postMessage(r)),n);return void e.push({id:t,interval:c})}case\"REMOVE_INTERVAL\":{const t=s.timerId,n=0;for(;n<e.length;){const s=e[n];if(s.id===t)return clearInterval(s.interval),void e.splice(n,1)}}}}};class Yh extends Worker{constructor(e){const t=e.toString(),s=new Blob([`(${t})()`]);super(URL.createObjectURL(s))}}a.vf.UI_VERSION=\"2.1.1\";const $h=e=>{const[t,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(!1),[i,l]=Object(c.useState)(\"Getting Ready\"),[d,u]=Object(c.useState)(0),[j,h]=Object(c.useState)(!0);if(!o()){if(!NitroConfig)throw new Error(\"NitroConfig is not defined!\");a.ef.bootstrap();const e=new Yh(zh);a.ef.instance.setWorker(e)}const b=Object(c.useCallback)((e=>{switch(e.type){case a.vb.LOADED:return o().localization.init(),void u((e=>e+20));case a.vb.FAILED:return r(!0),void l(\"Configuration Failed\");case a.ef.WEBGL_UNAVAILABLE:return r(!0),void l(\"WebGL Required\");case a.ef.WEBGL_CONTEXT_LOST:return r(!0),l(\"WebGL Context Lost - Reloading\"),void setTimeout((()=>window.location.reload()),1500);case a.hf.CONNECTION_HANDSHAKING:return void u((e=>e+20));case a.hf.CONNECTION_HANDSHAKE_FAILED:return r(!0),void l(\"Handshake Failed\");case a.hf.CONNECTION_AUTHENTICATED:return u((e=>e+20)),o().init(),void(a.pe.available&&a.pe.call(\"legacyTrack\",\"authentication\",\"authok\",[]));case a.hf.CONNECTION_ERROR:return r(!0),void l(\"Connection Error\");case a.hf.CONNECTION_CLOSED:return l(\"Connection Error\"),void a.ce.send(-1,\"client.init.handshake.fail\");case a.Eg.ENGINE_INITIALIZED:return u((e=>e+20)),void setTimeout((()=>s(!0)),300);case a.lf.LOADED:{const e=p(\"preload.assets.urls\"),t=[];if(e&&e.length)for(const s of e)t.push(o().core.configuration.interpolate(s));return void o().core.asset.downloadAssets(t,(e=>{e?(O().init(),u((e=>e+20))):(r(!0),l(\"Assets Failed\"))}))}}}),[]);return gr(a.ef.WEBGL_UNAVAILABLE,b),gr(a.ef.WEBGL_CONTEXT_LOST,b),gr(a.hf.CONNECTION_HANDSHAKING,b),gr(a.hf.CONNECTION_HANDSHAKE_FAILED,b),gr(a.hf.CONNECTION_AUTHENTICATED,b),gr(a.hf.CONNECTION_ERROR,b),gr(a.hf.CONNECTION_CLOSED,b),mr(a.Eg.ENGINE_INITIALIZED,b),((e,t)=>{hr(e,o().localization.events,t)})(a.lf.LOADED,b),br(a.vb.LOADED,b),br(a.vb.FAILED,b),Object(c.useEffect)((()=>{a.oj.isWebGLAvailable()?o().core.configuration.init():$e(new a.jf(a.ef.WEBGL_UNAVAILABLE));const e=e=>h(!(window.devicePixelRatio%1));return window.addEventListener(\"resize\",e),e(),()=>{window.removeEventListener(\"resize\",e)}}),[]),Object(an.jsxs)(on,{fit:!0,overflow:\"hidden\",className:j&&\"image-rendering-pixelated\",children:[(!t||n)&&Object(an.jsx)(jr,{isError:n,message:i,percent:d}),Object(an.jsx)(Jn,{type:Xn.FADE_IN,inProp:t,children:Object(an.jsx)(qh,{})}),Object(an.jsx)(on,{id:\"draggable-windows-container\"})]})};s(133);n.b.add(r.a),Object(i.createRoot)(document.getElementById(\"root\")).render(Object(an.jsx)($h,{}))}},[[134,2,1,3]]]);","name":"static/js/main.051cabb7.chunk.js","input":"(this[\"webpackJsonpnitro-react\"] = this[\"webpackJsonpnitro-react\"] || []).push([[0],{\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/fontawesome-svg-core/index.es.js\nvar index_es = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\nvar free_solid_svg_icons_index_es = __webpack_require__(86);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/@nitrots/nitro-renderer/index.ts + 2272 modules\nvar nitro_renderer = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/api/nitro/GetNitroInstance.ts\nfunction GetNitroInstance(){return nitro_renderer[\"ef\" /* Nitro */].instance;}\n// CONCATENATED MODULE: ./src/api/nitro/AddLinkEventTracker.ts\nfunction AddEventLinkTracker(tracker){GetNitroInstance().addLinkEventTracker(tracker);}\n// CONCATENATED MODULE: ./src/api/nitro/AddWorkerEventTracker.ts\nconst AddWorkerEventTracker=tracker=>{GetNitroInstance().addWorkerEventTracker(tracker);};\n// CONCATENATED MODULE: ./src/api/nitro/avatar/GetAvatarRenderManager.ts\nfunction GetAvatarRenderManager(){return GetNitroInstance().avatar;}\n// CONCATENATED MODULE: ./src/api/nitro/avatar/GetAvatarPalette.ts\nfunction GetAvatarPalette(paletteId){return GetAvatarRenderManager().structureData.getPalette(paletteId);}\n// CONCATENATED MODULE: ./src/api/nitro/avatar/GetAvatarSetType.ts\nfunction GetAvatarSetType(setType){return GetAvatarRenderManager().structureData.getSetType(setType);}\n// CONCATENATED MODULE: ./src/api/nitro/avatar/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/camera/GetRoomCameraWidgetManager.ts\nfunction GetRoomCameraWidgetManager(){return GetNitroInstance().cameraManager;}\n// CONCATENATED MODULE: ./src/api/nitro/camera/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/core/GetNitroCore.ts\nfunction GetNitroCore(){return GetNitroInstance().core;}\n// CONCATENATED MODULE: ./src/api/nitro/core/GetConfigurationManager.ts\nfunction GetConfigurationManager(){return GetNitroCore().configuration;}\n// CONCATENATED MODULE: ./src/api/nitro/core/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/CreateLinkEvent.ts\nfunction CreateLinkEvent(link){link=link.startsWith('event:')?link.substring(6):link;GetNitroInstance().createLinkEvent(link);}\n// CONCATENATED MODULE: ./src/api/nitro/GetCommunication.ts\nfunction GetCommunication(){return GetNitroInstance().communication;}\n// CONCATENATED MODULE: ./src/api/nitro/GetConfiguration.ts\nfunction GetConfiguration(key){let value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return GetNitroInstance().getConfiguration(key,value);}\n// CONCATENATED MODULE: ./src/api/nitro/GetConnection.ts\nfunction GetConnection(){return GetCommunication().connection;}\n// CONCATENATED MODULE: ./src/api/nitro/GetLocalization.ts\nfunction GetLocalization(){return GetNitroInstance().localization;}\n// CONCATENATED MODULE: ./src/api/nitro/GetTicker.ts\nfunction GetTicker(){return GetNitroInstance().ticker;}\n// CONCATENATED MODULE: ./src/api/nitro/OpenUrl.ts\nconst OpenUrl=url=>{if(!url||!url.length)return;if(url.startsWith('http')){nitro_renderer[\"ce\" /* HabboWebTools */].openWebPage(url);}else{CreateLinkEvent(url);}};\n// CONCATENATED MODULE: ./src/api/nitro/RemoveLinkEventTracker.ts\nfunction RemoveLinkEventTracker(tracker){GetNitroInstance().removeLinkEventTracker(tracker);}\n// CONCATENATED MODULE: ./src/api/nitro/RemoveWorkerEventTracker.ts\nconst RemoveWorkerEventTracker=tracker=>{GetNitroInstance().removeWorkerEventTracker(tracker);};\n// CONCATENATED MODULE: ./src/api/nitro/room/GetRoomEngine.ts\nfunction GetRoomEngine(){return GetNitroInstance().roomEngine;}\n// CONCATENATED MODULE: ./src/api/nitro/room/DispatchMouseEvent.ts\nlet didMouseMove=false;let lastClick=0;let clickCount=0;const DispatchMouseEvent=function(event){let canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;const x=event.clientX;const y=event.clientY;let eventType=event.type;if(eventType===nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK){if(lastClick){clickCount=1;if(lastClick>=Date.now()-300)clickCount++;}lastClick=Date.now();if(clickCount===2){if(!didMouseMove)eventType=nitro_renderer[\"Ve\" /* MouseEventType */].DOUBLE_CLICK;clickCount=0;lastClick=null;}}switch(eventType){case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK:break;case nitro_renderer[\"Ve\" /* MouseEventType */].DOUBLE_CLICK:break;case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_MOVE:didMouseMove=true;break;case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN:didMouseMove=false;break;case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_UP:break;case nitro_renderer[\"Ve\" /* MouseEventType */].RIGHT_CLICK:break;default:return;}GetRoomEngine().dispatchMouseEvent(canvasId,x,y,eventType,event.altKey,event.ctrlKey||event.metaKey,event.shiftKey,false);};\n// CONCATENATED MODULE: ./src/api/nitro/room/DispatchTouchEvent.ts\nlet DispatchTouchEvent_didMouseMove=false;let DispatchTouchEvent_lastClick=0;let DispatchTouchEvent_clickCount=0;const DispatchTouchEvent=function(event){let canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;let longTouch=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let altKey=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let ctrlKey=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let shiftKey=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let x=0;let y=0;if(event.touches[0]){x=event.touches[0].clientX;y=event.touches[0].clientY;}else if(event.changedTouches[0]){x=event.changedTouches[0].clientX;y=event.changedTouches[0].clientY;}let eventType=event.type;if(longTouch)eventType=nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_LONG;if(eventType===nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK||eventType===nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_END){eventType=nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK;if(DispatchTouchEvent_lastClick){DispatchTouchEvent_clickCount=1;if(DispatchTouchEvent_lastClick>=Date.now()-300)DispatchTouchEvent_clickCount++;}DispatchTouchEvent_lastClick=Date.now();if(DispatchTouchEvent_clickCount===2){if(!DispatchTouchEvent_didMouseMove)eventType=nitro_renderer[\"Ve\" /* MouseEventType */].DOUBLE_CLICK;DispatchTouchEvent_clickCount=0;DispatchTouchEvent_lastClick=null;}}switch(eventType){case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK:break;case nitro_renderer[\"Ve\" /* MouseEventType */].DOUBLE_CLICK:break;case nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_START:eventType=nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN;DispatchTouchEvent_didMouseMove=false;break;case nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_MOVE:eventType=nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_MOVE;DispatchTouchEvent_didMouseMove=true;break;case nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_END:eventType=nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_UP;break;case nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_LONG:eventType=nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN_LONG;break;default:return;}if(eventType===nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_START){GetRoomEngine().dispatchMouseEvent(canvasId,x,y,eventType,altKey,ctrlKey,shiftKey,false);}GetRoomEngine().dispatchMouseEvent(canvasId,x,y,eventType,altKey,ctrlKey,shiftKey,false);};\n// CONCATENATED MODULE: ./src/api/nitro/session/IsOwnerOfFurniture.ts\nfunction IsOwnerOfFurniture(roomObject){if(!roomObject||!roomObject.model)return false;const userId=GetSessionDataManager().userId;const objectOwnerId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);return userId===objectOwnerId;}\n// CONCATENATED MODULE: ./src/api/nitro/session/CanManipulateFurniture.ts\nfunction CanManipulateFurniture(roomSession,objectId,category){if(!roomSession)return false;return roomSession.isRoomOwner||roomSession.controllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator||IsOwnerOfFurniture(GetRoomEngine().getRoomObject(roomSession.roomId,objectId,category));}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetRoomSessionManager.ts\nfunction GetRoomSessionManager(){return GetNitroInstance().roomSessionManager;}\n// CONCATENATED MODULE: ./src/api/nitro/session/CreateRoomSession.ts\nfunction CreateRoomSession(roomId){let password=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;GetRoomSessionManager().createSession(roomId,password);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetCanStandUp.ts\nfunction GetCanStandUp(){const roomObject=GetOwnRoomObject();if(!roomObject)return nitro_renderer[\"l\" /* AvatarAction */].POSTURE_STAND;const model=roomObject.model;return model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_CAN_STAND_UP);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetCanUseExpression.ts\nfunction GetCanUseExpression(){const roomObject=GetOwnRoomObject();if(!roomObject)return false;const model=roomObject.model;const effectId=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_EFFECT);return!(effectId===29||effectId===30||effectId===185);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetSessionDataManager.ts\nfunction GetSessionDataManager(){return GetNitroInstance().sessionDataManager;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetClubMemberLevel.ts\nfunction GetClubMemberLevel(){if(GetConfiguration('hc.disabled',false))return nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].VIP;return GetSessionDataManager().clubLevel;}\n// CONCATENATED MODULE: ./src/api/catalog/BuilderFurniPlaceableStatus.ts\nclass BuilderFurniPlaceableStatus{}BuilderFurniPlaceableStatus.OKAY=0;BuilderFurniPlaceableStatus.MISSING_OFFER=1;BuilderFurniPlaceableStatus.FURNI_LIMIT_REACHED=2;BuilderFurniPlaceableStatus.NOT_IN_ROOM=3;BuilderFurniPlaceableStatus.NOT_ROOM_OWNER=4;BuilderFurniPlaceableStatus.GUILD_ROOM=5;BuilderFurniPlaceableStatus.VISITORS_IN_ROOM=6;\n// CONCATENATED MODULE: ./src/api/catalog/CatalogNode.ts\nclass CatalogNode{constructor(node,depth,parent){this._depth=0;this._localization='';this._pageId=-1;this._pageName='';this._iconId=0;this._children=void 0;this._offerIds=void 0;this._parent=void 0;this._isVisible=void 0;this._isActive=void 0;this._isOpen=void 0;this._depth=depth;this._parent=parent;this._localization=node.localization;this._pageId=node.pageId;this._pageName=node.pageName;this._iconId=node.icon;this._children=[];this._offerIds=node.offerIds;this._isVisible=node.visible;this._isActive=false;this._isOpen=false;}activate(){this._isActive=true;}deactivate(){this._isActive=false;}open(){this._isOpen=true;}close(){this._isOpen=false;}addChild(child){if(!child)return;this._children.push(child);}get depth(){return this._depth;}get isBranch(){return this._children.length>0;}get isLeaf(){return this._children.length===0;}get localization(){return this._localization;}get pageId(){return this._pageId;}get pageName(){return this._pageName;}get iconId(){return this._iconId;}get children(){return this._children;}get offerIds(){return this._offerIds;}get parent(){return this._parent;}get isVisible(){return this._isVisible;}get isActive(){return this._isActive;}get isOpen(){return this._isOpen;}}\n// CONCATENATED MODULE: ./src/api/catalog/CatalogPage.ts\nclass CatalogPage{constructor(pageId,layoutCode,localization,offers,acceptSeasonCurrencyAsCredits){let mode=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;this._pageId=void 0;this._layoutCode=void 0;this._localization=void 0;this._offers=void 0;this._acceptSeasonCurrencyAsCredits=void 0;this._mode=void 0;this._pageId=pageId;this._layoutCode=layoutCode;this._localization=localization;this._offers=offers;this._acceptSeasonCurrencyAsCredits=acceptSeasonCurrencyAsCredits;for(const offer of offers)offer.page=this;if(mode===-1)this._mode=CatalogPage.MODE_NORMAL;else this._mode=mode;}get pageId(){return this._pageId;}get layoutCode(){return this._layoutCode;}get localization(){return this._localization;}get offers(){return this._offers;}get acceptSeasonCurrencyAsCredits(){return this._acceptSeasonCurrencyAsCredits;}get mode(){return this._mode;}}CatalogPage.MODE_NORMAL=0;\n// CONCATENATED MODULE: ./src/api/catalog/CatalogPageName.ts\nclass CatalogPageName{}CatalogPageName.DUCKET_INFO='ducket_info';CatalogPageName.CREDITS='credits';CatalogPageName.AVATAR_EFFECTS='avatar_effects';CatalogPageName.HC_MEMBERSHIP='hc_membership';CatalogPageName.CLUB_GIFTS='club_gifts';CatalogPageName.LIMITED_SOLD='limited_sold';CatalogPageName.PET_ACCESSORIES='pet_accessories';CatalogPageName.TRAX_SONGS='trax_songs';CatalogPageName.NEW_ADDITIONS='new_additions';CatalogPageName.QUEST_SHELL='quest_shell';CatalogPageName.QUEST_SNOWFLAKES='quest_snowflakes';CatalogPageName.VAL_QUESTS='val_quests';CatalogPageName.GUILD_CUSTOM_FURNI='guild_custom_furni';CatalogPageName.GIFT_SHOP='gift_shop';CatalogPageName.HORSE_STYLES='horse_styles';CatalogPageName.HORSE_SHOE='horse_shoe';CatalogPageName.SET_EASTER='set_easter';CatalogPageName.ECOTRON_TRANSFORM='ecotron_transform';CatalogPageName.LOYALTY_INFO='loyalty_info';CatalogPageName.ROOM_BUNDLES='room_bundles';CatalogPageName.ROOM_BUNDLES_MOBILE='room_bundles_mobile';CatalogPageName.HABBO_CLUB_DESKTOP='habbo_club_desktop';CatalogPageName.MOBILE_SUBSCRIPTIONS='mobile_subscriptions';\n// CONCATENATED MODULE: ./src/api/catalog/CatalogPetPalette.ts\nclass CatalogPetPalette{constructor(breed,palettes){this.breed=breed;this.palettes=palettes;}}\n// CONCATENATED MODULE: ./src/api/catalog/CatalogPurchaseState.ts\nclass CatalogPurchaseState{}CatalogPurchaseState.NONE=0;CatalogPurchaseState.CONFIRM=1;CatalogPurchaseState.PURCHASE=2;CatalogPurchaseState.NO_CREDITS=3;CatalogPurchaseState.NO_POINTS=4;CatalogPurchaseState.SOLD_OUT=5;CatalogPurchaseState.FAILED=6;\n// CONCATENATED MODULE: ./src/api/catalog/CatalogType.ts\nclass CatalogType{}CatalogType.NORMAL='NORMAL';CatalogType.BUILDER='BUILDERS_CLUB';\n// CONCATENATED MODULE: ./src/api/catalog/CatalogUtilities.ts\nconst GetPixelEffectIcon=id=>{return'';};const GetSubscriptionProductIcon=id=>{return'';};const GetOfferNodes=(offerNodes,offerId)=>{const nodes=offerNodes.get(offerId);const allowedNodes=[];if(nodes&&nodes.length){for(const node of nodes){if(!node.isVisible)continue;allowedNodes.push(node);}}return allowedNodes;};const FilterCatalogNode=(search,furniLines,node,nodes)=>{if(node.isVisible&&node.pageId>0){let nodeAdded=false;const hayStack=[node.pageName,node.localization].join(' ').toLowerCase().replace(/ /gi,'');if(hayStack.indexOf(search)>-1){nodes.push(node);nodeAdded=true;}if(!nodeAdded){for(const furniLine of furniLines){if(hayStack.indexOf(furniLine)>=0){nodes.push(node);break;}}}}for(const child of node.children)FilterCatalogNode(search,furniLines,child,nodes);};function GetPetIndexFromLocalization(localization){if(!localization.length)return 0;let index=localization.length-1;while(index>=0){if(isNaN(parseInt(localization.charAt(index))))break;index--;}if(index>0)return parseInt(localization.substring(index+1));return-1;}function GetPetAvailableColors(petIndex,palettes){switch(petIndex){case 0:return[[16743226],[16750435],[16764339],[0xF59500],[16498012],[16704690],[0xEDD400],[16115545],[16513201],[8694111],[11585939],[14413767],[6664599],[9553845],[12971486],[8358322],[10002885],[13292268],[10780600],[12623573],[14403561],[12418717],[14327229],[15517403],[14515069],[15764368],[16366271],[0xABABAB],[0xD4D4D4],[0xFFFFFF],[14256481],[14656129],[15848130],[14005087],[14337152],[15918540],[15118118],[15531929],[9764857],[11258085]];case 1:return[[16743226],[16750435],[16764339],[0xF59500],[16498012],[16704690],[0xEDD400],[16115545],[16513201],[8694111],[11585939],[14413767],[6664599],[9553845],[12971486],[8358322],[10002885],[13292268],[10780600],[12623573],[14403561],[12418717],[14327229],[15517403],[14515069],[15764368],[16366271],[0xABABAB],[0xD4D4D4],[0xFFFFFF],[14256481],[14656129],[15848130],[14005087],[14337152],[15918540],[15118118],[15531929],[9764857],[11258085]];case 2:return[[16579283],[15378351],[8830016],[15257125],[9340985],[8949607],[6198292],[8703620],[9889626],[8972045],[12161285],[13162269],[8620113],[12616503],[8628101],[0xD2FF00],[9764857]];case 3:return[[0xFFFFFF],[0xEEEEEE],[0xDDDDDD]];case 4:return[[0xFFFFFF],[16053490],[15464440],[16248792],[15396319],[15007487]];case 5:return[[0xFFFFFF],[0xEEEEEE],[0xDDDDDD]];case 6:return[[0xFFFFFF],[0xEEEEEE],[0xDDDDDD],[16767177],[16770205],[16751331]];case 7:return[[0xCCCCCC],[0xAEAEAE],[16751331],[10149119],[16763290],[16743786]];default:{const colors=[];for(const palette of palettes){const petColorResult=GetRoomEngine().getPetColorResult(petIndex,palette.paletteId);if(!petColorResult)continue;if(petColorResult.primaryColor===petColorResult.secondaryColor){colors.push([petColorResult.primaryColor]);}else{colors.push([petColorResult.primaryColor,petColorResult.secondaryColor]);}}return colors;}}}\n// CONCATENATED MODULE: ./src/api/catalog/ProductTypeEnum.ts\nclass ProductTypeEnum{}ProductTypeEnum.WALL='i';ProductTypeEnum.FLOOR='s';ProductTypeEnum.EFFECT='e';ProductTypeEnum.HABBO_CLUB='h';ProductTypeEnum.BADGE='b';ProductTypeEnum.GAME_TOKEN='GAME_TOKEN';ProductTypeEnum.PET='p';ProductTypeEnum.ROBOT='r';\n// CONCATENATED MODULE: ./src/api/catalog/Product.ts\nclass Product_Product{constructor(productType,productClassId,extraParam,productCount,productData,furnitureData){let isUniqueLimitedItem=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let uniqueLimitedItemSeriesSize=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let uniqueLimitedItemsLeft=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;this._productType=void 0;this._productClassId=void 0;this._extraParam=void 0;this._productCount=void 0;this._productData=void 0;this._furnitureData=void 0;this._isUniqueLimitedItem=void 0;this._uniqueLimitedItemSeriesSize=void 0;this._uniqueLimitedItemsLeft=void 0;this._productType=productType.toLowerCase();this._productClassId=productClassId;this._extraParam=extraParam;this._productCount=productCount;this._productData=productData;this._furnitureData=furnitureData;this._isUniqueLimitedItem=isUniqueLimitedItem;this._uniqueLimitedItemSeriesSize=uniqueLimitedItemSeriesSize;this._uniqueLimitedItemsLeft=uniqueLimitedItemsLeft;}static stripAddonProducts(products){if(products.length===1)return products;return products.filter(product=>product.productType!==ProductTypeEnum.BADGE&&product.productType!==ProductTypeEnum.EFFECT&&product.productClassId!==Product_Product.EFFECT_CLASSID_NINJA_DISAPPEAR);}getIconUrl(){let offer=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let stuffData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(this._productType){case ProductTypeEnum.FLOOR:return GetRoomEngine().getFurnitureFloorIconUrl(this.productClassId);case ProductTypeEnum.WALL:{if(offer&&this._furnitureData){let iconName='';switch(this._furnitureData.className){case'floor':iconName=['th',this._furnitureData.className,offer.product.extraParam].join('_');break;case'wallpaper':iconName=['th','wall',offer.product.extraParam].join('_');break;case'landscape':iconName=['th',this._furnitureData.className,(offer.product.extraParam||'').replace('.','_'),'001'].join('_');break;}if(iconName!==''){const assetUrl=GetConfiguration('catalog.asset.url');return`${assetUrl}/${iconName}.png`;}}return GetRoomEngine().getFurnitureWallIconUrl(this.productClassId,this._extraParam);}case ProductTypeEnum.EFFECT:return GetPixelEffectIcon(this.productClassId);case ProductTypeEnum.HABBO_CLUB:return GetSubscriptionProductIcon(this.productClassId);case ProductTypeEnum.BADGE:return GetSessionDataManager().getBadgeUrl(this._extraParam);case ProductTypeEnum.ROBOT:return null;}return null;}get productType(){return this._productType;}get productClassId(){return this._productClassId;}get extraParam(){return this._extraParam;}set extraParam(extraParam){this._extraParam=extraParam;}get productCount(){return this._productCount;}get productData(){return this._productData;}get furnitureData(){return this._furnitureData;}get isUniqueLimitedItem(){return this._isUniqueLimitedItem;}get uniqueLimitedItemSeriesSize(){return this._uniqueLimitedItemSeriesSize;}get uniqueLimitedItemsLeft(){return this._uniqueLimitedItemsLeft;}set uniqueLimitedItemsLeft(uniqueLimitedItemsLeft){this._uniqueLimitedItemsLeft=uniqueLimitedItemsLeft;}}Product_Product.EFFECT_CLASSID_NINJA_DISAPPEAR=108;\n// CONCATENATED MODULE: ./src/api/catalog/Offer.ts\nclass Offer_Offer{constructor(offerId,localizationId,isRentOffer,priceInCredits,priceInActivityPoints,activityPointType,giftable,clubLevel,products,bundlePurchaseAllowed){this._pricingModel=void 0;this._priceType=void 0;this._offerId=void 0;this._localizationId=void 0;this._priceInCredits=void 0;this._priceInActivityPoints=void 0;this._activityPointType=void 0;this._giftable=void 0;this._isRentOffer=void 0;this._page=void 0;this._clubLevel=0;this._products=void 0;this._badgeCode=void 0;this._bundlePurchaseAllowed=false;this._offerId=offerId;this._localizationId=localizationId;this._isRentOffer=isRentOffer;this._priceInCredits=priceInCredits;this._priceInActivityPoints=priceInActivityPoints;this._activityPointType=activityPointType;this._giftable=giftable;this._clubLevel=clubLevel;this._products=products;this._bundlePurchaseAllowed=bundlePurchaseAllowed;this.setPricingModelForProducts();this.setPricingType();for(const product of products){if(product.productType===ProductTypeEnum.BADGE){this._badgeCode=product.extraParam;break;}}}activate(){}get clubLevel(){return this._clubLevel;}get page(){return this._page;}set page(k){this._page=k;}get offerId(){return this._offerId;}get localizationId(){return this._localizationId;}get priceInCredits(){return this._priceInCredits;}get priceInActivityPoints(){return this._priceInActivityPoints;}get activityPointType(){return this._activityPointType;}get giftable(){return this._giftable;}get product(){if(!this._products||!this._products.length)return null;if(this._products.length===1)return this._products[0];const products=Product_Product.stripAddonProducts(this._products);if(products.length)return products[0];return null;}get pricingModel(){return this._pricingModel;}get priceType(){return this._priceType;}get bundlePurchaseAllowed(){return this._bundlePurchaseAllowed;}get isRentOffer(){return this._isRentOffer;}get badgeCode(){return this._badgeCode;}get localizationName(){const productData=GetProductDataForLocalization(this._localizationId);if(productData)return productData.name;return LocalizeText(this._localizationId);}get localizationDescription(){const productData=GetProductDataForLocalization(this._localizationId);if(productData)return productData.description;return LocalizeText(this._localizationId);}get isLazy(){return false;}get products(){return this._products;}setPricingModelForProducts(){const products=Product_Product.stripAddonProducts(this._products);if(products.length===1){if(products[0].productCount===1){this._pricingModel=Offer_Offer.PRICING_MODEL_SINGLE;}else{this._pricingModel=Offer_Offer.PRICING_MODEL_MULTI;}}else if(products.length>1){this._pricingModel=Offer_Offer.PRICING_MODEL_BUNDLE;}else{this._pricingModel=Offer_Offer.PRICING_MODEL_UNKNOWN;}}setPricingType(){if(this._priceInCredits>0&&this._priceInActivityPoints>0){this._priceType=Offer_Offer.PRICE_TYPE_CREDITS_ACTIVITYPOINTS;}else if(this._priceInCredits>0){this._priceType=Offer_Offer.PRICE_TYPE_CREDITS;}else if(this._priceInActivityPoints>0){this._priceType=Offer_Offer.PRICE_TYPE_ACTIVITYPOINTS;}else{this._priceType=Offer_Offer.PRICE_TYPE_NONE;}}clone(){const products=[];const productData=GetProductDataForLocalization(this.localizationId);for(const product of this._products){const furnitureData=GetFurnitureData(product.productClassId,product.productType);products.push(new Product_Product(product.productType,product.productClassId,product.extraParam,product.productCount,productData,furnitureData));}const offer=new Offer_Offer(this.offerId,this.localizationId,this.isRentOffer,this.priceInCredits,this.priceInActivityPoints,this.activityPointType,this.giftable,this.clubLevel,products,this.bundlePurchaseAllowed);offer.page=this.page;return offer;}}Offer_Offer.PRICING_MODEL_UNKNOWN='pricing_model_unknown';Offer_Offer.PRICING_MODEL_SINGLE='pricing_model_single';Offer_Offer.PRICING_MODEL_MULTI='pricing_model_multi';Offer_Offer.PRICING_MODEL_BUNDLE='pricing_model_bundle';Offer_Offer.PRICING_MODEL_FURNITURE='pricing_model_furniture';Offer_Offer.PRICE_TYPE_NONE='price_type_none';Offer_Offer.PRICE_TYPE_CREDITS='price_type_credits';Offer_Offer.PRICE_TYPE_ACTIVITYPOINTS='price_type_activitypoints';Offer_Offer.PRICE_TYPE_CREDITS_ACTIVITYPOINTS='price_type_credits_and_activitypoints';\n// CONCATENATED MODULE: ./src/api/catalog/FurnitureOffer.ts\nclass FurnitureOffer_FurnitureOffer{constructor(furniData){this._furniData=void 0;this._page=void 0;this._product=void 0;this._furniData=furniData;this._product=new Product_Product(this._furniData.type,this._furniData.id,this._furniData.customParams,1,GetProductDataForLocalization(this._furniData.className),this._furniData);}activate(){SendMessageComposer(new nitro_renderer[\"Lc\" /* GetProductOfferComposer */](this._furniData.rentOfferId>-1?this._furniData.rentOfferId:this._furniData.purchaseOfferId));}get offerId(){return this.isRentOffer?this._furniData.rentOfferId:this._furniData.purchaseOfferId;}get priceInActivityPoints(){return 0;}get activityPointType(){return 0;}get priceInCredits(){return 0;}get page(){return this._page;}set page(page){this._page=page;}get priceType(){return'';}get product(){return this._product;}get products(){return[this._product];}get localizationId(){return'roomItem.name.'+this._furniData.id;}get bundlePurchaseAllowed(){return false;}get isRentOffer(){return this._furniData.rentOfferId>-1;}get giftable(){return false;}get pricingModel(){return Offer_Offer.PRICING_MODEL_FURNITURE;}get clubLevel(){return 0;}get badgeCode(){return'';}get localizationName(){return this._furniData.name;}get localizationDescription(){return this._furniData.description;}get isLazy(){return true;}}\n// CONCATENATED MODULE: ./src/api/catalog/GetImageIconUrlForProduct.ts\nconst GetImageIconUrlForProduct=function(productType,productClassId){let extraData=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let imageUrl=null;switch(productType.toLocaleLowerCase()){case ProductTypeEnum.FLOOR:imageUrl=GetRoomEngine().getFurnitureFloorIconUrl(productClassId);break;case ProductTypeEnum.WALL:imageUrl=GetRoomEngine().getFurnitureWallIconUrl(productClassId,extraData);break;}return imageUrl;};\n// CONCATENATED MODULE: ./src/api/catalog/GiftWrappingConfiguration.ts\nclass GiftWrappingConfiguration{constructor(parser){this._isEnabled=false;this._price=null;this._stuffTypes=null;this._boxTypes=null;this._ribbonTypes=null;this._defaultStuffTypes=null;this._isEnabled=parser.isEnabled;this._price=parser.price;this._boxTypes=parser.boxTypes;this._ribbonTypes=parser.ribbonTypes;this._stuffTypes=parser.giftWrappers;this._defaultStuffTypes=parser.giftFurnis;}get isEnabled(){return this._isEnabled;}get price(){return this._price;}get stuffTypes(){return this._stuffTypes;}get boxTypes(){return this._boxTypes;}get ribbonTypes(){return this._ribbonTypes;}get defaultStuffTypes(){return this._defaultStuffTypes;}}\n// CONCATENATED MODULE: ./src/api/catalog/ICatalogNode.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/ICatalogOptions.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/ICatalogPage.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IMarketplaceSearchOptions.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IPageLocalization.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IProduct.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IPurchasableOffer.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IPurchaseOptions.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/MarketplaceOfferData.ts\nclass MarketplaceOfferData{constructor(offerId,furniId,furniType,extraData,stuffData,price,status,averagePrice){let offerCount=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;this._offerId=void 0;this._furniId=void 0;this._furniType=void 0;this._extraData=void 0;this._stuffData=void 0;this._price=void 0;this._averagePrice=void 0;this._imageCallback=void 0;this._status=void 0;this._timeLeftMinutes=-1;this._offerCount=void 0;this._image=void 0;this._offerId=offerId;this._furniId=furniId;this._furniType=furniType;this._extraData=extraData;this._stuffData=stuffData;this._price=price;this._status=status;this._averagePrice=averagePrice;this._offerCount=offerCount;}get offerId(){return this._offerId;}set offerId(offerId){this._offerId=offerId;}get furniId(){return this._furniId;}get furniType(){return this._furniType;}get extraData(){return this._extraData;}get stuffData(){return this._stuffData;}get price(){return this._price;}set price(price){this._price=price;}get averagePrice(){return this._averagePrice;}get image(){return this._image;}set image(image){this._image=image;}get imageCallback(){return this._imageCallback;}set imageCallback(callback){this._imageCallback=callback;}get status(){return this._status;}get timeLeftMinutes(){return this._timeLeftMinutes;}set timeLeftMinutes(minutes){this._timeLeftMinutes=minutes;}get offerCount(){return this._offerCount;}set offerCount(count){this._offerCount=count;}get isUniqueLimitedItem(){return this.stuffData&&this.stuffData.uniqueSeries>0;}}MarketplaceOfferData.TYPE_FLOOR=1;MarketplaceOfferData.TYPE_WALL=2;\n// CONCATENATED MODULE: ./src/api/catalog/MarketplaceOfferState.ts\nclass MarketPlaceOfferState{}MarketPlaceOfferState.ONGOING=1;MarketPlaceOfferState.ONGOING_OWN=1;MarketPlaceOfferState.SOLD=2;MarketPlaceOfferState.EXPIRED=3;\n// CONCATENATED MODULE: ./src/api/catalog/MarketplaceSearchType.ts\nclass MarketplaceSearchType{}MarketplaceSearchType.BY_ACTIVITY=1;MarketplaceSearchType.BY_VALUE=2;MarketplaceSearchType.ADVANCED=3;\n// CONCATENATED MODULE: ./src/api/catalog/PageLocalization.ts\nclass PageLocalization_PageLocalization{constructor(images,texts){this._images=void 0;this._texts=void 0;this._images=images;this._texts=texts;}getText(index){let message=this._texts[index]||'';if(message&&message.length)message=message.replace(/\\r\\n|\\r|\\n/g,'<br />');return message;}getImage(index){const imageName=this._images[index]||'';if(!imageName||!imageName.length)return null;let assetUrl=GetConfiguration('catalog.asset.image.url');assetUrl=assetUrl.replace('%name%',imageName);return assetUrl;}}\n// CONCATENATED MODULE: ./src/api/catalog/PlacedObjectPurchaseData.ts\nclass PlacedObjectPurchaseData{constructor(roomId,objectId,category,wallLocation,x,y,direction,offer){this.roomId=roomId;this.objectId=objectId;this.category=category;this.wallLocation=wallLocation;this.x=x;this.y=y;this.direction=direction;this.offer=offer;}get offerId(){return this.offer.offerId;}get productClassId(){return this.offer.product.productClassId;}get productData(){return this.offer.product.productData;}get furniData(){return this.offer.product.furnitureData;}get extraParam(){return this.offer.product.extraParam;}}\n// CONCATENATED MODULE: ./src/api/catalog/RequestedPage.ts\nclass RequestedPage{constructor(){this._requestType=void 0;this._requestById=void 0;this._requestedByOfferId=void 0;this._requestByName=void 0;this._requestType=RequestedPage.REQUEST_TYPE_NONE;}resetRequest(){this._requestType=RequestedPage.REQUEST_TYPE_NONE;this._requestById=-1;this._requestedByOfferId=-1;this._requestByName=null;}get requestType(){return this._requestType;}get requestById(){return this._requestById;}set requestById(id){this._requestType=RequestedPage.REQUEST_TYPE_ID;this._requestById=id;}get requestedByOfferId(){return this._requestedByOfferId;}set requestedByOfferId(offerId){this._requestType=RequestedPage.REQUEST_TYPE_OFFER;this._requestedByOfferId=offerId;}get requestByName(){return this._requestByName;}set requestByName(name){this._requestType=RequestedPage.REQUEST_TYPE_NAME;this._requestByName=name;}}RequestedPage.REQUEST_TYPE_NONE=0;RequestedPage.REQUEST_TYPE_ID=1;RequestedPage.REQUEST_TYPE_OFFER=2;RequestedPage.REQUEST_TYPE_NAME=3;\n// CONCATENATED MODULE: ./src/api/catalog/SearchResult.ts\nclass SearchResult{constructor(searchValue,offers,filteredNodes){this.searchValue=searchValue;this.offers=offers;this.filteredNodes=filteredNodes;}}\n// CONCATENATED MODULE: ./src/api/catalog/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/session/GetFurnitureData.ts\nfunction GetFurnitureData(furniClassId,productType){let furniData=null;switch(productType.toLowerCase()){case ProductTypeEnum.FLOOR:furniData=GetSessionDataManager().getFloorItemData(furniClassId);break;case ProductTypeEnum.WALL:furniData=GetSessionDataManager().getWallItemData(furniClassId);break;}return furniData;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetFurnitureDataForProductOffer.ts\nfunction GetFurnitureDataForProductOffer(offer){if(!offer)return null;let furniData=null;switch(offer.productType.toUpperCase()){case nitro_renderer[\"pc\" /* FurnitureType */].FLOOR:furniData=GetSessionDataManager().getFloorItemData(offer.furniClassId);break;case nitro_renderer[\"pc\" /* FurnitureType */].WALL:furniData=GetSessionDataManager().getWallItemData(offer.furniClassId);break;}return furniData;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetFurnitureDataForRoomObject.ts\nfunction GetFurnitureDataForRoomObject(roomId,objectId,category){const roomObject=GetRoomEngine().getRoomObject(roomId,objectId,category);if(!roomObject)return;const typeId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);switch(category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:return GetSessionDataManager().getFloorItemData(typeId);case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:return GetSessionDataManager().getWallItemData(typeId);}return null;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetOwnPosture.ts\nfunction GetOwnPosture(){const roomObject=GetOwnRoomObject();if(!roomObject)return nitro_renderer[\"l\" /* AvatarAction */].POSTURE_STAND;const model=roomObject.model;return model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_POSTURE);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetProductDataForLocalization.ts\nfunction GetProductDataForLocalization(localizationId){if(!localizationId)return null;return GetSessionDataManager().getProductData(localizationId);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetRoomSession.ts\nfunction GetRoomSession(){return GetRoomSessionManager().getSession(-1);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GoToDesktop.ts\nfunction GoToDesktop(){SendMessageComposer(new nitro_renderer[\"Db\" /* DesktopViewComposer */]());}\n// CONCATENATED MODULE: ./src/api/nitro/session/HasHabboClub.ts\nfunction HasHabboClub(){return GetSessionDataManager().clubLevel>=nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].CLUB;}\n// CONCATENATED MODULE: ./src/api/nitro/session/HasHabboVip.ts\nfunction HasHabboVip(){return GetSessionDataManager().clubLevel>=nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].VIP;}\n// CONCATENATED MODULE: ./src/api/nitro/session/IsOwnerOfFloorFurniture.ts\nfunction IsOwnerOfFloorFurniture(id){const roomObject=GetRoomEngine().getRoomObject(GetRoomSession().roomId,id,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);if(!roomObject||!roomObject.model)return false;const userId=GetSessionDataManager().userId;const objectOwnerId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);return userId===objectOwnerId;}\n// CONCATENATED MODULE: ./src/api/nitro/session/IsRidingHorse.ts\nfunction IsRidingHorse(){const roomObject=GetOwnRoomObject();if(!roomObject)return false;const model=roomObject.model;const effectId=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_EFFECT);return effectId===77;}\n// CONCATENATED MODULE: ./src/api/nitro/session/StartRoomSession.ts\nfunction StartRoomSession(session){GetRoomSessionManager().startSession(session);}\n// CONCATENATED MODULE: ./src/api/nitro/session/VisitDesktop.ts\nconst VisitDesktop=()=>{if(!GetRoomSession())return;GoToDesktop();GetRoomSessionManager().removeSession(-1);};\n// CONCATENATED MODULE: ./src/api/nitro/session/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/GetOwnRoomObject.ts\nfunction GetOwnRoomObject(){const userId=GetSessionDataManager().userId;const roomId=GetRoomEngine().activeRoomId;const category=nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT;const totalObjects=GetRoomEngine().getTotalObjectsForManager(roomId,category);let i=0;while(i<totalObjects){const roomObject=GetRoomEngine().getRoomObjectByIndex(roomId,i,category);if(roomObject){const userData=GetRoomSession().userDataManager.getUserDataByIndex(roomObject.id);if(userData){if(userData.webID===userId)return roomObject;}}i++;}return null;}\n// CONCATENATED MODULE: ./src/api/nitro/room/GetRoomObjectBounds.ts\nconst GetRoomObjectBounds=function(roomId,objectId,category){let canvasId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;const rectangle=GetRoomEngine().getRoomObjectBoundingRectangle(roomId,objectId,category,canvasId);if(!rectangle)return null;rectangle.x=Math.round(rectangle.x);rectangle.y=Math.round(rectangle.y);return rectangle;};\n// CONCATENATED MODULE: ./src/api/nitro/room/GetRoomObjectScreenLocation.ts\nconst GetRoomObjectScreenLocation=function(roomId,objectId,category){let canvasId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;const point=GetRoomEngine().getRoomObjectScreenLocation(roomId,objectId,category,canvasId);if(!point)return null;point.x=Math.round(point.x);point.y=Math.round(point.y);return point;};\n// CONCATENATED MODULE: ./src/api/nitro/room/InitializeRoomInstanceRenderingCanvas.ts\nconst InitializeRoomInstanceRenderingCanvas=function(width,height){let canvasId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;const roomEngine=GetRoomEngine();const roomId=roomEngine.activeRoomId;roomEngine.initializeRoomInstanceRenderingCanvas(roomId,canvasId,width,height);};\n// CONCATENATED MODULE: ./src/api/nitro/room/IsFurnitureSelectionDisabled.ts\nfunction IsFurnitureSelectionDisabled(event){let result=false;const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(roomObject){const selectionDisabled=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_SELECTION_DISABLED)===1;if(selectionDisabled){result=true;if(GetSessionDataManager().isModerator)result=false;}}return result;}\n// CONCATENATED MODULE: ./src/api/nitro/room/ProcessRoomObjectOperation.ts\nfunction ProcessRoomObjectOperation(objectId,category,operation){GetRoomEngine().processRoomObjectOperation(objectId,category,operation);}\n// CONCATENATED MODULE: ./src/api/nitro/room/SetActiveRoomId.ts\nfunction SetActiveRoomId(roomId){GetRoomEngine().setActiveRoomId(roomId);}\n// CONCATENATED MODULE: ./src/api/nitro/room/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/SendMessageComposer.ts\nconst SendMessageComposer=event=>GetConnection().send(event);\n// CONCATENATED MODULE: ./src/api/nitro/SendWorkerEvent.ts\nconst SendWorkerEvent=message=>{GetNitroInstance().sendWorkerEvent(message);};\n// CONCATENATED MODULE: ./src/api/nitro/index.ts\n\n// CONCATENATED MODULE: ./src/api/achievements/AchievementUtilities.ts\nclass AchievementUtilities_AchievementUtilities{static getAchievementBadgeCode(achievement){if(!achievement)return null;let badgeId=achievement.badgeId;if(!achievement.finalLevel)badgeId=GetLocalization().getPreviousLevelBadgeId(badgeId);return badgeId;}static getAchievementCategoryImageUrl(category){let progress=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let icon=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const imageUrl=GetConfiguration('achievements.images.url');let imageName=icon?'achicon_':'achcategory_';imageName+=category.code;if(progress!==null)imageName+=`_${progress>0?'active':'inactive'}`;return imageUrl.replace('%image%',imageName);}static getAchievementCategoryMaxProgress(category){if(!category)return 0;let progress=0;for(const achievement of category.achievements){progress+=achievement.levelCount;}return progress;}static getAchievementCategoryProgress(category){if(!category)return 0;let progress=0;for(const achievement of category.achievements)progress+=achievement.finalLevel?achievement.level:achievement.level-1;return progress;}static getAchievementCategoryTotalUnseen(category){if(!category)return 0;let unseen=0;for(const achievement of category.achievements)achievement.unseen>0&&unseen++;return unseen;}static getAchievementHasStarted(achievement){if(!achievement)return false;if(achievement.finalLevel||achievement.level-1>0)return true;return false;}static getAchievementIsIgnored(achievement){if(!achievement)return false;const ignored=GetConfiguration('achievements.unseen.ignored');const value=achievement.badgeId.replace(/[0-9]/g,'');const index=ignored.indexOf(value);if(index>=0)return true;return false;}static getAchievementLevel(achievement){if(!achievement)return 0;if(achievement.finalLevel)return achievement.level;return achievement.level-1;}}\n// CONCATENATED MODULE: ./src/api/achievements/AchievementCategory.ts\nclass AchievementCategory_AchievementCategory{constructor(code){this._code=void 0;this._achievements=void 0;this._code=code;this._achievements=[];}getProgress(){return AchievementUtilities_AchievementUtilities.getAchievementCategoryProgress(this);}getMaxProgress(){return AchievementUtilities_AchievementUtilities.getAchievementCategoryMaxProgress(this);}get code(){return this._code;}get achievements(){return this._achievements;}set achievements(achievements){this._achievements=achievements;}}\n// CONCATENATED MODULE: ./src/api/achievements/IAchievementCategory.ts\n\n// CONCATENATED MODULE: ./src/api/achievements/index.ts\n\n// CONCATENATED MODULE: ./src/api/avatar/AvatarEditorAction.ts\nclass AvatarEditorAction{}AvatarEditorAction.ACTION_SAVE='AEA_ACTION_SAVE';AvatarEditorAction.ACTION_CLEAR='AEA_ACTION_CLEAR';AvatarEditorAction.ACTION_RESET='AEA_ACTION_RESET';AvatarEditorAction.ACTION_RANDOMIZE='AEA_ACTION_RANDOMIZE';\n// CONCATENATED MODULE: ./src/api/avatar/AvatarEditorGridColorItem.ts\nclass AvatarEditorGridColorItem_AvatarEditorGridColorItem{constructor(partColor){let isDisabled=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this._partColor=void 0;this._isDisabled=void 0;this._isHC=void 0;this._isSelected=void 0;this._notifier=void 0;this._partColor=partColor;this._isDisabled=isDisabled;this._isHC=this._partColor.clubLevel>0;this._isSelected=false;}dispose(){this._partColor=null;}get partColor(){return this._partColor;}get color(){return nitro_renderer[\"sb\" /* ColorConverter */].int2rgb(this._partColor.rgb);}get isDisabled(){return this._isDisabled;}get isHC(){return this._isHC;}get isSelected(){return this._isSelected;}set isSelected(flag){this._isSelected=flag;if(this.notify)this.notify();}get notify(){return this._notifier;}set notify(notifier){this._notifier=notifier;}}\n// CONCATENATED MODULE: ./src/api/avatar/CategoryData.ts\nclass CategoryData{constructor(name,partItems,colorItems){this._name=void 0;this._parts=void 0;this._palettes=void 0;this._selectedPartIndex=-1;this._paletteIndexes=void 0;this._name=name;this._parts=partItems;this._palettes=colorItems;this._selectedPartIndex=-1;}static defaultColorId(palettes,clubLevel){if(!palettes||!palettes.length)return-1;let i=0;while(i<palettes.length){const colorItem=palettes[i];if(colorItem.partColor&&colorItem.partColor.clubLevel<=clubLevel){return colorItem.partColor.id;}i++;}return-1;}init(){for(const part of this._parts){if(!part)continue;part.init();}}dispose(){if(this._parts){for(const part of this._parts)part.dispose();this._parts=null;}if(this._palettes){for(const palette of this._palettes)for(const colorItem of palette)colorItem.dispose();this._palettes=null;}this._selectedPartIndex=-1;this._paletteIndexes=null;}selectPartId(partId){if(!this._parts)return;let i=0;while(i<this._parts.length){const partItem=this._parts[i];if(partItem.id===partId){this.selectPartIndex(i);return;}i++;}}selectColorIds(colorIds){if(!colorIds||!this._palettes)return;this._paletteIndexes=new Array(colorIds.length);let i=0;while(i<this._palettes.length){const palette=this.getPalette(i);if(palette){let colorId=0;if(colorIds.length>i){colorId=colorIds[i];}else{const colorItem=palette[0];if(colorItem&&colorItem.partColor)colorId=colorItem.partColor.id;}let j=0;while(j<palette.length){const colorItem=palette[j];if(colorItem.partColor.id===colorId){this._paletteIndexes[i]=j;colorItem.isSelected=true;}else{colorItem.isSelected=false;}j++;}}i++;}this.updatePartColors();}selectPartIndex(partIndex){if(!this._parts)return null;if(this._selectedPartIndex>=0&&this._parts.length>this._selectedPartIndex){const partItem=this._parts[this._selectedPartIndex];if(partItem)partItem.isSelected=false;}if(this._parts.length>partIndex){const partItem=this._parts[partIndex];if(partItem){partItem.isSelected=true;this._selectedPartIndex=partIndex;return partItem;}}return null;}selectColorIndex(colorIndex,paletteId){const palette=this.getPalette(paletteId);if(!palette)return null;if(palette.length<=colorIndex)return null;this.deselectColorIndex(this._paletteIndexes[paletteId],paletteId);this._paletteIndexes[paletteId]=colorIndex;const colorItem=palette[colorIndex];if(!colorItem)return null;colorItem.isSelected=true;this.updatePartColors();return colorItem;}getCurrentColorIndex(k){return this._paletteIndexes[k];}deselectColorIndex(colorIndex,paletteIndex){const palette=this.getPalette(paletteIndex);if(!palette)return;if(palette.length<=colorIndex)return;const colorItem=palette[colorIndex];if(!colorItem)return;colorItem.isSelected=false;}getSelectedColorIds(){if(!this._paletteIndexes||!this._paletteIndexes.length)return null;if(!this._palettes||!this._palettes.length)return null;const palette=this._palettes[0];if(!palette||!palette.length)return null;const colorItem=palette[0];if(!colorItem||!colorItem.partColor)return null;const colorId=colorItem.partColor.id;const colorIds=[];let i=0;while(i<this._paletteIndexes.length){const paletteSet=this._palettes[i];if(!(!paletteSet||paletteSet.length<=i)){if(paletteSet.length>this._paletteIndexes[i]){const color=paletteSet[this._paletteIndexes[i]];if(color&&color.partColor){colorIds.push(color.partColor.id);}else{colorIds.push(colorId);}}else{colorIds.push(colorId);}}i++;}const partItem=this.getCurrentPart();if(!partItem)return null;return colorIds.slice(0,Math.max(partItem.maxColorIndex,1));}getSelectedColors(){const partColors=[];let i=0;while(i<this._paletteIndexes.length){const colorItem=this.getSelectedColor(i);if(colorItem){partColors.push(colorItem.partColor);}else{partColors.push(null);}i++;}return partColors;}getSelectedColor(paletteId){const palette=this.getPalette(paletteId);if(!palette||palette.length<=this._paletteIndexes[paletteId])return null;return palette[this._paletteIndexes[paletteId]];}getSelectedColorId(paletteId){const colorItem=this.getSelectedColor(paletteId);if(colorItem&&colorItem.partColor)return colorItem.partColor.id;return 0;}getPalette(paletteId){if(!this._paletteIndexes||!this._palettes||this._palettes.length<=paletteId){return null;}return this._palettes[paletteId];}getCurrentPart(){return this._parts[this._selectedPartIndex];}updatePartColors(){const partColors=this.getSelectedColors();for(const partItem of this._parts){if(partItem)partItem.partColors=partColors;}}hasClubSelectionsOverLevel(level){let hasInvalidSelections=false;const partColors=this.getSelectedColors();if(partColors){let i=0;while(i<partColors.length){const partColor=partColors[i];if(partColor&&partColor.clubLevel>level)hasInvalidSelections=true;i++;}}const partItem=this.getCurrentPart();if(partItem&&partItem.partSet){const partSet=partItem.partSet;if(partSet&&partSet.clubLevel>level)hasInvalidSelections=true;}return hasInvalidSelections;}hasInvalidSelectedItems(ownedItems){const part=this.getCurrentPart();if(!part)return false;const partSet=part.partSet;if(!partSet||!partSet.isSellable)return;return ownedItems.indexOf(partSet.id)>-1;}stripClubItemsOverLevel(level){const partItem=this.getCurrentPart();if(partItem&&partItem.partSet){const partSet=partItem.partSet;if(partSet.clubLevel>level){const newPartItem=this.selectPartIndex(0);if(newPartItem&&!newPartItem.partSet)this.selectPartIndex(1);return true;}}return false;}stripClubColorsOverLevel(level){const colorIds=[];const partColors=this.getSelectedColors();const colorItems=this.getPalette(0);let didStrip=false;const colorId=CategoryData.defaultColorId(colorItems,level);if(colorId===-1)return false;let i=0;while(i<partColors.length){const partColor=partColors[i];if(!partColor){colorIds.push(colorId);didStrip=true;}else{if(partColor.clubLevel>level){colorIds.push(colorId);didStrip=true;}else{colorIds.push(partColor.id);}}i++;}if(didStrip)this.selectColorIds(colorIds);return didStrip;}// public stripInvalidSellableItems(k:IHabboInventory): boolean\n// {\n//     var _local_3:IFigurePartSet;\n//     var _local_4:AvatarEditorGridPartItem;\n//     var _local_2:AvatarEditorGridPartItem = this._Str_6315();\n//     if (((_local_2) && (_local_2.partSet)))\n//     {\n//         _local_3 = _local_2.partSet;\n//         if (((_local_3.isSellable) && (!(k._Str_14439(_local_3.id)))))\n//         {\n//             _local_4 = this._Str_8066(0);\n//             if (((!(_local_4 == null)) && (_local_4.partSet == null)))\n//             {\n//                 this._Str_8066(1);\n//             }\n//             return true;\n//         }\n//     }\n//     return false;\n// }\nget name(){return this._name;}get parts(){return this._parts;}get selectedPartIndex(){return this._selectedPartIndex;}}\n// CONCATENATED MODULE: ./src/api/avatar/AvatarEditorUtilities.ts\nclass AvatarEditorUtilities_AvatarEditorUtilities{static getGender(gender){switch(gender){case FigureData_FigureData.MALE:case'm':case'M':gender=FigureData_FigureData.MALE;break;case FigureData_FigureData.FEMALE:case'f':case'F':gender=FigureData_FigureData.FEMALE;break;default:gender=FigureData_FigureData.MALE;}return gender;}static hasFigureSetId(setId){return this.FIGURE_SET_IDS.indexOf(setId)>=0;}static createCategory(model,name){if(!model||!name||!this.CURRENT_FIGURE)return null;const partItems=[];const colorItems=[];let i=0;while(i<this.MAX_PALETTES){colorItems.push([]);i++;}const setType=GetAvatarSetType(name);if(!setType)return null;const palette=GetAvatarPalette(setType.paletteID);if(!palette)return null;let colorIds=this.CURRENT_FIGURE.getColorIds(name);if(!colorIds)colorIds=[];const partColors=new Array(colorIds.length);const clubItemsDimmed=this.clubItemsDimmed;const clubMemberLevel=GetClubMemberLevel();for(const partColor of palette.colors.getValues()){if(partColor.isSelectable&&(clubItemsDimmed||clubMemberLevel>=partColor.clubLevel)){let i=0;while(i<this.MAX_PALETTES){const isDisabled=clubMemberLevel<partColor.clubLevel;const colorItem=new AvatarEditorGridColorItem_AvatarEditorGridColorItem(partColor,isDisabled);colorItems[i].push(colorItem);i++;}if(name!==FigureData_FigureData.FACE){let i=0;while(i<colorIds.length){if(partColor.id===colorIds[i])partColors[i]=partColor;i++;}}}}let mandatorySetIds=[];if(clubItemsDimmed){mandatorySetIds=GetAvatarRenderManager().getMandatoryAvatarPartSetIds(this.CURRENT_FIGURE.gender,2);}else{mandatorySetIds=GetAvatarRenderManager().getMandatoryAvatarPartSetIds(this.CURRENT_FIGURE.gender,clubMemberLevel);}const isntMandatorySet=mandatorySetIds.indexOf(name)===-1;if(isntMandatorySet){const partItem=new AvatarEditorGridPartItem_AvatarEditorGridPartItem(null,null,false);partItem.isClear=true;partItems.push(partItem);}const usesColors=name!==FigureData_FigureData.FACE;const partSets=setType.partSets;const totalPartSets=partSets.length;i=totalPartSets-1;while(i>=0){const partSet=partSets.getWithIndex(i);let isValidGender=false;if(partSet.gender===FigureData_FigureData.UNISEX){isValidGender=true;}else if(partSet.gender===this.CURRENT_FIGURE.gender){isValidGender=true;}if(partSet.isSelectable&&isValidGender&&(clubItemsDimmed||clubMemberLevel>=partSet.clubLevel)){const isDisabled=clubMemberLevel<partSet.clubLevel;let isValid=true;if(partSet.isSellable)isValid=this.hasFigureSetId(partSet.id);if(isValid)partItems.push(new AvatarEditorGridPartItem_AvatarEditorGridPartItem(partSet,partColors,usesColors,isDisabled));}i--;}partItems.sort(this.clubItemsFirst?this.clubSorter:this.noobSorter);// if(this._forceSellableClothingVisibility || GetNitroInstance().getConfiguration<boolean>(\"avatareditor.support.sellablefurni\", false))\n// {\n//     _local_31 = (this._manager.windowManager.assets.getAssetByName(\"camera_zoom_in\") as BitmapDataAsset);\n//     _local_32 = (_local_31.content as BitmapData).clone();\n//     _local_33 = (AvatarEditorView._Str_6802.clone() as IWindowContainer);\n//     _local_33.name = AvatarEditorGridView.GET_MORE;\n//     _local_7 = new AvatarEditorGridPartItem(_local_33, k, null, null, false);\n//     _local_7._Str_3093 = _local_32;\n//     _local_3.push(_local_7);\n// }\ni=0;while(i<this.MAX_PALETTES){colorItems[i].sort(this.colorSorter);i++;}return new CategoryData(name,partItems,colorItems);}static clubSorter(a,b){const clubLevelA=!a.partSet?9999999999:a.partSet.clubLevel;const clubLevelB=!b.partSet?9999999999:b.partSet.clubLevel;const isSellableA=!a.partSet?false:a.partSet.isSellable;const isSellableB=!b.partSet?false:b.partSet.isSellable;if(isSellableA&&!isSellableB)return 1;if(isSellableB&&!isSellableA)return-1;if(clubLevelA>clubLevelB)return-1;if(clubLevelA<clubLevelB)return 1;if(a.partSet.id>b.partSet.id)return-1;if(a.partSet.id<b.partSet.id)return 1;return 0;}static colorSorter(a,b){const clubLevelA=!a.partColor?-1:a.partColor.clubLevel;const clubLevelB=!b.partColor?-1:b.partColor.clubLevel;if(clubLevelA<clubLevelB)return-1;if(clubLevelA>clubLevelB)return 1;if(a.partColor.index<b.partColor.index)return-1;if(a.partColor.index>b.partColor.index)return 1;return 0;}static noobSorter(a,b){const clubLevelA=!a.partSet?-1:a.partSet.clubLevel;const clubLevelB=!b.partSet?-1:b.partSet.clubLevel;const isSellableA=!a.partSet?false:a.partSet.isSellable;const isSellableB=!b.partSet?false:b.partSet.isSellable;if(isSellableA&&!isSellableB)return 1;if(isSellableB&&!isSellableA)return-1;if(clubLevelA<clubLevelB)return-1;if(clubLevelA>clubLevelB)return 1;if(a.partSet.id<b.partSet.id)return-1;if(a.partSet.id>b.partSet.id)return 1;return 0;}static avatarSetFirstSelectableColor(name){const setType=GetAvatarSetType(name);if(!setType)return-1;const palette=GetAvatarPalette(setType.paletteID);if(!palette)return-1;for(const color of palette.colors.getValues()){if(!color.isSelectable||GetClubMemberLevel()<color.clubLevel)continue;return color.id;}return-1;}static get clubItemsFirst(){return GetConfiguration('avatareditor.show.clubitems.first',true);}static get clubItemsDimmed(){return GetConfiguration('avatareditor.show.clubitems.dimmed',true);}}AvatarEditorUtilities_AvatarEditorUtilities.MAX_PALETTES=2;AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE=null;AvatarEditorUtilities_AvatarEditorUtilities.FIGURE_SET_IDS=[];AvatarEditorUtilities_AvatarEditorUtilities.BOUND_FURNITURE_NAMES=[];\n// CONCATENATED MODULE: ./src/api/avatar/FigureData.ts\nclass FigureData_FigureData{constructor(){this._data=void 0;this._colors=void 0;this._gender='M';this._direction=FigureData_FigureData.DEFAULT_DIRECTION;this._avatarEffectType=-1;this._notifier=null;}loadAvatarData(figureString,gender){this._data=new Map();this._colors=new Map();this._gender=gender;this.parseFigureString(figureString);this.updateView();}parseFigureString(figure){if(!figure)return;const sets=figure.split('.');if(!sets||!sets.length)return;for(const set of sets){const parts=set.split('-');if(!parts.length)continue;const setType=parts[0];const setId=parseInt(parts[1]);const colorIds=[];let offset=2;while(offset<parts.length){colorIds.push(parseInt(parts[offset]));offset++;}if(!colorIds.length)colorIds.push(0);this.savePartSetId(setType,setId,false);this.savePartSetColourId(setType,colorIds,false);}}getPartSetId(setType){const existing=this._data.get(setType);if(existing!==undefined)return existing;return-1;}getColorIds(setType){const existing=this._colors.get(setType);if(existing!==undefined)return existing;return[AvatarEditorUtilities_AvatarEditorUtilities.avatarSetFirstSelectableColor(setType)];}getFigureString(){let figureString='';const setParts=[];for(const[setType,setId]of this._data.entries()){const colorIds=this._colors.get(setType);let setPart=setType+'-'+setId;if(colorIds&&colorIds.length){let i=0;while(i<colorIds.length){setPart=setPart+('-'+colorIds[i]);i++;}}setParts.push(setPart);}let i=0;while(i<setParts.length){figureString=figureString+setParts[i];if(i<setParts.length-1)figureString=figureString+'.';i++;}return figureString;}savePartData(setType,partId,colorIds){let update=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;this.savePartSetId(setType,partId,update);this.savePartSetColourId(setType,colorIds,update);}savePartSetId(setType,partId){let update=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;switch(setType){case FigureData_FigureData.FACE:case FigureData_FigureData.HAIR:case FigureData_FigureData.HAT:case FigureData_FigureData.HEAD_ACCESSORIES:case FigureData_FigureData.EYE_ACCESSORIES:case FigureData_FigureData.FACE_ACCESSORIES:case FigureData_FigureData.SHIRT:case FigureData_FigureData.JACKET:case FigureData_FigureData.CHEST_ACCESSORIES:case FigureData_FigureData.CHEST_PRINTS:case FigureData_FigureData.TROUSERS:case FigureData_FigureData.SHOES:case FigureData_FigureData.TROUSER_ACCESSORIES:if(partId>=0){this._data.set(setType,partId);}else{this._data.delete(setType);}break;}if(update)this.updateView();}savePartSetColourId(setType,colorIds){let update=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;switch(setType){case FigureData_FigureData.FACE:case FigureData_FigureData.HAIR:case FigureData_FigureData.HAT:case FigureData_FigureData.HEAD_ACCESSORIES:case FigureData_FigureData.EYE_ACCESSORIES:case FigureData_FigureData.FACE_ACCESSORIES:case FigureData_FigureData.SHIRT:case FigureData_FigureData.JACKET:case FigureData_FigureData.CHEST_ACCESSORIES:case FigureData_FigureData.CHEST_PRINTS:case FigureData_FigureData.TROUSERS:case FigureData_FigureData.SHOES:case FigureData_FigureData.TROUSER_ACCESSORIES:this._colors.set(setType,colorIds);break;}if(update)this.updateView();}getFigureStringWithFace(k){let override=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let figureString='';const setTypes=[FigureData_FigureData.FACE];const figureSets=[];for(const setType of setTypes){const colors=this._colors.get(setType);if(!colors)continue;let setId=this._data.get(setType);if(setType===FigureData_FigureData.FACE&&override)setId=k;let figureSet=setType+'-'+setId;if(setId>=0){let i=0;while(i<colors.length){figureSet=figureSet+('-'+colors[i]);i++;}}figureSets.push(figureSet);}let i=0;while(i<figureSets.length){figureString=figureString+figureSets[i];if(i<figureSets.length-1)figureString=figureString+'.';i++;}return figureString;}updateView(){if(this.notify)this.notify();}get gender(){return this._gender;}get direction(){return this._direction;}set direction(direction){this._direction=direction;this.updateView();}set avatarEffectType(k){this._avatarEffectType=k;}get avatarEffectType(){return this._avatarEffectType;}get notify(){return this._notifier;}set notify(notifier){this._notifier=notifier;}}FigureData_FigureData.DEFAULT_DIRECTION=4;FigureData_FigureData.MALE='M';FigureData_FigureData.FEMALE='F';FigureData_FigureData.UNISEX='U';FigureData_FigureData.SCALE='h';FigureData_FigureData.STD='std';FigureData_FigureData.DEFAULT_FRAME='0';FigureData_FigureData.FACE='hd';FigureData_FigureData.HAIR='hr';FigureData_FigureData.HAT='ha';FigureData_FigureData.HEAD_ACCESSORIES='he';FigureData_FigureData.EYE_ACCESSORIES='ea';FigureData_FigureData.FACE_ACCESSORIES='fa';FigureData_FigureData.JACKET='cc';FigureData_FigureData.SHIRT='ch';FigureData_FigureData.CHEST_ACCESSORIES='ca';FigureData_FigureData.CHEST_PRINTS='cp';FigureData_FigureData.TROUSERS='lg';FigureData_FigureData.SHOES='sh';FigureData_FigureData.TROUSER_ACCESSORIES='wa';FigureData_FigureData.SET_TYPES=[FigureData_FigureData.FACE,FigureData_FigureData.HAIR,FigureData_FigureData.HAT,FigureData_FigureData.HEAD_ACCESSORIES,FigureData_FigureData.EYE_ACCESSORIES,FigureData_FigureData.FACE_ACCESSORIES,FigureData_FigureData.JACKET,FigureData_FigureData.SHIRT,FigureData_FigureData.CHEST_ACCESSORIES,FigureData_FigureData.CHEST_PRINTS,FigureData_FigureData.TROUSERS,FigureData_FigureData.SHOES,FigureData_FigureData.TROUSERS];\n// CONCATENATED MODULE: ./src/api/avatar/AvatarEditorGridPartItem.ts\nclass AvatarEditorGridPartItem_AvatarEditorGridPartItem{constructor(partSet,partColors){let useColors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;let isDisabled=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;this._renderManager=void 0;this._partSet=void 0;this._partColors=void 0;this._useColors=void 0;this._isDisabled=void 0;this._thumbContainer=void 0;this._imageUrl=void 0;this._maxColorIndex=void 0;this._isValidFigure=void 0;this._isHC=void 0;this._isSellable=void 0;this._isClear=void 0;this._isSelected=void 0;this._disposed=void 0;this._isInitalized=void 0;this._notifier=void 0;this._renderManager=GetAvatarRenderManager();this._partSet=partSet;this._partColors=partColors;this._useColors=useColors;this._isDisabled=isDisabled;this._thumbContainer=null;this._imageUrl=null;this._maxColorIndex=0;this._isValidFigure=false;this._isHC=false;this._isSellable=false;this._isClear=false;this._isSelected=false;this._disposed=false;this._isInitalized=false;if(partSet){const colors=partSet.parts;for(const color of colors)this._maxColorIndex=Math.max(this._maxColorIndex,color.colorLayerIndex);}}init(){if(this._isInitalized)return;this._isInitalized=true;this.update();}dispose(){if(this._disposed)return;this._renderManager=null;this._partSet=null;this._partColors=null;this._imageUrl=null;this._disposed=true;this._isInitalized=false;if(this._thumbContainer){this._thumbContainer.destroy();this._thumbContainer=null;}}update(){this.updateThumbVisualization();}analyzeFigure(){if(!this._renderManager||!this._partSet||!this._partSet.parts||!this._partSet.parts.length)return false;const figureContainer=this._renderManager.createFigureContainer(this.partSet.type+'-'+this.partSet.id);if(!this._renderManager.isFigureContainerReady(figureContainer)){this._renderManager.downloadAvatarFigure(figureContainer,this);return false;}this._isValidFigure=true;return true;}renderThumb(){if(!this._renderManager||!this._partSet)return null;if(!this._isValidFigure){if(!this.analyzeFigure())return null;}const parts=this._partSet.parts.concat().sort(this.sortByDrawOrder);const container=new nitro_renderer[\"if\" /* NitroContainer */]();for(const part of parts){if(!part)continue;let asset=null;let direction=0;let hasAsset=false;while(!hasAsset&&direction<AvatarEditorGridPartItem_AvatarEditorGridPartItem.THUMB_DIRECTIONS.length){const assetName=FigureData_FigureData.SCALE+'_'+FigureData_FigureData.STD+'_'+part.type+'_'+part.id+'_'+AvatarEditorGridPartItem_AvatarEditorGridPartItem.THUMB_DIRECTIONS[direction]+'_'+FigureData_FigureData.DEFAULT_FRAME;asset=this._renderManager.getAssetByName(assetName);if(asset&&asset.texture){hasAsset=true;}else{direction++;}}if(!hasAsset)continue;const x=asset.offsetX;const y=asset.offsetY;let partColor=null;if(this._useColors&&part.colorLayerIndex>0){const color=this._partColors[part.colorLayerIndex-1];if(color)partColor=color;}const sprite=new nitro_renderer[\"rf\" /* NitroSprite */](asset.texture);sprite.position.set(x,y);if(partColor)sprite.tint=partColor.rgb;container.addChild(sprite);}return container;}updateThumbVisualization(){if(!this._isInitalized)return;let container=this._thumbContainer;if(!container)container=this.renderThumb();if(!container)return;if(this._partSet){this._isHC=this._partSet.clubLevel>0;this._isSellable=this._partSet.isSellable;}else{this._isHC=false;this._isSellable=false;}if(this._isDisabled)this.setAlpha(container,0.2);this._imageUrl=nitro_renderer[\"fi\" /* TextureUtils */].generateImageUrl(container);if(this.notify)this.notify();}setAlpha(container,alpha){container.filters=[AvatarEditorGridPartItem_AvatarEditorGridPartItem.ALPHA_FILTER];return container;}sortByDrawOrder(a,b){const indexA=AvatarEditorGridPartItem_AvatarEditorGridPartItem.DRAW_ORDER.indexOf(a.type);const indexB=AvatarEditorGridPartItem_AvatarEditorGridPartItem.DRAW_ORDER.indexOf(b.type);if(indexA<indexB)return-1;if(indexA>indexB)return 1;if(a.index<b.index)return-1;if(a.index>b.index)return 1;return 0;}resetFigure(figure){if(!this.analyzeFigure())return;this.update();}get disposed(){return this._disposed;}get id(){if(!this._partSet)return-1;return this._partSet.id;}get partSet(){return this._partSet;}set partColors(partColors){this._partColors=partColors;this.update();}get isDisabled(){return this._isDisabled;}set thumbContainer(container){this._thumbContainer=container;this.update();}get imageUrl(){return this._imageUrl;}get maxColorIndex(){return this._maxColorIndex;}get isHC(){return this._isHC;}get isSellable(){return this._isSellable;}get isClear(){return this._isClear;}set isClear(flag){this._isClear=flag;}get isSelected(){return this._isSelected;}set isSelected(flag){this._isSelected=flag;if(this.notify)this.notify();}get notify(){return this._notifier;}set notify(notifier){this._notifier=notifier;}}AvatarEditorGridPartItem_AvatarEditorGridPartItem.ALPHA_FILTER=new nitro_renderer[\"gf\" /* NitroAlphaFilter */](0.2);AvatarEditorGridPartItem_AvatarEditorGridPartItem.THUMB_DIRECTIONS=[2,6,0,4,3,1];AvatarEditorGridPartItem_AvatarEditorGridPartItem.DRAW_ORDER=[nitro_renderer[\"q\" /* AvatarFigurePartType */].LEFT_HAND_ITEM,nitro_renderer[\"q\" /* AvatarFigurePartType */].LEFT_HAND,nitro_renderer[\"q\" /* AvatarFigurePartType */].LEFT_SLEEVE,nitro_renderer[\"q\" /* AvatarFigurePartType */].LEFT_COAT_SLEEVE,nitro_renderer[\"q\" /* AvatarFigurePartType */].BODY,nitro_renderer[\"q\" /* AvatarFigurePartType */].SHOES,nitro_renderer[\"q\" /* AvatarFigurePartType */].LEGS,nitro_renderer[\"q\" /* AvatarFigurePartType */].CHEST,nitro_renderer[\"q\" /* AvatarFigurePartType */].CHEST_ACCESSORY,nitro_renderer[\"q\" /* AvatarFigurePartType */].COAT_CHEST,nitro_renderer[\"q\" /* AvatarFigurePartType */].CHEST_PRINT,nitro_renderer[\"q\" /* AvatarFigurePartType */].WAIST_ACCESSORY,nitro_renderer[\"q\" /* AvatarFigurePartType */].RIGHT_HAND,nitro_renderer[\"q\" /* AvatarFigurePartType */].RIGHT_SLEEVE,nitro_renderer[\"q\" /* AvatarFigurePartType */].RIGHT_COAT_SLEEVE,nitro_renderer[\"q\" /* AvatarFigurePartType */].HEAD,nitro_renderer[\"q\" /* AvatarFigurePartType */].FACE,nitro_renderer[\"q\" /* AvatarFigurePartType */].EYES,nitro_renderer[\"q\" /* AvatarFigurePartType */].HAIR,nitro_renderer[\"q\" /* AvatarFigurePartType */].HAIR_BIG,nitro_renderer[\"q\" /* AvatarFigurePartType */].FACE_ACCESSORY,nitro_renderer[\"q\" /* AvatarFigurePartType */].EYE_ACCESSORY,nitro_renderer[\"q\" /* AvatarFigurePartType */].HEAD_ACCESSORY,nitro_renderer[\"q\" /* AvatarFigurePartType */].HEAD_ACCESSORY_EXTRA,nitro_renderer[\"q\" /* AvatarFigurePartType */].RIGHT_HAND_ITEM];\n// CONCATENATED MODULE: ./src/api/avatar/CategoryBaseModel.ts\nclass CategoryBaseModel_CategoryBaseModel{constructor(){this._categories=void 0;this._isInitalized=void 0;this._maxPaletteCount=void 0;this._disposed=void 0;this._isInitalized=false;this._maxPaletteCount=0;}dispose(){this._categories=null;this._disposed=true;}get disposed(){return this._disposed;}init(){if(!this._categories)this._categories=new Map();}reset(){this._isInitalized=false;if(this._categories){for(const category of this._categories.values())category&&category.dispose();}this._categories=new Map();}addCategory(name){let existing=this._categories.get(name);if(existing)return;existing=AvatarEditorUtilities_AvatarEditorUtilities.createCategory(this,name);if(!existing)return;this._categories.set(name,existing);this.updateSelectionsFromFigure(name);}updateSelectionsFromFigure(figure){const category=this._categories.get(figure);if(!category)return;const setId=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getPartSetId(figure);let colorIds=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getColorIds(figure);if(!colorIds)colorIds=[];category.selectPartId(setId);category.selectColorIds(colorIds);}hasClubSelectionsOverLevel(level){if(!this._categories)return false;for(const category of this._categories.values()){if(!category)continue;if(category.hasClubSelectionsOverLevel(level))return true;}return false;}hasInvalidSelectedItems(ownedItems){if(!this._categories)return false;for(const category of this._categories.values()){if(category.hasInvalidSelectedItems(ownedItems))return true;}return false;}stripClubItemsOverLevel(level){if(!this._categories)return false;let didStrip=false;for(const[name,category]of this._categories.entries()){let isValid=false;if(category.stripClubItemsOverLevel(level))isValid=true;if(category.stripClubColorsOverLevel(level))isValid=true;if(isValid){const partItem=category.getCurrentPart();if(partItem&&AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE){AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.savePartData(name,partItem.id,category.getSelectedColorIds(),true);}didStrip=true;}}return didStrip;}stripInvalidSellableItems(){if(!this._categories)return false;let didStrip=false;for(const[name,category]of this._categories.entries()){const isValid=false;// if(category._Str_8360(this._Str_2278.manager.inventory)) _local_6 = true;\nif(isValid){const partItem=category.getCurrentPart();if(partItem&&AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE){AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.savePartData(name,partItem.id,category.getSelectedColorIds(),true);}didStrip=true;}}return didStrip;}selectPart(category,partIndex){const categoryData=this._categories.get(category);if(!categoryData)return;const selectedPartIndex=categoryData.selectedPartIndex;categoryData.selectPartIndex(partIndex);const partItem=categoryData.getCurrentPart();if(!partItem)return;if(partItem.isDisabled){categoryData.selectPartIndex(selectedPartIndex);// open hc window\nreturn;}this._maxPaletteCount=partItem.maxColorIndex;AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.savePartData(category,partItem.id,categoryData.getSelectedColorIds(),true);}selectColor(category,colorIndex,paletteId){const categoryData=this._categories.get(category);if(!categoryData)return;const paletteIndex=categoryData.getCurrentColorIndex(paletteId);categoryData.selectColorIndex(colorIndex,paletteId);const colorItem=categoryData.getSelectedColor(paletteId);if(colorItem.isDisabled){categoryData.selectColorIndex(paletteIndex,paletteId);// open hc window\nreturn;}AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.savePartSetColourId(category,categoryData.getSelectedColorIds(),true);}getCategoryData(category){if(!this._isInitalized)this.init();if(!this._categories)return null;return this._categories.get(category);}get categories(){return this._categories;}get canSetGender(){return false;}get maxPaletteCount(){return this._maxPaletteCount||1;}set maxPaletteCount(count){this._maxPaletteCount=count;}get name(){return null;}}\n// CONCATENATED MODULE: ./src/api/avatar/BodyModel.ts\nclass BodyModel_BodyModel extends CategoryBaseModel_CategoryBaseModel{constructor(){super(...arguments);this._imageCallBackHandled=false;}init(){super.init();this.addCategory(FigureData_FigureData.FACE);this._isInitalized=true;}selectColor(category,colorIndex,paletteId){super.selectColor(category,colorIndex,paletteId);this.updateSelectionsFromFigure(FigureData_FigureData.FACE);}updateSelectionsFromFigure(name){if(!this._categories||!AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE)return;const category=this._categories.get(name);if(!category)return;const setId=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getPartSetId(name);let colorIds=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getColorIds(name);if(!colorIds)colorIds=[];category.selectPartId(setId);category.selectColorIds(colorIds);for(const part of category.parts){const resetFigure=figure=>{const figureString=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getFigureStringWithFace(part.id);const avatarImage=GetAvatarRenderManager().createAvatarImage(figureString,nitro_renderer[\"r\" /* AvatarScaleType */].LARGE,null,{resetFigure,dispose:null,disposed:false});const sprite=avatarImage.getImageAsSprite(nitro_renderer[\"s\" /* AvatarSetType */].HEAD);if(sprite){sprite.y=10;part.thumbContainer=sprite;setTimeout(()=>avatarImage.dispose(),0);}};resetFigure(null);}}get canSetGender(){return true;}get name(){return nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].GENERIC;}}\n// CONCATENATED MODULE: ./src/api/utils/CloneObject.ts\nconst CloneObject=object=>{if(object==null||'object'!=typeof object)return object;// @ts-ignore\nconst copy=new object.constructor();for(const attr in object){if(object.hasOwnProperty(attr))copy[attr]=object[attr];}return copy;};\n// CONCATENATED MODULE: ./src/api/utils/ColorUtils.ts\nclass ColorUtils{static makeColorHex(color){return'#'+color;}static makeColorNumberHex(color){let val=color.toString(16);if(val.length<6){const diff=6-val.length;for(let i=0;i<diff;i++){val='0'+val;}}return'#'+val;}static convertFromHex(color){return parseInt(color.replace('#',''),16);}}\n// CONCATENATED MODULE: ./src/api/utils/ConvertSeconds.ts\nconst ConvertSeconds=seconds=>{let numDays=Math.floor(seconds/86400);let numHours=Math.floor(seconds%86400/3600);let numMinutes=Math.floor(seconds%86400%3600/60);let numSeconds=seconds%86400%3600%60;return numDays.toString().padStart(2,'0')+':'+numHours.toString().padStart(2,'0')+':'+numMinutes.toString().padStart(2,'0')+':'+numSeconds.toString().padStart(2,'0');};\n// CONCATENATED MODULE: ./src/api/utils/GetLocalStorage.ts\nconst GetLocalStorage=key=>{var _ref;return(_ref=JSON.parse(window.localStorage.getItem(key)))!==null&&_ref!==void 0?_ref:null;};\n// CONCATENATED MODULE: ./src/api/utils/LocalizeBadgeDescription.ts\nconst LocalizeBadgeDescription=key=>{let badgeDesc=GetNitroInstance().localization.getBadgeDesc(key);if(!badgeDesc||!badgeDesc.length)badgeDesc=`badge_desc_${key}`;return badgeDesc;};\n// CONCATENATED MODULE: ./src/api/utils/LocalizeBageName.ts\nconst LocalizeBadgeName=key=>{let badgeName=GetNitroInstance().localization.getBadgeName(key);if(!badgeName||!badgeName.length)badgeName=`badge_name_${key}`;return badgeName;};\n// CONCATENATED MODULE: ./src/api/utils/LocalizeFormattedNumber.ts\nfunction LocalizeFormattedNumber(number){if(!number||isNaN(number))return'0';return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,' ');};\n// CONCATENATED MODULE: ./src/api/utils/LocalizeShortNumber.ts\nfunction LocalizeShortNumber(number){if(!number||isNaN(number))return'0';let abs=Math.abs(number);const rounder=Math.pow(10,1);const isNegative=number<0;let key='';const powers=[{key:'Q',value:Math.pow(10,15)},{key:'T',value:Math.pow(10,12)},{key:'B',value:Math.pow(10,9)},{key:'M',value:Math.pow(10,6)},{key:'K',value:1000}];for(const power of powers){let reduced=abs/power.value;reduced=Math.round(reduced*rounder)/rounder;if(reduced>=1){abs=reduced;key=power.key;break;}}return(isNegative?'-':'')+abs+key;}\n// CONCATENATED MODULE: ./src/api/utils/LocalizeText.ts\nfunction LocalizeText(key){let parameters=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let replacements=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return GetNitroInstance().getLocalizationWithParameters(key,parameters,replacements);}\n// CONCATENATED MODULE: ./src/api/utils/LocalStorageKeys.ts\nclass LocalStorageKeys{}LocalStorageKeys.CATALOG_PLACE_MULTIPLE_OBJECTS='catalogPlaceMultipleObjects';LocalStorageKeys.CATALOG_SKIP_PURCHASE_CONFIRMATION='catalogSkipPurchaseConfirmation';\n// CONCATENATED MODULE: ./src/api/events/DispatchEvent.ts\nconst DispatchEvent=(eventDispatcher,event)=>eventDispatcher.dispatchEvent(event);\n// CONCATENATED MODULE: ./src/api/events/DispatchMainEvent.ts\nconst DispatchMainEvent=event=>DispatchEvent(GetNitroInstance().events,event);\n// CONCATENATED MODULE: ./src/api/events/UI_EVENT_DISPATCHER.ts\nconst UI_EVENT_DISPATCHER=new nitro_renderer[\"Jb\" /* EventDispatcher */]();\n// CONCATENATED MODULE: ./src/api/events/DispatchUiEvent.ts\nconst DispatchUiEvent=event=>DispatchEvent(UI_EVENT_DISPATCHER,event);\n// CONCATENATED MODULE: ./src/api/events/index.ts\n\n// CONCATENATED MODULE: ./src/api/utils/PlaySound.ts\nlet canPlaySound=false;const PlaySound=sampleCode=>{if(!canPlaySound)return;DispatchMainEvent(new nitro_renderer[\"qf\" /* NitroSoundEvent */](nitro_renderer[\"qf\" /* NitroSoundEvent */].PLAY_SOUND,sampleCode));};const eventTypes=[nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK];const startListening=()=>{const stopListening=()=>eventTypes.forEach(type=>window.removeEventListener(type,onEvent));const onEvent=event=>(canPlaySound=true)&&stopListening();eventTypes.forEach(type=>window.addEventListener(type,onEvent));};startListening();\n// CONCATENATED MODULE: ./src/api/inventory/FurniCategory.ts\nclass FurniCategory{}FurniCategory.DEFAULT=1;FurniCategory.WALL_PAPER=2;FurniCategory.FLOOR=3;FurniCategory.LANDSCAPE=4;FurniCategory.POST_IT=5;FurniCategory.POSTER=6;FurniCategory.SOUND_SET=7;FurniCategory.TRAX_SONG=8;FurniCategory.PRESENT=9;FurniCategory.ECOTRON_BOX=10;FurniCategory.TROPHY=11;FurniCategory.CREDIT_FURNI=12;FurniCategory.PET_SHAMPOO=13;FurniCategory.PET_CUSTOM_PART=14;FurniCategory.PET_CUSTOM_PART_SHAMPOO=15;FurniCategory.PET_SADDLE=16;FurniCategory.GUILD_FURNI=17;FurniCategory.GAME_FURNI=18;FurniCategory.MONSTERPLANT_SEED=19;FurniCategory.MONSTERPLANT_REVIVAL=20;FurniCategory.MONSTERPLANT_REBREED=21;FurniCategory.MONSTERPLANT_FERTILIZE=22;FurniCategory.FIGURE_PURCHASABLE_SET=23;\n// CONCATENATED MODULE: ./src/api/inventory/FurnitureItem.ts\nclass FurnitureItem_FurnitureItem{constructor(parser){this._expirationTimeStamp=void 0;this._isWallItem=void 0;this._songId=void 0;this._locked=void 0;this._id=void 0;this._ref=void 0;this._category=void 0;this._type=void 0;this._stuffData=void 0;this._extra=void 0;this._recyclable=void 0;this._tradeable=void 0;this._groupable=void 0;this._sellable=void 0;this._secondsToExpiration=void 0;this._hasRentPeriodStarted=void 0;this._creationDay=void 0;this._creationMonth=void 0;this._creationYear=void 0;this._slotId=void 0;this._isRented=void 0;this._flatId=void 0;if(!parser)return;this._locked=false;this._id=parser.itemId;this._type=parser.spriteId;this._ref=parser.ref;this._category=parser.category;this._groupable=parser.isGroupable&&!parser.rentable;this._tradeable=parser.tradable;this._recyclable=parser.isRecycleable;this._sellable=parser.sellable;this._stuffData=parser.stuffData;this._extra=parser.extra;this._secondsToExpiration=parser.secondsToExpiration;this._expirationTimeStamp=parser.expirationTimeStamp;this._hasRentPeriodStarted=parser.hasRentPeriodStarted;this._creationDay=parser.creationDay;this._creationMonth=parser.creationMonth;this._creationYear=parser.creationYear;this._slotId=parser.slotId;this._songId=parser.songId;this._flatId=parser.flatId;this._isRented=parser.rentable;this._isWallItem=parser.isWallItem;}get rentable(){return this._isRented;}get id(){return this._id;}get ref(){return this._ref;}get category(){return this._category;}get type(){return this._type;}get stuffData(){return this._stuffData;}set stuffData(k){this._stuffData=k;}get extra(){return this._extra;}get recyclable(){return this._recyclable;}get isTradable(){return this._tradeable;}get isGroupable(){return this._groupable;}get sellable(){return this._sellable;}get secondsToExpiration(){if(this._secondsToExpiration===-1)return-1;let time=-1;if(this._hasRentPeriodStarted){time=this._secondsToExpiration-(GetNitroInstance().time-this._expirationTimeStamp)/1000;if(time<0)time=0;}else{time=this._secondsToExpiration;}return time;}get creationDay(){return this._creationDay;}get creationMonth(){return this._creationMonth;}get creationYear(){return this._creationYear;}get slotId(){return this._slotId;}get songId(){return this._songId;}get locked(){return this._locked;}set locked(k){this._locked=k;}get flatId(){return this._flatId;}get isWallItem(){return this._isWallItem;}get hasRentPeriodStarted(){return this._hasRentPeriodStarted;}get expirationTimeStamp(){return this._expirationTimeStamp;}update(parser){this._type=parser.spriteId;this._ref=parser.ref;this._category=parser.category;this._groupable=parser.isGroupable&&!parser.rentable;this._tradeable=parser.tradable;this._recyclable=parser.isRecycleable;this._sellable=parser.sellable;this._stuffData=parser.stuffData;this._extra=parser.extra;this._secondsToExpiration=parser.secondsToExpiration;this._expirationTimeStamp=parser.expirationTimeStamp;this._hasRentPeriodStarted=parser.hasRentPeriodStarted;this._creationDay=parser.creationDay;this._creationMonth=parser.creationMonth;this._creationYear=parser.creationYear;this._slotId=parser.slotId;this._songId=parser.songId;this._flatId=parser.flatId;this._isRented=parser.rentable;this._isWallItem=parser.isWallItem;}clone(){const item=new FurnitureItem_FurnitureItem(null);item._expirationTimeStamp=this._expirationTimeStamp;item._isWallItem=this._isWallItem;item._songId=this._songId;item._locked=this._locked;item._id=this._id;item._ref=this._ref;item._category=this._category;item._type=this._type;item._stuffData=this._stuffData;item._extra=this._extra;item._recyclable=this._recyclable;item._tradeable=this._tradeable;item._groupable=this._groupable;item._sellable=this._sellable;item._secondsToExpiration=this._secondsToExpiration;item._hasRentPeriodStarted=this._hasRentPeriodStarted;item._creationDay=this._creationDay;item._creationMonth=this._creationMonth;item._creationYear=this._creationYear;item._slotId=this._slotId;item._isRented=this._isRented;item._flatId=this._flatId;return item;}}\n// CONCATENATED MODULE: ./src/api/inventory/GroupItem.ts\nclass GroupItem_GroupItem{constructor(){let type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;let category=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let roomEngine=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let stuffData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let extra=arguments.length>4&&arguments[4]!==undefined?arguments[4]:-1;this._type=void 0;this._category=void 0;this._roomEngine=void 0;this._stuffData=void 0;this._extra=void 0;this._isWallItem=void 0;this._iconUrl=void 0;this._name=void 0;this._description=void 0;this._locked=void 0;this._selected=void 0;this._hasUnseenItems=void 0;this._items=void 0;this._type=type;this._category=category;this._roomEngine=roomEngine;this._stuffData=stuffData;this._extra=extra;this._isWallItem=false;this._iconUrl=null;this._name=null;this._description=null;this._locked=false;this._selected=false;this._hasUnseenItems=false;this._items=[];}clone(){const groupItem=new GroupItem_GroupItem();groupItem._type=this._type;groupItem._category=this._category;groupItem._roomEngine=this._roomEngine;groupItem._stuffData=this._stuffData;groupItem._extra=this._extra;groupItem._isWallItem=this._isWallItem;groupItem._iconUrl=this._iconUrl;groupItem._name=this._name;groupItem._description=this._description;groupItem._locked=this._locked;groupItem._selected=this._selected;groupItem._hasUnseenItems=this._hasUnseenItems;groupItem._items=this._items;return groupItem;}prepareGroup(){this.setIcon();this.setName();this.setDescription();}dispose(){}getItemByIndex(index){return this._items[index];}getItemById(id){for(const item of this._items){if(item.id!==id)continue;return item;}return null;}getTradeItems(count){const items=[];const furnitureItem=this.getLastItem();if(!furnitureItem)return items;let found=0;let i=0;while(i<this._items.length){if(found>=count)break;const item=this.getItemByIndex(i);if(!item.locked&&item.isTradable&&item.type===furnitureItem.type){items.push(item);found++;}i++;}return items;}push(item){const items=[...this._items];let index=0;while(index<items.length){let existingItem=items[index];if(existingItem.id===item.id){existingItem=existingItem.clone();existingItem.locked=false;items.splice(index,1);items.push(existingItem);this._items=items;return;}index++;}items.push(item);this._items=items;if(this._items.length===1)this.prepareGroup();}pop(){const items=[...this._items];let item=null;if(items.length>0){const index=items.length-1;item=items[index];items.splice(index,1);}this._items=items;return item;}remove(k){const items=[...this._items];let index=0;while(index<items.length){let existingItem=items[index];if(existingItem.id===k){items.splice(index,1);this._items=items;return existingItem;}index++;}return null;}getTotalCount(){if(this._category===FurniCategory.POST_IT){let count=0;let index=0;while(index<this._items.length){const item=this.getItemByIndex(index);count=count+parseInt(item.stuffData.getLegacyString());index++;}return count;}return this._items.length;}getUnlockedCount(){if(this.category===FurniCategory.POST_IT)return this.getTotalCount();let count=0;let index=0;while(index<this._items.length){const item=this.getItemByIndex(index);if(!item.locked)count++;index++;}return count;}getLastItem(){if(!this._items.length)return null;const item=this.getItemByIndex(this._items.length-1);return item;}unlockAllItems(){const items=[...this._items];let index=0;while(index<items.length){const item=items[index];if(item.locked){const newItem=item.clone();newItem.locked=false;items[index]=newItem;}index++;}this._items=items;}lockItemIds(itemIds){const items=[...this._items];let index=0;let updated=false;while(index<items.length){const item=items[index];const locked=itemIds.indexOf(item.ref)>=0;if(item.locked!==locked){updated=true;const newItem=item.clone();newItem.locked=locked;items[index]=newItem;}index++;}this._items=items;return updated;}setName(){const k=this.getLastItem();if(!k){this._name='';return;}let key='';switch(this._category){case FurniCategory.POSTER:key='poster_'+k.stuffData.getLegacyString()+'_name';break;case FurniCategory.TRAX_SONG:this._name='SONG_NAME';return;default:if(this.isWallItem){key='wallItem.name.'+k.type;}else{key='roomItem.name.'+k.type;}}this._name=LocalizeText(key);}setDescription(){this._description='';}setIcon(){if(this._iconUrl)return;let url=null;if(this.isWallItem){url=this._roomEngine.getFurnitureWallIconUrl(this._type,this._stuffData.getLegacyString());}else{url=this._roomEngine.getFurnitureFloorIconUrl(this._type);}if(!url)return;this._iconUrl=url;}get type(){return this._type;}get category(){return this._category;}get stuffData(){return this._stuffData;}get extra(){return this._extra;}get iconUrl(){return this._iconUrl;}get name(){return this._name;}get description(){return this._description;}get hasUnseenItems(){return this._hasUnseenItems;}set hasUnseenItems(flag){this._hasUnseenItems=flag;}get locked(){return this._locked;}set locked(flag){this._locked=flag;}get selected(){return this._selected;}set selected(flag){this._selected=flag;}get isWallItem(){const item=this.getItemByIndex(0);return item?item.isWallItem:false;}get isGroupable(){const item=this.getItemByIndex(0);return item?item.isGroupable:false;}get isSellable(){const item=this.getItemByIndex(0);return item?item.sellable:false;}get items(){return this._items;}set items(items){this._items=items;}}\n// CONCATENATED MODULE: ./src/api/inventory/FurnitureUtilities.ts\nconst createGroupItem=function(type,category,stuffData){let extra=arguments.length>3&&arguments[3]!==undefined?arguments[3]:NaN;return new GroupItem_GroupItem(type,category,GetRoomEngine(),stuffData,extra);};const addSingleFurnitureItem=(set,item,unseen)=>{const groupItems=[];for(const groupItem of set){if(groupItem.type===item.type)groupItems.push(groupItem);}for(const groupItem of groupItems){if(groupItem.getItemById(item.id))return groupItem;}const groupItem=createGroupItem(item.type,item.category,item.stuffData,item.extra);groupItem.push(item);if(unseen){groupItem.hasUnseenItems=true;set.unshift(groupItem);}else{set.push(groupItem);}return groupItem;};const addGroupableFurnitureItem=(set,item,unseen)=>{let existingGroup=null;for(const groupItem of set){if(groupItem.type===item.type&&groupItem.isWallItem===item.isWallItem&&groupItem.isGroupable){if(item.category===FurniCategory.POSTER){if(groupItem.stuffData.getLegacyString()===item.stuffData.getLegacyString()){existingGroup=groupItem;break;}}else if(item.category===FurniCategory.GUILD_FURNI){if(item.stuffData.compare(groupItem.stuffData)){existingGroup=groupItem;break;}}else{existingGroup=groupItem;break;}}}if(existingGroup){existingGroup.push(item);if(unseen){existingGroup.hasUnseenItems=true;const index=set.indexOf(existingGroup);if(index>=0)set.splice(index,1);set.unshift(existingGroup);}return existingGroup;}existingGroup=createGroupItem(item.type,item.category,item.stuffData,item.extra);existingGroup.push(item);if(unseen){existingGroup.hasUnseenItems=true;set.unshift(existingGroup);}else{set.push(existingGroup);}return existingGroup;};const addFurnitureItem=(set,item,unseen)=>{if(!item.isGroupable){addSingleFurnitureItem(set,item,unseen);}else{addGroupableFurnitureItem(set,item,unseen);}};const mergeFurniFragments=(fragment,totalFragments,fragmentNumber,fragments)=>{if(totalFragments===1)return fragment;fragments[fragmentNumber]=fragment;for(const frag of fragments){if(!frag)return null;}const merged=new Map();for(const frag of fragments){for(const[key,value]of frag)merged.set(key,value);frag.clear();}fragments=null;return merged;};const getAllItemIds=groupItems=>{const itemIds=[];for(const groupItem of groupItems){let totalCount=groupItem.getTotalCount();if(groupItem.category===FurniCategory.POST_IT)totalCount=1;let i=0;while(i<totalCount){itemIds.push(groupItem.getItemByIndex(i).id);i++;}}return itemIds;};\n// CONCATENATED MODULE: ./src/api/inventory/IBotItem.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/IFurnitureItem.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/InventoryUtilities.ts\nlet InventoryUtilities_objectMoverRequested=false;let itemIdInPlacing=-1;const isObjectMoverRequested=()=>InventoryUtilities_objectMoverRequested;const InventoryUtilities_setObjectMoverRequested=flag=>InventoryUtilities_objectMoverRequested=flag;const getPlacingItemId=()=>itemIdInPlacing;const setPlacingItemId=id=>itemIdInPlacing=id;const cancelRoomObjectPlacement=()=>{if(getPlacingItemId()===-1)return;GetRoomEngine().cancelRoomObjectPlacement();setPlacingItemId(-1);InventoryUtilities_setObjectMoverRequested(false);};const attemptPetPlacement=function(petItem){let flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const petData=petItem.petData;if(!petData)return false;const session=GetRoomSessionManager().getSession(1);if(!session)return false;if(!session.isRoomOwner&&!session.allowPets)return false;CreateLinkEvent('inventory/hide');if(GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Zg\" /* RoomObjectPlacementSource */].INVENTORY,-petData.id,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,nitro_renderer[\"ah\" /* RoomObjectType */].PET,petData.figureData.figuredata)){setPlacingItemId(petData.id);InventoryUtilities_setObjectMoverRequested(true);}return true;};const attemptItemPlacement=function(groupItem){let flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!groupItem||!groupItem.getUnlockedCount())return false;const item=groupItem.getLastItem();if(!item)return false;if(item.category===FurniCategory.FLOOR||item.category===FurniCategory.WALL_PAPER||item.category===FurniCategory.LANDSCAPE){if(flag)return false;SendMessageComposer(new nitro_renderer[\"lc\" /* FurniturePlacePaintComposer */](item.id));return false;}else{CreateLinkEvent('inventory/hide');let category=0;let isMoving=false;if(item.isWallItem)category=nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL;else category=nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR;if(item.category===FurniCategory.POSTER)// or external image from furnidata\n{isMoving=GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Zg\" /* RoomObjectPlacementSource */].INVENTORY,item.id,category,item.type,item.stuffData.getLegacyString());}else{isMoving=GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Zg\" /* RoomObjectPlacementSource */].INVENTORY,item.id,category,item.type,item.extra.toString(),item.stuffData);}if(isMoving){setPlacingItemId(item.ref);InventoryUtilities_setObjectMoverRequested(true);}}return true;};const attemptBotPlacement=function(botItem){let flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const botData=botItem.botData;if(!botData)return false;const session=GetRoomSessionManager().getSession(1);if(!session||!session.isRoomOwner)return false;CreateLinkEvent('inventory/hide');if(GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Zg\" /* RoomObjectPlacementSource */].INVENTORY,-botData.id,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,nitro_renderer[\"ah\" /* RoomObjectType */].RENTABLE_BOT,botData.figure)){setPlacingItemId(botData.id);InventoryUtilities_setObjectMoverRequested(true);}return true;};\n// CONCATENATED MODULE: ./src/api/inventory/IPetItem.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/IUnseenItemTracker.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/UnseenItemCategory.ts\nclass UnseenItemCategory{}UnseenItemCategory.FURNI=1;UnseenItemCategory.RENTABLE=2;UnseenItemCategory.PET=3;UnseenItemCategory.BADGE=4;UnseenItemCategory.BOT=5;UnseenItemCategory.GAMES=6;\n// CONCATENATED MODULE: ./src/api/inventory/PetUtilities.ts\nconst getAllPetIds=petItems=>petItems.map(item=>item.petData.id);const addSinglePetItem=function(petData,set){let unseen=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const petItem={petData};if(unseen){//petItem.isUnseen = true;\nset.unshift(petItem);}else{set.push(petItem);}return petItem;};const removePetItemById=(id,set)=>{let index=0;while(index<set.length){const petItem=set[index];if(petItem&&petItem.petData.id===id){if(getPlacingItemId()===petItem.petData.id){cancelRoomObjectPlacement();CreateLinkEvent('inventory/open');}set.splice(index,1);return petItem;}index++;}return null;};const processPetFragment=(set,fragment,isUnseen)=>{const existingIds=getAllPetIds(set);const addedIds=[];const removedIds=[];for(const key of fragment.keys())existingIds.indexOf(key)===-1&&addedIds.push(key);for(const itemId of existingIds)!fragment.get(itemId)&&removedIds.push(itemId);const emptyExistingSet=existingIds.length===0;for(const id of removedIds)removePetItemById(id,set);for(const id of addedIds){const parser=fragment.get(id);if(!parser)continue;addSinglePetItem(parser,set,isUnseen(UnseenItemCategory.PET,parser.id));}return set;};const mergePetFragments=(fragment,totalFragments,fragmentNumber,fragments)=>{if(totalFragments===1)return fragment;fragments[fragmentNumber]=fragment;for(const frag of fragments){if(!frag)return null;}const merged=new Map();for(const frag of fragments){for(const[key,value]of frag)merged.set(key,value);frag.clear();}fragments=null;return merged;};\n// CONCATENATED MODULE: ./src/api/inventory/TradeState.ts\nclass TradeState{}TradeState.TRADING_STATE_READY=0;TradeState.TRADING_STATE_RUNNING=1;TradeState.TRADING_STATE_COUNTDOWN=2;TradeState.TRADING_STATE_CONFIRMING=3;TradeState.TRADING_STATE_CONFIRMED=4;TradeState.TRADING_STATE_COMPLETED=5;TradeState.TRADING_STATE_CANCELLED=6;\n// CONCATENATED MODULE: ./src/api/inventory/TradeUserData.ts\nclass TradeUserData_TradeUserData{constructor(){let userId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;let userName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let userItems=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new nitro_renderer[\"h\" /* AdvancedMap */]();let itemCount=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let creditsCount=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let accepts=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let canTrade=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;this.userId=userId;this.userName=userName;this.userItems=userItems;this.itemCount=itemCount;this.creditsCount=creditsCount;this.accepts=accepts;this.canTrade=canTrade;}}\n// CONCATENATED MODULE: ./src/api/inventory/TradingNotificationType.ts\nclass TradingNotificationType{}TradingNotificationType.ALERT_SCAM=0;TradingNotificationType.HOTEL_TRADING_DISABLED=1;TradingNotificationType.YOU_NOT_ALLOWED=2;TradingNotificationType.THEY_NOT_ALLOWED=4;TradingNotificationType.ROOM_DISABLED=6;TradingNotificationType.YOU_OPEN=7;TradingNotificationType.THEY_OPEN=8;TradingNotificationType.ERROR_WHILE_COMMIT=9;TradingNotificationType.THEY_CANCELLED=10;\n// CONCATENATED MODULE: ./src/api/inventory/TradingUtilities.ts\nconst isExternalImage=spriteId=>{var _GetSessionDataManage;return((_GetSessionDataManage=GetSessionDataManager().getWallItemData(spriteId))===null||_GetSessionDataManage===void 0?void 0:_GetSessionDataManage.isExternalImage)||false;};const parseTradeItems=items=>{const existingItems=new nitro_renderer[\"h\" /* AdvancedMap */]();const totalItems=items.length;if(totalItems){for(const item of items){const spriteId=item.spriteId;const category=item.category;let name=item.furniType+spriteId;if(!item.isGroupable||isExternalImage(spriteId)){name='itemid'+item.itemId;}if(item.category===FurniCategory.POSTER){name=item.itemId+'poster'+item.stuffData.getLegacyString();}else if(item.category===FurniCategory.GUILD_FURNI){name='';}let groupItem=item.isGroupable&&!isExternalImage(item.spriteId)?existingItems.getValue(name):null;if(!groupItem){groupItem=createGroupItem(spriteId,category,item.stuffData);existingItems.add(name,groupItem);}groupItem.push(new FurnitureItem_FurnitureItem(item));}}return existingItems;};const getGuildFurniType=(spriteId,stuffData)=>{let type=spriteId.toString();if(!(stuffData instanceof nitro_renderer[\"di\" /* StringDataType */]))return type;let i=1;while(i<5){type=type+(','+stuffData.getValue(i));i++;}return type;};\n// CONCATENATED MODULE: ./src/api/inventory/index.ts\n\n// CONCATENATED MODULE: ./src/api/utils/ProductImageUtility.ts\nclass ProductImageUtility_ProductImageUtility{static getProductImageUrl(productType,furniClassId,extraParam){let imageUrl=null;switch(productType){case nitro_renderer[\"fb\" /* CatalogPageMessageProductData */].S:imageUrl=GetRoomEngine().getFurnitureFloorIconUrl(furniClassId);break;case nitro_renderer[\"fb\" /* CatalogPageMessageProductData */].I:const productCategory=this.getProductCategory(nitro_renderer[\"fb\" /* CatalogPageMessageProductData */].I,furniClassId);if(productCategory===1){imageUrl=GetRoomEngine().getFurnitureWallIconUrl(furniClassId,extraParam);}else{switch(productCategory){case FurniCategory.WALL_PAPER:break;case FurniCategory.LANDSCAPE:break;case FurniCategory.FLOOR:break;}}break;case nitro_renderer[\"fb\" /* CatalogPageMessageProductData */].E:// fx_icon_furniClassId_png\nbreak;}return imageUrl;}static getProductCategory(productType,furniClassId){if(productType===nitro_renderer[\"fb\" /* CatalogPageMessageProductData */].S)return 1;if(productType===nitro_renderer[\"fb\" /* CatalogPageMessageProductData */].I){if(furniClassId===3001)return FurniCategory.WALL_PAPER;if(furniClassId===3002)return FurniCategory.FLOOR;if(furniClassId===4057)return FurniCategory.LANDSCAPE;}return 1;}}\n// CONCATENATED MODULE: ./src/api/utils/Randomizer.ts\nclass Randomizer{static getRandomNumber(count){return Math.floor(Math.random()*count);}static getRandomElement(elements){return elements[this.getRandomNumber(elements.length)];}static getRandomElements(elements,count){const result=new Array(count);let len=elements.length;const taken=new Array(len);while(count--){var x=this.getRandomNumber(len);result[count]=elements[x in taken?taken[x]:x];taken[x]=--len in taken?taken[len]:len;}return result;}}\n// EXTERNAL MODULE: ./node_modules/emoji-toolkit/lib/js/joypixels.js\nvar joypixels = __webpack_require__(78);\n\n// CONCATENATED MODULE: ./src/api/utils/RoomChatFormatter.ts\nconst allowedColours=new Map();allowedColours.set('r','red');allowedColours.set('b','blue');allowedColours.set('g','green');allowedColours.set('y','yellow');allowedColours.set('w','white');allowedColours.set('o','orange');allowedColours.set('c','cyan');allowedColours.set('br','brown');allowedColours.set('pr','purple');allowedColours.set('pk','pink');allowedColours.set('red','red');allowedColours.set('blue','blue');allowedColours.set('green','green');allowedColours.set('yellow','yellow');allowedColours.set('white','white');allowedColours.set('orange','orange');allowedColours.set('cyan','cyan');allowedColours.set('brown','brown');allowedColours.set('purple','purple');allowedColours.set('pink','pink');const encodeHTML=str=>{return str.replace(/([\\u00A0-\\u9999<>&])(.|$)/g,(full,char,next)=>{if(char!=='&'||next!=='#'){if(/[\\u00A0-\\u9999<>&]/.test(next))next='&#'+next.charCodeAt(0)+';';return'&#'+char.charCodeAt(0)+';'+next;}return full;});};const RoomChatFormatter=content=>{let result='';content=encodeHTML(content);content=joypixels[\"shortnameToUnicode\"](content);if(content.startsWith('@')&&content.indexOf('@',1)>-1){let match=null;while((match=/@[a-zA-Z]+@/g.exec(content))!==null){const colorTag=match[0].toString();const colorName=colorTag.substr(1,colorTag.length-2);const text=content.replace(colorTag,'');if(!allowedColours.has(colorName)){result=text;}else{const color=allowedColours.get(colorName);result='<span style=\"color: '+color+'\">'+text+'</span>';}break;}}else{result=content;}return result;};\n// CONCATENATED MODULE: ./src/api/utils/SetLocalStorage.ts\nconst SetLocalStorage=(key,value)=>window.localStorage.setItem(key,JSON.stringify(value));\n// CONCATENATED MODULE: ./src/api/utils/SoundNames.ts\nclass SoundNames{}SoundNames.CAMERA_SHUTTER='camera_shutter';SoundNames.CREDITS='credits';SoundNames.DUCKETS='duckets';SoundNames.MESSENGER_NEW_THREAD='messenger_new_thread';SoundNames.MESSENGER_MESSAGE_RECEIVED='messenger_message_received';SoundNames.MODTOOLS_NEW_TICKET='modtools_new_ticket';\n// CONCATENATED MODULE: ./src/api/utils/WindowSaveOptions.ts\n\n// CONCATENATED MODULE: ./src/api/utils/index.ts\n\n// CONCATENATED MODULE: ./src/api/avatar/FigureGenerator.ts\nfunction getTotalColors(partSet){const parts=partSet.parts;let totalColors=0;for(const part of parts)totalColors=Math.max(totalColors,part.colorLayerIndex);return totalColors;}function getRandomSetTypes(requiredSets,options){options=options.filter(option=>requiredSets.indexOf(option)===-1);return[...requiredSets,...Randomizer.getRandomElements(options,Randomizer.getRandomNumber(options.length)+1)];}function getRandomPartSet(setType,gender){let clubLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let figureSetIds=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];if(!setType)return null;const options=setType.partSets.getValues().filter(option=>{if(!option.isSelectable||option.gender!=='U'&&option.gender!==gender||option.clubLevel>clubLevel||option.isSellable&&figureSetIds.indexOf(option.id)===-1)return null;return option;});if(!options||!options.length)return null;return Randomizer.getRandomElement(options);}function getRandomColors(palette,partSet){let clubLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(!palette)return[];const options=palette.colors.getValues().filter(option=>{if(!option.isSelectable||option.clubLevel>clubLevel)return null;return option;});if(!options||!options.length)return null;return Randomizer.getRandomElements(options,getTotalColors(partSet));}function generateRandomFigure(figureData,gender){let clubLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let figureSetIds=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];let ignoredSets=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];const structure=GetAvatarRenderManager().structure;const figureContainer=new nitro_renderer[\"p\" /* AvatarFigureContainer */]('');const requiredSets=getRandomSetTypes(structure.getMandatorySetTypeIds(gender,clubLevel),FigureData_FigureData.SET_TYPES);for(const setType of ignoredSets){const partSetId=figureData.getPartSetId(setType);const colors=figureData.getColorIds(setType);figureContainer.updatePart(setType,partSetId,colors);}for(const type of requiredSets){if(figureContainer.hasPartType(type))continue;const setType=structure.figureData.getSetType(type);const selectedSet=getRandomPartSet(setType,gender,clubLevel,figureSetIds);if(!selectedSet)continue;let selectedColors=[];if(selectedSet.isColorable){selectedColors=getRandomColors(structure.figureData.getPalette(setType.paletteID),selectedSet,clubLevel).map(color=>color.id);}figureContainer.updatePart(setType.type,selectedSet.id,selectedColors);}return figureContainer.getFigureString();}\n// CONCATENATED MODULE: ./src/api/avatar/HeadModel.ts\nclass HeadModel_HeadModel extends CategoryBaseModel_CategoryBaseModel{init(){super.init();this.addCategory(FigureData_FigureData.HAIR);this.addCategory(FigureData_FigureData.HAT);this.addCategory(FigureData_FigureData.HEAD_ACCESSORIES);this.addCategory(FigureData_FigureData.EYE_ACCESSORIES);this.addCategory(FigureData_FigureData.FACE_ACCESSORIES);this._isInitalized=true;}get name(){return nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].HEAD;}}\n// CONCATENATED MODULE: ./src/api/avatar/IAvatarEditorCategoryModel.ts\n\n// CONCATENATED MODULE: ./src/api/avatar/LegModel.ts\nclass LegModel_LegModel extends CategoryBaseModel_CategoryBaseModel{init(){super.init();this.addCategory(FigureData_FigureData.TROUSERS);this.addCategory(FigureData_FigureData.SHOES);this.addCategory(FigureData_FigureData.TROUSER_ACCESSORIES);this._isInitalized=true;}get name(){return nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].LEGS;}}\n// CONCATENATED MODULE: ./src/api/avatar/TorsoModel.ts\nclass TorsoModel_TorsoModel extends CategoryBaseModel_CategoryBaseModel{init(){super.init();this.addCategory(FigureData_FigureData.SHIRT);this.addCategory(FigureData_FigureData.CHEST_PRINTS);this.addCategory(FigureData_FigureData.JACKET);this.addCategory(FigureData_FigureData.CHEST_ACCESSORIES);this._isInitalized=true;}get name(){return nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].TORSO;}}\n// CONCATENATED MODULE: ./src/api/avatar/index.ts\n\n// CONCATENATED MODULE: ./src/api/camera/CameraEditorTabs.ts\nclass CameraEditorTabs{}CameraEditorTabs.COLORMATRIX='colormatrix';CameraEditorTabs.COMPOSITE='composite';\n// CONCATENATED MODULE: ./src/api/camera/CameraPicture.ts\nclass CameraPicture{constructor(texture,imageUrl){this.texture=texture;this.imageUrl=imageUrl;}}\n// CONCATENATED MODULE: ./src/api/camera/CameraPictureThumbnail.ts\nclass CameraPictureThumbnail{constructor(effectName,thumbnailUrl){this.effectName=effectName;this.thumbnailUrl=thumbnailUrl;}}\n// CONCATENATED MODULE: ./src/api/camera/index.ts\n\n// CONCATENATED MODULE: ./src/api/campaign/CalendarItem.ts\nclass CalendarItem{constructor(productName,customImage,furnitureClassName){this._productName=void 0;this._customImage=void 0;this._furnitureClassName=void 0;this._productName=productName;this._customImage=customImage;this._furnitureClassName=furnitureClassName;}get productName(){return this._productName;}get customImage(){return this._customImage;}get furnitureClassName(){return this._furnitureClassName;}}\n// CONCATENATED MODULE: ./src/api/campaign/CalendarItemState.ts\nclass CalendarItemState{}CalendarItemState.STATE_UNLOCKED=1;CalendarItemState.STATE_LOCKED_AVAILABLE=2;CalendarItemState.STATE_LOCKED_EXPIRED=3;CalendarItemState.STATE_LOCKED_FUTURE=4;\n// CONCATENATED MODULE: ./src/api/campaign/ICalendarItem.ts\n\n// CONCATENATED MODULE: ./src/api/campaign/index.ts\n\n// CONCATENATED MODULE: ./src/api/chat-history/ChatEntryType.ts\nclass ChatEntryType{}ChatEntryType.TYPE_CHAT=1;ChatEntryType.TYPE_ROOM_INFO=2;ChatEntryType.TYPE_IM=3;\n// CONCATENATED MODULE: ./src/api/chat-history/ChatHistoryCurrentDate.ts\nconst ChatHistoryCurrentDate=()=>{const currentTime=new Date();return`${currentTime.getHours().toString().padStart(2,'0')}:${currentTime.getMinutes().toString().padStart(2,'0')}`;};\n// CONCATENATED MODULE: ./src/api/chat-history/IChatEntry.ts\n\n// CONCATENATED MODULE: ./src/api/chat-history/IRoomHistoryEntry.ts\n\n// CONCATENATED MODULE: ./src/api/chat-history/MessengerHistoryCurrentDate.ts\nconst MessengerHistoryCurrentDate=function(){let secondsSinceNow=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;const currentTime=secondsSinceNow?new Date(Date.now()-secondsSinceNow*1000):new Date();return`${currentTime.getHours().toString().padStart(2,'0')}:${currentTime.getMinutes().toString().padStart(2,'0')}`;};\n// CONCATENATED MODULE: ./src/api/chat-history/index.ts\n\n// CONCATENATED MODULE: ./src/api/friends/GetGroupChatData.ts\nconst GetGroupChatData=extraData=>{if(!extraData||!extraData.length)return null;const splitData=extraData.split('/');const username=splitData[0];const figure=splitData[1];const userId=parseInt(splitData[2]);return{username:username,figure:figure,userId:userId};};\n// CONCATENATED MODULE: ./src/api/friends/IGroupChatData.ts\n\n// CONCATENATED MODULE: ./src/api/friends/MessengerFriend.ts\nclass MessengerFriend{constructor(){this.id=-1;this.name=null;this.gender=0;this.online=false;this.followingAllowed=false;this.figure=null;this.categoryId=0;this.motto=null;this.realName=null;this.lastAccess=null;this.persistedMessageUser=false;this.vipMember=false;this.pocketHabboUser=false;this.relationshipStatus=-1;this.unread=0;}populate(parser){this.id=parser.id;this.name=parser.name;this.gender=parser.gender;this.online=parser.online;this.followingAllowed=parser.followingAllowed;this.figure=parser.figure;this.categoryId=parser.categoryId;this.motto=parser.motto;this.realName=parser.realName;this.lastAccess=parser.lastAccess;this.persistedMessageUser=parser.persistedMessageUser;this.vipMember=parser.vipMember;this.pocketHabboUser=parser.pocketHabboUser;this.relationshipStatus=parser.relationshipStatus;}}MessengerFriend.RELATIONSHIP_NONE=0;MessengerFriend.RELATIONSHIP_HEART=1;MessengerFriend.RELATIONSHIP_SMILE=2;MessengerFriend.RELATIONSHIP_BOBBA=3;\n// CONCATENATED MODULE: ./src/api/friends/MessengerGroupType.ts\nclass MessengerGroupType{}MessengerGroupType.GROUP_CHAT=0;MessengerGroupType.PRIVATE_CHAT=1;\n// CONCATENATED MODULE: ./src/api/friends/MessengerIconState.ts\nclass MessengerIconState{}MessengerIconState.HIDDEN=0;MessengerIconState.SHOW=1;MessengerIconState.UNREAD=2;\n// CONCATENATED MODULE: ./src/api/friends/MessengerRequest.ts\nclass MessengerRequest{constructor(){this._id=void 0;this._name=void 0;this._requesterUserId=void 0;this._figureString=void 0;}populate(data){if(!data)return false;this._id=data.requestId;this._name=data.requesterName;this._figureString=data.figureString;this._requesterUserId=data.requesterUserId;return true;}get id(){return this._id;}get name(){return this._name;}get requesterUserId(){return this._requesterUserId;}get figureString(){return this._figureString;}}\n// CONCATENATED MODULE: ./src/api/friends/MessengerSettings.ts\nclass MessengerSettings{constructor(){let userFriendLimit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let normalFriendLimit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let extendedFriendLimit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let categories=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];this.userFriendLimit=userFriendLimit;this.normalFriendLimit=normalFriendLimit;this.extendedFriendLimit=extendedFriendLimit;this.categories=categories;}}\n// CONCATENATED MODULE: ./src/api/friends/MessengerThreadChat.ts\nclass MessengerThreadChat{constructor(senderId,message){let secondsSinceSent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let extraData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let type=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;this._type=void 0;this._senderId=void 0;this._message=void 0;this._secondsSinceSent=void 0;this._extraData=void 0;this._date=void 0;this._type=type;this._senderId=senderId;this._message=message;this._secondsSinceSent=secondsSinceSent;this._extraData=extraData;this._date=new Date();}get type(){return this._type;}get senderId(){return this._senderId;}get message(){return this._message;}get secondsSinceSent(){return this._secondsSinceSent;}get extraData(){return this._extraData;}get date(){return this._date;}}MessengerThreadChat.CHAT=0;MessengerThreadChat.ROOM_INVITE=1;MessengerThreadChat.STATUS_NOTIFICATION=2;MessengerThreadChat.SECURITY_NOTIFICATION=3;\n// CONCATENATED MODULE: ./src/api/friends/MessengerThreadChatGroup.ts\nclass MessengerThreadChatGroup_MessengerThreadChatGroup{constructor(userId){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:MessengerGroupType.PRIVATE_CHAT;this._userId=void 0;this._chats=void 0;this._type=void 0;this._userId=userId;this._chats=[];this._type=type;}addChat(message){this._chats.push(message);}get userId(){return this._userId;}get chats(){return this._chats;}get type(){return this._type;}set type(type){this._type=type;}}\n// CONCATENATED MODULE: ./src/api/friends/MessengerThread.ts\nclass MessengerThread_MessengerThread{constructor(participant){this._threadId=void 0;this._participant=void 0;this._groups=void 0;this._lastUpdated=void 0;this._unreadCount=void 0;this._threadId=++MessengerThread_MessengerThread.THREAD_ID;this._participant=participant;this._groups=[];this._lastUpdated=new Date();this._unreadCount=0;}addMessage(senderId,message){let secondsSinceSent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let extraData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let type=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;const isGroupChat=senderId<0&&extraData;const userId=isGroupChat?GetGroupChatData(extraData).userId:senderId;const group=this.getLastGroup(userId);if(!group)return;if(isGroupChat)group.type=MessengerGroupType.GROUP_CHAT;const chat=new MessengerThreadChat(senderId,message,secondsSinceSent,extraData,type);group.addChat(chat);this._lastUpdated=new Date();this._unreadCount++;return chat;}getLastGroup(userId){let group=this._groups[this._groups.length-1];if(group&&group.userId===userId)return group;group=new MessengerThreadChatGroup_MessengerThreadChatGroup(userId);this._groups.push(group);return group;}setRead(){this._unreadCount=0;}get threadId(){return this._threadId;}get participant(){return this._participant;}get groups(){return this._groups;}get lastUpdated(){return this._lastUpdated;}get unreadCount(){return this._unreadCount;}get unread(){return this._unreadCount>0;}}MessengerThread_MessengerThread.MESSAGE_RECEIVED='MT_MESSAGE_RECEIVED';MessengerThread_MessengerThread.THREAD_ID=0;\n// CONCATENATED MODULE: ./src/api/friends/OpenMessengerChat.ts\nfunction OpenMessengerChat(){let friendId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(friendId===0)CreateLinkEvent('friends-messenger/toggle');else CreateLinkEvent(`friends-messenger/${friendId}`);}\n// CONCATENATED MODULE: ./src/api/friends/index.ts\n\n// CONCATENATED MODULE: ./src/api/GetRendererVersion.ts\nconst GetRendererVersion=()=>nitro_renderer[\"vf\" /* NitroVersion */].RENDERER_VERSION;\n// CONCATENATED MODULE: ./src/api/GetUIVersion.ts\nconst GetUIVersion=()=>'2.1.1';\n// CONCATENATED MODULE: ./src/api/groups/GetGroupInformation.ts\nfunction GetGroupInformation(groupId){SendMessageComposer(new nitro_renderer[\"md\" /* GroupInformationComposer */](groupId,true));}\n// CONCATENATED MODULE: ./src/api/groups/GetGroupManager.ts\nfunction GetGroupManager(groupId){CreateLinkEvent(`groups/manage/${groupId}`);}\n// CONCATENATED MODULE: ./src/api/groups/GetGroupMembers.ts\nfunction GetGroupMembers(groupId,levelId){if(!levelId)CreateLinkEvent(`group-members/${groupId}`);else CreateLinkEvent(`group-members/${groupId}/${levelId}`);}\n// CONCATENATED MODULE: ./src/api/groups/GroupBadgePart.ts\nclass GroupBadgePart{constructor(type,key,color,position){this.type=void 0;this.key=void 0;this.color=void 0;this.position=void 0;this.type=type;this.key=key?key:0;this.color=color?color:0;this.position=position?position:4;}get code(){if(this.key===0&&this.type!==GroupBadgePart.BASE)return null;return GroupBadgePart.getCode(this.type,this.key,this.color,this.position);}static getCode(type,key,color,position){return type+(key<10?'0':'')+key+(color<10?'0':'')+color+position;}}GroupBadgePart.BASE='b';GroupBadgePart.SYMBOL='s';\n// CONCATENATED MODULE: ./src/api/groups/GroupMembershipType.ts\nclass GroupMembershipType{}GroupMembershipType.NOT_MEMBER=0;GroupMembershipType.MEMBER=1;GroupMembershipType.REQUEST_PENDING=2;\n// CONCATENATED MODULE: ./src/api/groups/GroupType.ts\nclass GroupType{}GroupType.REGULAR=0;GroupType.EXCLUSIVE=1;GroupType.PRIVATE=2;\n// CONCATENATED MODULE: ./src/api/groups/IGroupCustomize.ts\n\n// CONCATENATED MODULE: ./src/api/groups/IGroupData.ts\n\n// CONCATENATED MODULE: ./src/api/groups/ToggleFavoriteGroup.ts\nconst ToggleFavoriteGroup=group=>{SendMessageComposer(group.favourite?new nitro_renderer[\"Cd\" /* GroupUnfavoriteComposer */](group.groupId):new nitro_renderer[\"kd\" /* GroupFavoriteComposer */](group.groupId));};\n// CONCATENATED MODULE: ./src/api/groups/TryJoinGroup.ts\nconst TryJoinGroup=groupId=>SendMessageComposer(new nitro_renderer[\"od\" /* GroupJoinComposer */](groupId));\n// CONCATENATED MODULE: ./src/api/groups/index.ts\n\n// CONCATENATED MODULE: ./src/api/guide-tool/GuideSessionState.ts\nclass GuideSessionState{}GuideSessionState.NONE='NONE';GuideSessionState.ERROR='ERROR';GuideSessionState.REJECTED='REJECTED';GuideSessionState.USER_CREATE='USER_CREATE';GuideSessionState.USER_PENDING='USER_PENDING';GuideSessionState.USER_ONGOING='USER_ONGOING';GuideSessionState.USER_FEEDBACK='USER_FEEDBACK';GuideSessionState.USER_THANKS='USER_THANKS';GuideSessionState.USER_GUIDE_DISCONNECTED='USER_GUIDE_DISCONNECTED';GuideSessionState.GUIDE_TOOL_MENU='GUIDE_TOOL_MENU';GuideSessionState.GUIDE_ACCEPT='GUIDE_ACCEPT';GuideSessionState.GUIDE_ONGOING='GUIDE_ONGOING';GuideSessionState.GUIDE_CLOSED='GUIDE_CLOSED';GuideSessionState.GUARDIAN_CHAT_REVIEW_ACCEPT='GUARDIAN_CHAT_REVIEW_ACCEPT';GuideSessionState.GUARDIAN_CHAT_REVIEW_WAIT_FOR_VOTERS='GUARDIAN_CHAT_REVIEW_WAIT_FOR_VOTERS';GuideSessionState.GUARDIAN_CHAT_REVIEW_VOTE='GUARDIAN_CHAT_REVIEW_VOTE';GuideSessionState.GUARDIAN_CHAT_REVIEW_WAIT_FOR_RESULTS='GUARDIAN_CHAT_REVIEW_WAIT_FOR_RESULTS';GuideSessionState.GUARDIAN_CHAT_REVIEW_RESULTS='GUARDIAN_CHAT_REVIEW_RESULTS';\n// CONCATENATED MODULE: ./src/api/guide-tool/GuideToolMessage.ts\nclass GuideToolMessage{constructor(message,roomId){this._message=void 0;this._roomId=void 0;this._message=message;this._roomId=roomId;}get message(){return this._message;}get roomId(){return this._roomId;}}\n// CONCATENATED MODULE: ./src/api/guide-tool/GuideToolMessageGroup.ts\nclass GuideToolMessageGroup{constructor(userId){this._userId=void 0;this._messages=void 0;this._userId=userId;this._messages=[];}addChat(message){this._messages.push(message);}get userId(){return this._userId;}get messages(){return this._messages;}}\n// CONCATENATED MODULE: ./src/api/guide-tool/index.ts\n\n// CONCATENATED MODULE: ./src/api/hc-center/ClubStatus.ts\nclass ClubStatus{}ClubStatus.ACTIVE='active';ClubStatus.NONE='none';ClubStatus.EXPIRED='expired';\n// CONCATENATED MODULE: ./src/api/hc-center/GetClubBadge.ts\nconst DEFAULT_BADGE='HC1';const BADGES=['ACH_VipHC1','ACH_VipHC2','ACH_VipHC3','ACH_VipHC4','ACH_VipHC5','HC1','HC2','HC3','HC4','HC5'];const GetClubBadge=badgeCodes=>{let badgeCode=null;BADGES.forEach(badge=>badgeCodes.indexOf(badge)>-1&&(badgeCode=badge));return badgeCode||DEFAULT_BADGE;};\n// CONCATENATED MODULE: ./src/api/hc-center/index.ts\n\n// CONCATENATED MODULE: ./src/api/help/CallForHelpResult.ts\nclass CallForHelpResult{}CallForHelpResult.TOO_MANY_PENDING_CALLS_CODE=1;CallForHelpResult.HAS_ABUSIVE_CALL_CODE=2;\n// CONCATENATED MODULE: ./src/api/help/GetCloseReasonKey.ts\nconst GetCloseReasonKey=code=>{if(code===1)return'useless';if(code===2)return'abusive';return'resolved';};\n// CONCATENATED MODULE: ./src/api/help/IHelpReport.ts\n\n// CONCATENATED MODULE: ./src/api/help/IReportedUser.ts\n\n// CONCATENATED MODULE: ./src/api/help/ReportState.ts\nclass ReportState{}ReportState.SELECT_USER=0;ReportState.SELECT_CHATS=1;ReportState.SELECT_TOPICS=2;ReportState.INPUT_REPORT_MESSAGE=3;ReportState.REPORT_SUMMARY=4;\n// CONCATENATED MODULE: ./src/api/help/ReportType.ts\nclass ReportType{}ReportType.EMERGENCY=1;ReportType.GUIDE=2;ReportType.IM=3;ReportType.ROOM=4;ReportType.BULLY=6;ReportType.THREAD=7;ReportType.MESSAGE=8;ReportType.PHOTO=9;\n// CONCATENATED MODULE: ./src/api/help/index.ts\n\n// CONCATENATED MODULE: ./src/api/mod-tools/GetIssueCategoryName.ts\nconst GetIssueCategoryName=categoryId=>{switch(categoryId){case 1:case 2:return'Normal';case 3:return'Automatic';case 4:return'Automatic IM';case 5:return'Guide System';case 6:return'IM';case 7:return'Room';case 8:return'Panic';case 9:return'Guardian';case 10:return'Automatic Helper';case 11:return'Discussion';case 12:return'Selfie';case 14:return'Photo';case 15:return'Ambassador';}return'Unknown';};\n// CONCATENATED MODULE: ./src/api/mod-tools/ISelectedUser.ts\n\n// CONCATENATED MODULE: ./src/api/mod-tools/IUserInfo.ts\n\n// CONCATENATED MODULE: ./src/api/mod-tools/ModActionDefinition.ts\nclass ModActionDefinition{constructor(actionId,actionName,actionType,sanctionTypeId,actionLengthHours){this._actionId=void 0;this._name=void 0;this._actionType=void 0;this._sanctionTypeId=void 0;this._actionLengthHours=void 0;this._actionId=actionId;this._name=actionName;this._actionType=actionType;this._sanctionTypeId=sanctionTypeId;this._actionLengthHours=actionLengthHours;}get actionId(){return this._actionId;}get name(){return this._name;}get actionType(){return this._actionType;}get sanctionTypeId(){return this._sanctionTypeId;}get actionLengthHours(){return this._actionLengthHours;}}ModActionDefinition.ALERT=1;ModActionDefinition.MUTE=2;ModActionDefinition.BAN=3;ModActionDefinition.KICK=4;ModActionDefinition.TRADE_LOCK=5;ModActionDefinition.MESSAGE=6;\n// CONCATENATED MODULE: ./src/api/mod-tools/index.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/DoorStateType.ts\nclass DoorStateType{}DoorStateType.NONE=0;DoorStateType.START_DOORBELL=1;DoorStateType.START_PASSWORD=2;DoorStateType.STATE_PENDING_SERVER=3;DoorStateType.UPDATE_STATE=4;DoorStateType.STATE_WAITING=5;DoorStateType.STATE_NO_ANSWER=6;DoorStateType.STATE_WRONG_PASSWORD=7;DoorStateType.STATE_ACCEPTED=8;\n// CONCATENATED MODULE: ./src/api/navigator/INavigatorData.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/INavigatorSearchFilter.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/IRoomChatSettings.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/IRoomData.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/IRoomModel.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/IRoomModerationSettings.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/NavigatorSearchResultViewDisplayMode.ts\nclass NavigatorSearchResultViewDisplayMode{}NavigatorSearchResultViewDisplayMode.LIST=0;NavigatorSearchResultViewDisplayMode.THUMBNAILS=1;NavigatorSearchResultViewDisplayMode.FORCED_THUMBNAILS=2;\n// CONCATENATED MODULE: ./src/api/navigator/RoomInfoData.ts\nclass RoomInfoData{constructor(){this._enteredGuestRoom=null;this._createdRoomId=0;this._currentRoomId=0;this._currentRoomOwner=false;this._canRate=false;}get enteredGuestRoom(){return this._enteredGuestRoom;}set enteredGuestRoom(data){this._enteredGuestRoom=data;}get createdRoomId(){return this._createdRoomId;}set createdRoomId(id){this._createdRoomId=id;}get currentRoomId(){return this._currentRoomId;}set currentRoomId(id){this._currentRoomId=id;}get currentRoomOwner(){return this._currentRoomOwner;}set currentRoomOwner(flag){this._currentRoomOwner=flag;}get canRate(){return this._canRate;}set canRate(flag){this._canRate=flag;}}\n// CONCATENATED MODULE: ./src/api/navigator/RoomSettingsUtils.ts\nconst BuildMaxVisitorsList=()=>{const list=[];for(let i=10;i<=100;i=i+10)list.push(i);return list;};const GetMaxVisitorsList=BuildMaxVisitorsList();\n// CONCATENATED MODULE: ./src/api/navigator/SearchFilterOptions.ts\nconst SearchFilterOptions=[{name:'anything',query:null},{name:'room.name',query:'roomname'},{name:'owner',query:'owner'},{name:'tag',query:'tag'},{name:'group',query:'group'}];\n// CONCATENATED MODULE: ./src/api/navigator/TryVisitRoom.ts\nfunction TryVisitRoom(roomId){SendMessageComposer(new nitro_renderer[\"Cc\" /* GetGuestRoomMessageComposer */](roomId,false,true));}\n// CONCATENATED MODULE: ./src/api/navigator/index.ts\n\n// CONCATENATED MODULE: ./src/api/notification/NotificationAlertType.ts\nclass NotificationAlertType{}NotificationAlertType.DEFAULT='default';NotificationAlertType.MOTD='motd';NotificationAlertType.MODERATION='moderation';NotificationAlertType.EVENT='event';NotificationAlertType.NITRO='nitro';NotificationAlertType.SEARCH='search';NotificationAlertType.ALERT='alert';\n// CONCATENATED MODULE: ./src/api/notification/NotificationAlertItem.ts\nclass NotificationAlertItem_NotificationAlertItem{constructor(messages){let alertType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:NotificationAlertType.DEFAULT;let clickUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let clickUrlText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let title=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let imageUrl=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;this._id=void 0;this._messages=void 0;this._alertType=void 0;this._clickUrl=void 0;this._clickUrlText=void 0;this._title=void 0;this._imageUrl=void 0;NotificationAlertItem_NotificationAlertItem.ITEM_ID+=1;this._id=NotificationAlertItem_NotificationAlertItem.ITEM_ID;this._messages=messages;this._alertType=alertType;this._clickUrl=clickUrl;this._clickUrlText=clickUrlText;this._title=title;this._imageUrl=imageUrl;}get id(){return this._id;}get messages(){return this._messages;}set alertType(alertType){this._alertType=alertType;}get alertType(){return this._alertType;}get clickUrl(){return this._clickUrl;}get clickUrlText(){return this._clickUrlText;}get title(){return this._title;}get imageUrl(){return this._imageUrl;}}NotificationAlertItem_NotificationAlertItem.ITEM_ID=-1;\n// CONCATENATED MODULE: ./src/api/notification/NotificationBubbleType.ts\nclass NotificationBubbleType{}NotificationBubbleType.FRIENDOFFLINE='friendoffline';NotificationBubbleType.FRIENDONLINE='friendonline';NotificationBubbleType.THIRDPARTYFRIENDOFFLINE='thirdpartyfriendoffline';NotificationBubbleType.THIRDPARTYFRIENDONLINE='thirdpartyfriendonline';NotificationBubbleType.ACHIEVEMENT='achievement';NotificationBubbleType.BADGE_RECEIVED='badge_received';NotificationBubbleType.INFO='info';NotificationBubbleType.RECYCLEROK='recyclerok';NotificationBubbleType.RESPECT='respect';NotificationBubbleType.CLUB='club';NotificationBubbleType.SOUNDMACHINE='soundmachine';NotificationBubbleType.PETLEVEL='petlevel';NotificationBubbleType.CLUBGIFT='clubgift';NotificationBubbleType.BUYFURNI='buyfurni';NotificationBubbleType.VIP='vip';NotificationBubbleType.ROOMMESSAGESPOSTED='roommessagesposted';\n// CONCATENATED MODULE: ./src/api/notification/NotificationBubbleItem.ts\nclass NotificationBubbleItem_NotificationBubbleItem{constructor(message){let notificationType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:NotificationBubbleType.INFO;let iconUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let linkUrl=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;this._id=void 0;this._message=void 0;this._notificationType=void 0;this._iconUrl=void 0;this._linkUrl=void 0;NotificationBubbleItem_NotificationBubbleItem.ITEM_ID+=1;this._id=NotificationBubbleItem_NotificationBubbleItem.ITEM_ID;this._message=message;this._notificationType=notificationType;this._iconUrl=iconUrl;this._linkUrl=linkUrl;}get id(){return this._id;}get message(){return this._message;}get notificationType(){return this._notificationType;}get iconUrl(){return this._iconUrl;}get linkUrl(){return this._linkUrl;}}NotificationBubbleItem_NotificationBubbleItem.ITEM_ID=-1;\n// CONCATENATED MODULE: ./src/api/notification/NotificationConfirmItem.ts\nclass NotificationConfirmItem{constructor(confirmType,message,onConfirm,onCancel,confirmText,cancelText,title){this._id=void 0;this._confirmType=void 0;this._message=void 0;this._onConfirm=void 0;this._onCancel=void 0;this._confirmText=void 0;this._cancelText=void 0;this._title=void 0;NotificationConfirmItem.ITEM_ID+=1;this._id=NotificationConfirmItem.ITEM_ID;this._confirmType=confirmType;this._message=message;this._onConfirm=onConfirm;this._onCancel=onCancel;this._confirmText=confirmText;this._cancelText=cancelText;this._title=title;}get id(){return this._id;}get confirmType(){return this._confirmType;}get message(){return this._message;}get onConfirm(){return this._onConfirm;}get onCancel(){return this._onCancel;}get confirmText(){return this._confirmText;}get cancelText(){return this._cancelText;}get title(){return this._title;}}NotificationConfirmItem.ITEM_ID=-1;\n// CONCATENATED MODULE: ./src/api/notification/NotificationConfirmType.ts\nclass NotificationConfirmType{}NotificationConfirmType.DEFAULT='default';\n// CONCATENATED MODULE: ./src/api/notification/index.ts\n\n// CONCATENATED MODULE: ./src/api/purse/IPurse.ts\n\n// CONCATENATED MODULE: ./src/api/purse/Purse.ts\nclass Purse_Purse{constructor(){this._credits=0;this._activityPoints=new Map();this._clubDays=0;this._clubPeriods=0;this._isVIP=false;this._pastClubDays=0;this._pastVipDays=0;this._isExpiring=false;this._minutesUntilExpiration=0;this._minutesSinceLastModified=0;this._lastUpdated=0;}static from(purse){const newPurse=new Purse_Purse();newPurse._credits=purse._credits;newPurse._activityPoints=purse._activityPoints;newPurse._clubDays=purse._clubDays;newPurse._clubPeriods=purse._clubPeriods;newPurse._isVIP=purse._isVIP;newPurse._pastClubDays=purse._pastClubDays;newPurse._pastVipDays=purse._pastVipDays;newPurse._isExpiring=purse._isExpiring;newPurse._minutesUntilExpiration=purse._minutesUntilExpiration;newPurse._minutesSinceLastModified=purse._minutesSinceLastModified;newPurse._lastUpdated=purse._lastUpdated;return newPurse;}get credits(){return this._credits;}set credits(credits){this._lastUpdated=GetNitroInstance().time;this._credits=credits;}get activityPoints(){return this._activityPoints;}set activityPoints(k){this._lastUpdated=GetNitroInstance().time;this._activityPoints=k;}get clubDays(){return this._clubDays;}set clubDays(k){this._lastUpdated=GetNitroInstance().time;this._clubDays=k;}get clubPeriods(){return this._clubPeriods;}set clubPeriods(k){this._lastUpdated=GetNitroInstance().time;this._clubPeriods=k;}get _Str_13571(){return this._clubDays>0||this._clubPeriods>0;}get isVip(){return this._isVIP;}set isVip(k){this._isVIP=k;}get pastClubDays(){return this._pastClubDays;}set pastClubDays(k){this._lastUpdated=GetNitroInstance().time;this._pastClubDays=k;}get pastVipDays(){return this._pastVipDays;}set pastVipDays(k){this._lastUpdated=GetNitroInstance().time;this._pastVipDays=k;}get isExpiring(){return this._isExpiring;}set isExpiring(k){this._isExpiring=k;}get minutesUntilExpiration(){var k=(GetNitroInstance().time-this._lastUpdated)/(1000*60);var _local_2=this._minutesUntilExpiration-k;return _local_2>0?_local_2:0;}set minutesUntilExpiration(k){this._lastUpdated=GetNitroInstance().time;this._minutesUntilExpiration=k;}get minutesSinceLastModified(){return this._minutesSinceLastModified;}set minutesSinceLastModified(k){this._lastUpdated=GetNitroInstance().time;this._minutesSinceLastModified=k;}get lastUpdated(){return this._lastUpdated;}get clubLevel(){if(this.clubDays===0&&this.clubPeriods===0)return nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].NO_CLUB;if(this.isVip)return nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].VIP;return nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].CLUB;}}\n// CONCATENATED MODULE: ./src/api/purse/index.ts\n\n// CONCATENATED MODULE: ./src/api/room/events/RoomWidgetUpdateEvent.ts\nclass RoomWidgetUpdateEvent_RoomWidgetUpdateEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{}\n// CONCATENATED MODULE: ./src/api/room/events/RoomWidgetPollUpdateEvent.ts\nclass RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent extends RoomWidgetUpdateEvent_RoomWidgetUpdateEvent{constructor(type,id){super(type);this._id=-1;this._summary=void 0;this._headline=void 0;this._numQuestions=0;this._startMessage='';this._endMessage='';this._questionArray=null;this._pollType='';this._npsPoll=false;this._id=id;}get id(){return this._id;}get summary(){return this._summary;}set summary(k){this._summary=k;}get headline(){return this._headline;}set headline(k){this._headline=k;}get numQuestions(){return this._numQuestions;}set numQuestions(k){this._numQuestions=k;}get startMessage(){return this._startMessage;}set startMessage(k){this._startMessage=k;}get endMessage(){return this._endMessage;}set endMessage(k){this._endMessage=k;}get questionArray(){return this._questionArray;}set questionArray(k){this._questionArray=k;}get pollType(){return this._pollType;}set pollType(k){this._pollType=k;}get npsPoll(){return this._npsPoll;}set npsPoll(k){this._npsPoll=k;}}RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.OFFER='RWPUW_OFFER';RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.ERROR='RWPUW_ERROR';RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.CONTENT='RWPUW_CONTENT';\n// CONCATENATED MODULE: ./src/api/room/events/RoomWidgetUpdateBackgroundColorPreviewEvent.ts\nclass RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent extends RoomWidgetUpdateEvent_RoomWidgetUpdateEvent{constructor(type){let hue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let saturation=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let lightness=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;super(type);this._hue=void 0;this._saturation=void 0;this._lightness=void 0;this._hue=hue;this._saturation=saturation;this._lightness=lightness;}get hue(){return this._hue;}get saturation(){return this._saturation;}get lightness(){return this._lightness;}}RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.PREVIEW='RWUBCPE_PREVIEW';RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.CLEAR_PREVIEW='RWUBCPE_CLEAR_PREVIEW';\n// CONCATENATED MODULE: ./src/api/room/events/RoomWidgetUpdateChatInputContentEvent.ts\nclass RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent extends RoomWidgetUpdateEvent_RoomWidgetUpdateEvent{constructor(chatMode,userName){super(RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.CHAT_INPUT_CONTENT);this._chatMode='';this._userName='';this._chatMode=chatMode;this._userName=userName;}get chatMode(){return this._chatMode;}get userName(){return this._userName;}}RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.CHAT_INPUT_CONTENT='RWUCICE_CHAT_INPUT_CONTENT';RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.WHISPER='whisper';RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.SHOUT='shout';\n// CONCATENATED MODULE: ./src/api/room/events/RoomWidgetUpdateRentableBotChatEvent.ts\nclass RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent extends RoomWidgetUpdateEvent_RoomWidgetUpdateEvent{constructor(objectId,category,botId,chat,automaticChat,chatDelay,mixSentences){super(RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent.UPDATE_CHAT);this._objectId=void 0;this._category=void 0;this._botId=void 0;this._chat=void 0;this._automaticChat=void 0;this._chatDelay=void 0;this._mixSentences=void 0;this._objectId=objectId;this._category=category;this._botId=botId;this._chat=chat;this._automaticChat=automaticChat;this._chatDelay=chatDelay;this._mixSentences=mixSentences;}get objectId(){return this._objectId;}get category(){return this._category;}get botId(){return this._botId;}get chat(){return this._chat;}get automaticChat(){return this._automaticChat;}get chatDelay(){return this._chatDelay;}get mixSentences(){return this._mixSentences;}}RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent.UPDATE_CHAT='RWURBCE_UPDATE_CHAT';\n// CONCATENATED MODULE: ./src/api/room/events/RoomWidgetUpdateRoomObjectEvent.ts\nclass RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent extends RoomWidgetUpdateEvent_RoomWidgetUpdateEvent{constructor(type,id,category,roomId){super(type);this._id=void 0;this._category=void 0;this._roomId=void 0;this._id=id;this._category=category;this._roomId=roomId;}get id(){return this._id;}get category(){return this._category;}get roomId(){return this._roomId;}}RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_SELECTED='RWUROE_OBJECT_SELECTED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED='RWUROE_OBJECT_DESELECTED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED='RWUROE_USER_REMOVED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED='RWUROE_FURNI_REMOVED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_ADDED='RWUROE_FURNI_ADDED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED='RWUROE_USER_ADDED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OVER='RWUROE_OBJECT_ROLL_OVER';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OUT='RWUROE_OBJECT_ROLL_OUT';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_REQUEST_MANIPULATION='RWUROE_OBJECT_REQUEST_MANIPULATION';\n// CONCATENATED MODULE: ./src/api/room/events/index.ts\n\n// CONCATENATED MODULE: ./src/api/room/widgets/AvatarInfoFurni.ts\nclass AvatarInfoFurni{constructor(type){this.type=type;this.id=0;this.category=0;this.name='';this.description='';this.image=null;this.isWallItem=false;this.isStickie=false;this.isRoomOwner=false;this.roomControllerLevel=0;this.isAnyRoomController=false;this.expiration=-1;this.purchaseCatalogPageId=-1;this.purchaseOfferId=-1;this.extraParam='';this.isOwner=false;this.stuffData=null;this.groupId=0;this.ownerId=0;this.ownerName='';this.usagePolicy=0;this.rentCatalogPageId=-1;this.rentOfferId=-1;this.purchaseCouldBeUsedForBuyout=false;this.rentCouldBeUsedForBuyout=false;this.availableForBuildersClub=false;this.tileSizeX=1;this.tileSizeY=1;}}AvatarInfoFurni.FURNI='IFI_FURNI';\n// CONCATENATED MODULE: ./src/api/room/widgets/AvatarInfoName.ts\nclass AvatarInfoName{constructor(roomIndex,category,id,name,userType){let isFriend=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;this.roomIndex=roomIndex;this.category=category;this.id=id;this.name=name;this.userType=userType;this.isFriend=isFriend;}}\n// CONCATENATED MODULE: ./src/api/room/widgets/AvatarInfoPet.ts\nclass AvatarInfoPet{constructor(type){this.type=type;this.level=0;this.maximumLevel=0;this.experience=0;this.levelExperienceGoal=0;this.energy=0;this.maximumEnergy=0;this.happyness=0;this.maximumHappyness=0;this.respectsPetLeft=0;this.respect=0;this.age=0;this.name='';this.id=-1;this.image=null;this.petType=0;this.petBreed=0;this.petFigure='';this.posture='std';this.isOwner=false;this.ownerId=-1;this.ownerName='';this.canRemovePet=false;this.roomIndex=0;this.unknownRarityLevel=0;this.saddle=false;this.rider=false;this.breedable=false;this.skillTresholds=[];this.publiclyRideable=0;this.fullyGrown=false;this.dead=false;this.rarityLevel=0;this.maximumTimeToLive=0;this.remainingTimeToLive=0;this.remainingGrowTime=0;this.publiclyBreedable=false;}}AvatarInfoPet.PET_INFO='IPI_PET_INFO';\n// CONCATENATED MODULE: ./src/api/room/widgets/AvatarInfoRentableBot.ts\nclass AvatarInfoRentableBot{constructor(type){this.type=type;this.name='';this.motto='';this.webID=0;this.figure='';this.badges=[];this.carryItem=0;this.roomIndex=0;this.amIOwner=false;this.amIAnyRoomController=false;this.roomControllerLevel=0;this.ownerId=-1;this.ownerName='';this.botSkills=[];}}AvatarInfoRentableBot.RENTABLE_BOT='IRBI_RENTABLE_BOT';\n// CONCATENATED MODULE: ./src/api/room/widgets/AvatarInfoUser.ts\nclass AvatarInfoUser{constructor(type){this.type=type;this.name='';this.motto='';this.achievementScore=0;this.webID=0;this.xp=0;this.userType=-1;this.figure='';this.badges=[];this.groupId=0;this.groupName='';this.groupBadgeId='';this.carryItem=0;this.roomIndex=0;this.isSpectatorMode=false;this.allowNameChange=false;this.amIOwner=false;this.amIAnyRoomController=false;this.roomControllerLevel=0;this.canBeKicked=false;this.canBeBanned=false;this.canBeMuted=false;this.respectLeft=0;this.isIgnored=false;this.isGuildRoom=false;this.canTrade=false;this.canTradeReason=0;this.targetRoomControllerLevel=0;this.isAmbassador=false;}get isOwnUser(){return this.type===AvatarInfoUser.OWN_USER;}}AvatarInfoUser.OWN_USER='IUI_OWN_USER';AvatarInfoUser.PEER='IUI_PEER';AvatarInfoUser.BOT='IUI_BOT';AvatarInfoUser.TRADE_REASON_OK=0;AvatarInfoUser.TRADE_REASON_SHUTDOWN=2;AvatarInfoUser.TRADE_REASON_NO_TRADING=3;AvatarInfoUser.DEFAULT_BOT_BADGE_ID='BOT';\n// CONCATENATED MODULE: ./src/api/room/widgets/AvatarInfoUtilities.ts\nclass AvatarInfoUtilities_AvatarInfoUtilities{static getObjectName(objectId,category){const roomSession=GetRoomSession();let id=-1;let name=null;let userType=0;switch(category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:{const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,objectId,category);if(!roomObject)break;if(roomObject.type.indexOf('poster')===0){name=LocalizeText('${poster_'+parseInt(roomObject.type.replace('poster',''))+'_name}');}else{let furniData=null;const typeId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);if(category===nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR){furniData=GetSessionDataManager().getFloorItemData(typeId);}else if(category===nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL){furniData=GetSessionDataManager().getWallItemData(typeId);}if(!furniData)break;id=furniData.id;name=furniData.name;}break;}case nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT:{const userData=roomSession.userDataManager.getUserDataByIndex(objectId);if(!userData)break;id=userData.webID;name=userData.name;userType=userData.type;break;}}if(!name||!name.length)return null;return new AvatarInfoName(objectId,category,id,name,userType);}static getFurniInfo(objectId,category){const roomSession=GetRoomSession();const furniInfo=new AvatarInfoFurni(AvatarInfoFurni.FURNI);furniInfo.id=objectId;furniInfo.category=category;const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,objectId,category);if(!roomObject)return;const model=roomObject.model;if(model.getValue(nitro_renderer[\"Mh\" /* RoomWidgetEnumItemExtradataParameter */].INFOSTAND_EXTRA_PARAM)){furniInfo.extraParam=model.getValue(nitro_renderer[\"Mh\" /* RoomWidgetEnumItemExtradataParameter */].INFOSTAND_EXTRA_PARAM);}const dataFormat=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA_FORMAT);const objectData=nitro_renderer[\"xf\" /* ObjectDataFactory */].getData(dataFormat);objectData.initializeFromRoomObjectModel(model);furniInfo.stuffData=objectData;const objectType=roomObject.type;if(objectType.indexOf('poster')===0){const posterId=parseInt(objectType.replace('poster',''));furniInfo.name=LocalizeText('${poster_'+posterId+'_name}');furniInfo.description=LocalizeText('${poster_'+posterId+'_desc}');}else{const typeId=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);let furnitureData=null;if(category===nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR){furnitureData=GetSessionDataManager().getFloorItemData(typeId);}else if(category===nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL){furnitureData=GetSessionDataManager().getWallItemData(typeId);}if(furnitureData){furniInfo.name=furnitureData.name;furniInfo.description=furnitureData.description;furniInfo.purchaseOfferId=furnitureData.purchaseOfferId;furniInfo.purchaseCouldBeUsedForBuyout=furnitureData.purchaseCouldBeUsedForBuyout;furniInfo.rentOfferId=furnitureData.rentOfferId;furniInfo.rentCouldBeUsedForBuyout=furnitureData.rentCouldBeUsedForBuyout;furniInfo.availableForBuildersClub=furnitureData.availableForBuildersClub;furniInfo.tileSizeX=furnitureData.tileSizeX;furniInfo.tileSizeY=furnitureData.tileSizeY;}}if(objectType.indexOf('post_it')>-1)furniInfo.isStickie=true;const expiryTime=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_EXPIRY_TIME);const expiryTimestamp=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_EXPIRTY_TIMESTAMP);furniInfo.expiration=expiryTime<0?expiryTime:Math.max(0,expiryTime-(GetNitroInstance().time-expiryTimestamp)/1000);let roomObjectImage=GetRoomEngine().getRoomObjectImage(roomSession.roomId,objectId,category,new nitro_renderer[\"kj\" /* Vector3d */](180),64,null);if(!roomObjectImage.data||roomObjectImage.data.width>140||roomObjectImage.data.height>200){roomObjectImage=GetRoomEngine().getRoomObjectImage(roomSession.roomId,objectId,category,new nitro_renderer[\"kj\" /* Vector3d */](180),1,null);}furniInfo.image=roomObjectImage.getImage();furniInfo.isWallItem=category===nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL;furniInfo.isRoomOwner=roomSession.isRoomOwner;furniInfo.roomControllerLevel=roomSession.controllerLevel;furniInfo.isAnyRoomController=GetSessionDataManager().isModerator;furniInfo.ownerId=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);furniInfo.ownerName=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_OWNER_NAME);furniInfo.usagePolicy=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_USAGE_POLICY);const guildId=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_GUILD_CUSTOMIZED_GUILD_ID);if(guildId!==0){furniInfo.groupId=guildId;//this.container.connection.send(new _Str_2863(guildId, false));\n}if(IsOwnerOfFurniture(roomObject))furniInfo.isOwner=true;return furniInfo;}static getUserInfo(category,userData){const roomSession=GetRoomSession();let userInfoType=AvatarInfoUser.OWN_USER;if(userData.webID!==GetSessionDataManager().userId)userInfoType=AvatarInfoUser.PEER;const userInfo=new AvatarInfoUser(userInfoType);userInfo.isSpectatorMode=roomSession.isSpectator;userInfo.name=userData.name;userInfo.motto=userData.custom;userInfo.achievementScore=userData.activityPoints;userInfo.webID=userData.webID;userInfo.roomIndex=userData.roomIndex;userInfo.userType=nitro_renderer[\"ah\" /* RoomObjectType */].USER;const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,userData.roomIndex,category);if(roomObject)userInfo.carryItem=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT)||0;if(userInfoType===AvatarInfoUser.OWN_USER)userInfo.allowNameChange=GetSessionDataManager().canChangeName;userInfo.amIOwner=roomSession.isRoomOwner;userInfo.isGuildRoom=roomSession.isGuildRoom;userInfo.roomControllerLevel=roomSession.controllerLevel;userInfo.amIAnyRoomController=GetSessionDataManager().isModerator;userInfo.isAmbassador=GetSessionDataManager().isAmbassador;if(userInfoType===AvatarInfoUser.PEER){if(roomObject){const flatControl=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_FLAT_CONTROL);if(flatControl!==null)userInfo.targetRoomControllerLevel=flatControl;userInfo.canBeMuted=this.canBeMuted(userInfo);userInfo.canBeKicked=this.canBeKicked(userInfo);userInfo.canBeBanned=this.canBeBanned(userInfo);}userInfo.isIgnored=GetSessionDataManager().isUserIgnored(userData.name);userInfo.respectLeft=GetSessionDataManager().respectsLeft;const isShuttingDown=GetSessionDataManager().isSystemShutdown;const tradeMode=roomSession.tradeMode;if(isShuttingDown){userInfo.canTrade=false;}else{switch(tradeMode){case nitro_renderer[\"Bh\" /* RoomTradingLevelEnum */].ROOM_CONTROLLER_REQUIRED:{const roomController=userInfo.roomControllerLevel!==nitro_renderer[\"yg\" /* RoomControllerLevel */].NONE&&userInfo.roomControllerLevel!==nitro_renderer[\"yg\" /* RoomControllerLevel */].GUILD_MEMBER;const targetController=userInfo.targetRoomControllerLevel!==nitro_renderer[\"yg\" /* RoomControllerLevel */].NONE&&userInfo.targetRoomControllerLevel!==nitro_renderer[\"yg\" /* RoomControllerLevel */].GUILD_MEMBER;userInfo.canTrade=roomController||targetController;break;}case nitro_renderer[\"Bh\" /* RoomTradingLevelEnum */].NO_TRADING:userInfo.canTrade=true;break;default:userInfo.canTrade=false;break;}}userInfo.canTradeReason=AvatarInfoUser.TRADE_REASON_OK;if(isShuttingDown)userInfo.canTradeReason=AvatarInfoUser.TRADE_REASON_SHUTDOWN;if(tradeMode!==nitro_renderer[\"Bh\" /* RoomTradingLevelEnum */].FREE_TRADING)userInfo.canTradeReason=AvatarInfoUser.TRADE_REASON_NO_TRADING;// const _local_12 = GetSessionDataManager().userId;\n// _local_13 = GetSessionDataManager()._Str_18437(_local_12);\n// this._Str_16287(_local_12, _local_13);\n}userInfo.groupId=userData.groupId;userInfo.groupBadgeId=GetSessionDataManager().getGroupBadge(userInfo.groupId);userInfo.groupName=userData.groupName;userInfo.badges=roomSession.userDataManager.getUserBadges(userData.webID);userInfo.figure=userData.figure;//var _local_8:Array = GetSessionDataManager()._Str_18437(userData.webID);\n//this._Str_16287(userData._Str_2394, _local_8);\n//this._container._Str_8097._Str_14387(userData.webID);\n//this._container.connection.send(new _Str_8049(userData._Str_2394));\nreturn userInfo;}static getBotInfo(category,userData){const roomSession=GetRoomSession();const userInfo=new AvatarInfoUser(AvatarInfoUser.BOT);userInfo.name=userData.name;userInfo.motto=userData.custom;userInfo.webID=userData.webID;userInfo.roomIndex=userData.roomIndex;userInfo.userType=userData.type;const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,userData.roomIndex,category);if(roomObject)userInfo.carryItem=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT)||0;userInfo.amIOwner=roomSession.isRoomOwner;userInfo.isGuildRoom=roomSession.isGuildRoom;userInfo.roomControllerLevel=roomSession.controllerLevel;userInfo.amIAnyRoomController=GetSessionDataManager().isModerator;userInfo.isAmbassador=GetSessionDataManager().isAmbassador;userInfo.badges=[AvatarInfoUser.DEFAULT_BOT_BADGE_ID];userInfo.figure=userData.figure;return userInfo;}static getRentableBotInfo(category,userData){const roomSession=GetRoomSession();const botInfo=new AvatarInfoRentableBot(AvatarInfoRentableBot.RENTABLE_BOT);botInfo.name=userData.name;botInfo.motto=userData.custom;botInfo.webID=userData.webID;botInfo.roomIndex=userData.roomIndex;botInfo.ownerId=userData.ownerId;botInfo.ownerName=userData.ownerName;botInfo.botSkills=userData.botSkills;const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,userData.roomIndex,category);if(roomObject)botInfo.carryItem=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT)||0;botInfo.amIOwner=roomSession.isRoomOwner;botInfo.roomControllerLevel=roomSession.controllerLevel;botInfo.amIAnyRoomController=GetSessionDataManager().isModerator;botInfo.badges=[AvatarInfoUser.DEFAULT_BOT_BADGE_ID];botInfo.figure=userData.figure;return botInfo;}static getPetInfo(petData){const roomSession=GetRoomSession();const userData=roomSession.userDataManager.getPetData(petData.id);if(!userData)return;const figure=new nitro_renderer[\"Ff\" /* PetFigureData */](userData.figure);let posture=null;if(figure.typeId===nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT){if(petData.level>=petData.adultLevel)posture='std';else posture='grw'+petData.level;}const isOwner=petData.ownerId===GetSessionDataManager().userId;const petInfo=new AvatarInfoPet(AvatarInfoPet.PET_INFO);petInfo.name=userData.name;petInfo.id=petData.id;petInfo.ownerId=petData.ownerId;petInfo.ownerName=petData.ownerName;petInfo.rarityLevel=petData.rarityLevel;petInfo.petType=figure.typeId;petInfo.petBreed=figure.paletteId;petInfo.petFigure=userData.figure;petInfo.posture=posture;petInfo.isOwner=isOwner;petInfo.roomIndex=userData.roomIndex;petInfo.level=petData.level;petInfo.maximumLevel=petData.maximumLevel;petInfo.experience=petData.experience;petInfo.levelExperienceGoal=petData.levelExperienceGoal;petInfo.energy=petData.energy;petInfo.maximumEnergy=petData.maximumEnergy;petInfo.happyness=petData.happyness;petInfo.maximumHappyness=petData.maximumHappyness;petInfo.respect=petData.respect;petInfo.respectsPetLeft=GetSessionDataManager().respectsPetLeft;petInfo.age=petData.age;petInfo.saddle=petData.saddle;petInfo.rider=petData.rider;petInfo.breedable=petData.breedable;petInfo.fullyGrown=petData.fullyGrown;petInfo.dead=petData.dead;petInfo.rarityLevel=petData.rarityLevel;petInfo.skillTresholds=petData.skillTresholds;petInfo.canRemovePet=false;petInfo.publiclyRideable=petData.publiclyRideable;petInfo.maximumTimeToLive=petData.maximumTimeToLive;petInfo.remainingTimeToLive=petData.remainingTimeToLive;petInfo.remainingGrowTime=petData.remainingGrowTime;petInfo.publiclyBreedable=petData.publiclyBreedable;if(isOwner||roomSession.isRoomOwner||GetSessionDataManager().isModerator||roomSession.controllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST)petInfo.canRemovePet=true;return petInfo;}static checkGuildSetting(userInfo){if(userInfo.isGuildRoom)return userInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUILD_ADMIN;return userInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST;}static isValidSetting(userInfo,checkSetting){const roomSession=GetRoomSession();if(!roomSession.isPrivateRoom)return false;const moderation=roomSession.moderationSettings;let flag=false;if(moderation)flag=checkSetting(userInfo,moderation);return flag&&userInfo.targetRoomControllerLevel<nitro_renderer[\"yg\" /* RoomControllerLevel */].ROOM_OWNER;}static canBeMuted(userInfo){const checkSetting=(userInfo,moderation)=>{switch(moderation.allowMute){case nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:return this.checkGuildSetting(userInfo);default:return userInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].ROOM_OWNER;}};return this.isValidSetting(userInfo,checkSetting);}static canBeKicked(userInfo){const checkSetting=(userInfo,moderation)=>{switch(moderation.allowKick){case nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_ALL:return true;case nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:return this.checkGuildSetting(userInfo);default:return userInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].ROOM_OWNER;}};return this.isValidSetting(userInfo,checkSetting);}static canBeBanned(userInfo){const checkSetting=(userInfo,moderation)=>{switch(moderation.allowBan){case nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:return this.checkGuildSetting(userInfo);default:return userInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].ROOM_OWNER;}};return this.isValidSetting(userInfo,checkSetting);}}\n// CONCATENATED MODULE: ./src/api/room/widgets/BotSkillsEnum.ts\nclass BotSkillsEnum{}BotSkillsEnum.GENERIC_SKILL=0;BotSkillsEnum.DRESS_UP=1;BotSkillsEnum.SETUP_CHAT=2;BotSkillsEnum.RANDOM_WALK=3;BotSkillsEnum.DANCE=4;BotSkillsEnum.CHANGE_BOT_NAME=5;BotSkillsEnum.SERVE_BEVERAGE=6;BotSkillsEnum.INCLIENT_LINK=7;BotSkillsEnum.NUX_PROCEED=8;BotSkillsEnum.CHANGE_BOT_MOTTO=9;BotSkillsEnum.NUX_TAKE_TOUR=10;BotSkillsEnum.NO_PICK_UP=12;BotSkillsEnum.NAVIGATOR_SEARCH=14;BotSkillsEnum.DONATE_TO_USER=24;BotSkillsEnum.DONATE_TO_ALL=25;\n// CONCATENATED MODULE: ./src/api/room/widgets/ChatBubbleMessage.ts\nclass ChatBubbleMessage{constructor(){let senderId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;let senderCategory=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let roomId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;let text=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';let formattedText=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';let username=arguments.length>5&&arguments[5]!==undefined?arguments[5]:'';let location=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;let type=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;let styleId=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;let imageUrl=arguments.length>9&&arguments[9]!==undefined?arguments[9]:null;let color=arguments.length>10&&arguments[10]!==undefined?arguments[10]:null;this.senderId=senderId;this.senderCategory=senderCategory;this.roomId=roomId;this.text=text;this.formattedText=formattedText;this.username=username;this.location=location;this.type=type;this.styleId=styleId;this.imageUrl=imageUrl;this.color=color;this.id=-1;this.width=0;this.height=0;this.elementRef=null;this.visible=false;this.skipMovement=false;this._top=0;this._left=0;this.id=++ChatBubbleMessage.BUBBLE_COUNTER;}get top(){return this._top;}set top(value){this._top=value;if(this.elementRef)this.elementRef.style.top=this._top+'px';}get left(){return this._left;}set left(value){this._left=value;if(this.elementRef)this.elementRef.style.left=this._left+'px';}}ChatBubbleMessage.BUBBLE_COUNTER=0;\n// CONCATENATED MODULE: ./src/api/room/widgets/ChatMessageTypeEnum.ts\nclass ChatMessageTypeEnum{}ChatMessageTypeEnum.CHAT_DEFAULT=0;ChatMessageTypeEnum.CHAT_WHISPER=1;ChatMessageTypeEnum.CHAT_SHOUT=2;\n// CONCATENATED MODULE: ./src/api/room/widgets/DimmerFurnitureWidgetPresetItem.ts\nclass DimmerFurnitureWidgetPresetItem{constructor(){let id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let color=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let light=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;this.id=id;this.type=type;this.color=color;this.light=light;}}\n// CONCATENATED MODULE: ./src/api/room/widgets/DoChatsOverlap.ts\nconst DoChatsOverlap=function(a,b,additionalBTop){let padding=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;return!(a.left+padding+a.width<b.left+padding||a.left+padding>b.left+padding+b.width||a.top+a.height<b.top+additionalBTop||a.top>b.top+additionalBTop+b.height);};\n// CONCATENATED MODULE: ./src/api/room/widgets/FurnitureDimmerUtilities.ts\nclass FurnitureDimmerUtilities_FurnitureDimmerUtilities{static savePreset(presetNumber,effectTypeId,color,brightness,apply){GetRoomSession().updateMoodlightData(presetNumber,effectTypeId,color,brightness,apply);}static changeState(){GetRoomSession().toggleMoodlightState();}static previewDimmer(color,brightness,bgOnly){GetRoomEngine().updateObjectRoomColor(GetRoomSession().roomId,color,brightness,bgOnly);}static scaleBrightness(value){return~~((value-this.MIN_BRIGHTNESS)*(100-0)/(this.MAX_BRIGHTNESS-this.MIN_BRIGHTNESS)+0);}}FurnitureDimmerUtilities_FurnitureDimmerUtilities.AVAILABLE_COLORS=[7665141,21495,15161822,15353138,15923281,8581961,0];FurnitureDimmerUtilities_FurnitureDimmerUtilities.HTML_COLORS=['#74F5F5','#0053F7','#E759DE','#EA4532','#F2F851','#82F349','#000000'];FurnitureDimmerUtilities_FurnitureDimmerUtilities.MIN_BRIGHTNESS=76;FurnitureDimmerUtilities_FurnitureDimmerUtilities.MAX_BRIGHTNESS=255;\n// CONCATENATED MODULE: ./src/api/room/widgets/IAvatarInfo.ts\n\n// CONCATENATED MODULE: ./src/api/room/widgets/IPhotoData.ts\n\n// CONCATENATED MODULE: ./src/api/room/widgets/MannequinUtilities.ts\nclass MannequinUtilities_MannequinUtilities{static getMergedMannequinFigureContainer(figure,targetFigure){const figureContainer=GetAvatarRenderManager().createFigureContainer(figure);const targetFigureContainer=GetAvatarRenderManager().createFigureContainer(targetFigure);for(const part of this.MANNEQUIN_CLOTHING_PART_TYPES)figureContainer.removePart(part);for(const part of targetFigureContainer.getPartTypeIds())figureContainer.updatePart(part,targetFigureContainer.getPartSetId(part),targetFigureContainer.getPartColorIds(part));return figureContainer;}static transformAsMannequinFigure(figureContainer){for(const part of figureContainer.getPartTypeIds()){if(this.MANNEQUIN_CLOTHING_PART_TYPES.indexOf(part)>=0)continue;figureContainer.removePart(part);}figureContainer.updatePart(this.MANNEQUIN_FIGURE[0],this.MANNEQUIN_FIGURE[1],this.MANNEQUIN_FIGURE[2]);}}MannequinUtilities_MannequinUtilities.MANNEQUIN_FIGURE=['hd',99999,[99998]];MannequinUtilities_MannequinUtilities.MANNEQUIN_CLOTHING_PART_TYPES=[nitro_renderer[\"q\" /* AvatarFigurePartType */].CHEST_ACCESSORY,nitro_renderer[\"q\" /* AvatarFigurePartType */].COAT_CHEST,nitro_renderer[\"q\" /* AvatarFigurePartType */].CHEST,nitro_renderer[\"q\" /* AvatarFigurePartType */].LEGS,nitro_renderer[\"q\" /* AvatarFigurePartType */].SHOES,nitro_renderer[\"q\" /* AvatarFigurePartType */].WAIST_ACCESSORY];\n// CONCATENATED MODULE: ./src/api/room/widgets/PetSupplementEnum.ts\nclass PetSupplementEnum{}PetSupplementEnum.WATER=0;PetSupplementEnum.LIGHT=1;\n// CONCATENATED MODULE: ./src/api/room/widgets/PostureTypeEnum.ts\nclass PostureTypeEnum{}PostureTypeEnum.POSTURE_STAND=0;PostureTypeEnum.POSTURE_SIT=1;\n// CONCATENATED MODULE: ./src/api/room/widgets/RoomDimmerPreset.ts\nclass RoomDimmerPreset{constructor(id,type,color,brightness){this._id=void 0;this._type=void 0;this._color=void 0;this._brightness=void 0;this._id=id;this._type=type;this._color=color;this._brightness=brightness;}get id(){return this._id;}get type(){return this._type;}get color(){return this._color;}get brightness(){return this._brightness;}}\n// CONCATENATED MODULE: ./src/api/room/widgets/RoomObjectItem.ts\nclass RoomObjectItem{constructor(id,category,name){this._id=void 0;this._category=void 0;this._name=void 0;this._id=id;this._category=category;this._name=name;}get id(){return this._id;}get category(){return this._category;}get name(){return this._name;}}\n// CONCATENATED MODULE: ./src/api/room/widgets/UseProductItem.ts\nclass UseProductItem{constructor(id,category,name,requestRoomObjectId,targetRoomObjectId,requestInventoryStripId,replace){this.id=id;this.category=category;this.name=name;this.requestRoomObjectId=requestRoomObjectId;this.targetRoomObjectId=targetRoomObjectId;this.requestInventoryStripId=requestInventoryStripId;this.replace=replace;}}\n// CONCATENATED MODULE: ./src/api/room/widgets/VoteValue.ts\nconst VALUE_KEY_DISLIKE='0';const VALUE_KEY_LIKE='1';\n// CONCATENATED MODULE: ./src/api/room/widgets/YoutubeVideoPlaybackStateEnum.ts\nclass YoutubeVideoPlaybackStateEnum{}YoutubeVideoPlaybackStateEnum.UNSTARTED=-1;YoutubeVideoPlaybackStateEnum.ENDED=0;YoutubeVideoPlaybackStateEnum.PLAYING=1;YoutubeVideoPlaybackStateEnum.PAUSED=2;YoutubeVideoPlaybackStateEnum.BUFFERING=3;YoutubeVideoPlaybackStateEnum.CUED=5;\n// CONCATENATED MODULE: ./src/api/room/widgets/index.ts\n\n// CONCATENATED MODULE: ./src/api/room/index.ts\n\n// CONCATENATED MODULE: ./src/api/user/GetUserProfile.ts\nfunction GetUserProfile(userId){SendMessageComposer(new nitro_renderer[\"Yi\" /* UserProfileComposer */](userId));}\n// CONCATENATED MODULE: ./src/api/user/index.ts\n\n// CONCATENATED MODULE: ./src/api/wired/GetWiredTimeLocale.ts\nconst GetWiredTimeLocale=value=>{const time=Math.floor(value/2);if(!(value%2))return time.toString();return(time+0.5).toString();};\n// CONCATENATED MODULE: ./src/api/wired/WiredActionLayoutCode.ts\nclass WiredActionLayoutCode{}WiredActionLayoutCode.TOGGLE_FURNI_STATE=0;WiredActionLayoutCode.RESET=1;WiredActionLayoutCode.SET_FURNI_STATE=3;WiredActionLayoutCode.MOVE_FURNI=4;WiredActionLayoutCode.GIVE_SCORE=6;WiredActionLayoutCode.CHAT=7;WiredActionLayoutCode.TELEPORT=8;WiredActionLayoutCode.JOIN_TEAM=9;WiredActionLayoutCode.LEAVE_TEAM=10;WiredActionLayoutCode.CHASE=11;WiredActionLayoutCode.FLEE=12;WiredActionLayoutCode.MOVE_AND_ROTATE_FURNI=13;WiredActionLayoutCode.GIVE_SCORE_TO_PREDEFINED_TEAM=14;WiredActionLayoutCode.TOGGLE_TO_RANDOM_STATE=15;WiredActionLayoutCode.MOVE_FURNI_TO=16;WiredActionLayoutCode.GIVE_REWARD=17;WiredActionLayoutCode.CALL_ANOTHER_STACK=18;WiredActionLayoutCode.KICK_FROM_ROOM=19;WiredActionLayoutCode.MUTE_USER=20;WiredActionLayoutCode.BOT_TELEPORT=21;WiredActionLayoutCode.BOT_MOVE=22;WiredActionLayoutCode.BOT_TALK=23;WiredActionLayoutCode.BOT_GIVE_HAND_ITEM=24;WiredActionLayoutCode.BOT_FOLLOW_AVATAR=25;WiredActionLayoutCode.BOT_CHANGE_FIGURE=26;WiredActionLayoutCode.BOT_TALK_DIRECT_TO_AVTR=27;\n// CONCATENATED MODULE: ./src/api/wired/WiredConditionLayoutCode.ts\nclass WiredConditionlayout{}WiredConditionlayout.STATES_MATCH=0;WiredConditionlayout.FURNIS_HAVE_AVATARS=1;WiredConditionlayout.ACTOR_IS_ON_FURNI=2;WiredConditionlayout.TIME_ELAPSED_MORE=3;WiredConditionlayout.TIME_ELAPSED_LESS=4;WiredConditionlayout.USER_COUNT_IN=5;WiredConditionlayout.ACTOR_IS_IN_TEAM=6;WiredConditionlayout.HAS_STACKED_FURNIS=7;WiredConditionlayout.STUFF_TYPE_MATCHES=8;WiredConditionlayout.STUFFS_IN_FORMATION=9;WiredConditionlayout.ACTOR_IS_GROUP_MEMBER=10;WiredConditionlayout.ACTOR_IS_WEARING_BADGE=11;WiredConditionlayout.ACTOR_IS_WEARING_EFFECT=12;WiredConditionlayout.NOT_STATES_MATCH=13;WiredConditionlayout.FURNI_NOT_HAVE_HABBO=14;WiredConditionlayout.NOT_ACTOR_ON_FURNI=15;WiredConditionlayout.NOT_USER_COUNT_IN=16;WiredConditionlayout.NOT_ACTOR_IN_TEAM=17;WiredConditionlayout.NOT_HAS_STACKED_FURNIS=18;WiredConditionlayout.NOT_FURNI_IS_OF_TYPE=19;WiredConditionlayout.NOT_STUFFS_IN_FORMATION=20;WiredConditionlayout.NOT_ACTOR_IN_GROUP=21;WiredConditionlayout.NOT_ACTOR_WEARS_BADGE=22;WiredConditionlayout.NOT_ACTOR_WEARING_EFFECT=23;WiredConditionlayout.DATE_RANGE_ACTIVE=24;WiredConditionlayout.ACTOR_HAS_HANDITEM=25;\n// CONCATENATED MODULE: ./src/api/wired/WiredDateToString.ts\nconst WiredDateToString=date=>`${date.getFullYear()}/${('0'+(date.getMonth()+1)).slice(-2)}/${('0'+date.getDate()).slice(-2)} ${('0'+date.getHours()).slice(-2)}:${('0'+date.getMinutes()).slice(-2)}`;\n// CONCATENATED MODULE: ./src/api/wired/WiredFurniType.ts\nclass WiredFurniType{}WiredFurniType.STUFF_SELECTION_OPTION_NONE=0;WiredFurniType.STUFF_SELECTION_OPTION_BY_ID=1;WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE=2;WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT=3;\n// CONCATENATED MODULE: ./src/api/wired/WiredSelectionFilter.ts\nconst vertex=`\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`;const WiredSelectionFilter_fragment=`\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 lineColor;\nuniform vec3 color;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorLine = lineColor * currentColor.a;\n    vec3 colorOverlay = color * currentColor.a;\n\n    if(currentColor.r == 0.0 && currentColor.g == 0.0 && currentColor.b == 0.0 && currentColor.a > 0.0) {\n        gl_FragColor = vec4(colorLine.r, colorLine.g, colorLine.b, currentColor.a);\n    } else if(currentColor.a > 0.0) {\n        gl_FragColor = vec4(colorOverlay.r, colorOverlay.g, colorOverlay.b, currentColor.a);\n    }\n}`;class WiredSelectionFilter_WiredSelectionFilter extends nitro_renderer[\"kf\" /* NitroFilter */]{constructor(lineColor,color){super(vertex,WiredSelectionFilter_fragment);this._lineColor=void 0;this._color=void 0;this.uniforms.lineColor=new Float32Array(3);this.uniforms.color=new Float32Array(3);this.lineColor=lineColor;this.color=color;}get lineColor(){return this._lineColor;}set lineColor(value){const arr=this.uniforms.lineColor;if(typeof value==='number'){nitro_renderer[\"sb\" /* ColorConverter */].hex2rgb(value,arr);this._lineColor=value;}else{arr[0]=value[0];arr[1]=value[1];arr[2]=value[2];this._lineColor=nitro_renderer[\"sb\" /* ColorConverter */].rgb2hex(arr);}}get color(){return this._color;}set color(value){const arr=this.uniforms.color;if(typeof value==='number'){nitro_renderer[\"sb\" /* ColorConverter */].hex2rgb(value,arr);this._color=value;}else{arr[0]=value[0];arr[1]=value[1];arr[2]=value[2];this._color=nitro_renderer[\"sb\" /* ColorConverter */].rgb2hex(arr);}}}\n// CONCATENATED MODULE: ./src/api/wired/WiredSelectionVisualizer.ts\nclass WiredSelectionVisualizer_WiredSelectionVisualizer{static show(furniId){WiredSelectionVisualizer_WiredSelectionVisualizer.applySelectionShader(WiredSelectionVisualizer_WiredSelectionVisualizer.getRoomObject(furniId));}static hide(furniId){WiredSelectionVisualizer_WiredSelectionVisualizer.clearSelectionShader(WiredSelectionVisualizer_WiredSelectionVisualizer.getRoomObject(furniId));}static clearSelectionShaderFromFurni(furniIds){for(const furniId of furniIds){WiredSelectionVisualizer_WiredSelectionVisualizer.clearSelectionShader(WiredSelectionVisualizer_WiredSelectionVisualizer.getRoomObject(furniId));}}static applySelectionShaderToFurni(furniIds){for(const furniId of furniIds){WiredSelectionVisualizer_WiredSelectionVisualizer.applySelectionShader(WiredSelectionVisualizer_WiredSelectionVisualizer.getRoomObject(furniId));}}static getRoomObject(objectId){const roomEngine=GetRoomEngine();return roomEngine.getRoomObject(roomEngine.activeRoomId,objectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);}static applySelectionShader(roomObject){if(!roomObject)return;const visualization=roomObject.visualization;if(!visualization)return;for(const sprite of visualization.sprites){if(sprite.blendMode===1)continue;// BLEND_MODE: ADD\nsprite.filters=[WiredSelectionVisualizer_WiredSelectionVisualizer._selectionShader];}}static clearSelectionShader(roomObject){if(!roomObject)return;const visualization=roomObject.visualization;if(!visualization)return;for(const sprite of visualization.sprites)sprite.filters=[];}}WiredSelectionVisualizer_WiredSelectionVisualizer._selectionShader=new WiredSelectionFilter_WiredSelectionFilter([1,1,1],[0.6,0.6,0.6]);\n// CONCATENATED MODULE: ./src/api/wired/WiredStringDelimeter.ts\nconst WIRED_STRING_DELIMETER='\\t';\n// CONCATENATED MODULE: ./src/api/wired/WiredTriggerLayoutCode.ts\nclass WiredTriggerLayout{}WiredTriggerLayout.AVATAR_SAYS_SOMETHING=0;WiredTriggerLayout.AVATAR_WALKS_ON_FURNI=1;WiredTriggerLayout.AVATAR_WALKS_OFF_FURNI=2;WiredTriggerLayout.EXECUTE_ONCE=3;WiredTriggerLayout.TOGGLE_FURNI=4;WiredTriggerLayout.EXECUTE_PERIODICALLY=6;WiredTriggerLayout.AVATAR_ENTERS_ROOM=7;WiredTriggerLayout.GAME_STARTS=8;WiredTriggerLayout.GAME_ENDS=9;WiredTriggerLayout.SCORE_ACHIEVED=10;WiredTriggerLayout.COLLISION=11;WiredTriggerLayout.EXECUTE_PERIODICALLY_LONG=12;WiredTriggerLayout.BOT_REACHED_STUFF=13;WiredTriggerLayout.BOT_REACHED_AVATAR=14;\n// CONCATENATED MODULE: ./src/api/wired/index.ts\n\n// CONCATENATED MODULE: ./src/api/index.ts\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/common/Base.tsx\nconst Base=props=>{const{ref=null,innerRef=null,display=null,fit=false,fitV=false,grow=false,shrink=false,fullWidth=false,fullHeight=false,overflow=null,position=null,float=null,pointer=false,visible=null,textColor=null,classNames=[],className='',style={},children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=[];if(display&&display.length)newClassNames.push('d-'+display);if(fit||fullWidth)newClassNames.push('w-100');if(fit||fullHeight)newClassNames.push('h-100');if(fitV)newClassNames.push('vw-100','vh-100');if(grow)newClassNames.push('flex-grow-1');if(shrink)newClassNames.push('flex-shrink-0');if(overflow)newClassNames.push('overflow-'+overflow);if(position)newClassNames.push('position-'+position);if(float)newClassNames.push('float-'+float);if(pointer)newClassNames.push('cursor-pointer');if(visible!==null)newClassNames.push(visible?'visible':'invisible');if(textColor)newClassNames.push('text-'+textColor);if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[display,fit,fitV,grow,shrink,fullWidth,fullHeight,overflow,position,float,pointer,visible,textColor,classNames]);const getClassName=Object(react[\"useMemo\"])(()=>{let newClassName=getClassNames.join(' ');if(className.length)newClassName+=' '+className;return newClassName.trim();},[getClassNames,className]);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={};if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[style]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:innerRef,className:getClassName,style:getStyle,...rest,children:children});};\n// CONCATENATED MODULE: ./src/common/GridContext.tsx\nconst GridContext=/*#__PURE__*/Object(react[\"createContext\"])({isCssGrid:false});const GridContextProvider=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridContext.Provider,{value:props.value,children:props.children});};const useGridContext=()=>Object(react[\"useContext\"])(GridContext);\n// CONCATENATED MODULE: ./src/common/Grid.tsx\nconst Grid=props=>{const{inline=false,gap=2,maxContent=false,columnCount=0,center=false,alignSelf=null,alignItems=null,justifyContent=null,fullHeight=true,classNames=[],style={},...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=[];if(inline)newClassNames.push('inline-grid');else newClassNames.push('grid');if(gap)newClassNames.push('gap-'+gap);else if(gap===0)newClassNames.push('gap-0');if(maxContent)newClassNames.push('flex-basis-max-content');if(alignSelf)newClassNames.push('align-self-'+alignSelf);if(alignItems)newClassNames.push('align-items-'+alignItems);if(justifyContent)newClassNames.push('justify-content-'+justifyContent);if(!alignItems&&!justifyContent&&center)newClassNames.push('align-items-center','justify-content-center');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[inline,gap,maxContent,alignSelf,alignItems,justifyContent,center,classNames]);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={};if(columnCount)newStyle['--bs-columns']=columnCount.toString();if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[columnCount,style]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridContextProvider,{value:{isCssGrid:true},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fullHeight:fullHeight,classNames:getClassNames,style:getStyle,...rest})});};\n// CONCATENATED MODULE: ./src/common/AutoGrid.tsx\nconst AutoGrid=props=>{const{columnMinWidth=40,columnMinHeight=40,columnCount=0,fullHeight=false,maxContent=true,overflow='auto',style={},...rest}=props;const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={};newStyle['--nitro-grid-column-min-height']=columnMinHeight+'px';if(columnCount>1)newStyle.gridTemplateColumns=`repeat(auto-fill, minmax(${columnMinWidth}px, 1fr))`;if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[columnMinWidth,columnMinHeight,columnCount,style]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{columnCount:columnCount,fullHeight:fullHeight,overflow:overflow,style:getStyle,...rest});};\n// CONCATENATED MODULE: ./src/common/Flex.tsx\nconst Flex=props=>{const{display='flex',column=undefined,reverse=false,gap=null,center=false,alignSelf=null,alignItems=null,justifyContent=null,classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=[];if(column){if(reverse)newClassNames.push('flex-column-reverse');else newClassNames.push('flex-column');}else{if(reverse)newClassNames.push('flex-row-reverse');}if(gap)newClassNames.push('gap-'+gap);if(alignSelf)newClassNames.push('align-self-'+alignSelf);if(alignItems)newClassNames.push('align-items-'+alignItems);if(justifyContent)newClassNames.push('justify-content-'+justifyContent);if(!alignItems&&!justifyContent&&center)newClassNames.push('align-items-center','justify-content-center');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[column,reverse,gap,center,alignSelf,alignItems,justifyContent,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{display:display,classNames:getClassNames,...rest});};\n// CONCATENATED MODULE: ./src/common/Button.tsx\nconst Button=props=>{const{variant='primary',size='sm',active=false,disabled=false,classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['btn'];if(variant)newClassNames.push('btn-'+variant);if(size)newClassNames.push('btn-'+size);if(active)newClassNames.push('active');if(disabled)newClassNames.push('disabled');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[variant,size,active,disabled,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,classNames:getClassNames,...rest});};\n// CONCATENATED MODULE: ./src/common/ButtonGroup.tsx\nconst ButtonGroup=props=>{const{classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['btn-group'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,...rest});};\n// CONCATENATED MODULE: ./src/common/card/accordion/NitroCardAccordionContext.tsx\nconst NitroCardAccordionContext=/*#__PURE__*/Object(react[\"createContext\"])({closers:null,setClosers:null,closeAll:null});const NitroCardAccordionContextProvider=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardAccordionContext.Provider,{...props});};const useNitroCardAccordionContext=()=>Object(react[\"useContext\"])(NitroCardAccordionContext);\n// CONCATENATED MODULE: ./src/common/card/accordion/NitroCardAccordionItemView.tsx\nconst NitroCardAccordionItemView=props=>{const{alignItems='center',gap=1,children=null,...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:alignItems,gap:gap,...rest,children:children});};\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar react_fontawesome_index_es = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/common/card/accordion/NitroCardAccordionSetView.tsx\nconst NitroCardAccordionSetView=props=>{const{headerText='',isExpanded=false,gap=0,classNames=[],children=null,...rest}=props;const[isOpen,setIsOpen]=Object(react[\"useState\"])(false);const{setClosers=null,closeAll=null}=useNitroCardAccordionContext();const onClick=()=>{closeAll();setIsOpen(prevValue=>!prevValue);};const onClose=Object(react[\"useCallback\"])(()=>setIsOpen(false),[]);const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-card-accordion-set'];if(isOpen)newClassNames.push('active');if(classNames&&classNames.length)newClassNames.push(...classNames);return newClassNames;},[isOpen,classNames]);Object(react[\"useEffect\"])(()=>{setIsOpen(isExpanded);},[isExpanded]);Object(react[\"useEffect\"])(()=>{const closeFunction=onClose;setClosers(prevValue=>{const newClosers=[...prevValue];newClosers.push(closeFunction);return newClosers;});return()=>{setClosers(prevValue=>{const newClosers=[...prevValue];const index=newClosers.indexOf(closeFunction);if(index>=0)newClosers.splice(index,1);return newClosers;});};},[onClose,setClosers]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{classNames:getClassNames,gap:gap,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{pointer:true,justifyContent:\"between\",className:\"nitro-card-accordion-set-header px-2 py-1\",onClick:onClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:headerText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:isOpen?'caret-up':'caret-down'})]}),isOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullHeight:true,overflow:\"auto\",gap:0,className:\"nitro-card-accordion-set-content\",children:children})]});};\n// CONCATENATED MODULE: ./src/common/card/accordion/NitroCardAccordionView.tsx\nconst NitroCardAccordionView=props=>{const{...rest}=props;const[closers,setClosers]=Object(react[\"useState\"])([]);const closeAll=Object(react[\"useCallback\"])(()=>{for(const closer of closers)closer();},[closers]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardAccordionContextProvider,{value:{closers,setClosers,closeAll},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:0,...rest})});};\n// CONCATENATED MODULE: ./src/common/card/accordion/index.ts\n\n// CONCATENATED MODULE: ./src/common/card/NitroCardContentView.tsx\nconst NitroCardContentView=props=>{const{overflow='auto',classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['container-fluid','content-area'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{classNames:getClassNames,overflow:overflow,...rest});};\n// CONCATENATED MODULE: ./src/common/card/NitroCardContext.tsx\nconst NitroCardContext=/*#__PURE__*/Object(react[\"createContext\"])({theme:null});const NitroCardContextProvider=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContext.Provider,{value:props.value,children:props.children});};const useNitroCardContext=()=>Object(react[\"useContext\"])(NitroCardContext);\n// CONCATENATED MODULE: ./src/common/card/NitroCardHeaderView.tsx\nconst NitroCardHeaderView=props=>{const{headerText=null,noCloseButton=false,onCloseClick=null,justifyContent='center',alignItems='center',classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['drag-handler','container-fluid','nitro-card-header'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);const onMouseDown=Object(react[\"useCallback\"])(event=>{event.stopPropagation();event.nativeEvent.stopImmediatePropagation();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,position:\"relative\",classNames:getClassNames,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,center:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"nitro-card-header-text\",children:headerText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{position:\"absolute\",className:\"end-2 nitro-card-header-close\",onMouseDownCapture:onMouseDown,onClick:onCloseClick,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})]})});};\n// CONCATENATED MODULE: ./src/common/card/NitroCardSubHeaderView.tsx\nconst NitroCardSubHeaderView=props=>{const{justifyContent='center',classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['container-fluid','bg-muted','p-1'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:justifyContent,classNames:getClassNames,...rest});};\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/common/draggable-window/DraggableWindowPosition.ts\nclass DraggableWindowPosition{}DraggableWindowPosition.CENTER='DWP_CENTER';DraggableWindowPosition.TOP_CENTER='DWP_TOP_CENTER';DraggableWindowPosition.TOP_LEFT='DWP_TOP_LEFT';DraggableWindowPosition.NOTHING='DWP_NOTHING';\n// CONCATENATED MODULE: ./src/common/draggable-window/DraggableWindow.tsx\nconst CURRENT_WINDOWS=[];const BOUNDS_THRESHOLD_TOP=0;const BOUNDS_THRESHOLD_LEFT=0;const DraggableWindow=props=>{const{uniqueKey=null,handleSelector='.drag-handler',windowPosition=DraggableWindowPosition.CENTER,disableDrag=false,dragStyle={},children=null,offsetLeft=0,offsetTop=0}=props;const[delta,setDelta]=Object(react[\"useState\"])(null);const[offset,setOffset]=Object(react[\"useState\"])(null);const[start,setStart]=Object(react[\"useState\"])({x:0,y:0});const[isDragging,setIsDragging]=Object(react[\"useState\"])(false);const[dragHandler,setDragHandler]=Object(react[\"useState\"])(null);const elementRef=Object(react[\"useRef\"])();const bringToTop=Object(react[\"useCallback\"])(()=>{let zIndex=400;for(const existingWindow of CURRENT_WINDOWS){zIndex+=1;existingWindow.style.zIndex=zIndex.toString();}},[]);const moveCurrentWindow=Object(react[\"useCallback\"])(()=>{const index=CURRENT_WINDOWS.indexOf(elementRef.current);if(index===-1){CURRENT_WINDOWS.push(elementRef.current);}else if(index===CURRENT_WINDOWS.length-1)return;else if(index>=0){CURRENT_WINDOWS.splice(index,1);CURRENT_WINDOWS.push(elementRef.current);}bringToTop();},[bringToTop]);const onMouseDown=Object(react[\"useCallback\"])(event=>{moveCurrentWindow();},[moveCurrentWindow]);const onTouchStart=Object(react[\"useCallback\"])(event=>{moveCurrentWindow();},[moveCurrentWindow]);const startDragging=Object(react[\"useCallback\"])((startX,startY)=>{setStart({x:startX,y:startY});setIsDragging(true);},[]);const onDragMouseDown=Object(react[\"useCallback\"])(event=>{startDragging(event.clientX,event.clientY);},[startDragging]);const onTouchDown=Object(react[\"useCallback\"])(event=>{const touch=event.touches[0];startDragging(touch.clientX,touch.clientY);},[startDragging]);const onDragMouseMove=Object(react[\"useCallback\"])(event=>{setDelta({x:event.clientX-start.x,y:event.clientY-start.y});},[start]);const onDragTouchMove=Object(react[\"useCallback\"])(event=>{const touch=event.touches[0];setDelta({x:touch.clientX-start.x,y:touch.clientY-start.y});},[start]);const completeDrag=Object(react[\"useCallback\"])(()=>{if(!elementRef.current||!dragHandler)return;let offsetX=offset.x+delta.x;let offsetY=offset.y+delta.y;const left=elementRef.current.offsetLeft+offsetX;const top=elementRef.current.offsetTop+offsetY;if(top<BOUNDS_THRESHOLD_TOP){offsetY=-elementRef.current.offsetTop;}else if(top+dragHandler.offsetHeight>=document.body.offsetHeight-BOUNDS_THRESHOLD_TOP){offsetY=document.body.offsetHeight-elementRef.current.offsetHeight-elementRef.current.offsetTop;}if(left+elementRef.current.offsetWidth<BOUNDS_THRESHOLD_LEFT){offsetX=-elementRef.current.offsetLeft;}else if(left>=document.body.offsetWidth-BOUNDS_THRESHOLD_LEFT){offsetX=document.body.offsetWidth-elementRef.current.offsetWidth-elementRef.current.offsetLeft;}setDelta({x:0,y:0});setOffset({x:offsetX,y:offsetY});setIsDragging(false);if(uniqueKey!==null){const newStorage={...GetLocalStorage(`nitro.windows.${uniqueKey}`)};newStorage.offset={x:offsetX,y:offsetY};SetLocalStorage(`nitro.windows.${uniqueKey}`,newStorage);}},[dragHandler,delta,offset,uniqueKey]);const onDragMouseUp=Object(react[\"useCallback\"])(event=>{completeDrag();},[completeDrag]);const onDragTouchUp=Object(react[\"useCallback\"])(event=>{completeDrag();},[completeDrag]);Object(react[\"useEffect\"])(()=>{const element=elementRef.current;if(!element)return;CURRENT_WINDOWS.push(element);bringToTop();if(!disableDrag){const handle=element.querySelector(handleSelector);if(handle)setDragHandler(handle);}let offsetX=0;let offsetY=0;switch(windowPosition){case DraggableWindowPosition.TOP_CENTER:element.style.top=50+offsetTop+'px';element.style.left=`calc(50vw - ${element.offsetWidth/2+offsetLeft}px)`;break;case DraggableWindowPosition.CENTER:element.style.top=`calc(50vh - ${element.offsetHeight/2+offsetTop}px)`;element.style.left=`calc(50vw - ${element.offsetWidth/2+offsetLeft}px)`;break;case DraggableWindowPosition.TOP_LEFT:element.style.top=50+offsetTop+'px';element.style.left=50+offsetLeft+'px';break;}setDelta({x:0,y:0});setOffset({x:offsetX,y:offsetY});return()=>{const index=CURRENT_WINDOWS.indexOf(element);if(index>=0)CURRENT_WINDOWS.splice(index,1);};},[handleSelector,windowPosition,uniqueKey,disableDrag,offsetLeft,offsetTop,bringToTop]);Object(react[\"useEffect\"])(()=>{if(!offset&&!delta)return;const element=elementRef.current;if(!element)return;element.style.transform=`translate(${offset.x+delta.x}px, ${offset.y+delta.y}px)`;element.style.visibility='visible';},[offset,delta]);Object(react[\"useEffect\"])(()=>{if(!dragHandler)return;dragHandler.addEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN,onDragMouseDown);dragHandler.addEventListener(nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_START,onTouchDown);return()=>{dragHandler.removeEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN,onDragMouseDown);dragHandler.removeEventListener(nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_START,onTouchDown);};},[dragHandler,onDragMouseDown,onTouchDown]);Object(react[\"useEffect\"])(()=>{if(!isDragging)return;document.addEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_UP,onDragMouseUp);document.addEventListener(nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_END,onDragTouchUp);document.addEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_MOVE,onDragMouseMove);document.addEventListener(nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_MOVE,onDragTouchMove);return()=>{document.removeEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_UP,onDragMouseUp);document.removeEventListener(nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_END,onDragTouchUp);document.removeEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_MOVE,onDragMouseMove);document.removeEventListener(nitro_renderer[\"hi\" /* TouchEventType */].TOUCH_MOVE,onDragTouchMove);};},[isDragging,onDragMouseUp,onDragMouseMove,onDragTouchUp,onDragTouchMove]);Object(react[\"useEffect\"])(()=>{if(!uniqueKey)return;const localStorage=GetLocalStorage(`nitro.windows.${uniqueKey}`);if(!localStorage||!localStorage.offset)return;setDelta({x:0,y:0});if(localStorage.offset)setOffset(localStorage.offset);},[uniqueKey]);return/*#__PURE__*/Object(react_dom[\"createPortal\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{position:\"absolute\",innerRef:elementRef,className:\"draggable-window\",onMouseDownCapture:onMouseDown,onTouchStartCapture:onTouchStart,style:dragStyle,children:children}),document.getElementById('draggable-windows-container'));};\n// CONCATENATED MODULE: ./src/common/draggable-window/index.ts\n\n// CONCATENATED MODULE: ./src/common/card/NitroCardView.tsx\nconst NitroCardView=props=>{const{theme='primary',uniqueKey=null,handleSelector='.drag-handler',windowPosition=DraggableWindowPosition.CENTER,disableDrag=false,overflow='hidden',position='relative',gap=0,classNames=[],...rest}=props;const elementRef=Object(react[\"useRef\"])();const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-card','rounded','shadow'];newClassNames.push(`theme-${theme||'primary'}`);if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[theme,classNames]);Object(react[\"useEffect\"])(()=>{if(!uniqueKey||!elementRef||!elementRef.current)return;const localStorage=GetLocalStorage(`nitro.windows.${uniqueKey}`);const element=elementRef.current;if(localStorage&&localStorage.size){element.style.width=`${localStorage.size.width}px`;element.style.height=`${localStorage.size.height}px`;}const observer=new ResizeObserver(event=>{const newStorage={...GetLocalStorage(`nitro.windows.${uniqueKey}`)};newStorage.size={width:element.offsetWidth,height:element.offsetHeight};SetLocalStorage(`nitro.windows.${uniqueKey}`,newStorage);});observer.observe(element);return()=>{observer.disconnect();};},[uniqueKey]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContextProvider,{value:{theme},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow,{uniqueKey:uniqueKey,handleSelector:handleSelector,windowPosition:windowPosition,disableDrag:disableDrag,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{innerRef:elementRef,overflow:overflow,position:position,gap:gap,classNames:getClassNames,...rest})})});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutAvatarImageView.tsx\nconst LayoutAvatarImageView=props=>{const{figure='',gender='M',headOnly=false,direction=0,scale=1,classNames=[],style={},...rest}=props;const[avatarUrl,setAvatarUrl]=Object(react[\"useState\"])(null);const[randomValue,setRandomValue]=Object(react[\"useState\"])(-1);const isDisposed=Object(react[\"useRef\"])(false);const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['avatar-image'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={};if(avatarUrl&&avatarUrl.length)newStyle.backgroundImage=`url('${avatarUrl}')`;if(scale!==1){newStyle.transform=`scale(${scale})`;if(!(scale%1))newStyle.imageRendering='pixelated';}if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[avatarUrl,scale,style]);Object(react[\"useEffect\"])(()=>{const avatarImage=GetAvatarRenderManager().createAvatarImage(figure,nitro_renderer[\"r\" /* AvatarScaleType */].LARGE,gender,{resetFigure:figure=>{if(isDisposed.current)return;setRandomValue(Math.random());},dispose:()=>{},disposed:false},null);if(!avatarImage)return;let setType=nitro_renderer[\"s\" /* AvatarSetType */].FULL;if(headOnly)setType=nitro_renderer[\"s\" /* AvatarSetType */].HEAD;avatarImage.setDirection(setType,direction);const image=avatarImage.getCroppedImage(setType);if(image)setAvatarUrl(image.src);avatarImage.dispose();},[figure,gender,direction,headOnly,randomValue]);Object(react[\"useEffect\"])(()=>{isDisposed.current=false;return()=>{isDisposed.current=true;};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,style:getStyle,...rest});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutBackgroundImage.tsx\nconst LayoutBackgroundImage=props=>{const{imageUrl=null,fit=true,style=null,...rest}=props;const getStyle=Object(react[\"useMemo\"])(()=>{const newStyle={...style};if(imageUrl)newStyle.background=`url(${imageUrl}) center no-repeat`;return newStyle;},[style,imageUrl]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fit:fit,style:getStyle,...rest});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutBadgeImageView.tsx\nconst LayoutBadgeImageView=props=>{const{badgeCode=null,isGroup=false,showInfo=false,customTitle=null,isGrayscale=false,scale=1,classNames=[],style={},children=null,...rest}=props;const[imageElement,setImageElement]=Object(react[\"useState\"])(null);const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['badge-image'];if(isGroup)newClassNames.push('group-badge');if(isGrayscale)newClassNames.push('grayscale');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames,isGroup,isGrayscale]);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={};if(imageElement){newStyle.backgroundImage=`url('${imageElement.src}')`;newStyle.width=imageElement.width;newStyle.height=imageElement.height;if(scale!==1){newStyle.transform=`scale(${scale})`;if(!(scale%1))newStyle.imageRendering='pixelated';newStyle.width=imageElement.width*scale;newStyle.height=imageElement.height*scale;}}if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[imageElement,scale,style]);Object(react[\"useEffect\"])(()=>{if(!badgeCode||!badgeCode.length)return;let didSetBadge=false;const onBadgeImageReadyEvent=event=>{if(event.badgeId!==badgeCode)return;const element=nitro_renderer[\"fi\" /* TextureUtils */].generateImage(new nitro_renderer[\"rf\" /* NitroSprite */](event.image));element.onload=()=>setImageElement(element);didSetBadge=true;GetSessionDataManager().events.removeEventListener(nitro_renderer[\"t\" /* BadgeImageReadyEvent */].IMAGE_READY,onBadgeImageReadyEvent);};GetSessionDataManager().events.addEventListener(nitro_renderer[\"t\" /* BadgeImageReadyEvent */].IMAGE_READY,onBadgeImageReadyEvent);const texture=isGroup?GetSessionDataManager().getGroupBadgeImage(badgeCode):GetSessionDataManager().getBadgeImage(badgeCode);if(texture&&!didSetBadge){const element=nitro_renderer[\"fi\" /* TextureUtils */].generateImage(new nitro_renderer[\"rf\" /* NitroSprite */](texture));element.onload=()=>setImageElement(element);}return()=>GetSessionDataManager().events.removeEventListener(nitro_renderer[\"t\" /* BadgeImageReadyEvent */].IMAGE_READY,onBadgeImageReadyEvent);},[badgeCode,isGroup]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{classNames:getClassNames,style:getStyle,...rest,children:[showInfo&&GetConfiguration('badge.descriptions.enabled',true)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"badge-information text-black py-1 px-2 small\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fw-bold mb-1\",children:isGroup?customTitle:LocalizeBadgeName(badgeCode)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:isGroup?LocalizeText('group.badgepopup.body'):LocalizeBadgeDescription(badgeCode)})]}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutCounterTimeView.tsx\nconst LayoutCounterTimeView=props=>{const{day='00',hour='00',minutes='00',seconds='00',classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-counter-time'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[day!='00'?day:hour,day!='00'?LocalizeText('countdown_clock_unit_days'):LocalizeText('countdown_clock_unit_hours')]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{style:{marginTop:'3px'},children:\":\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[minutes,LocalizeText('countdown_clock_unit_minutes')]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{style:{marginTop:'3px'},children:\":\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[seconds,LocalizeText('countdown_clock_unit_seconds')]})}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutCurrencyIcon.tsx\nconst LayoutCurrencyIcon=props=>{const{type='',classNames=[],style={},...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-currency-icon'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);const urlString=Object(react[\"useMemo\"])(()=>{let url=GetConfiguration('currency.asset.icon.url','');url=url.replace('%type%',type.toString());return`url(${url})`;},[type]);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={};newStyle.backgroundImage=urlString;if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[style,urlString]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,style:getStyle,...rest});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutFurniIconImageView.tsx\nconst LayoutFurniIconImageView=props=>{const{productType='s',productClassId=-1,extraData='',...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:GetImageIconUrlForProduct(productType,productClassId,extraData),className:\"furni-image\",...rest});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutFurniImageView.tsx\nconst LayoutFurniImageView=props=>{const{productType='s',productClassId=-1,direction=2,extraData='',scale=1,style={},...rest}=props;const[imageElement,setImageElement]=Object(react[\"useState\"])(null);const getStyle=Object(react[\"useMemo\"])(()=>{var _imageElement$src;let newStyle={};if(imageElement!==null&&imageElement!==void 0&&(_imageElement$src=imageElement.src)!==null&&_imageElement$src!==void 0&&_imageElement$src.length){newStyle.backgroundImage=`url('${imageElement.src}')`;newStyle.width=imageElement.width;newStyle.height=imageElement.height;}if(scale!==1){newStyle.transform=`scale(${scale})`;if(!(scale%1))newStyle.imageRendering='pixelated';}if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[imageElement,scale,style]);const buildImage=Object(react[\"useCallback\"])(()=>{let imageResult=null;const listener={imageReady:(id,texture,image)=>{if(!image&&texture){image=nitro_renderer[\"fi\" /* TextureUtils */].generateImage(texture);}image.onload=()=>setImageElement(image);},imageFailed:null};switch(productType.toLocaleLowerCase()){case ProductTypeEnum.FLOOR:imageResult=GetRoomEngine().getFurnitureFloorImage(productClassId,new nitro_renderer[\"kj\" /* Vector3d */](direction),64,listener,0,extraData);break;case ProductTypeEnum.WALL:imageResult=GetRoomEngine().getFurnitureWallImage(productClassId,new nitro_renderer[\"kj\" /* Vector3d */](direction),64,listener,0,extraData);break;}if(imageResult){const image=imageResult.getImage();image.onload=()=>setImageElement(image);}},[productType,productClassId,direction,extraData]);Object(react[\"useEffect\"])(()=>{buildImage();},[buildImage]);if(!imageElement)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:['furni-image'],style:getStyle,...rest});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutGiftTagView.tsx\nconst LayoutGiftTagView=props=>{const{figure=null,userName=null,message=null,editable=false,onChange=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{overflow:\"hidden\",className:\"nitro-gift-card text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center justify-content-center gift-face flex-shrink-0\",children:[!userName&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"gift-incognito\"}),figure&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"gift-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:figure,direction:2,headOnly:true})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{overflow:\"hidden\",className:\"w-100 pt-4 pb-4 pe-4 ps-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,overflow:\"auto\",justifyContent:\"between\",children:[!editable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{textBreak:true,className:\"gift-message\",children:message}),editable&&onChange!==null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"gift-message h-100\",maxLength:140,value:message,onChange:e=>onChange(e.target.value),placeholder:LocalizeText('catalog.gift_wrapping_new.message_hint')}),userName&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{italics:true,textEnd:true,className:\"pe-1\",children:LocalizeText('catalog.gift_wrapping_new.message_from',['name'],[userName])})]})})]});};\n// CONCATENATED MODULE: ./src/common/Column.tsx\nconst Column=props=>{const{size=0,offset=0,column=true,gap=2,classNames=[],...rest}=props;const{isCssGrid=false}=useGridContext();const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=[];if(size){let colClassName=`col-${size}`;if(isCssGrid)colClassName=`g-${colClassName}`;newClassNames.push(colClassName);}if(offset){let colClassName=`offset-${offset}`;if(isCssGrid)colClassName=`g-start-${offset}`;newClassNames.push(colClassName);}if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[size,offset,isCssGrid,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{classNames:getClassNames,column:column,gap:gap,...rest});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutItemCountView.tsx\nconst LayoutItemCountView=props=>{const{count=0,position='absolute',classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['badge','border','border-black','bg-danger','px-1','nitro-item-count'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{position:\"absolute\",classNames:getClassNames,...rest,children:[count,children]});};\n// CONCATENATED MODULE: ./src/common/layout/limited-edition/LayoutLimitedEditionStyledNumberView.tsx\nconst LayoutLimitedEditionStyledNumberView=props=>{const{value=0}=props;const numbers=value.toString().split('');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:numbers.map((number,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'limited-edition-number n-'+number},index))});};\n// CONCATENATED MODULE: ./src/common/layout/limited-edition/LayoutLimitedEditionCompactPlateView.tsx\nconst LayoutLimitedEditionCompactPlateView=props=>{const{uniqueNumber=0,uniqueSeries=0,classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['unique-compact-plate','z-index-1'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{classNames:getClassNames,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView,{value:uniqueNumber})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView,{value:uniqueSeries})}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/limited-edition/LayoutLimitedEditionCompletePlateView.tsx\nconst LayoutLimitedEditionCompletePlateView=props=>{const{uniqueLimitedItemsLeft=0,uniqueLimitedSeriesSize=0,classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['unique-complete-plate'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"plate-container\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",children:[LocalizeText('unique.items.left'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView,{value:uniqueLimitedItemsLeft})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",children:[LocalizeText('unique.items.number.sold'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView,{value:uniqueLimitedSeriesSize})})]})]})});};\n// CONCATENATED MODULE: ./src/common/layout/limited-edition/index.ts\n\n// CONCATENATED MODULE: ./src/common/layout/LayoutGridItem.tsx\nconst LayoutGridItem=props=>{const{itemImage=undefined,itemColor=undefined,itemActive=false,itemCount=1,itemCountMinimum=1,itemUniqueSoldout=false,itemUniqueNumber=-2,itemUnseen=false,itemHighlight=false,disabled=false,center=true,column=true,style={},classNames=[],position='relative',overflow='hidden',children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['layout-grid-item','border','border-2','border-muted','rounded'];if(itemActive)newClassNames.push('active');if(itemUniqueSoldout||itemUniqueNumber>0)newClassNames.push('unique-item');if(itemUniqueSoldout)newClassNames.push('sold-out');if(itemUnseen)newClassNames.push('unseen');if(itemHighlight)newClassNames.push('has-highlight');if(disabled)newClassNames.push('disabled');if(itemImage===null)newClassNames.push('icon','loading-icon');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[itemActive,itemUniqueSoldout,itemUniqueNumber,itemUnseen,itemHighlight,disabled,itemImage,classNames]);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={...style};if(itemImage&&!(itemUniqueSoldout||itemUniqueNumber>0))newStyle.backgroundImage=`url(${itemImage})`;if(itemColor)newStyle.backgroundColor=itemColor;if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[style,itemImage,itemColor,itemUniqueSoldout,itemUniqueNumber]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:center,pointer:true,position:position,overflow:overflow,column:column,classNames:getClassNames,style:getStyle,...rest,children:[itemCount>itemCountMinimum&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView,{count:itemCount}),itemUniqueNumber>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fit:true,className:\"unique-bg-override\",style:{backgroundImage:`url(${itemImage})`}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute bottom-0 unique-item-counter\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView,{value:itemUniqueNumber})})]}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutImage.tsx\nconst LayoutImage=props=>{const{imageUrl=null,className='',...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,className:'no-select '+className,alt:\"\",...rest});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutLoadingSpinnerView.tsx\nconst LayoutLoadingSpinnerView=props=>{const{...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{classNames:['spinner-container'],...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"spinner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"spinner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"spinner\"})]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutMiniCameraView.tsx\nconst LayoutMiniCameraView=props=>{const{roomId=-1,textureReceiver=null,onClose=null}=props;const elementRef=Object(react[\"useRef\"])();const getCameraBounds=Object(react[\"useCallback\"])(()=>{if(!elementRef||!elementRef.current)return null;const frameBounds=elementRef.current.getBoundingClientRect();return new nitro_renderer[\"of\" /* NitroRectangle */](Math.floor(frameBounds.x),Math.floor(frameBounds.y),Math.floor(frameBounds.width),Math.floor(frameBounds.height));},[]);const takePicture=Object(react[\"useCallback\"])(()=>{PlaySound(SoundNames.CAMERA_SHUTTER);textureReceiver(GetRoomEngine().createTextureFromRoom(roomId,1,getCameraBounds()));},[roomId,getCameraBounds,textureReceiver]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow,{handleSelector:\".nitro-room-thumbnail-camera\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nitro-room-thumbnail-camera px-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:elementRef,className:'camera-frame'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-end h-100 pb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-sm btn-danger w-100 mb-1 me-2\",onClick:onClose,children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-sm btn-success w-100 mb-1\",onClick:takePicture,children:LocalizeText('navigator.thumbeditor.save')})]})]})});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutNotificationAlertView.tsx\nconst LayoutNotificationAlertView=props=>{const{title='',onClose=null,classNames=[],children=null,type=NotificationAlertType.DEFAULT,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-alert'];newClassNames.push('nitro-alert-'+type);if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames,type]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{classNames:getClassNames,theme:\"primary-slim\",...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:title,onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{grow:true,justifyContent:\"between\",overflow:\"hidden\",className:\"text-black\",gap:0,children:children})]});};\n// EXTERNAL MODULE: ./node_modules/react-transition-group/esm/Transition.js + 2 modules\nvar Transition = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/common/transitions/TransitionAnimationTypes.ts\nclass TransitionAnimationTypes{}TransitionAnimationTypes.BOUNCE='bounce';TransitionAnimationTypes.SLIDE_LEFT='slideLeft';TransitionAnimationTypes.SLIDE_RIGHT='slideRight';TransitionAnimationTypes.FLIP_X='flipX';TransitionAnimationTypes.FADE_IN='fadeIn';TransitionAnimationTypes.FADE_DOWN='fadeDown';TransitionAnimationTypes.FADE_UP='fadeUp';TransitionAnimationTypes.HEAD_SHAKE='headShake';\n// CONCATENATED MODULE: ./src/common/transitions/TransitionAnimationStyles.ts\nfunction getTransitionAnimationStyle(type,transition){let timeout=arguments.length>2&&arguments[2]!==undefined?arguments[2]:300;switch(type){case TransitionAnimationTypes.BOUNCE:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'bounceIn',animationDuration:`${timeout}ms`};case Transition[\"c\" /* EXITING */]:return{animationName:'bounceOut',animationDuration:`${timeout}ms`};}case TransitionAnimationTypes.SLIDE_LEFT:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'slideInLeft',animationDuration:`${timeout}ms`};case Transition[\"c\" /* EXITING */]:return{animationName:'slideOutLeft',animationDuration:`${timeout}ms`};}case TransitionAnimationTypes.SLIDE_RIGHT:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'slideInRight',animationDuration:`${timeout}ms`};case Transition[\"c\" /* EXITING */]:return{animationName:'slideOutRight',animationDuration:`${timeout}ms`};}case TransitionAnimationTypes.FLIP_X:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'flipInX',animationDuration:`${timeout}ms`};case Transition[\"c\" /* EXITING */]:return{animationName:'flipOutX',animationDuration:`${timeout}ms`};}case TransitionAnimationTypes.FADE_UP:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'fadeInUp',animationDuration:`${timeout}ms`};case Transition[\"c\" /* EXITING */]:return{animationName:'fadeOutDown',animationDuration:`${timeout}ms`};}case TransitionAnimationTypes.FADE_IN:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'fadeIn',animationDuration:`${timeout}ms`};case Transition[\"c\" /* EXITING */]:return{animationName:'fadeOut',animationDuration:`${timeout}ms`};}case TransitionAnimationTypes.FADE_DOWN:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'fadeInDown',animationDuration:`${timeout}ms`};case Transition[\"c\" /* EXITING */]:return{animationName:'fadeOutUp',animationDuration:`${timeout}ms`};}case TransitionAnimationTypes.HEAD_SHAKE:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'headShake',animationDuration:`${timeout}ms`};}}return null;}\n// CONCATENATED MODULE: ./src/common/transitions/TransitionAnimation.tsx\nconst TransitionAnimation=props=>{const{type=null,inProp=false,timeout=300,className=null,children=null}=props;const[isChildrenVisible,setChildrenVisible]=Object(react[\"useState\"])(false);Object(react[\"useEffect\"])(()=>{let timeoutData=null;if(inProp){setChildrenVisible(true);}else{timeoutData=setTimeout(()=>{setChildrenVisible(false);clearTimeout(timeout);},timeout);}return()=>{if(timeoutData)clearTimeout(timeoutData);};},[inProp,timeout]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Transition[\"d\" /* default */],{in:inProp,timeout:timeout,children:state=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:(className!==null&&className!==void 0?className:'')+' animate__animated',style:{...getTransitionAnimationStyle(type,state,timeout)},children:isChildrenVisible&&children})});};\n// CONCATENATED MODULE: ./src/common/transitions/index.ts\n\n// CONCATENATED MODULE: ./src/common/layout/LayoutNotificationBubbleView.tsx\nconst LayoutNotificationBubbleView=props=>{const{fadesOut=true,timeoutMs=8000,onClose=null,overflow='hidden',classNames=[],...rest}=props;const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-notification-bubble','rounded'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);Object(react[\"useEffect\"])(()=>{setIsVisible(true);return()=>setIsVisible(false);},[]);Object(react[\"useEffect\"])(()=>{if(!fadesOut)return;const timeout=setTimeout(()=>{setIsVisible(false);setTimeout(()=>onClose(),300);},timeoutMs);return()=>clearTimeout(timeout);},[fadesOut,timeoutMs,onClose]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation,{type:TransitionAnimationTypes.FADE_IN,inProp:isVisible,timeout:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{overflow:overflow,classNames:getClassNames,onClick:onClose,...rest})});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutPetImageView.tsx\nconst LayoutPetImageView=props=>{const{figure='',typeId=-1,paletteId=-1,petColor=0xFFFFFF,customParts=[],posture='std',headOnly=false,direction=0,scale=1,style={},...rest}=props;const[petUrl,setPetUrl]=Object(react[\"useState\"])(null);const[width,setWidth]=Object(react[\"useState\"])(0);const[height,setHeight]=Object(react[\"useState\"])(0);const isDisposed=Object(react[\"useRef\"])(false);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={};if(petUrl&&petUrl.length)newStyle.backgroundImage=`url(${petUrl})`;if(scale!==1){newStyle.transform=`scale(${scale})`;if(!(scale%1))newStyle.imageRendering='pixelated';}newStyle.width=width;newStyle.height=height;if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[petUrl,scale,style,width,height]);Object(react[\"useEffect\"])(()=>{let url=null;let petTypeId=typeId;let petPaletteId=paletteId;let petColor1=petColor;let petCustomParts=customParts;let petHeadOnly=headOnly;if(figure&&figure.length){const petFigureData=new nitro_renderer[\"Ff\" /* PetFigureData */](figure);petTypeId=petFigureData.typeId;petPaletteId=petFigureData.paletteId;petColor1=petFigureData.color;petCustomParts=petFigureData.customParts;}if(petTypeId===16)petHeadOnly=false;const imageResult=GetRoomEngine().getRoomObjectPetImage(petTypeId,petPaletteId,petColor1,new nitro_renderer[\"kj\" /* Vector3d */](direction*45),64,{imageReady:(id,texture,image)=>{if(isDisposed.current)return;if(image){setPetUrl(image.src);setWidth(image.width);setHeight(image.height);}else if(texture){setPetUrl(nitro_renderer[\"fi\" /* TextureUtils */].generateImageUrl(texture));setWidth(texture.width);setHeight(texture.height);}},imageFailed:id=>{}},petHeadOnly,0,petCustomParts,posture);if(imageResult){const image=imageResult.getImage();if(image){setPetUrl(image.src);setWidth(image.width);setHeight(image.height);}}},[figure,typeId,paletteId,petColor,customParts,posture,headOnly,direction]);Object(react[\"useEffect\"])(()=>{isDisposed.current=false;return()=>{isDisposed.current=true;};},[]);const url=`url('${petUrl}')`;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:['pet-image'],style:getStyle,...rest});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutProgressBar.tsx\nconst LayoutProgressBar=props=>{const{text='',progress=0,maxProgress=100,position='relative',justifyContent='center',classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-progress-bar','text-white'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{position:position,justifyContent:justifyContent,classNames:getClassNames,...rest,children:[text&&text.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fit:true,center:true,position:\"absolute\",className:\"nitro-progress-bar-text small\",children:text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-progress-bar-inner\",style:{width:~~((progress-0)*(100-0)/(maxProgress-0)+0)+'%'}}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutRarityLevelView.tsx\nconst LayoutRarityLevelView=props=>{const{level=0,classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-rarity-level'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{classNames:getClassNames,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:level}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutRoomPreviewerView.tsx\nconst LayoutRoomPreviewerView=props=>{const{roomPreviewer=null,height=0,children=null}=props;const[renderingCanvas,setRenderingCanvas]=Object(react[\"useState\"])(null);const elementRef=Object(react[\"useRef\"])();const onClick=event=>{if(!roomPreviewer)return;if(event.shiftKey){roomPreviewer.changeRoomObjectDirection();}else{roomPreviewer.changeRoomObjectState();}};const update=Object(react[\"useCallback\"])(time=>{if(!roomPreviewer||!renderingCanvas||!elementRef.current)return;roomPreviewer.updatePreviewRoomView();if(!renderingCanvas.canvasUpdated)return;elementRef.current.style.backgroundImage=`url(${nitro_renderer[\"fi\" /* TextureUtils */].generateImageUrl(renderingCanvas.master)})`;},[roomPreviewer,renderingCanvas,elementRef]);const setupPreviewer=Object(react[\"useCallback\"])(()=>{if(!elementRef.current||!roomPreviewer)return;const computed=document.defaultView.getComputedStyle(elementRef.current,null);let backgroundColor=computed.backgroundColor;backgroundColor=nitro_renderer[\"sb\" /* ColorConverter */].rgbStringToHex(backgroundColor);backgroundColor=backgroundColor.replace('#','0x');roomPreviewer.backgroundColor=parseInt(backgroundColor,16);const width=elementRef.current.parentElement.clientWidth;roomPreviewer.getRoomCanvas(width,height);const canvas=roomPreviewer.getRenderingCanvas();setRenderingCanvas(canvas);canvas.canvasUpdated=true;update(-1);},[elementRef,height,roomPreviewer,update]);Object(react[\"useEffect\"])(()=>{if(!roomPreviewer)return;if(!renderingCanvas)setupPreviewer();GetNitroInstance().ticker.add(update);const resizeObserver=new ResizeObserver(()=>{if(!roomPreviewer||!elementRef.current)return;const width=elementRef.current.parentElement.offsetWidth;roomPreviewer.modifyRoomCanvas(width,height);update(-1);});resizeObserver.observe(elementRef.current);return()=>{resizeObserver.disconnect();GetNitroInstance().ticker.remove(update);};},[renderingCanvas,roomPreviewer,elementRef,height,setupPreviewer,update]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"room-preview-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:elementRef,className:\"room-preview-image\",style:{height},onClick:onClick}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutRoomThumbnailView.tsx\nconst LayoutRoomThumbnailView=props=>{const{roomId=-1,customUrl=null,shrink=true,overflow='hidden',classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['room-thumbnail','rounded','border'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);const getImageUrl=Object(react[\"useMemo\"])(()=>{if(customUrl&&customUrl.length)return GetConfiguration('image.library.url')+customUrl;return GetConfiguration('thumbnails.url').replace('%thumbnail%',roomId.toString());},[customUrl,roomId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{shrink:shrink,overflow:overflow,classNames:getClassNames,...rest,children:[getImageUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:getImageUrl}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutTrophyView.tsx\nconst LayoutTrophyView=props=>{const{color='',message='',date='',senderName='',customTitle=null,onCloseClick=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow,{handleSelector:\".drag-handler\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,alignItems:\"center\",className:`nitro-layout-trophy trophy-${color}`,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,fullWidth:true,position:\"relative\",className:\"trophy-header drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{position:\"absolute\",pointer:true,className:\"trophy-close\",onClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('widget.furni.trophy.title')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"trophy-content py-1\",gap:1,children:[customTitle&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:customTitle}),message]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",className:\"trophy-footer mt-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:date}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:senderName})]})]})});};\n// CONCATENATED MODULE: ./src/common/layout/UserProfileIconView.tsx\nconst UserProfileIconView=props=>{const{userId=0,userName=null,classNames=[],pointer=true,children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-friends-spritesheet','icon-profile-sm'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,pointer:pointer,onClick:event=>GetUserProfile(userId),...rest,children:children});};\n// CONCATENATED MODULE: ./src/common/layout/index.ts\n\n// CONCATENATED MODULE: ./src/common/card/tabs/NitroCardTabsItemView.tsx\nconst NitroCardTabsItemView=props=>{const{isActive=false,count=0,overflow='hidden',position='relative',pointer=true,classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nav-item','rounded-top','border'];if(isActive)newClassNames.push('active');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[isActive,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{overflow:overflow,pointer:pointer,position:position,classNames:getClassNames,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{shrink:true,center:true,children:children}),count>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView,{count:count})]});};\n// CONCATENATED MODULE: ./src/common/card/tabs/NitroCardTabsView.tsx\nconst NitroCardTabsView=props=>{const{justifyContent='center',gap=1,classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['container-fluid','nitro-card-tabs','pt-1'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:justifyContent,gap:gap,classNames:getClassNames,...rest,children:children});};\n// CONCATENATED MODULE: ./src/common/card/tabs/index.ts\n\n// CONCATENATED MODULE: ./src/common/card/index.ts\n\n// CONCATENATED MODULE: ./src/common/FormGroup.tsx\nconst FormGroup=props=>{const{classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['form-group'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{classNames:getClassNames,...rest});};\n// CONCATENATED MODULE: ./src/common/HorizontalRule.tsx\nconst HorizontalRule=props=>{const{variant='black',height=1,classNames=[],style={},...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=[];if(variant)newClassNames.push('bg-'+variant);if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[variant,classNames]);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={display:'list-item'};if(height>0)newStyle.height=height;if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[height,style]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,style:getStyle,...rest});};\n// CONCATENATED MODULE: ./src/common/Text.tsx\nconst Text=props=>{const{variant='black',fontWeight=null,fontSize=0,align=null,bold=false,underline=false,italics=false,truncate=false,center=false,textEnd=false,small=false,wrap=false,noWrap=false,textBreak=false,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['d-inline'];if(variant)newClassNames.push('text-'+variant);if(bold)newClassNames.push('fw-bold');if(fontWeight)newClassNames.push('fw-'+fontWeight);if(fontSize)newClassNames.push('fs-'+fontSize);if(align)newClassNames.push('text-'+align);if(underline)newClassNames.push('text-decoration-underline');if(italics)newClassNames.push('fst-italic');if(truncate)newClassNames.push('text-truncate');if(center)newClassNames.push('text-center');if(textEnd)newClassNames.push('text-end');if(small)newClassNames.push('small');if(wrap)newClassNames.push('text-wrap');if(noWrap)newClassNames.push('text-nowrap');if(textBreak)newClassNames.push('text-break');return newClassNames;},[variant,fontWeight,fontSize,align,bold,underline,italics,truncate,center,textEnd,small,wrap,noWrap,textBreak]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,...rest});};\n// CONCATENATED MODULE: ./src/common/types/AlignItemType.ts\n\n// CONCATENATED MODULE: ./src/common/types/AlignSelfType.ts\n\n// CONCATENATED MODULE: ./src/common/types/ButtonSizeType.ts\n\n// CONCATENATED MODULE: ./src/common/types/ColorVariantType.ts\n\n// CONCATENATED MODULE: ./src/common/types/ColumnSizesType.ts\n\n// CONCATENATED MODULE: ./src/common/types/DisplayType.ts\n\n// CONCATENATED MODULE: ./src/common/types/FloatType.ts\n\n// CONCATENATED MODULE: ./src/common/types/FontSizeType.ts\n\n// CONCATENATED MODULE: ./src/common/types/FontWeightType.ts\n\n// CONCATENATED MODULE: ./src/common/types/JustifyContentType.ts\n\n// CONCATENATED MODULE: ./src/common/types/OverflowType.ts\n\n// CONCATENATED MODULE: ./src/common/types/PositionType.ts\n\n// CONCATENATED MODULE: ./src/common/types/SpacingType.ts\n\n// CONCATENATED MODULE: ./src/common/types/TextAlignType.ts\n\n// CONCATENATED MODULE: ./src/common/types/index.ts\n\n// CONCATENATED MODULE: ./src/common/utils/CreateTransitionToIcon.ts\nconst CreateTransitionToIcon=(image,fromElement,icon)=>{const bounds=fromElement.getBoundingClientRect();const x=bounds.x+bounds.width/2;const y=bounds.y+bounds.height/2;const event=new nitro_renderer[\"uf\" /* NitroToolbarAnimateIconEvent */](image,x,y);event.iconName=icon;GetRoomEngine().events.dispatchEvent(event);};\n// CONCATENATED MODULE: ./src/common/utils/FriendlyTimeView.tsx\nconst FriendlyTimeView=props=>{const{seconds=0,isShort=false,children=null,...rest}=props;const[updateId,setUpdateId]=Object(react[\"useState\"])(-1);const getStartSeconds=Object(react[\"useMemo\"])(()=>Math.round(new Date().getSeconds())-seconds,[seconds]);const getFriendlyTime=Object(react[\"useCallback\"])(()=>{const value=Math.round(new Date().getSeconds())-getStartSeconds;if(isShort)return nitro_renderer[\"Zb\" /* FriendlyTime */].format(value);return nitro_renderer[\"Zb\" /* FriendlyTime */].format(value);},[getStartSeconds,isShort]);Object(react[\"useEffect\"])(()=>{const interval=setInterval(()=>setUpdateId(prevValue=>prevValue+1),10000);return()=>clearInterval(interval);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{...rest,children:getFriendlyTime()});};\n// CONCATENATED MODULE: ./src/common/utils/index.ts\n\n// CONCATENATED MODULE: ./src/common/index.ts\n\n// CONCATENATED MODULE: ./src/components/loading/LoadingView.tsx\nconst LoadingView=props=>{const{isError=false,message='',percent=0}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullHeight:true,position:\"relative\",className:\"nitro-loading\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fullHeight:true,className:\"container h-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullHeight:true,alignItems:\"center\",justifyContent:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"connecting-duck\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:6,className:\"text-center py-4\",children:isError&&message&&message.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"fs-4 text-shadow\",children:message}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{fontSize:4,variant:\"white\",className:\"text-shadow\",children:[percent.toFixed(),\"%\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutProgressBar,{progress:percent,className:\"mt-2 large\"})]})})]})})});};\n// CONCATENATED MODULE: ./src/hooks/events/useEventDispatcher.tsx\nconst useEventDispatcher=function(type,eventDispatcher,handler){let enabled=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;Object(react[\"useEffect\"])(()=>{if(!enabled)return;if(Array.isArray(type)){type.map(name=>eventDispatcher.addEventListener(name,handler));}else{eventDispatcher.addEventListener(type,handler);}return()=>{if(Array.isArray(type)){type.map(name=>eventDispatcher.removeEventListener(name,handler));}else{eventDispatcher.removeEventListener(type,handler);}};},[type,eventDispatcher,enabled,handler]);};\n// CONCATENATED MODULE: ./src/hooks/events/core/useCommunicationEvent.tsx\nconst useCommunicationEvent=(type,handler)=>useEventDispatcher(type,GetCommunication().events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/core/useConfigurationEvent.tsx\nconst useConfigurationEvent=(type,handler)=>useEventDispatcher(type,GetConfigurationManager().events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/core/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/events/nitro/useAvatarEvent.tsx\nconst useAvatarEvent=(type,handler)=>useEventDispatcher(type,GetAvatarRenderManager().events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/nitro/useCameraEvent.tsx\nconst useCameraEvent=(type,handler)=>useEventDispatcher(type,GetNitroInstance().cameraManager.events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/nitro/useLocalizationEvent.tsx\nconst useLocalizationEvent=(type,handler)=>useEventDispatcher(type,GetNitroInstance().localization.events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/nitro/useMainEvent.tsx\nconst useMainEvent=(type,handler)=>useEventDispatcher(type,GetNitroInstance().events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/nitro/useRoomEngineEvent.tsx\nconst useRoomEngineEvent=(type,handler)=>useEventDispatcher(type,GetRoomEngine().events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/nitro/useRoomSessionManagerEvent.tsx\nconst useRoomSessionManagerEvent=(type,handler)=>useEventDispatcher(type,GetRoomSessionManager().events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/nitro/useSessionDataManagerEvent.tsx\nconst useSessionDataManagerEvent=(type,handler)=>useEventDispatcher(type,GetSessionDataManager().events,handler);\n// CONCATENATED MODULE: ./src/hooks/events/nitro/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/events/useMessageEvent.tsx\nconst useMessageEvent=(eventType,handler)=>{Object(react[\"useEffect\"])(()=>{//@ts-ignore\nconst event=new eventType(handler);GetCommunication().registerMessageEvent(event);return()=>GetCommunication().removeMessageEvent(event);},[eventType,handler]);};\n// CONCATENATED MODULE: ./src/hooks/events/useUiEvent.tsx\nconst useUiEvent=function(type,handler){let enabled=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return useEventDispatcher(type,UI_EVENT_DISPATCHER,handler,enabled);};\n// CONCATENATED MODULE: ./src/hooks/events/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/achievements/useAchievements.ts\nconst useAchievementsState=()=>{const[needsUpdate,setNeedsUpdate]=Object(react[\"useState\"])(true);const[achievementCategories,setAchievementCategories]=Object(react[\"useState\"])([]);const[selectedCategoryCode,setSelectedCategoryCode]=Object(react[\"useState\"])(null);const[selectedAchievementId,setSelectedAchievementId]=Object(react[\"useState\"])(-1);const[achievementScore,setAchievementScore]=Object(react[\"useState\"])(0);const getTotalUnseen=Object(react[\"useMemo\"])(()=>{let unseen=0;achievementCategories.forEach(category=>unseen+=AchievementUtilities_AchievementUtilities.getAchievementCategoryTotalUnseen(category));return unseen;},[achievementCategories]);const getProgress=Object(react[\"useMemo\"])(()=>{let progress=0;achievementCategories.forEach(category=>progress+=category.getProgress());return progress;},[achievementCategories]);const getMaxProgress=Object(react[\"useMemo\"])(()=>{let progress=0;achievementCategories.forEach(category=>progress+=category.getMaxProgress());return progress;},[achievementCategories]);const scaledProgressPercent=Object(react[\"useMemo\"])(()=>{return~~((getProgress-0)*(100-0)/(getMaxProgress-0)+0);},[getProgress,getMaxProgress]);const setAchievementSeen=(categoryCode,achievementId)=>{setAchievementCategories(prevValue=>{const newValue=[...prevValue];for(const category of newValue){if(category.code!==categoryCode)continue;for(const achievement of category.achievements){if(achievement.achievementId!==achievementId)continue;achievement.unseen=0;}}return newValue;});};useMessageEvent(nitro_renderer[\"b\" /* AchievementEvent */],event=>{const parser=event.getParser();const achievement=parser.achievement;setAchievementCategories(prevValue=>{const newValue=[...prevValue];const categoryIndex=newValue.findIndex(existing=>existing.code===achievement.category);if(categoryIndex===-1){const category=new AchievementCategory_AchievementCategory(achievement.category);category.achievements.push(achievement);newValue.push(category);}else{const category=CloneObject(newValue[categoryIndex]);const newAchievements=[...category.achievements];const achievementIndex=newAchievements.findIndex(existing=>existing.achievementId===achievement.achievementId);let previousAchievement=null;if(achievementIndex===-1){newAchievements.push(achievement);}else{previousAchievement=newAchievements[achievementIndex];newAchievements[achievementIndex]=achievement;}if(!AchievementUtilities_AchievementUtilities.getAchievementIsIgnored(achievement)){achievement.unseen++;if(previousAchievement)achievement.unseen+=previousAchievement.unseen;}category.achievements=newAchievements;newValue[categoryIndex]=category;}return newValue;});});useMessageEvent(nitro_renderer[\"d\" /* AchievementsEvent */],event=>{const parser=event.getParser();const categories=[];for(const achievement of parser.achievements){const categoryName=achievement.category;let existing=categories.find(category=>category.code===categoryName);if(!existing){existing=new AchievementCategory_AchievementCategory(categoryName);categories.push(existing);}existing.achievements.push(achievement);}setAchievementCategories(categories);});useMessageEvent(nitro_renderer[\"e\" /* AchievementsScoreEvent */],event=>{const parser=event.getParser();setAchievementScore(parser.score);});Object(react[\"useEffect\"])(()=>{if(!needsUpdate)return;SendMessageComposer(new nitro_renderer[\"ig\" /* RequestAchievementsMessageComposer */]());setNeedsUpdate(false);},[needsUpdate]);return{achievementCategories,selectedCategoryCode,setSelectedCategoryCode,selectedAchievementId,setSelectedAchievementId,achievementScore,getTotalUnseen,getProgress,getMaxProgress,scaledProgressPercent,setAchievementSeen};};const useAchievements=useAchievementsState;\n// CONCATENATED MODULE: ./src/hooks/achievements/index.ts\n\n// EXTERNAL MODULE: ./node_modules/use-between/release/index.esm.js\nvar index_esm = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/hooks/camera/useCamera.ts\nconst useCameraState=()=>{const[availableEffects,setAvailableEffects]=Object(react[\"useState\"])([]);const[cameraRoll,setCameraRoll]=Object(react[\"useState\"])([]);const[selectedPictureIndex,setSelectedPictureIndex]=Object(react[\"useState\"])(-1);const[myLevel,setMyLevel]=Object(react[\"useState\"])(10);const[price,setPrice]=Object(react[\"useState\"])(null);useCameraEvent(nitro_renderer[\"tg\" /* RoomCameraWidgetManagerEvent */].INITIALIZED,event=>{setAvailableEffects(Array.from(GetRoomCameraWidgetManager().effects.values()));});useMessageEvent(nitro_renderer[\"he\" /* InitCameraMessageEvent */],event=>{const parser=event.getParser();setPrice({credits:parser.creditPrice,duckets:parser.ducketPrice,publishDucketPrice:parser.publishDucketPrice});});Object(react[\"useEffect\"])(()=>{if(!GetRoomCameraWidgetManager().isLoaded){GetRoomCameraWidgetManager().init();SendMessageComposer(new nitro_renderer[\"lg\" /* RequestCameraConfigurationComposer */]());return;}},[]);return{availableEffects,cameraRoll,setCameraRoll,selectedPictureIndex,setSelectedPictureIndex,myLevel,price};};const useCamera=()=>Object(index_esm[\"a\" /* useBetween */])(useCameraState);\n// CONCATENATED MODULE: ./src/hooks/camera/index.ts\n\n// CONCATENATED MODULE: ./src/events/catalog/CatalogEvent.ts\nclass CatalogEvent_CatalogEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{}CatalogEvent_CatalogEvent.SHOW_CATALOG='CE_SHOW_CATALOG';CatalogEvent_CatalogEvent.HIDE_CATALOG='CE_HIDE_CATALOG';CatalogEvent_CatalogEvent.TOGGLE_CATALOG='CE_TOGGLE_CATALOG';CatalogEvent_CatalogEvent.SOLD_OUT='CE_SOLD_OUT';CatalogEvent_CatalogEvent.APPROVE_NAME_RESULT='CE_APPROVE_NAME_RESULT';CatalogEvent_CatalogEvent.PURCHASE_APPROVED='CE_PURCHASE_APPROVED';CatalogEvent_CatalogEvent.INIT_GIFT='CE_INIT_GIFT';CatalogEvent_CatalogEvent.CATALOG_RESET='CE_RESET';CatalogEvent_CatalogEvent.CATALOG_INVISIBLE_PAGE_VISITED='CE_CATALOG_INVISIBLE_PAGE_VISITED';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogInitGiftEvent.ts\nclass CatalogInitGiftEvent_CatalogInitGiftEvent extends CatalogEvent_CatalogEvent{constructor(pageId,offerId,extraData){super(CatalogEvent_CatalogEvent.INIT_GIFT);this._pageId=void 0;this._offerId=void 0;this._extraData=void 0;this._pageId=pageId;this._offerId=offerId;this._extraData=extraData;}get pageId(){return this._pageId;}get offerId(){return this._offerId;}get extraData(){return this._extraData;}}\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPostMarketplaceOfferEvent.ts\nclass CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent extends CatalogEvent_CatalogEvent{constructor(item){super(CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent.POST_MARKETPLACE);this._item=void 0;this._item=item;}get item(){return this._item;}}CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent.POST_MARKETPLACE='CE_POST_MARKETPLACE';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchasedEvent.ts\nclass CatalogPurchasedEvent_CatalogPurchasedEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{constructor(purchase){super(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS);this._purchase=void 0;this._purchase=purchase;}get purchase(){return this._purchase;}}CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS='CPE_PURCHASE_SUCCESS';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchaseFailureEvent.ts\nclass CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{constructor(code){super(CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED);this._code=void 0;this._code=code;}get code(){return this._code;}}CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED='CPFE_PURCHASE_FAILED';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchaseNotAllowedEvent.ts\nclass CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{constructor(code){super(CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent.NOT_ALLOWED);this._code=void 0;this._code=code;}get code(){return this._code;}}CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent.NOT_ALLOWED='CPNAE_NOT_ALLOWED';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogWidgetEvent.ts\nclass CatalogWidgetEvent_CatalogWidgetEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{}CatalogWidgetEvent_CatalogWidgetEvent.WIDGETS_INITIALIZED='CWE_CWE_WIDGETS_INITIALIZED';CatalogWidgetEvent_CatalogWidgetEvent.SELECT_PRODUCT='CWE_SELECT_PRODUCT';CatalogWidgetEvent_CatalogWidgetEvent.SET_EXTRA_PARM='CWE_CWE_SET_EXTRA_PARM';CatalogWidgetEvent_CatalogWidgetEvent.PURCHASE='CWE_PURCHASE';CatalogWidgetEvent_CatalogWidgetEvent.COLOUR_ARRAY='CWE_COLOUR_ARRAY';CatalogWidgetEvent_CatalogWidgetEvent.MULTI_COLOUR_ARRAY='CWE_MULTI_COLOUR_ARRAY';CatalogWidgetEvent_CatalogWidgetEvent.COLOUR_INDEX='CWE_COLOUR_INDEX';CatalogWidgetEvent_CatalogWidgetEvent.TEXT_INPUT='CWE_TEXT_INPUT';CatalogWidgetEvent_CatalogWidgetEvent.DROPMENU_SELECT='CWE_CWE_DROPMENU_SELECT';CatalogWidgetEvent_CatalogWidgetEvent.PURCHASE_OVERRIDE='CWE_PURCHASE_OVERRIDE';CatalogWidgetEvent_CatalogWidgetEvent.SELLABLE_PET_PALETTES='CWE_SELLABLE_PET_PALETTES';CatalogWidgetEvent_CatalogWidgetEvent.UPDATE_ROOM_PREVIEW='CWE_UPDATE_ROOM_PREVIEW';CatalogWidgetEvent_CatalogWidgetEvent.GUILD_SELECTED='CWE_GUILD_SELECTED';CatalogWidgetEvent_CatalogWidgetEvent.TOTAL_PRICE_WIDGET_INITIALIZED='CWE_TOTAL_PRICE_WIDGET_INITIALIZED';CatalogWidgetEvent_CatalogWidgetEvent.PRODUCT_OFFER_UPDATED='CWE_CWE_PRODUCT_OFFER_UPDATED';CatalogWidgetEvent_CatalogWidgetEvent.SET_PREVIEWER_STUFFDATA='CWE_CWE_SET_PREVIEWER_STUFFDATA';CatalogWidgetEvent_CatalogWidgetEvent.EXTRA_PARAM_REQUIRED_FOR_BUY='CWE_CWE_EXTRA_PARAM_REQUIRED_FOR_BUY';CatalogWidgetEvent_CatalogWidgetEvent.TOGGLE='CWE_CWE_TOGGLE';CatalogWidgetEvent_CatalogWidgetEvent.BUILDER_SUBSCRIPTION_UPDATED='CWE_CWE_BUILDER_SUBSCRIPTION_UPDATED';CatalogWidgetEvent_CatalogWidgetEvent.ROOM_CHANGED='CWE_CWE_ROOM_CHANGED';CatalogWidgetEvent_CatalogWidgetEvent.SHOW_WARNING_TEXT='CWE_CWE_SHOW_WARNING_TEXT';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchaseOverrideEvent.ts\nclass CatalogPurchaseOverrideEvent_CatalogPurchaseOverrideEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{constructor(callback){super(CatalogWidgetEvent_CatalogWidgetEvent.PURCHASE_OVERRIDE);this._callback=void 0;this._callback=callback;}get callback(){return this._callback;}}\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchaseSoldOutEvent.ts\nclass CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{constructor(){super(CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent.SOLD_OUT);}}CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent.SOLD_OUT='CPSOE_SOLD_OUT';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogSetRoomPreviewerStuffDataEvent.ts\nclass CatalogSetRoomPreviewerStuffDataEvent_CatalogSetRoomPreviewerStuffDataEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{constructor(stuffData){super(CatalogWidgetEvent_CatalogWidgetEvent.SET_PREVIEWER_STUFFDATA);this._stuffData=void 0;this._stuffData=stuffData;}get stuffData(){return this._stuffData;}}\n// CONCATENATED MODULE: ./src/events/catalog/SetRoomPreviewerStuffDataEvent.ts\nclass SetRoomPreviewerStuffDataEvent_SetRoomPreviewerStuffDataEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{constructor(offer,stuffData){super(SetRoomPreviewerStuffDataEvent_SetRoomPreviewerStuffDataEvent.UPDATE_STUFF_DATA);this._offer=void 0;this._stuffData=void 0;this._offer=offer;this._stuffData=stuffData;}get offer(){return this._offer;}get stuffData(){return this._stuffData;}}SetRoomPreviewerStuffDataEvent_SetRoomPreviewerStuffDataEvent.UPDATE_STUFF_DATA='SRPSA_UPDATE_STUFF_DATA';\n// CONCATENATED MODULE: ./src/events/catalog/index.ts\n\n// CONCATENATED MODULE: ./src/events/guide-tool/GuideToolEvent.ts\nclass GuideToolEvent_GuideToolEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{}GuideToolEvent_GuideToolEvent.SHOW_GUIDE_TOOL='GTE_SHOW_GUIDE_TOOL';GuideToolEvent_GuideToolEvent.HIDE_GUIDE_TOOL='GTE_HIDE_GUIDE_TOOL';GuideToolEvent_GuideToolEvent.TOGGLE_GUIDE_TOOL='GTE_TOGGLE_GUIDE_TOOL';GuideToolEvent_GuideToolEvent.CREATE_HELP_REQUEST='GTE_CREATE_HELP_REQUEST';GuideToolEvent_GuideToolEvent.CREATE_BULLY_REQUEST='GTE_CREATE_BULLY_REQUEST';\n// CONCATENATED MODULE: ./src/events/guide-tool/index.ts\n\n// CONCATENATED MODULE: ./src/events/help/HelpNameChangeEvent.ts\nclass HelpNameChangeEvent_HelpNameChangeEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{}HelpNameChangeEvent_HelpNameChangeEvent.INIT='HC_NAME_CHANGE_INIT';\n// CONCATENATED MODULE: ./src/events/help/index.ts\n\n// CONCATENATED MODULE: ./src/events/inventory/InventoryFurniAddedEvent.ts\nclass InventoryFurniAddedEvent_InventoryFurniAddedEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{constructor(id,spriteId,category){super(InventoryFurniAddedEvent_InventoryFurniAddedEvent.FURNI_ADDED);this.id=id;this.spriteId=spriteId;this.category=category;}}InventoryFurniAddedEvent_InventoryFurniAddedEvent.FURNI_ADDED='IFAE_FURNI_ADDED';\n// CONCATENATED MODULE: ./src/events/inventory/index.ts\n\n// CONCATENATED MODULE: ./src/events/room-widgets/thumbnail/RoomWidgetThumbnailEvent.ts\nclass RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent extends nitro_renderer[\"jf\" /* NitroEvent */]{}RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.SHOW_THUMBNAIL='NE_SHOW_THUMBNAIL';RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.HIDE_THUMBNAIL='NE_HIDE_THUMBNAIL';RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL='NE_TOGGLE_THUMBNAIL';\n// CONCATENATED MODULE: ./src/events/room-widgets/thumbnail/index.ts\n\n// CONCATENATED MODULE: ./src/events/room-widgets/index.ts\n\n// CONCATENATED MODULE: ./src/events/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/notification/useNotification.ts\nconst cleanText=text=>text&&text.length?text.replace(/\\\\r/g,'\\r'):'';const getTimeZeroPadded=time=>{const text='0'+time;return text.substr(text.length-2,text.length);};let modDisclaimerTimeout=null;const useNotificationState=()=>{const[alerts,setAlerts]=Object(react[\"useState\"])([]);const[bubbleAlerts,setBubbleAlerts]=Object(react[\"useState\"])([]);const[confirms,setConfirms]=Object(react[\"useState\"])([]);const[bubblesDisabled,setBubblesDisabled]=Object(react[\"useState\"])(false);const[modDisclaimerShown,setModDisclaimerShown]=Object(react[\"useState\"])(false);const getMainNotificationConfig=()=>GetConfiguration('notification',{});const getNotificationConfig=key=>{const mainConfig=getMainNotificationConfig();if(!mainConfig)return null;return mainConfig[key];};const getNotificationPart=(options,type,key,localize)=>{if(options.has(key))return options.get(key);const localizeKey=['notification',type,key].join('.');if(GetNitroInstance().localization.hasValue(localizeKey)||localize)return LocalizeText(localizeKey,Array.from(options.keys()),Array.from(options.values()));return null;};const getNotificationImageUrl=(options,type)=>{let imageUrl=options.get('image');if(!imageUrl)imageUrl=GetConfiguration('image.library.notifications.url','').replace('%image%',type.replace(/\\./g,'_'));return LocalizeText(imageUrl);};const simpleAlert=Object(react[\"useCallback\"])(function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let clickUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let clickUrlText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let title=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let imageUrl=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;if(!title||!title.length)title=LocalizeText('notifications.broadcast.title');if(!type||!type.length)type=NotificationAlertType.DEFAULT;const alertItem=new NotificationAlertItem_NotificationAlertItem([cleanText(message)],type,clickUrl,clickUrlText,title,imageUrl);setAlerts(prevValue=>[alertItem,...prevValue]);},[]);const showNitroAlert=Object(react[\"useCallback\"])(()=>simpleAlert(null,NotificationAlertType.NITRO),[simpleAlert]);const showSingleBubble=Object(react[\"useCallback\"])(function(message,type){let imageUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let internalLink=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(bubblesDisabled)return;const notificationItem=new NotificationBubbleItem_NotificationBubbleItem(message,type,imageUrl,internalLink);setBubbleAlerts(prevValue=>[notificationItem,...prevValue]);},[bubblesDisabled]);const showNotification=function(type){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!options)options=new Map();const configuration=getNotificationConfig('notification.'+type);if(configuration)for(const key in configuration)options.set(key,configuration[key]);const title=getNotificationPart(options,type,'title',true);const message=getNotificationPart(options,type,'message',true).replace(/\\\\r/g,'\\r');const linkTitle=getNotificationPart(options,type,'linkTitle',false);const linkUrl=getNotificationPart(options,type,'linkUrl',false);const image=getNotificationImageUrl(options,type);if(options.get('display')==='BUBBLE'){showSingleBubble(LocalizeText(message),NotificationBubbleType.INFO,image,linkUrl);}else{simpleAlert(message,type,linkUrl,linkTitle,title,image);}if(options.get('sound'))PlaySound(options.get('sound'));};const showConfirm=Object(react[\"useCallback\"])(function(message,onConfirm,onCancel){let confirmText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let cancelText=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let title=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;let type=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;if(!confirmText||!confirmText.length)confirmText=LocalizeText('generic.confirm');if(!cancelText||!cancelText.length)cancelText=LocalizeText('generic.cancel');if(!title||!title.length)title=LocalizeText('notifications.broadcast.title');const confirmItem=new NotificationConfirmItem(type,message,onConfirm,onCancel,confirmText,cancelText,title);setConfirms(prevValue=>[confirmItem,...prevValue]);},[]);const showModeratorMessage=function(message){let url=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let showHabboWay=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;simpleAlert(message,NotificationAlertType.DEFAULT,url,LocalizeText('mod.alert.link'),LocalizeText('mod.alert.title'));};const showTradeAlert=Object(react[\"useCallback\"])(function(type){let otherUsername=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';switch(type){case TradingNotificationType.ALERT_SCAM:simpleAlert(LocalizeText('inventory.trading.warning.other_not_offering'),null,null,null,LocalizeText('inventory.trading.notification.title'));return;case TradingNotificationType.HOTEL_TRADING_DISABLED:case TradingNotificationType.YOU_NOT_ALLOWED:case TradingNotificationType.THEY_NOT_ALLOWED:case TradingNotificationType.ROOM_DISABLED:case TradingNotificationType.YOU_OPEN:case TradingNotificationType.THEY_OPEN:simpleAlert(LocalizeText(`inventory.trading.openfail.${type}`,['otherusername'],[otherUsername]),null,null,null,LocalizeText('inventory.trading.openfail.title'));return;case TradingNotificationType.ERROR_WHILE_COMMIT:simpleAlert(`${LocalizeText('inventory.trading.notification.caption')}, ${LocalizeText('inventory.trading.notification.commiterror.info')}`,null,null,null,LocalizeText('inventory.trading.notification.title'));return;case TradingNotificationType.THEY_CANCELLED:simpleAlert(LocalizeText('inventory.trading.info.closed'),null,null,null,LocalizeText('inventory.trading.notification.title'));return;}},[simpleAlert]);const closeAlert=Object(react[\"useCallback\"])(alert=>{setAlerts(prevValue=>{const newAlerts=[...prevValue];const index=newAlerts.findIndex(value=>alert===value);if(index>=0)newAlerts.splice(index,1);return newAlerts;});},[]);const closeBubbleAlert=Object(react[\"useCallback\"])(item=>{setBubbleAlerts(prevValue=>{const newAlerts=[...prevValue];const index=newAlerts.findIndex(value=>item===value);if(index>=0)newAlerts.splice(index,1);return newAlerts;});},[]);const closeConfirm=Object(react[\"useCallback\"])(item=>{setConfirms(prevValue=>{const newConfirms=[...prevValue];const index=newConfirms.findIndex(value=>item===value);if(index>=0)newConfirms.splice(index,1);return newConfirms;});},[]);useMessageEvent(nitro_renderer[\"pg\" /* RespectReceivedEvent */],event=>{const parser=event.getParser();if(parser.userId!==GetSessionDataManager().userId)return;const text1=LocalizeText('notifications.text.respect.1');const text2=LocalizeText('notifications.text.respect.2',['count'],[parser.respectsReceived.toString()]);showSingleBubble(text1,NotificationBubbleType.RESPECT);showSingleBubble(text2,NotificationBubbleType.RESPECT);});useMessageEvent(nitro_renderer[\"Wd\" /* HabboBroadcastMessageEvent */],event=>{const parser=event.getParser();simpleAlert(parser.message.replace(/\\\\r/g,'\\r'),null,null,LocalizeText('notifications.broadcast.title'));});useMessageEvent(nitro_renderer[\"c\" /* AchievementNotificationMessageEvent */],event=>{const parser=event.getParser();const text1=LocalizeText('achievements.levelup.desc');const badgeName=LocalizeBadgeName(parser.data.badgeCode);const badgeImage=GetSessionDataManager().getBadgeUrl(parser.data.badgeCode);const internalLink='questengine/achievements/'+parser.data.category;showSingleBubble(text1+' '+badgeName,NotificationBubbleType.ACHIEVEMENT,badgeImage,internalLink);});useMessageEvent(nitro_renderer[\"qb\" /* ClubGiftNotificationEvent */],event=>{const parser=event.getParser();if(parser.numGifts<=0)return;showSingleBubble(parser.numGifts.toString(),NotificationBubbleType.CLUBGIFT,null,'catalog/open/'+GetConfiguration('catalog.links')['hc.hc_gifts']);});useMessageEvent(nitro_renderer[\"Qe\" /* ModeratorMessageEvent */],event=>{const parser=event.getParser();showModeratorMessage(parser.message,parser.url,false);});useMessageEvent(nitro_renderer[\"f\" /* ActivityPointNotificationMessageEvent */],event=>{const parser=event.getParser();if(parser.amountChanged<=0||parser.type!==5)return;const imageUrl=GetConfiguration('currency.asset.icon.url','').replace('%type%',parser.type.toString());showSingleBubble(LocalizeText('notifications.text.loyalty.received',['AMOUNT'],[parser.amountChanged.toString()]),NotificationBubbleType.INFO,imageUrl);});useMessageEvent(nitro_renderer[\"Li\" /* UserBannedMessageEvent */],event=>{const parser=event.getParser();showModeratorMessage(parser.message);});useMessageEvent(nitro_renderer[\"ee\" /* HotelClosesAndWillOpenAtEvent */],event=>{const parser=event.getParser();simpleAlert(LocalizeText('opening.hours.'+(parser.userThrowOutAtClose?'disconnected':'closed'),['h','m'],[getTimeZeroPadded(parser.openHour),getTimeZeroPadded(parser.openMinute)]),NotificationAlertType.DEFAULT,null,null,LocalizeText('opening.hours.title'));});useMessageEvent(nitro_renderer[\"If\" /* PetReceivedMessageEvent */],event=>{const parser=event.getParser();const text=LocalizeText('notifications.text.'+(parser.boughtAsGift?'petbought':'petreceived'));let imageUrl=null;const imageResult=GetRoomEngine().getRoomObjectPetImage(parser.pet.typeId,parser.pet.paletteId,parseInt(parser.pet.color,16),new nitro_renderer[\"kj\" /* Vector3d */](45*3),64,null,true);if(imageResult)imageUrl=imageResult.getImage().src;showSingleBubble(text,NotificationBubbleType.PETLEVEL,imageUrl);});useMessageEvent(nitro_renderer[\"ue\" /* MOTDNotificationEvent */],event=>{const parser=event.getParser();const messages=parser.messages.map(message=>cleanText(message));const alertItem=new NotificationAlertItem_NotificationAlertItem(messages,NotificationAlertType.MOTD,null,null,LocalizeText('notifications.motd.title'));setAlerts(prevValue=>[alertItem,...prevValue]);});useMessageEvent(nitro_renderer[\"Hf\" /* PetLevelNotificationEvent */],event=>{const parser=event.getParser();let imageUrl=null;const imageResult=GetRoomEngine().getRoomObjectPetImage(parser.figureData.typeId,parser.figureData.paletteId,parseInt(parser.figureData.color,16),new nitro_renderer[\"kj\" /* Vector3d */](45*3),64,null,true);if(imageResult)imageUrl=imageResult.getImage().src;showSingleBubble(LocalizeText('notifications.text.petlevel',['pet_name','level'],[parser.petName,parser.level.toString()]),NotificationBubbleType.PETLEVEL,imageUrl);});useMessageEvent(nitro_renderer[\"ge\" /* InfoFeedEnableMessageEvent */],event=>{const parser=event.getParser();setBubblesDisabled(!parser.enabled);});useMessageEvent(nitro_renderer[\"rb\" /* ClubGiftSelectedEvent */],event=>{const parser=event.getParser();if(!parser.products||!parser.products.length)return;const productData=parser.products[0];if(!productData)return;showSingleBubble(LocalizeText('notifications.text.club_gift.selected'),NotificationBubbleType.INFO,ProductImageUtility_ProductImageUtility.getProductImageUrl(productData.productType,productData.furniClassId,productData.extraParam));});useMessageEvent(nitro_renderer[\"ve\" /* MaintenanceStatusMessageEvent */],event=>{const parser=event.getParser();simpleAlert(LocalizeText('maintenance.shutdown',['m','d'],[parser.minutesUntilMaintenance.toString(),parser.duration.toString()]),NotificationAlertType.DEFAULT,null,null,LocalizeText('opening.hours.title'));});useMessageEvent(nitro_renderer[\"Oe\" /* ModeratorCautionEvent */],event=>{const parser=event.getParser();showModeratorMessage(parser.message,parser.url);});useMessageEvent(nitro_renderer[\"wf\" /* NotificationDialogMessageEvent */],event=>{const parser=event.getParser();showNotification(parser.type,parser.parameters);});useMessageEvent(nitro_renderer[\"fe\" /* HotelWillCloseInMinutesEvent */],event=>{const parser=event.getParser();simpleAlert(LocalizeText('opening.hours.shutdown',['m'],[parser.openMinute.toString()]),NotificationAlertType.DEFAULT,null,null,LocalizeText('opening.hours.title'));});useMessageEvent(nitro_renderer[\"de\" /* HotelClosedAndOpensEvent */],event=>{const parser=event.getParser();simpleAlert(LocalizeText('opening.hours.disconnected',['h','m'],[parser.openHour.toString(),parser.openMinute.toString()]),NotificationAlertType.DEFAULT,null,null,LocalizeText('opening.hours.title'));});const onRoomEnterEvent=Object(react[\"useCallback\"])(()=>{if(modDisclaimerShown)return;if(nitro_renderer[\"Kg\" /* RoomEnterEffect */].isRunning()){if(modDisclaimerTimeout)return;modDisclaimerTimeout=setTimeout(()=>{onRoomEnterEvent();},nitro_renderer[\"Kg\" /* RoomEnterEffect */].totalRunningTime+5000);}else{if(modDisclaimerTimeout){clearTimeout(modDisclaimerTimeout);modDisclaimerTimeout=null;}showSingleBubble(LocalizeText('mod.chatdisclaimer'),NotificationBubbleType.INFO);setModDisclaimerShown(true);}},[modDisclaimerShown,showSingleBubble]);useMessageEvent(nitro_renderer[\"Mg\" /* RoomEnterEvent */],onRoomEnterEvent);return{alerts,bubbleAlerts,confirms,simpleAlert,showNitroAlert,showTradeAlert,showConfirm,closeAlert,closeBubbleAlert,closeConfirm};};const useNotification=()=>Object(index_esm[\"a\" /* useBetween */])(useNotificationState);\n// CONCATENATED MODULE: ./src/hooks/notification/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/useLocalStorage.ts\nconst useLocalStorageState=(key,initialValue)=>{const[storedValue,setStoredValue]=Object(react[\"useState\"])(()=>{if(typeof window==='undefined')return initialValue;try{const item=GetLocalStorage(key);return item!==null&&item!==void 0?item:initialValue;}catch(error){return initialValue;}});const setValue=value=>{try{const valueToStore=value instanceof Function?value(storedValue):value;setStoredValue(valueToStore);if(typeof window!=='undefined')SetLocalStorage(key,valueToStore);}catch(error){nitro_renderer[\"mf\" /* NitroLogger */].error(error);}};return[storedValue,setValue];};const useLocalStorage=useLocalStorageState;\n// CONCATENATED MODULE: ./src/hooks/catalog/useCatalogPlaceMultipleItems.ts\nconst useCatalogPlaceMultipleItemsState=()=>useLocalStorage(LocalStorageKeys.CATALOG_PLACE_MULTIPLE_OBJECTS,false);const useCatalogPlaceMultipleItems=()=>Object(index_esm[\"a\" /* useBetween */])(useCatalogPlaceMultipleItemsState);\n// CONCATENATED MODULE: ./src/hooks/catalog/useCatalogSkipPurchaseConfirmation.ts\nconst useCatalogSkipPurchaseConfirmationState=()=>useLocalStorage(LocalStorageKeys.CATALOG_SKIP_PURCHASE_CONFIRMATION,false);const useCatalogSkipPurchaseConfirmation=()=>Object(index_esm[\"a\" /* useBetween */])(useCatalogSkipPurchaseConfirmationState);\n// CONCATENATED MODULE: ./src/hooks/catalog/useCatalog.ts\nconst DUMMY_PAGE_ID_FOR_OFFER_SEARCH=-12345678;const DRAG_AND_DROP_ENABLED=true;const useCatalogState=()=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[isBusy,setIsBusy]=Object(react[\"useState\"])(false);const[pageId,setPageId]=Object(react[\"useState\"])(-1);const[previousPageId,setPreviousPageId]=Object(react[\"useState\"])(-1);const[currentType,setCurrentType]=Object(react[\"useState\"])(CatalogType.NORMAL);const[rootNode,setRootNode]=Object(react[\"useState\"])(null);const[offersToNodes,setOffersToNodes]=Object(react[\"useState\"])(null);const[currentPage,setCurrentPage]=Object(react[\"useState\"])(null);const[currentOffer,setCurrentOffer]=Object(react[\"useState\"])(null);const[activeNodes,setActiveNodes]=Object(react[\"useState\"])([]);const[searchResult,setSearchResult]=Object(react[\"useState\"])(null);const[frontPageItems,setFrontPageItems]=Object(react[\"useState\"])([]);const[roomPreviewer,setRoomPreviewer]=Object(react[\"useState\"])(null);const[navigationHidden,setNavigationHidden]=Object(react[\"useState\"])(false);const[purchaseOptions,setPurchaseOptions]=Object(react[\"useState\"])({quantity:1,extraData:null,extraParamRequired:false,previewStuffData:null});const[catalogOptions,setCatalogOptions]=Object(react[\"useState\"])({});const[objectMoverRequested,setObjectMoverRequested]=Object(react[\"useState\"])(false);const[catalogPlaceMultipleObjects,setCatalogPlaceMultipleObjects]=useCatalogPlaceMultipleItems();const[catalogSkipPurchaseConfirmation,setCatalogSkipPurchaseConfirmation]=useCatalogSkipPurchaseConfirmation();const[purchasableOffer,setPurchaseableOffer]=Object(react[\"useState\"])(null);const[placedObjectPurchaseData,setPlacedObjectPurchaseData]=Object(react[\"useState\"])(null);const[furniCount,setFurniCount]=Object(react[\"useState\"])(0);const[furniLimit,setFurniLimit]=Object(react[\"useState\"])(0);const[maxFurniLimit,setMaxFurniLimit]=Object(react[\"useState\"])(0);const[secondsLeft,setSecondsLeft]=Object(react[\"useState\"])(0);const[updateTime,setUpdateTime]=Object(react[\"useState\"])(0);const[secondsLeftWithGrace,setSecondsLeftWithGrace]=Object(react[\"useState\"])(0);const{simpleAlert=null}=useNotification();const requestedPage=Object(react[\"useRef\"])(new RequestedPage());const resetState=Object(react[\"useCallback\"])(()=>{setPageId(-1);setPreviousPageId(-1);setRootNode(null);setOffersToNodes(null);setCurrentPage(null);setCurrentOffer(null);setActiveNodes([]);setSearchResult(null);setFrontPageItems([]);setIsVisible(false);},[]);const getBuilderFurniPlaceableStatus=Object(react[\"useCallback\"])(offer=>{if(!offer)return BuilderFurniPlaceableStatus.MISSING_OFFER;if(furniCount<0||furniCount>=furniLimit)return BuilderFurniPlaceableStatus.FURNI_LIMIT_REACHED;const roomSession=GetRoomSession();if(!roomSession)return BuilderFurniPlaceableStatus.NOT_IN_ROOM;if(!roomSession.isRoomOwner)return BuilderFurniPlaceableStatus.NOT_ROOM_OWNER;if(secondsLeft<=0){const roomEngine=GetRoomEngine();let objectCount=roomEngine.getRoomObjectCount(roomSession.roomId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);while(objectCount>0){const roomObject=roomEngine.getRoomObjectByIndex(roomSession.roomId,objectCount,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);const userData=roomSession.userDataManager.getUserDataByIndex(roomObject.id);if(userData&&userData.type===nitro_renderer[\"ah\" /* RoomObjectType */].USER&&userData.roomIndex!==roomSession.ownRoomIndex&&!userData.isModerator)return BuilderFurniPlaceableStatus.VISITORS_IN_ROOM;objectCount--;}}return BuilderFurniPlaceableStatus.OKAY;},[furniCount,furniLimit,secondsLeft]);const isDraggable=Object(react[\"useCallback\"])(offer=>{const roomSession=GetRoomSession();if((DRAG_AND_DROP_ENABLED&&roomSession&&offer.page&&offer.page.layoutCode!=='sold_ltd_items'&&currentType===CatalogType.NORMAL&&(roomSession.isRoomOwner||roomSession.isGuildRoom&&roomSession.controllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUILD_MEMBER)||currentType===CatalogType.BUILDER&&getBuilderFurniPlaceableStatus(offer)===BuilderFurniPlaceableStatus.OKAY)&&offer.pricingModel!==Offer_Offer.PRICING_MODEL_BUNDLE&&offer.product.productType!==ProductTypeEnum.EFFECT&&offer.product.productType!==ProductTypeEnum.HABBO_CLUB)return true;return false;},[currentType,getBuilderFurniPlaceableStatus]);const requestOfferToMover=Object(react[\"useCallback\"])(offer=>{if(!isDraggable(offer))return;const product=offer.product;if(!product)return;let category=0;switch(product.productType){case ProductTypeEnum.FLOOR:category=nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR;break;case ProductTypeEnum.WALL:category=nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL;break;}if(GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Zg\" /* RoomObjectPlacementSource */].CATALOG,-offer.offerId,category,product.productClassId,product.extraParam)){setPurchaseableOffer(offer);setObjectMoverRequested(true);setIsVisible(false);}},[isDraggable]);const resetRoomPaint=Object(react[\"useCallback\"])((planeType,type)=>{const roomEngine=GetRoomEngine();let wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_WALL_TYPE);let floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);let landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';switch(planeType){case'floor':roomEngine.updateRoomInstancePlaneType(roomEngine.activeRoomId,type,wallType,landscapeType,true);return;case'wallpaper':roomEngine.updateRoomInstancePlaneType(roomEngine.activeRoomId,floorType,type,landscapeType,true);return;case'landscape':roomEngine.updateRoomInstancePlaneType(roomEngine.activeRoomId,floorType,wallType,type,true);return;default:roomEngine.updateRoomInstancePlaneType(roomEngine.activeRoomId,floorType,wallType,landscapeType,true);return;}},[]);const cancelObjectMover=Object(react[\"useCallback\"])(()=>{if(!purchasableOffer)return;GetRoomEngine().cancelRoomObjectInsert();setObjectMoverRequested(false);setPurchaseableOffer(null);},[purchasableOffer]);const resetObjectMover=Object(react[\"useCallback\"])(function(){let flag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;setObjectMoverRequested(prevValue=>{if(prevValue&&flag){CreateLinkEvent('catalog/open');}return false;});},[]);const resetPlacedOfferData=Object(react[\"useCallback\"])(function(){let flag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!flag)resetObjectMover();setPlacedObjectPurchaseData(prevValue=>{if(prevValue){switch(prevValue.category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:GetRoomEngine().removeRoomObjectFloor(prevValue.roomId,prevValue.objectId);break;case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:{switch(prevValue.furniData.className){case'floor':case'wallpaper':case'landscape':resetRoomPaint('reset','');break;default:GetRoomEngine().removeRoomObjectWall(prevValue.roomId,prevValue.objectId);break;}break;}default:GetRoomEngine().deleteRoomObject(prevValue.objectId,prevValue.category);break;}}return null;});},[resetObjectMover,resetRoomPaint]);const getNodeById=Object(react[\"useCallback\"])((id,node)=>{if(node.pageId===id&&node!==rootNode)return node;for(const child of node.children){const found=getNodeById(id,child);if(found)return found;}return null;},[rootNode]);const getNodeByName=Object(react[\"useCallback\"])((name,node)=>{if(node.pageName===name&&node!==rootNode)return node;for(const child of node.children){const found=getNodeByName(name,child);if(found)return found;}return null;},[rootNode]);const getNodesByOfferId=Object(react[\"useCallback\"])(function(offerId){let flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!offersToNodes||!offersToNodes.size)return null;if(flag){const nodes=[];const offers=offersToNodes.get(offerId);if(offers&&offers.length)for(const offer of offers)offer.isVisible&&nodes.push(offer);if(nodes.length)return nodes;}return offersToNodes.get(offerId);},[offersToNodes]);const loadCatalogPage=Object(react[\"useCallback\"])((pageId,offerId)=>{if(pageId<0)return;setIsBusy(true);setPageId(pageId);if(pageId>-1)SendMessageComposer(new nitro_renderer[\"uc\" /* GetCatalogPageComposer */](pageId,offerId,currentType));},[currentType]);const showCatalogPage=Object(react[\"useCallback\"])((pageId,layoutCode,localization,offers,offerId,acceptSeasonCurrencyAsCredits)=>{const catalogPage=new CatalogPage(pageId,layoutCode,localization,offers,acceptSeasonCurrencyAsCredits);setCurrentPage(catalogPage);setPreviousPageId(prevValue=>pageId!==-1?pageId:prevValue);setNavigationHidden(false);if(offerId>-1&&catalogPage.offers.length){for(const offer of catalogPage.offers){if(offer.offerId!==offerId)continue;setCurrentOffer(offer);break;}}},[]);const activateNode=Object(react[\"useCallback\"])(function(targetNode){let offerId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;cancelObjectMover();if(targetNode.parent.pageName==='root'){if(targetNode.children.length){for(const child of targetNode.children){if(!child.isVisible)continue;targetNode=child;break;}}}const nodes=[];let node=targetNode;while(node&&node.pageName!=='root'){nodes.push(node);node=node.parent;}nodes.reverse();setActiveNodes(prevValue=>{const isActive=prevValue.indexOf(targetNode)>=0;const isOpen=targetNode.isOpen;for(const existing of prevValue){existing.deactivate();if(nodes.indexOf(existing)===-1)existing.close();}for(const n of nodes){n.activate();if(n.parent)n.open();if(n===targetNode.parent&&n.children.length)n.open();}if(isActive&&isOpen)targetNode.close();else targetNode.open();return nodes;});if(targetNode.pageId>-1)loadCatalogPage(targetNode.pageId,offerId);},[setActiveNodes,loadCatalogPage,cancelObjectMover]);const openPageById=Object(react[\"useCallback\"])(id=>{setSearchResult(null);if(!isVisible){requestedPage.current.requestById=id;setIsVisible(true);}else{const node=getNodeById(id,rootNode);if(node)activateNode(node);}},[isVisible,rootNode,getNodeById,activateNode]);const openPageByName=Object(react[\"useCallback\"])(name=>{setSearchResult(null);if(!isVisible){requestedPage.current.requestByName=name;setIsVisible(true);}else{const node=getNodeByName(name,rootNode);if(node)activateNode(node);}},[isVisible,rootNode,getNodeByName,activateNode]);const openPageByOfferId=Object(react[\"useCallback\"])(offerId=>{setSearchResult(null);if(!isVisible){requestedPage.current.requestedByOfferId=offerId;setIsVisible(true);}else{const nodes=getNodesByOfferId(offerId);if(!nodes||!nodes.length)return;activateNode(nodes[0],offerId);}},[isVisible,getNodesByOfferId,activateNode]);const refreshBuilderStatus=Object(react[\"useCallback\"])(()=>{},[]);useMessageEvent(nitro_renderer[\"gb\" /* CatalogPagesListEvent */],event=>{const parser=event.getParser();const offers=new Map();const getCatalogNode=(node,depth,parent)=>{const catalogNode=new CatalogNode(node,depth,parent);for(const offerId of catalogNode.offerIds){if(offers.has(offerId))offers.get(offerId).push(catalogNode);else offers.set(offerId,[catalogNode]);}depth++;for(const child of node.children)catalogNode.addChild(getCatalogNode(child,depth,catalogNode));return catalogNode;};setRootNode(getCatalogNode(parser.root,0,null));setOffersToNodes(offers);});useMessageEvent(nitro_renderer[\"eb\" /* CatalogPageMessageEvent */],event=>{const parser=event.getParser();if(parser.catalogType!==currentType)return;const purchasableOffers=[];for(const offer of parser.offers){const products=[];const productData=GetProductDataForLocalization(offer.localizationId);for(const product of offer.products){const furnitureData=GetFurnitureData(product.furniClassId,product.productType);products.push(new Product_Product(product.productType,product.furniClassId,product.extraParam,product.productCount,productData,furnitureData,product.uniqueLimitedItem,product.uniqueLimitedSeriesSize,product.uniqueLimitedItemsLeft));}if(!products.length)continue;const purchasableOffer=new Offer_Offer(offer.offerId,offer.localizationId,offer.rent,offer.priceCredits,offer.priceActivityPoints,offer.priceActivityPointsType,offer.giftable,offer.clubLevel,products,offer.bundlePurchaseAllowed);if(currentType===CatalogType.NORMAL||purchasableOffer.pricingModel!==Offer_Offer.PRICING_MODEL_BUNDLE&&purchasableOffer.pricingModel!==Offer_Offer.PRICING_MODEL_MULTI)purchasableOffers.push(purchasableOffer);}if(parser.frontPageItems&&parser.frontPageItems.length)setFrontPageItems(parser.frontPageItems);setIsBusy(false);if(pageId===parser.pageId){showCatalogPage(parser.pageId,parser.layoutCode,new PageLocalization_PageLocalization(parser.localization.images.concat(),parser.localization.texts.concat()),purchasableOffers,parser.offerId,parser.acceptSeasonCurrencyAsCredits);}});useMessageEvent(nitro_renderer[\"Vf\" /* PurchaseOKMessageEvent */],event=>{const parser=event.getParser();DispatchUiEvent(new CatalogPurchasedEvent_CatalogPurchasedEvent(parser.offer));});useMessageEvent(nitro_renderer[\"Rf\" /* PurchaseErrorMessageEvent */],event=>{const parser=event.getParser();DispatchUiEvent(new CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent(parser.code));});useMessageEvent(nitro_renderer[\"Uf\" /* PurchaseNotAllowedMessageEvent */],event=>{const parser=event.getParser();DispatchUiEvent(new CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent(parser.code));});useMessageEvent(nitro_renderer[\"qe\" /* LimitedEditionSoldOutEvent */],event=>{const parser=event.getParser();DispatchUiEvent(new CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent());});useMessageEvent(nitro_renderer[\"Of\" /* ProductOfferEvent */],event=>{const parser=event.getParser();const offerData=parser.offer;if(!offerData||!offerData.products.length)return;const offerProductData=offerData.products[0];if(offerProductData.uniqueLimitedItem){// update unique\n}const products=[];const productData=GetProductDataForLocalization(offerData.localizationId);for(const product of offerData.products){const furnitureData=GetFurnitureData(product.furniClassId,product.productType);products.push(new Product_Product(product.productType,product.furniClassId,product.extraParam,product.productCount,productData,furnitureData,product.uniqueLimitedItem,product.uniqueLimitedSeriesSize,product.uniqueLimitedItemsLeft));}const offer=new Offer_Offer(offerData.offerId,offerData.localizationId,offerData.rent,offerData.priceCredits,offerData.priceActivityPoints,offerData.priceActivityPointsType,offerData.giftable,offerData.clubLevel,products,offerData.bundlePurchaseAllowed);if(!(currentType===CatalogType.NORMAL||offer.pricingModel!==Offer_Offer.PRICING_MODEL_BUNDLE&&offer.pricingModel!==Offer_Offer.PRICING_MODEL_MULTI))return;offer.page=currentPage;setCurrentOffer(offer);if(offer.product&&offer.product.productType===ProductTypeEnum.WALL){setPurchaseOptions(prevValue=>{const newValue={...prevValue};newValue.extraData=offer.product.extraParam||null;return newValue;});}// (this._isObjectMoverRequested) && (this._purchasableOffer)\n});useMessageEvent(nitro_renderer[\"Wh\" /* SellablePetPalettesMessageEvent */],event=>{const parser=event.getParser();const petPalette=new CatalogPetPalette(parser.productCode,parser.palettes.slice());setCatalogOptions(prevValue=>{const petPalettes=[];if(prevValue.petPalettes)petPalettes.push(...prevValue.petPalettes);for(let i=0;i<petPalettes.length;i++){const palette=petPalettes[i];if(palette.breed===petPalette.breed){petPalettes.splice(i,1);break;}}petPalettes.push(petPalette);return{...prevValue,petPalettes};});});useMessageEvent(nitro_renderer[\"Yd\" /* HabboClubOffersMessageEvent */],event=>{const parser=event.getParser();setCatalogOptions(prevValue=>{const clubOffers=parser.offers;return{...prevValue,clubOffers};});});useMessageEvent(nitro_renderer[\"Vd\" /* GuildMembershipsMessageEvent */],event=>{const parser=event.getParser();setCatalogOptions(prevValue=>{const groups=parser.groups;return{...prevValue,groups};});});useMessageEvent(nitro_renderer[\"Yc\" /* GiftWrappingConfigurationEvent */],event=>{const parser=event.getParser();setCatalogOptions(prevValue=>{const giftConfiguration=new GiftWrappingConfiguration(parser);return{...prevValue,giftConfiguration};});});useMessageEvent(nitro_renderer[\"Be\" /* MarketplaceMakeOfferResult */],event=>{const parser=event.getParser();if(!parser)return;let title='';if(parser.result===1){title=LocalizeText('inventory.marketplace.result.title.success');}else{title=LocalizeText('inventory.marketplace.result.title.failure');}const message=LocalizeText(`inventory.marketplace.result.${parser.result}`);simpleAlert(message,NotificationAlertType.DEFAULT,null,null,title);});useMessageEvent(nitro_renderer[\"pb\" /* ClubGiftInfoEvent */],event=>{const parser=event.getParser();setCatalogOptions(prevValue=>{const clubGifts=parser;return{...prevValue,clubGifts};});});useMessageEvent(nitro_renderer[\"hb\" /* CatalogPublishedMessageEvent */],event=>{const wasVisible=isVisible;resetState();if(wasVisible)simpleAlert(LocalizeText('catalog.alert.published.description'),NotificationAlertType.ALERT,null,null,LocalizeText('catalog.alert.published.title'));});useMessageEvent(nitro_renderer[\"F\" /* BuildersClubFurniCountMessageEvent */],event=>{const parser=event.getParser();setFurniCount(parser.furniCount);refreshBuilderStatus();});useMessageEvent(nitro_renderer[\"J\" /* BuildersClubSubscriptionStatusMessageEvent */],event=>{const parser=event.getParser();setFurniLimit(parser._Str_15864);setMaxFurniLimit(parser._Str_24094);setSecondsLeft(parser._Str_3709);setUpdateTime(GetNitroInstance().time);setSecondsLeftWithGrace(parser._Str_24379);refreshBuilderStatus();});useUiEvent(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS,event=>PlaySound(SoundNames.CREDITS));useRoomEngineEvent(nitro_renderer[\"Gg\" /* RoomEngineObjectPlacedEvent */].PLACED,event=>{if(!objectMoverRequested||event.type!==nitro_renderer[\"Gg\" /* RoomEngineObjectPlacedEvent */].PLACED)return;resetPlacedOfferData(true);if(!purchasableOffer){resetObjectMover();return;}let placed=false;const product=purchasableOffer.product;if(event.category===nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL){switch(product.furnitureData.className){case'floor':case'wallpaper':case'landscape':placed=event.placedOnFloor||event.placedOnWall;break;default:placed=event.placedInRoom;break;}}else{placed=event.placedInRoom;}if(!placed){resetObjectMover();return;}setPlacedObjectPurchaseData(new PlacedObjectPurchaseData(event.roomId,event.objectId,event.category,event.wallLocation,event.x,event.y,event.direction,purchasableOffer));switch(currentType){case CatalogType.NORMAL:{switch(event.category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:GetRoomEngine().addFurnitureFloor(event.roomId,event.objectId,product.productClassId,new nitro_renderer[\"kj\" /* Vector3d */](event.x,event.y,event.z),new nitro_renderer[\"kj\" /* Vector3d */](event.direction),0,new nitro_renderer[\"oe\" /* LegacyDataType */]());break;case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:{switch(product.furnitureData.className){case'floor':case'wallpaper':case'landscape':resetRoomPaint(product.furnitureData.className,product.extraParam);break;default:GetRoomEngine().addFurnitureWall(event.roomId,event.objectId,product.productClassId,new nitro_renderer[\"kj\" /* Vector3d */](event.x,event.y,event.z),new nitro_renderer[\"kj\" /* Vector3d */](event.direction*45),0,event.instanceData,0);break;}}}const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(roomObject)roomObject.model.setValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_ALPHA_MULTIPLIER,0.5);if(catalogSkipPurchaseConfirmation){SendMessageComposer(new nitro_renderer[\"Tf\" /* PurchaseFromCatalogComposer */](pageId,purchasableOffer.offerId,product.extraParam,1));if(catalogPlaceMultipleObjects)requestOfferToMover(purchasableOffer);}else{// confirm\nif(catalogPlaceMultipleObjects)requestOfferToMover(purchasableOffer);}break;}case CatalogType.BUILDER:{let pageId=purchasableOffer.page.pageId;if(pageId===DUMMY_PAGE_ID_FOR_OFFER_SEARCH){pageId=-1;}switch(event.category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:SendMessageComposer(new nitro_renderer[\"G\" /* BuildersClubPlaceRoomItemMessageComposer */](pageId,purchasableOffer.offerId,product.extraParam,event.x,event.y,event.direction));break;case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:SendMessageComposer(new nitro_renderer[\"H\" /* BuildersClubPlaceWallItemMessageComposer */](pageId,purchasableOffer.offerId,product.extraParam,event.wallLocation));break;}if(catalogPlaceMultipleObjects)requestOfferToMover(purchasableOffer);break;}}});useUiEvent(InventoryFurniAddedEvent_InventoryFurniAddedEvent.FURNI_ADDED,event=>{const roomEngine=GetRoomEngine();if(!placedObjectPurchaseData||placedObjectPurchaseData.productClassId!==event.spriteId||placedObjectPurchaseData.roomId!==roomEngine.activeRoomId)return;switch(event.category){case FurniCategory.FLOOR:{const floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);if(placedObjectPurchaseData.extraParam!==floorType)SendMessageComposer(new nitro_renderer[\"lc\" /* FurniturePlacePaintComposer */](event.id));break;}case FurniCategory.WALL_PAPER:{const wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_WALL_TYPE);if(placedObjectPurchaseData.extraParam!==wallType)SendMessageComposer(new nitro_renderer[\"lc\" /* FurniturePlacePaintComposer */](event.id));break;}case FurniCategory.LANDSCAPE:{const landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);if(placedObjectPurchaseData.extraParam!==landscapeType)SendMessageComposer(new nitro_renderer[\"lc\" /* FurniturePlacePaintComposer */](event.id));break;}default:SendMessageComposer(new nitro_renderer[\"kc\" /* FurniturePlaceComposer */](event.id,placedObjectPurchaseData.category,placedObjectPurchaseData.wallLocation,placedObjectPurchaseData.x,placedObjectPurchaseData.y,placedObjectPurchaseData.direction));}if(!catalogPlaceMultipleObjects)resetPlacedOfferData();});Object(react[\"useEffect\"])(()=>{return()=>setCurrentOffer(null);},[currentPage]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!rootNode||!offersToNodes||!requestedPage.current)return;switch(requestedPage.current.requestType){case RequestedPage.REQUEST_TYPE_NONE:if(currentPage)return;if(rootNode.isBranch){for(const child of rootNode.children){if(child&&child.isVisible){activateNode(child);return;}}}return;case RequestedPage.REQUEST_TYPE_ID:openPageById(requestedPage.current.requestById);requestedPage.current.resetRequest();return;case RequestedPage.REQUEST_TYPE_OFFER:openPageByOfferId(requestedPage.current.requestedByOfferId);requestedPage.current.resetRequest();return;case RequestedPage.REQUEST_TYPE_NAME:openPageByName(requestedPage.current.requestByName);requestedPage.current.resetRequest();return;}},[isVisible,rootNode,offersToNodes,currentPage,activateNode,openPageById,openPageByOfferId,openPageByName]);Object(react[\"useEffect\"])(()=>{if(!searchResult&&currentPage&&currentPage.pageId===-1)openPageById(previousPageId);},[searchResult,currentPage,previousPageId,openPageById]);Object(react[\"useEffect\"])(()=>{if(!currentOffer)return;setPurchaseOptions({quantity:1,extraData:null,extraParamRequired:false,previewStuffData:null});},[currentOffer]);Object(react[\"useEffect\"])(()=>{if(!isVisible||rootNode)return;SendMessageComposer(new nitro_renderer[\"Bc\" /* GetGiftWrappingConfigurationComposer */]());SendMessageComposer(new nitro_renderer[\"xc\" /* GetClubGiftInfo */]());SendMessageComposer(new nitro_renderer[\"tc\" /* GetCatalogIndexComposer */](currentType));SendMessageComposer(new nitro_renderer[\"I\" /* BuildersClubQueryFurniCountMessageComposer */]());},[isVisible,rootNode,currentType]);Object(react[\"useEffect\"])(()=>{setRoomPreviewer(new nitro_renderer[\"eh\" /* RoomPreviewer */](GetRoomEngine(),++nitro_renderer[\"eh\" /* RoomPreviewer */].PREVIEW_COUNTER));return()=>{setRoomPreviewer(prevValue=>{prevValue.dispose();return null;});};},[]);return{isVisible,setIsVisible,isBusy,pageId,previousPageId,currentType,rootNode,offersToNodes,currentPage,setCurrentPage,currentOffer,setCurrentOffer,activeNodes,searchResult,setSearchResult,frontPageItems,roomPreviewer,navigationHidden,setNavigationHidden,purchaseOptions,setPurchaseOptions,catalogOptions,setCatalogOptions,getNodeById,getNodeByName,activateNode,openPageById,openPageByName,openPageByOfferId,requestOfferToMover};};const useCatalog=()=>Object(index_esm[\"a\" /* useBetween */])(useCatalogState);\n// CONCATENATED MODULE: ./src/hooks/catalog/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/chat-history/useChatHistory.ts\nconst CHAT_HISTORY_MAX=1000;const ROOM_HISTORY_MAX=10;const MESSENGER_HISTORY_MAX=1000;let CHAT_HISTORY_COUNTER=0;let MESSENGER_HISTORY_COUNTER=0;const useChatHistoryState=()=>{const[chatHistory,setChatHistory]=Object(react[\"useState\"])([]);const[roomHistory,setRoomHistory]=Object(react[\"useState\"])([]);const[messengerHistory,setMessengerHistory]=Object(react[\"useState\"])([]);const[needsRoomInsert,setNeedsRoomInsert]=Object(react[\"useState\"])(false);const addChatEntry=entry=>{entry.id=CHAT_HISTORY_COUNTER++;setChatHistory(prevValue=>{const newValue=[...prevValue];newValue.push(entry);if(newValue.length>CHAT_HISTORY_MAX)newValue.shift();return newValue;});};const addRoomHistoryEntry=entry=>{setRoomHistory(prevValue=>{const newValue=[...prevValue];newValue.push(entry);if(newValue.length>ROOM_HISTORY_MAX)newValue.shift();return newValue;});};const addMessengerEntry=entry=>{entry.id=MESSENGER_HISTORY_COUNTER++;setMessengerHistory(prevValue=>{const newValue=[...prevValue];newValue.push(entry);if(newValue.length>MESSENGER_HISTORY_MAX)newValue.shift();return newValue;});};useRoomSessionManagerEvent(nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_EVENT,event=>{const roomSession=GetRoomSession();if(!roomSession)return;const userData=roomSession.userDataManager.getUserDataByIndex(event.objectId);if(!userData)return;addChatEntry({id:-1,entityId:userData.webID,name:userData.name,look:userData.figure,entityType:userData.type,message:event.message,timestamp:ChatHistoryCurrentDate(),type:ChatEntryType.TYPE_CHAT,roomId:roomSession.roomId});});useRoomSessionManagerEvent(nitro_renderer[\"mh\" /* RoomSessionEvent */].STARTED,event=>setNeedsRoomInsert(true));useMessageEvent(nitro_renderer[\"Dc\" /* GetGuestRoomResultEvent */],event=>{if(!needsRoomInsert)return;const parser=event.getParser();if(roomHistory.length){if(roomHistory[roomHistory.length-1].id===parser.data.roomId)return;}addChatEntry({id:-1,entityId:parser.data.roomId,name:parser.data.roomName,timestamp:ChatHistoryCurrentDate(),type:ChatEntryType.TYPE_ROOM_INFO,roomId:parser.data.roomId});addRoomHistoryEntry({id:parser.data.roomId,name:parser.data.roomName});setNeedsRoomInsert(false);});useMessageEvent(nitro_renderer[\"cf\" /* NewConsoleMessageEvent */],event=>{const parser=event.getParser();addMessengerEntry({id:-1,entityId:parser.senderId,name:'',message:parser.messageText,roomId:-1,timestamp:MessengerHistoryCurrentDate(parser.secondsSinceSent),type:ChatEntryType.TYPE_IM});});useMessageEvent(nitro_renderer[\"Tg\" /* RoomInviteEvent */],event=>{const parser=event.getParser();addMessengerEntry({id:-1,entityId:parser.senderId,name:'',message:parser.messageText,roomId:-1,timestamp:MessengerHistoryCurrentDate(),type:ChatEntryType.TYPE_IM});});return{chatHistory,roomHistory,messengerHistory};};const useChatHistory=()=>Object(index_esm[\"a\" /* useBetween */])(useChatHistoryState);\n// CONCATENATED MODULE: ./src/hooks/chat-history/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/friends/useFriends.ts\nconst useFriendsState=()=>{const[friends,setFriends]=Object(react[\"useState\"])([]);const[requests,setRequests]=Object(react[\"useState\"])([]);const[sentRequests,setSentRequests]=Object(react[\"useState\"])([]);const[dismissedRequestIds,setDismissedRequestIds]=Object(react[\"useState\"])([]);const[settings,setSettings]=Object(react[\"useState\"])(null);const onlineFriends=Object(react[\"useMemo\"])(()=>{const onlineFriends=friends.filter(friend=>friend.online);onlineFriends.sort((a,b)=>{if(a.name<b.name)return-1;if(a.name>b.name)return 1;return 0;});return onlineFriends;},[friends]);const offlineFriends=Object(react[\"useMemo\"])(()=>{const offlineFriends=friends.filter(friend=>!friend.online);offlineFriends.sort((a,b)=>{if(a.name<b.name)return-1;if(a.name>b.name)return 1;return 0;});return offlineFriends;},[friends]);const followFriend=friend=>SendMessageComposer(new nitro_renderer[\"Tb\" /* FollowFriendMessageComposer */](friend.id));const updateRelationship=(friend,type)=>type!==friend.relationshipStatus&&SendMessageComposer(new nitro_renderer[\"bi\" /* SetRelationshipStatusComposer */](friend.id,type));const getFriend=userId=>{for(const friend of friends){if(friend.id===userId)return friend;}return null;};const canRequestFriend=userId=>{if(userId===GetSessionDataManager().userId)return false;if(getFriend(userId))return false;if(requests.find(request=>request.requesterUserId===userId))return false;if(sentRequests.indexOf(userId)>=0)return false;return true;};const requestFriend=(userId,userName)=>{if(!canRequestFriend(userId))return false;setSentRequests(prevValue=>{const newSentRequests=[...prevValue];newSentRequests.push(userId);return newSentRequests;});SendMessageComposer(new nitro_renderer[\"mg\" /* RequestFriendComposer */](userName));};const requestResponse=(requestId,flag)=>{if(requestId===-1&&!flag){SendMessageComposer(new nitro_renderer[\"Ab\" /* DeclineFriendMessageComposer */](true));setRequests([]);}else{setRequests(prevValue=>{const newRequests=[...prevValue];const index=newRequests.findIndex(request=>request.id===requestId);if(index===-1)return prevValue;if(flag){SendMessageComposer(new nitro_renderer[\"a\" /* AcceptFriendMessageComposer */](newRequests[index].id));}else{SendMessageComposer(new nitro_renderer[\"Ab\" /* DeclineFriendMessageComposer */](false,newRequests[index].id));}newRequests.splice(index,1);return newRequests;});}};useMessageEvent(nitro_renderer[\"Ee\" /* MessengerInitEvent */],event=>{const parser=event.getParser();setSettings(new MessengerSettings(parser.userFriendLimit,parser.normalFriendLimit,parser.extendedFriendLimit,parser.categories));SendMessageComposer(new nitro_renderer[\"Ac\" /* GetFriendRequestsComposer */]());});useMessageEvent(nitro_renderer[\"Vb\" /* FriendListFragmentEvent */],event=>{const parser=event.getParser();setFriends(prevValue=>{const newValue=[...prevValue];for(const friend of parser.fragment){const index=newValue.findIndex(existingFriend=>existingFriend.id===friend.id);const newFriend=new MessengerFriend();newFriend.populate(friend);if(index>-1)newValue[index]=newFriend;else newValue.push(newFriend);}return newValue;});});useMessageEvent(nitro_renderer[\"Xb\" /* FriendListUpdateEvent */],event=>{const parser=event.getParser();setFriends(prevValue=>{const newValue=[...prevValue];const processUpdate=friend=>{const index=newValue.findIndex(existingFriend=>existingFriend.id===friend.id);if(index===-1){const newFriend=new MessengerFriend();newFriend.populate(friend);newValue.unshift(newFriend);}else{newValue[index].populate(friend);}};for(const friend of parser.addedFriends)processUpdate(friend);for(const friend of parser.updatedFriends)processUpdate(friend);for(const removedFriendId of parser.removedFriendIds){const index=newValue.findIndex(existingFriend=>existingFriend.id===removedFriendId);if(index>-1)newValue.splice(index,1);}return newValue;});});useMessageEvent(nitro_renderer[\"Yb\" /* FriendRequestsEvent */],event=>{const parser=event.getParser();setRequests(prevValue=>{const newValue=[...prevValue];for(const request of parser.requests){const index=newValue.findIndex(existing=>existing.requesterUserId===request.requesterUserId);if(index>0){newValue[index]=CloneObject(newValue[index]);newValue[index].populate(request);}else{const newRequest=new MessengerRequest();newRequest.populate(request);newValue.push(newRequest);}}return newValue;});});useMessageEvent(nitro_renderer[\"df\" /* NewFriendRequestEvent */],event=>{const parser=event.getParser();const request=parser.request;setRequests(prevValue=>{const newRequests=[...prevValue];const index=newRequests.findIndex(existing=>existing.requesterUserId===request.requesterUserId);if(index===-1){const newRequest=new MessengerRequest();newRequest.populate(request);newRequests.push(newRequest);}return newRequests;});});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"De\" /* MessengerInitComposer */]());const interval=setInterval(()=>SendMessageComposer(new nitro_renderer[\"Wb\" /* FriendListUpdateComposer */]()),120000);return()=>{clearInterval(interval);};},[]);return{friends,requests,sentRequests,dismissedRequestIds,setDismissedRequestIds,settings,onlineFriends,offlineFriends,getFriend,canRequestFriend,requestFriend,requestResponse,followFriend,updateRelationship};};const useFriends=()=>Object(index_esm[\"a\" /* useBetween */])(useFriendsState);\n// CONCATENATED MODULE: ./src/hooks/friends/useMessenger.ts\nconst useMessengerState=()=>{const[messageThreads,setMessageThreads]=Object(react[\"useState\"])([]);const[activeThreadId,setActiveThreadId]=Object(react[\"useState\"])(-1);const[hiddenThreadIds,setHiddenThreadIds]=Object(react[\"useState\"])([]);const[iconState,setIconState]=Object(react[\"useState\"])(MessengerIconState.HIDDEN);const{getFriend=null}=useFriends();const{simpleAlert=null}=useNotification();const visibleThreads=Object(react[\"useMemo\"])(()=>messageThreads.filter(thread=>hiddenThreadIds.indexOf(thread.threadId)===-1),[messageThreads,hiddenThreadIds]);const activeThread=Object(react[\"useMemo\"])(()=>activeThreadId>0&&visibleThreads.find(thread=>thread.threadId===activeThreadId||null),[activeThreadId,visibleThreads]);const getMessageThread=userId=>{let thread=messageThreads.find(thread=>thread.participant&&thread.participant.id===userId);if(!thread){const friend=getFriend(userId);if(!friend)return null;thread=new MessengerThread_MessengerThread(friend);thread.addMessage(null,LocalizeText('messenger.moderationinfo'),0,null,MessengerThreadChat.SECURITY_NOTIFICATION);thread.setRead();setMessageThreads(prevValue=>{const newValue=[...prevValue];newValue.push(thread);return newValue;});}else{const hiddenIndex=hiddenThreadIds.indexOf(thread.threadId);if(hiddenIndex>=0){setHiddenThreadIds(prevValue=>{const newValue=[...prevValue];newValue.splice(hiddenIndex,1);return newValue;});}}return thread;};const closeThread=threadId=>{setHiddenThreadIds(prevValue=>{const newValue=[...prevValue];if(newValue.indexOf(threadId)>=0)return prevValue;newValue.push(threadId);return newValue;});if(activeThreadId===threadId)setActiveThreadId(-1);};const sendMessage=function(thread,senderId,messageText){let secondsSinceSent=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let extraData=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let messageType=arguments.length>5&&arguments[5]!==undefined?arguments[5]:MessengerThreadChat.CHAT;if(!thread||!messageText||!messageText.length)return;const ownMessage=senderId===GetSessionDataManager().userId;if(ownMessage&&messageText.length<=255)SendMessageComposer(new nitro_renderer[\"Xh\" /* SendMessageComposer */](thread.participant.id,messageText));setMessageThreads(prevValue=>{const newValue=[...prevValue];const index=newValue.findIndex(newThread=>newThread.threadId===thread.threadId);if(index===-1)return prevValue;thread=CloneObject(newValue[index]);if(ownMessage&&thread.groups.length===1)PlaySound(SoundNames.MESSENGER_NEW_THREAD);thread.addMessage(messageType===MessengerThreadChat.ROOM_INVITE?null:senderId,messageText,secondsSinceSent,extraData,messageType);if(activeThreadId===thread.threadId)thread.setRead();newValue[index]=thread;if(!ownMessage&&thread.unread)PlaySound(SoundNames.MESSENGER_MESSAGE_RECEIVED);return newValue;});};useMessageEvent(nitro_renderer[\"cf\" /* NewConsoleMessageEvent */],event=>{const parser=event.getParser();const thread=getMessageThread(parser.senderId);if(!thread)return;sendMessage(thread,parser.senderId,parser.messageText,parser.secondsSinceSent,parser.extraData);});useMessageEvent(nitro_renderer[\"Tg\" /* RoomInviteEvent */],event=>{const parser=event.getParser();const thread=getMessageThread(parser.senderId);if(!thread)return;sendMessage(thread,parser.senderId,parser.messageText,0,null,MessengerThreadChat.ROOM_INVITE);});useMessageEvent(nitro_renderer[\"Sg\" /* RoomInviteErrorEvent */],event=>{const parser=event.getParser();simpleAlert(`Received room invite error: ${parser.errorCode},recipients: ${parser.failedRecipients}`,NotificationAlertType.DEFAULT,null,null,LocalizeText('friendlist.alert.title'));});Object(react[\"useEffect\"])(()=>{if(activeThreadId<=0)return;setMessageThreads(prevValue=>{const newValue=[...prevValue];const index=newValue.findIndex(newThread=>newThread.threadId===activeThreadId);if(index>=0){newValue[index]=CloneObject(newValue[index]);newValue[index].setRead();}return newValue;});},[activeThreadId]);Object(react[\"useEffect\"])(()=>{setIconState(prevValue=>{if(!visibleThreads.length)return MessengerIconState.HIDDEN;let isUnread=false;for(const thread of visibleThreads){if(thread.unreadCount>0){isUnread=true;break;}}if(isUnread)return MessengerIconState.UNREAD;return MessengerIconState.SHOW;});},[visibleThreads]);return{messageThreads,activeThread,iconState,visibleThreads,getMessageThread,setActiveThreadId,closeThread,sendMessage};};const useMessenger=()=>Object(index_esm[\"a\" /* useBetween */])(useMessengerState);\n// CONCATENATED MODULE: ./src/hooks/friends/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/groups/useGroup.ts\nconst useGroupState=()=>{const[groupCustomize,setGroupCustomize]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"dd\" /* GroupBadgePartsEvent */],event=>{const parser=event.getParser();const customize={badgeBases:[],badgeSymbols:[],badgePartColors:[],groupColorsA:[],groupColorsB:[]};parser.bases.forEach((images,id)=>customize.badgeBases.push({id,images}));parser.symbols.forEach((images,id)=>customize.badgeSymbols.push({id,images}));parser.partColors.forEach((color,id)=>customize.badgePartColors.push({id,color}));parser.colorsA.forEach((color,id)=>customize.groupColorsA.push({id,color}));parser.colorsB.forEach((color,id)=>customize.groupColorsB.push({id,color}));const CompareId=(a,b)=>{if(a.id<b.id)return-1;if(a.id>b.id)return 1;return 0;};customize.badgeBases.sort(CompareId);customize.badgeSymbols.sort(CompareId);customize.badgePartColors.sort(CompareId);customize.groupColorsA.sort(CompareId);customize.groupColorsB.sort(CompareId);setGroupCustomize(customize);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"cd\" /* GroupBadgePartsComposer */]());},[]);return{groupCustomize};};const useGroup=()=>Object(index_esm[\"a\" /* useBetween */])(useGroupState);\n// CONCATENATED MODULE: ./src/hooks/groups/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/help/useHelp.ts\nconst useHelpState=()=>{const[activeReport,setActiveReport]=Object(react[\"useState\"])(null);const[sanctionInfo,setSanctionInfo]=Object(react[\"useState\"])(null);const{simpleAlert=null,showConfirm=null}=useNotification();const report=(type,options)=>{const newReport={reportType:type,reportedUserId:-1,reportedChats:[],cfhCategory:-1,cfhTopic:-1,roomId:-1,roomName:'',messageId:-1,threadId:-1,groupId:-1,extraData:'',roomObjectId:-1,message:'',currentStep:0};switch(type){case ReportType.BULLY:case ReportType.EMERGENCY:case ReportType.IM:newReport.reportedUserId=options.reportedUserId;newReport.currentStep=ReportState.SELECT_CHATS;break;case ReportType.ROOM:newReport.roomId=options.roomId;newReport.roomName=options.roomName;newReport.currentStep=ReportState.SELECT_TOPICS;break;case ReportType.THREAD:newReport.groupId=options.groupId;newReport.threadId=options.threadId;newReport.currentStep=ReportState.SELECT_TOPICS;break;case ReportType.MESSAGE:newReport.groupId=options.groupId;newReport.threadId=options.threadId;newReport.messageId=options.messageId;newReport.currentStep=ReportState.SELECT_TOPICS;break;case ReportType.PHOTO:break;case ReportType.GUIDE:break;}setActiveReport(newReport);};useMessageEvent(nitro_renderer[\"U\" /* CallForHelpResultMessageEvent */],event=>{const parser=event.getParser();let message=parser.messageText;switch(parser.resultType){case CallForHelpResult.TOO_MANY_PENDING_CALLS_CODE:SendMessageComposer(new nitro_renderer[\"Kc\" /* GetPendingCallsForHelpMessageComposer */]());simpleAlert(LocalizeText('help.cfh.error.pending'),NotificationAlertType.MODERATION,null,null,LocalizeText('help.cfh.error.title'));break;case CallForHelpResult.HAS_ABUSIVE_CALL_CODE:simpleAlert(LocalizeText('help.cfh.error.abusive'),NotificationAlertType.MODERATION,null,null,LocalizeText('help.cfh.error.title'));break;default:if(message.trim().length===0){message=LocalizeText('help.cfh.sent.text');}simpleAlert(message,NotificationAlertType.MODERATION,null,null,LocalizeText('help.cfh.sent.title'));}});useMessageEvent(nitro_renderer[\"ie\" /* IssueCloseNotificationMessageEvent */],event=>{const parser=event.getParser();const message=parser.messageText.length===0?LocalizeText('help.cfh.closed.'+GetCloseReasonKey(parser.closeReason)):parser.messageText;simpleAlert(message,NotificationAlertType.MODERATION,null,null,LocalizeText('mod.alert.title'));});useMessageEvent(nitro_renderer[\"S\" /* CallForHelpPendingCallsMessageEvent */],event=>{const parser=event.getParser();if(parser.count>0){showConfirm(LocalizeText('help.emergency.pending.title')+'\\n'+parser.pendingCalls[0].message,()=>{SendMessageComposer(new nitro_renderer[\"Cb\" /* DeletePendingCallsForHelpMessageComposer */]());},null,LocalizeText('help.emergency.pending.button.discard'),LocalizeText('help.emergency.pending.button.keep'),LocalizeText('help.emergency.pending.message.subtitle'));}});useMessageEvent(nitro_renderer[\"R\" /* CallForHelpPendingCallsDeletedMessageEvent */],event=>{const message='Your pending calls were deleted';// todo: add localization\nsimpleAlert(message,NotificationAlertType.MODERATION,null,null,LocalizeText('mod.alert.title'));});useMessageEvent(nitro_renderer[\"T\" /* CallForHelpReplyMessageEvent */],event=>{const parser=event.getParser();simpleAlert(parser.message,NotificationAlertType.MODERATION,null,null,LocalizeText('help.cfh.reply.title'));});useMessageEvent(nitro_renderer[\"L\" /* CallForHelpDisabledNotifyMessageEvent */],event=>{const parser=event.getParser();simpleAlert(LocalizeText('help.emergency.global_mute.message'),NotificationAlertType.MODERATION,parser.infoUrl,LocalizeText('help.emergency.global_mute.link'),LocalizeText('help.emergency.global_mute.subtitle'));});useMessageEvent(nitro_renderer[\"Ph\" /* SanctionStatusEvent */],event=>{const parser=event.getParser();setSanctionInfo(parser);});return{activeReport,setActiveReport,sanctionInfo,setSanctionInfo,report};};const useHelp=()=>Object(index_esm[\"a\" /* useBetween */])(useHelpState);\n// CONCATENATED MODULE: ./src/hooks/help/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/useSharedVisibility.ts\nconst useSharedVisibility=()=>{const[activeIds,setActiveIds]=Object(react[\"useState\"])([]);const isVisible=Object(react[\"useMemo\"])(()=>!!activeIds.length,[activeIds]);const activate=Object(react[\"useCallback\"])(()=>{let id=-1;setActiveIds(prevValue=>{const newValue=[...prevValue];id=newValue.length?newValue[newValue.length-1]+1:0;newValue.push(id);return newValue;});return id;},[]);const deactivate=Object(react[\"useCallback\"])(id=>{setActiveIds(prevValue=>{const newValue=[...prevValue];const index=newValue.indexOf(id);if(index===-1)return prevValue;newValue.splice(index,1);return newValue;});},[]);return{isVisible,activate,deactivate};};\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryUnseenTracker.ts\nconst sendResetCategoryMessage=category=>SendMessageComposer(new nitro_renderer[\"Ei\" /* UnseenResetCategoryComposer */](category));const sendResetItemsMessage=(category,itemIds)=>SendMessageComposer(new nitro_renderer[\"Fi\" /* UnseenResetItemsComposer */](category,...itemIds));const useInventoryUnseenTrackerState=()=>{const[unseenItems,setUnseenItems]=Object(react[\"useState\"])(new Map());const getCount=Object(react[\"useCallback\"])(category=>{var _unseenItems$get;return((_unseenItems$get=unseenItems.get(category))===null||_unseenItems$get===void 0?void 0:_unseenItems$get.length)||0;},[unseenItems]);const getFullCount=Object(react[\"useMemo\"])(()=>{let count=0;for(const key of unseenItems.keys())count+=getCount(key);return count;},[unseenItems,getCount]);const resetCategory=Object(react[\"useCallback\"])(category=>{let didReset=true;setUnseenItems(prevValue=>{if(!prevValue.has(category)){didReset=false;return prevValue;}const newValue=new Map(prevValue);newValue.delete(category);sendResetCategoryMessage(category);return newValue;});return didReset;},[]);const resetItems=Object(react[\"useCallback\"])((category,itemIds)=>{let didReset=true;setUnseenItems(prevValue=>{if(!prevValue.has(category)){didReset=false;return prevValue;}const newValue=new Map(prevValue);const existing=newValue.get(category);if(existing)for(const itemId of itemIds)existing.splice(existing.indexOf(itemId),1);sendResetItemsMessage(category,itemIds);return newValue;});return didReset;},[]);const isUnseen=Object(react[\"useCallback\"])((category,itemId)=>{if(!unseenItems.has(category))return false;const items=unseenItems.get(category);return items.indexOf(itemId)>=0;},[unseenItems]);const removeUnseen=Object(react[\"useCallback\"])((category,itemId)=>{setUnseenItems(prevValue=>{if(!prevValue.has(category))return prevValue;const newValue=new Map(prevValue);const items=newValue.get(category);const index=items.indexOf(itemId);if(index>=0)items.splice(index,1);return newValue;});},[]);useMessageEvent(nitro_renderer[\"Di\" /* UnseenItemsEvent */],event=>{const parser=event.getParser();setUnseenItems(prevValue=>{const newValue=new Map(prevValue);for(const category of parser.categories){let existing=newValue.get(category);if(!existing){existing=[];newValue.set(category,existing);}const itemIds=parser.getItemsByCategory(category);for(const itemId of itemIds)existing.indexOf(itemId)===-1&&existing.push(itemId);}return newValue;});});return{getCount,getFullCount,resetCategory,resetItems,isUnseen,removeUnseen};};const useInventoryUnseenTracker=()=>Object(index_esm[\"a\" /* useBetween */])(useInventoryUnseenTrackerState);\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryBadges.ts\nconst useInventoryBadgesState=()=>{const[needsUpdate,setNeedsUpdate]=Object(react[\"useState\"])(true);const[badgeCodes,setBadgeCodes]=Object(react[\"useState\"])([]);const[badgeIds,setBadgeIds]=Object(react[\"useState\"])([]);const[activeBadgeCodes,setActiveBadgeCodes]=Object(react[\"useState\"])([]);const[selectedBadgeCode,setSelectedBadgeCode]=Object(react[\"useState\"])(null);const{isVisible=false,activate=null,deactivate=null}=useSharedVisibility();const{isUnseen=null,resetCategory=null}=useInventoryUnseenTracker();const maxBadgeCount=GetConfiguration('user.badges.max.slots',5);const isWearingBadge=badgeCode=>activeBadgeCodes.indexOf(badgeCode)>=0;const canWearBadges=()=>activeBadgeCodes.length<maxBadgeCount;const toggleBadge=badgeCode=>{setActiveBadgeCodes(prevValue=>{const newValue=[...prevValue];const index=newValue.indexOf(badgeCode);if(index===-1){if(!canWearBadges())return prevValue;newValue.push(badgeCode);}else{newValue.splice(index,1);}const composer=new nitro_renderer[\"Zh\" /* SetActivatedBadgesComposer */]();for(let i=0;i<maxBadgeCount;i++)composer.addActivatedBadge(newValue[i]||null);SendMessageComposer(composer);return newValue;});};const getBadgeId=badgeCode=>{const index=badgeCodes.indexOf(badgeCode);if(index===-1)return 0;return badgeIds[index]||0;};useMessageEvent(nitro_renderer[\"w\" /* BadgesEvent */],event=>{const parser=event.getParser();const newBadgeCodes=parser.getAllBadgeCodes();const newBadgeIds=[];for(const newBadgeCode of newBadgeCodes)newBadgeIds.push(parser.getBadgeId(newBadgeCode));setBadgeCodes(newBadgeCodes);setBadgeIds(newBadgeIds);setActiveBadgeCodes(parser.getActiveBadgeCodes());});useMessageEvent(nitro_renderer[\"v\" /* BadgeReceivedEvent */],event=>{const parser=event.getParser();const unseen=isUnseen(UnseenItemCategory.BADGE,parser.badgeId);setBadgeCodes(prevValue=>{const newValue=[...prevValue];if(unseen)newValue.unshift(parser.badgeCode);else newValue.push(parser.badgeCode);return newValue;});setBadgeIds(prevValue=>{const newValue=[...prevValue];if(unseen)newValue.unshift(parser.badgeId);else newValue.push(parser.badgeId);return newValue;});});Object(react[\"useEffect\"])(()=>{if(!badgeCodes||!badgeCodes.length)return;setSelectedBadgeCode(prevValue=>{let newValue=prevValue;if(newValue&&badgeCodes.indexOf(newValue)===-1)newValue=null;if(!newValue)newValue=badgeCodes[0];return newValue;});},[badgeCodes]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;return()=>{resetCategory(UnseenItemCategory.BADGE);};},[isVisible,resetCategory]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!needsUpdate)return;SendMessageComposer(new nitro_renderer[\"jg\" /* RequestBadgesComposer */]());setNeedsUpdate(false);},[isVisible,needsUpdate]);return{badgeCodes,activeBadgeCodes,selectedBadgeCode,setSelectedBadgeCode,isWearingBadge,canWearBadges,toggleBadge,getBadgeId,activate,deactivate};};const useInventoryBadges=()=>Object(index_esm[\"a\" /* useBetween */])(useInventoryBadgesState);\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryBots.ts\nconst useInventoryBotsState=()=>{const[needsUpdate,setNeedsUpdate]=Object(react[\"useState\"])(true);const[botItems,setBotItems]=Object(react[\"useState\"])([]);const[selectedBot,setSelectedBot]=Object(react[\"useState\"])(null);const{isVisible=false,activate=null,deactivate=null}=useSharedVisibility();const{isUnseen=null,resetCategory=null}=useInventoryUnseenTracker();useMessageEvent(nitro_renderer[\"B\" /* BotInventoryMessageEvent */],event=>{const parser=event.getParser();setBotItems(prevValue=>{const newValue=[...prevValue];const existingIds=newValue.map(item=>item.botData.id);const addedDatas=[];for(const botData of parser.items.values())existingIds.indexOf(botData.id)===-1&&addedDatas.push(botData);for(const existingId of existingIds){let remove=true;for(const botData of parser.items.values()){if(botData.id===existingId){remove=false;break;}}if(!remove)continue;const index=newValue.findIndex(item=>item.botData.id===existingId);const botItem=newValue[index];if(index===-1||!botItem)continue;if(getPlacingItemId()===botItem.botData.id){cancelRoomObjectPlacement();CreateLinkEvent('inventory/open');}newValue.splice(index,1);}for(const botData of addedDatas){const botItem={botData};const unseen=isUnseen(UnseenItemCategory.BOT,botData.id);if(unseen)newValue.unshift(botItem);else newValue.push(botItem);}return newValue;});});useMessageEvent(nitro_renderer[\"z\" /* BotAddedToInventoryEvent */],event=>{const parser=event.getParser();setBotItems(prevValue=>{const newValue=[...prevValue];const index=newValue.findIndex(item=>item.botData.id===parser.item.id);if(index>=0)return prevValue;const botItem={botData:parser.item};const unseen=isUnseen(UnseenItemCategory.BOT,botItem.botData.id);if(unseen)newValue.unshift(botItem);else newValue.push(botItem);return newValue;});});useMessageEvent(nitro_renderer[\"D\" /* BotRemovedFromInventoryEvent */],event=>{const parser=event.getParser();setBotItems(prevValue=>{const newValue=[...prevValue];const index=newValue.findIndex(item=>item.botData.id===parser.itemId);if(index===-1)return prevValue;newValue.splice(index,1);if(getPlacingItemId()===parser.itemId){cancelRoomObjectPlacement();CreateLinkEvent('inventory/show');}return newValue;});});Object(react[\"useEffect\"])(()=>{if(!botItems||!botItems.length)return;setSelectedBot(prevValue=>{let newValue=prevValue;if(newValue&&botItems.indexOf(newValue)===-1)newValue=null;if(!newValue)newValue=botItems[0];return newValue;});},[botItems]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;return()=>{resetCategory(UnseenItemCategory.BOT);};},[isVisible,resetCategory]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!needsUpdate)return;SendMessageComposer(new nitro_renderer[\"sc\" /* GetBotInventoryComposer */]());setNeedsUpdate(false);},[isVisible,needsUpdate]);return{botItems,selectedBot,setSelectedBot,activate,deactivate};};const useInventoryBots=()=>Object(index_esm[\"a\" /* useBetween */])(useInventoryBotsState);\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryFurni.ts\nlet furniMsgFragments=null;const useInventoryFurniState=()=>{const[needsUpdate,setNeedsUpdate]=Object(react[\"useState\"])(true);const[groupItems,setGroupItems]=Object(react[\"useState\"])([]);const[selectedItem,setSelectedItem]=Object(react[\"useState\"])(null);const{isVisible=false,activate=null,deactivate=null}=useSharedVisibility();const{isUnseen=null,resetCategory=null}=useInventoryUnseenTracker();const getWallItemById=id=>{if(!groupItems||!groupItems.length)return;for(const groupItem of groupItems){const item=groupItem.getItemById(id);if(item&&item.isWallItem)return groupItem;}return null;};const getFloorItemById=id=>{if(!groupItems||!groupItems.length)return;for(const groupItem of groupItems){const item=groupItem.getItemById(id);if(item&&!item.isWallItem)return groupItem;}return null;};useMessageEvent(nitro_renderer[\"cc\" /* FurnitureListAddOrUpdateEvent */],event=>{const parser=event.getParser();setGroupItems(prevValue=>{const newValue=[...prevValue];for(const item of parser.items){let i=0;let groupItem=null;while(i<newValue.length){const group=newValue[i];let j=0;while(j<group.items.length){const furniture=group.items[j];if(furniture.id===item.itemId){furniture.update(item);const newFurniture=[...group.items];newFurniture[j]=furniture;group.items=newFurniture;groupItem=group;break;}j++;}if(groupItem)break;i++;}if(groupItem){groupItem.hasUnseenItems=true;newValue[i]=CloneObject(groupItem);}else{const furniture=new FurnitureItem_FurnitureItem(item);addFurnitureItem(newValue,furniture,isUnseen(UnseenItemCategory.FURNI,item.itemId));DispatchUiEvent(new InventoryFurniAddedEvent_InventoryFurniAddedEvent(furniture.id,furniture.type,furniture.category));}}return newValue;});});useMessageEvent(nitro_renderer[\"ec\" /* FurnitureListEvent */],event=>{const parser=event.getParser();if(!furniMsgFragments)furniMsgFragments=new Array(parser.totalFragments);const fragment=mergeFurniFragments(parser.fragment,parser.totalFragments,parser.fragmentNumber,furniMsgFragments);if(!fragment)return;setGroupItems(prevValue=>{const newValue=[...prevValue];const existingIds=getAllItemIds(newValue);for(const existingId of existingIds){if(fragment.get(existingId))continue;let index=0;while(index<newValue.length){const group=newValue[index];const item=group.remove(existingId);if(!item){index++;continue;}if(getPlacingItemId()===item.ref){cancelRoomObjectPlacement();if(!attemptItemPlacement(group)){CreateLinkEvent('inventory/show');}}if(group.getTotalCount()<=0){newValue.splice(index,1);group.dispose();}break;}}for(const itemId of fragment.keys()){if(existingIds.indexOf(itemId)>=0)continue;const parser=fragment.get(itemId);if(!parser)continue;const item=new FurnitureItem_FurnitureItem(parser);addFurnitureItem(newValue,item,isUnseen(UnseenItemCategory.FURNI,itemId));DispatchUiEvent(new InventoryFurniAddedEvent_InventoryFurniAddedEvent(item.id,item.type,item.category));}return newValue;});furniMsgFragments=null;});useMessageEvent(nitro_renderer[\"fc\" /* FurnitureListInvalidateEvent */],event=>{setNeedsUpdate(true);});useMessageEvent(nitro_renderer[\"gc\" /* FurnitureListRemovedEvent */],event=>{const parser=event.getParser();setGroupItems(prevValue=>{const newValue=[...prevValue];let index=0;while(index<newValue.length){const group=newValue[index];const item=group.remove(parser.itemId);if(!item){index++;continue;}if(getPlacingItemId()===item.ref){cancelRoomObjectPlacement();if(!attemptItemPlacement(group))CreateLinkEvent('inventory/show');}if(group.getTotalCount()<=0){newValue.splice(index,1);group.dispose();}break;}return newValue;});});useMessageEvent(nitro_renderer[\"mc\" /* FurniturePostItPlacedEvent */],event=>{});Object(react[\"useEffect\"])(()=>{if(!groupItems||!groupItems.length)return;setSelectedItem(prevValue=>{let newValue=prevValue;if(newValue&&groupItems.indexOf(newValue)===-1)newValue=null;if(!newValue)newValue=groupItems[0];return newValue;});},[groupItems]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;return()=>{if(resetCategory(UnseenItemCategory.FURNI)){setGroupItems(prevValue=>{const newValue=[...prevValue];for(const newGroup of newValue)newGroup.hasUnseenItems=false;return newValue;});}};},[isVisible,resetCategory]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!needsUpdate)return;SendMessageComposer(new nitro_renderer[\"dc\" /* FurnitureListComposer */]());setNeedsUpdate(false);},[isVisible,needsUpdate]);return{isVisible,groupItems,setGroupItems,selectedItem,setSelectedItem,activate,deactivate,getWallItemById,getFloorItemById};};const useInventoryFurni=()=>Object(index_esm[\"a\" /* useBetween */])(useInventoryFurniState);\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryPets.ts\nlet petMsgFragments=null;const useInventoryPetsState=()=>{const[needsUpdate,setNeedsUpdate]=Object(react[\"useState\"])(true);const[petItems,setPetItems]=Object(react[\"useState\"])([]);const[selectedPet,setSelectedPet]=Object(react[\"useState\"])(null);const{isVisible=false,activate=null,deactivate=null}=useSharedVisibility();const{isUnseen=null,resetCategory=null}=useInventoryUnseenTracker();useMessageEvent(nitro_renderer[\"Gf\" /* PetInventoryEvent */],event=>{const parser=event.getParser();if(!petMsgFragments)petMsgFragments=new Array(parser.totalFragments);const fragment=mergePetFragments(parser.fragment,parser.totalFragments,parser.fragmentNumber,petMsgFragments);if(!fragment)return;setPetItems(prevValue=>{const newValue=[...prevValue];processPetFragment(newValue,fragment,isUnseen);return newValue;});petMsgFragments=null;});useMessageEvent(nitro_renderer[\"Df\" /* PetAddedToInventoryEvent */],event=>{const parser=event.getParser();setPetItems(prevValue=>{const newValue=[...prevValue];addSinglePetItem(parser.pet,newValue,isUnseen(UnseenItemCategory.PET,parser.pet.id));return newValue;});});useMessageEvent(nitro_renderer[\"Jf\" /* PetRemovedFromInventory */],event=>{const parser=event.getParser();setPetItems(prevValue=>{const newValue=[...prevValue];removePetItemById(parser.petId,newValue);return newValue;});});Object(react[\"useEffect\"])(()=>{if(!petItems||!petItems.length)return;setSelectedPet(prevValue=>{let newValue=prevValue;if(newValue&&petItems.indexOf(newValue)===-1)newValue=null;if(!newValue)newValue=petItems[0];return newValue;});},[petItems]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;return()=>{resetCategory(UnseenItemCategory.PET);};},[isVisible,resetCategory]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!needsUpdate)return;SendMessageComposer(new nitro_renderer[\"ng\" /* RequestPetsComposer */]());setNeedsUpdate(false);},[isVisible,needsUpdate]);return{petItems,selectedPet,setSelectedPet,activate,deactivate};};const useInventoryPets=()=>Object(index_esm[\"a\" /* useBetween */])(useInventoryPetsState);\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryTrade.ts\nconst useInventoryTradeState=()=>{const[ownUser,setOwnUser]=Object(react[\"useState\"])(null);const[otherUser,setOtherUser]=Object(react[\"useState\"])(null);const[tradeState,setTradeState]=Object(react[\"useState\"])(TradeState.TRADING_STATE_READY);const{groupItems=[],setGroupItems=null,activate=null,deactivate=null}=useInventoryFurni();const{simpleAlert=null,showTradeAlert=null}=useNotification();const isTrading=tradeState>=TradeState.TRADING_STATE_RUNNING;const progressTrade=()=>{switch(tradeState){case TradeState.TRADING_STATE_RUNNING:if(!otherUser.itemCount&&!ownUser.accepts){simpleAlert(LocalizeText('inventory.trading.warning.other_not_offering'),null,null,null);}if(ownUser.accepts){SendMessageComposer(new nitro_renderer[\"Ai\" /* TradingUnacceptComposer */]());}else{SendMessageComposer(new nitro_renderer[\"ii\" /* TradingAcceptComposer */]());}return;case TradeState.TRADING_STATE_CONFIRMING:SendMessageComposer(new nitro_renderer[\"pi\" /* TradingConfirmationComposer */]());setTradeState(TradeState.TRADING_STATE_CONFIRMED);return;}};const removeItem=group=>{const item=group.getLastItem();if(!item)return;SendMessageComposer(new nitro_renderer[\"ui\" /* TradingListItemRemoveComposer */](item.id));};const stopTrading=()=>{if(!isTrading)return;switch(tradeState){case TradeState.TRADING_STATE_RUNNING:SendMessageComposer(new nitro_renderer[\"li\" /* TradingCloseComposer */]());return;default:SendMessageComposer(new nitro_renderer[\"ki\" /* TradingCancelComposer */]());return;}};useMessageEvent(nitro_renderer[\"ji\" /* TradingAcceptEvent */],event=>{const parser=event.getParser();if(!ownUser||!otherUser)return;if(ownUser.userId===parser.userID){setOwnUser(prevValue=>{const newValue=CloneObject(prevValue);newValue.accepts=parser.userAccepts;return newValue;});}else if(otherUser.userId===parser.userID){setOtherUser(prevValue=>{const newValue=CloneObject(prevValue);newValue.accepts=parser.userAccepts;return newValue;});}});useMessageEvent(nitro_renderer[\"mi\" /* TradingCloseEvent */],event=>{const parser=event.getParser();if(parser.reason===nitro_renderer[\"ni\" /* TradingCloseParser */].ERROR_WHILE_COMMIT){showTradeAlert(TradingNotificationType.ERROR_WHILE_COMMIT);}else{if(ownUser&&parser.userID!==ownUser.userId){showTradeAlert(TradingNotificationType.THEY_CANCELLED);}}setOwnUser(null);setOtherUser(null);setTradeState(TradeState.TRADING_STATE_READY);});useMessageEvent(nitro_renderer[\"oi\" /* TradingCompletedEvent */],event=>{const parser=event.getParser();setOwnUser(null);setOtherUser(null);setTradeState(TradeState.TRADING_STATE_READY);});useMessageEvent(nitro_renderer[\"qi\" /* TradingConfirmationEvent */],event=>{const parser=event.getParser();setTradeState(TradeState.TRADING_STATE_COUNTDOWN);});useMessageEvent(nitro_renderer[\"ti\" /* TradingListItemEvent */],event=>{const parser=event.getParser();const firstUserItems=parseTradeItems(parser.firstUserItemArray);const secondUserItems=parseTradeItems(parser.secondUserItemArray);setOwnUser(prevValue=>{const newValue=CloneObject(prevValue);if(newValue.userId===parser.firstUserID){newValue.creditsCount=parser.firstUserNumCredits;newValue.itemCount=parser.firstUserNumItems;newValue.userItems=firstUserItems;}else{newValue.creditsCount=parser.secondUserNumCredits;newValue.itemCount=parser.secondUserNumItems;newValue.userItems=secondUserItems;}const tradeIds=[];for(const groupItem of newValue.userItems.getValues()){let i=0;while(i<groupItem.getTotalCount()){const item=groupItem.getItemByIndex(i);if(item)tradeIds.push(item.ref);i++;}}setGroupItems(prevValue=>{const newValue=[...prevValue];for(const groupItem of newValue)groupItem.lockItemIds(tradeIds);return newValue;});return newValue;});setOtherUser(prevValue=>{const newValue=CloneObject(prevValue);if(newValue.userId===parser.firstUserID){newValue.creditsCount=parser.firstUserNumCredits;newValue.itemCount=parser.firstUserNumItems;newValue.userItems=firstUserItems;}else{newValue.creditsCount=parser.secondUserNumCredits;newValue.itemCount=parser.secondUserNumItems;newValue.userItems=secondUserItems;}return newValue;});});useMessageEvent(nitro_renderer[\"vi\" /* TradingNotOpenEvent */],event=>{const parser=event.getParser();});useMessageEvent(nitro_renderer[\"xi\" /* TradingOpenEvent */],event=>{const parser=event.getParser();const firstUser=new TradeUserData_TradeUserData();const firstUserData=GetRoomSession().userDataManager.getUserData(parser.userID);firstUser.userItems=new nitro_renderer[\"h\" /* AdvancedMap */]();const secondUser=new TradeUserData_TradeUserData();const secondUserData=GetRoomSession().userDataManager.getUserData(parser.otherUserID);secondUser.userItems=new nitro_renderer[\"h\" /* AdvancedMap */]();if(firstUserData.webID===GetSessionDataManager().userId){firstUser.userId=firstUserData.webID;firstUser.userName=firstUserData.name;firstUser.canTrade=parser.userCanTrade;secondUser.userId=secondUserData.webID;secondUser.userName=secondUserData.name;secondUser.canTrade=parser.otherUserCanTrade;}else if(secondUserData.webID===GetSessionDataManager().userId){firstUser.userId=secondUserData.webID;firstUser.userName=secondUserData.name;firstUser.canTrade=parser.otherUserCanTrade;secondUser.userId=firstUserData.webID;secondUser.userName=firstUserData.name;secondUser.canTrade=parser.userCanTrade;}setOwnUser(firstUser);setOtherUser(secondUser);setTradeState(TradeState.TRADING_STATE_RUNNING);});useMessageEvent(nitro_renderer[\"yi\" /* TradingOpenFailedEvent */],event=>{const parser=event.getParser();showTradeAlert(parser.reason,parser.otherUserName);});useMessageEvent(nitro_renderer[\"zi\" /* TradingOtherNotAllowedEvent */],event=>{const parser=event.getParser();showTradeAlert(TradingNotificationType.THEY_NOT_ALLOWED);});useMessageEvent(nitro_renderer[\"Bi\" /* TradingYouAreNotAllowedEvent */],event=>{const parser=event.getParser();showTradeAlert(TradingNotificationType.YOU_NOT_ALLOWED);});Object(react[\"useEffect\"])(()=>{if(tradeState===TradeState.TRADING_STATE_READY)return;const id=activate();return()=>deactivate(id);},[tradeState,activate,deactivate]);return{ownUser,otherUser,tradeState,setTradeState,isTrading,groupItems,progressTrade,removeItem,stopTrading};};const useInventoryTrade=()=>Object(index_esm[\"a\" /* useBetween */])(useInventoryTradeState);\n// CONCATENATED MODULE: ./src/hooks/inventory/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/mod-tools/useModTools.ts\nconst useModToolsState=()=>{const[settings,setSettings]=Object(react[\"useState\"])(null);const[openRooms,setOpenRooms]=Object(react[\"useState\"])([]);const[openRoomChatlogs,setOpenRoomChatlogs]=Object(react[\"useState\"])([]);const[openUserInfos,setOpenUserInfos]=Object(react[\"useState\"])([]);const[openUserChatlogs,setOpenUserChatlogs]=Object(react[\"useState\"])([]);const[tickets,setTickets]=Object(react[\"useState\"])([]);const[cfhCategories,setCfhCategories]=Object(react[\"useState\"])([]);const{simpleAlert=null}=useNotification();const openRoomInfo=roomId=>{if(openRooms.indexOf(roomId)>=0)return;setOpenRooms(prevValue=>[...prevValue,roomId]);};const closeRoomInfo=roomId=>{setOpenRooms(prevValue=>{const newValue=[...prevValue];const existingIndex=newValue.indexOf(roomId);if(existingIndex>=0)newValue.splice(existingIndex);return newValue;});};const toggleRoomInfo=roomId=>{if(openRooms.indexOf(roomId)>=0)closeRoomInfo(roomId);else openRoomInfo(roomId);};const openRoomChatlog=roomId=>{if(openRoomChatlogs.indexOf(roomId)>=0)return;setOpenRoomChatlogs(prevValue=>[...prevValue,roomId]);};const closeRoomChatlog=roomId=>{setOpenRoomChatlogs(prevValue=>{const newValue=[...prevValue];const existingIndex=newValue.indexOf(roomId);if(existingIndex>=0)newValue.splice(existingIndex);return newValue;});};const toggleRoomChatlog=roomId=>{if(openRoomChatlogs.indexOf(roomId)>=0)closeRoomChatlog(roomId);else openRoomChatlog(roomId);};const openUserInfo=userId=>{if(openUserInfos.indexOf(userId)>=0)return;setOpenUserInfos(prevValue=>[...prevValue,userId]);};const closeUserInfo=userId=>{setOpenUserInfos(prevValue=>{const newValue=[...prevValue];const existingIndex=newValue.indexOf(userId);if(existingIndex>=0)newValue.splice(existingIndex);return newValue;});};const toggleUserInfo=userId=>{if(openUserInfos.indexOf(userId)>=0)closeUserInfo(userId);else openUserInfo(userId);};const openUserChatlog=userId=>{if(openUserChatlogs.indexOf(userId)>=0)return;setOpenUserChatlogs(prevValue=>[...prevValue,userId]);};const closeUserChatlog=userId=>{setOpenUserChatlogs(prevValue=>{const newValue=[...prevValue];const existingIndex=newValue.indexOf(userId);if(existingIndex>=0)newValue.splice(existingIndex);return newValue;});};const toggleUserChatlog=userId=>{if(openRoomChatlogs.indexOf(userId)>=0)closeUserChatlog(userId);else openUserChatlog(userId);};useMessageEvent(nitro_renderer[\"Pe\" /* ModeratorInitMessageEvent */],event=>{const parser=event.getParser();const data=parser.data;setSettings(data);setTickets(data.issues);});useMessageEvent(nitro_renderer[\"ke\" /* IssueInfoMessageEvent */],event=>{const parser=event.getParser();setTickets(prevValue=>{const newValue=[...prevValue];const existingIndex=newValue.findIndex(ticket=>ticket.issueId===parser.issueData.issueId);if(existingIndex>=0)newValue[existingIndex]=parser.issueData;else{newValue.push(parser.issueData);PlaySound(SoundNames.MODTOOLS_NEW_TICKET);}return newValue;});});useMessageEvent(nitro_renderer[\"Se\" /* ModeratorToolPreferencesEvent */],event=>{const parser=event.getParser();});useMessageEvent(nitro_renderer[\"me\" /* IssuePickFailedMessageEvent */],event=>{const parser=event.getParser();if(!parser)return;simpleAlert('Failed to pick issue',NotificationAlertType.DEFAULT,null,null,'Error');});useMessageEvent(nitro_renderer[\"je\" /* IssueDeletedMessageEvent */],event=>{const parser=event.getParser();setTickets(prevValue=>{const newValue=[...prevValue];const existingIndex=newValue.findIndex(ticket=>ticket.issueId===parser.issueId);if(existingIndex>=0)newValue.splice(existingIndex,1);return newValue;});});useMessageEvent(nitro_renderer[\"Ne\" /* ModeratorActionResultMessageEvent */],event=>{const parser=event.getParser();if(parser.success)simpleAlert('Moderation action was successfull',NotificationAlertType.MODERATION,null,null,'Success');else simpleAlert('There was a problem applying tht moderation action',NotificationAlertType.MODERATION,null,null,'Error');});useMessageEvent(nitro_renderer[\"kb\" /* CfhTopicsInitEvent */],event=>{const parser=event.getParser();setCfhCategories(parser.callForHelpCategories);});useMessageEvent(nitro_renderer[\"jb\" /* CfhSanctionMessageEvent */],event=>{const parser=event.getParser();// todo: update sanction data\n});return{settings,openRooms,openRoomChatlogs,openUserChatlogs,openUserInfos,cfhCategories,tickets,openRoomInfo,closeRoomInfo,toggleRoomInfo,openRoomChatlog,closeRoomChatlog,toggleRoomChatlog,openUserInfo,closeUserInfo,toggleUserInfo,openUserChatlog,closeUserChatlog,toggleUserChatlog};};const useModTools=()=>Object(index_esm[\"a\" /* useBetween */])(useModToolsState);\n// CONCATENATED MODULE: ./src/hooks/mod-tools/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/navigator/useNavigator.ts\nconst useNavigatorState=()=>{const[categories,setCategories]=Object(react[\"useState\"])(null);const[eventCategories,setEventCategories]=Object(react[\"useState\"])(null);const[topLevelContext,setTopLevelContext]=Object(react[\"useState\"])(null);const[topLevelContexts,setTopLevelContexts]=Object(react[\"useState\"])(null);const[doorData,setDoorData]=Object(react[\"useState\"])({roomInfo:null,state:DoorStateType.NONE});const[searchResult,setSearchResult]=Object(react[\"useState\"])(null);const[navigatorData,setNavigatorData]=Object(react[\"useState\"])({settingsReceived:false,homeRoomId:0,enteredGuestRoom:null,currentRoomOwner:false,currentRoomId:0,currentRoomIsStaffPick:false,createdFlatId:0,avatarId:0,roomPicker:false,eventMod:false,currentRoomRating:0,canRate:true});const{simpleAlert=null}=useNotification();useMessageEvent(nitro_renderer[\"yh\" /* RoomSettingsUpdatedEvent */],event=>{const parser=event.getParser();SendMessageComposer(new nitro_renderer[\"Cc\" /* GetGuestRoomMessageComposer */](parser.roomId,false,false));});useMessageEvent(nitro_renderer[\"ab\" /* CanCreateRoomEventEvent */],event=>{const parser=event.getParser();if(parser.canCreate){// show room event cvreate\nreturn;}simpleAlert(LocalizeText(`navigator.cannotcreateevent.error.${parser.errorCode}`),null,null,null,LocalizeText('navigator.cannotcreateevent.title'));});useMessageEvent(nitro_renderer[\"Vi\" /* UserInfoEvent */],event=>{SendMessageComposer(new nitro_renderer[\"Uc\" /* GetUserFlatCatsMessageComposer */]());SendMessageComposer(new nitro_renderer[\"Tc\" /* GetUserEventCatsMessageComposer */]());});useMessageEvent(nitro_renderer[\"Xi\" /* UserPermissionsEvent */],event=>{const parser=event.getParser();setNavigatorData(prevValue=>{const newValue={...prevValue};newValue.eventMod=parser.securityLevel>=nitro_renderer[\"Uh\" /* SecurityLevel */].MODERATOR;newValue.roomPicker=parser.securityLevel>=nitro_renderer[\"Uh\" /* SecurityLevel */].COMMUNITY;return newValue;});});useMessageEvent(nitro_renderer[\"Pg\" /* RoomForwardEvent */],event=>{const parser=event.getParser();TryVisitRoom(parser.roomId);});useMessageEvent(nitro_renderer[\"Ng\" /* RoomEntryInfoMessageEvent */],event=>{const parser=event.getParser();setNavigatorData(prevValue=>{const newValue={...prevValue};newValue.enteredGuestRoom=null;newValue.currentRoomOwner=parser.isOwner;newValue.currentRoomId=parser.roomId;return newValue;});// close room info\n// close room settings\n// close room filter\nSendMessageComposer(new nitro_renderer[\"Cc\" /* GetGuestRoomMessageComposer */](parser.roomId,true,false));if(nitro_renderer[\"pe\" /* LegacyExternalInterface */].available)nitro_renderer[\"pe\" /* LegacyExternalInterface */].call('legacyTrack','navigator','private',[parser.roomId]);});useMessageEvent(nitro_renderer[\"Dc\" /* GetGuestRoomResultEvent */],event=>{const parser=event.getParser();if(parser.roomEnter){setDoorData({roomInfo:null,state:DoorStateType.NONE});setNavigatorData(prevValue=>{const newValue={...prevValue};newValue.enteredGuestRoom=parser.data;newValue.currentRoomIsStaffPick=parser.staffPick;const isCreated=newValue.createdFlatId===parser.data.roomId;if(!isCreated&&parser.data.displayRoomEntryAd){if(GetConfiguration('roomenterad.habblet.enabled',false))nitro_renderer[\"ce\" /* HabboWebTools */].openRoomEnterAd();}newValue.createdFlatId=0;if(newValue.enteredGuestRoom&&newValue.enteredGuestRoom.habboGroupId>0){// close event info\n}return newValue;});}else if(parser.roomForward){if(parser.data.ownerName!==GetSessionDataManager().userName&&!parser.isGroupMember){switch(parser.data.doorMode){case nitro_renderer[\"zg\" /* RoomDataParser */].DOORBELL_STATE:setDoorData(prevValue=>{const newValue={...prevValue};newValue.roomInfo=parser.data;newValue.state=DoorStateType.START_DOORBELL;return newValue;});return;case nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE:setDoorData(prevValue=>{const newValue={...prevValue};newValue.roomInfo=parser.data;newValue.state=DoorStateType.START_PASSWORD;return newValue;});return;}}if(parser.data.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].NOOB_STATE&&!GetSessionDataManager().isAmbassador&&!GetSessionDataManager().isRealNoob&&!GetSessionDataManager().isModerator)return;CreateRoomSession(parser.data.roomId);}else{setNavigatorData(prevValue=>{const newValue={...prevValue};newValue.enteredGuestRoom=parser.data;newValue.currentRoomIsStaffPick=parser.staffPick;return newValue;});}});useMessageEvent(nitro_renderer[\"gh\" /* RoomScoreEvent */],event=>{const parser=event.getParser();setNavigatorData(prevValue=>{const newValue={...prevValue};newValue.currentRoomRating=parser.totalLikes;newValue.canRate=parser.canLike;return newValue;});});useMessageEvent(nitro_renderer[\"Gb\" /* DoorbellMessageEvent */],event=>{const parser=event.getParser();if(!parser.userName||parser.userName.length===0){setDoorData(prevValue=>{const newValue={...prevValue};newValue.state=DoorStateType.STATE_WAITING;return newValue;});}});useMessageEvent(nitro_renderer[\"Bg\" /* RoomDoorbellAcceptedEvent */],event=>{const parser=event.getParser();if(!parser.userName||parser.userName.length===0){setDoorData(prevValue=>{const newValue={...prevValue};newValue.state=DoorStateType.STATE_ACCEPTED;return newValue;});}});useMessageEvent(nitro_renderer[\"Nb\" /* FlatAccessDeniedMessageEvent */],event=>{const parser=event.getParser();if(!parser.userName||parser.userName.length===0){setDoorData(prevValue=>{const newValue={...prevValue};newValue.state=DoorStateType.STATE_NO_ANSWER;return newValue;});}});useMessageEvent(nitro_renderer[\"qc\" /* GenericErrorEvent */],event=>{const parser=event.getParser();switch(parser.errorCode){case-100002:setDoorData(prevValue=>{const newValue={...prevValue};newValue.state=DoorStateType.STATE_WRONG_PASSWORD;return newValue;});return;case 4009:simpleAlert(LocalizeText('navigator.alert.need.to.be.vip'),NotificationAlertType.DEFAULT,null,null,LocalizeText('generic.alert.title'));return;case 4010:simpleAlert(LocalizeText('navigator.alert.invalid_room_name'),NotificationAlertType.DEFAULT,null,null,LocalizeText('generic.alert.title'));return;case 4011:simpleAlert(LocalizeText('navigator.alert.cannot_perm_ban'),NotificationAlertType.DEFAULT,null,null,LocalizeText('generic.alert.title'));return;case 4013:simpleAlert(LocalizeText('navigator.alert.room_in_maintenance'),NotificationAlertType.DEFAULT,null,null,LocalizeText('generic.alert.title'));return;}});useMessageEvent(nitro_renderer[\"Ye\" /* NavigatorMetadataEvent */],event=>{const parser=event.getParser();setTopLevelContexts(parser.topLevelContexts);setTopLevelContext(parser.topLevelContexts.length?parser.topLevelContexts[0]:null);});useMessageEvent(nitro_renderer[\"bf\" /* NavigatorSearchEvent */],event=>{const parser=event.getParser();setTopLevelContext(prevValue=>{let newValue=prevValue;if(!newValue)newValue=topLevelContexts&&topLevelContexts.length&&topLevelContexts[0]||null;if(!newValue)return null;if(parser.result.code!==newValue.code&&topLevelContexts&&topLevelContexts.length){for(const context of topLevelContexts){if(context.code!==parser.result.code)continue;newValue=context;}}for(const context of topLevelContexts){if(context.code!==parser.result.code)continue;newValue=context;}return newValue;});setSearchResult(parser.result);});useMessageEvent(nitro_renderer[\"Ui\" /* UserFlatCatsEvent */],event=>{const parser=event.getParser();setCategories(parser.categories);});useMessageEvent(nitro_renderer[\"Si\" /* UserEventCatsEvent */],event=>{const parser=event.getParser();setEventCategories(parser.categories);});useMessageEvent(nitro_renderer[\"Rb\" /* FlatCreatedEvent */],event=>{const parser=event.getParser();CreateRoomSession(parser.roomId);});useMessageEvent(nitro_renderer[\"We\" /* NavigatorHomeRoomEvent */],event=>{const parser=event.getParser();let prevSettingsReceived=false;setNavigatorData(prevValue=>{prevSettingsReceived=prevValue.settingsReceived;const newValue={...prevValue};newValue.homeRoomId=parser.homeRoomId;newValue.settingsReceived=true;return newValue;});if(prevSettingsReceived){// refresh room info window\nreturn;}let forwardType=-1;let forwardId=-1;if(GetConfiguration('friend.id')!==undefined&&parseInt(GetConfiguration('friend.id'))>0){forwardType=0;SendMessageComposer(new nitro_renderer[\"Tb\" /* FollowFriendMessageComposer */](parseInt(GetConfiguration('friend.id'))));}if(GetConfiguration('forward.type')!==undefined&&GetConfiguration('forward.id')!==undefined){forwardType=parseInt(GetConfiguration('forward.type'));forwardId=parseInt(GetConfiguration('forward.id'));}if(forwardType===2){TryVisitRoom(forwardId);}else if(forwardType===-1&&parser.roomIdToEnter>0){CreateLinkEvent('navigator/close');if(parser.roomIdToEnter!==parser.homeRoomId){CreateRoomSession(parser.roomIdToEnter);}else{CreateRoomSession(parser.homeRoomId);}}});useMessageEvent(nitro_renderer[\"Lg\" /* RoomEnterErrorEvent */],event=>{const parser=event.getParser();switch(parser.reason){case nitro_renderer[\"cb\" /* CantConnectMessageParser */].REASON_FULL:simpleAlert(LocalizeText('navigator.guestroomfull.text'),NotificationAlertType.DEFAULT,null,null,LocalizeText('navigator.guestroomfull.title'));break;case nitro_renderer[\"cb\" /* CantConnectMessageParser */].REASON_QUEUE_ERROR:simpleAlert(LocalizeText(`room.queue.error.${parser.parameter}`),NotificationAlertType.DEFAULT,null,null,LocalizeText('room.queue.error.title'));break;case nitro_renderer[\"cb\" /* CantConnectMessageParser */].REASON_BANNED:simpleAlert(LocalizeText('navigator.banned.text'),NotificationAlertType.DEFAULT,null,null,LocalizeText('navigator.banned.title'));break;default:simpleAlert(LocalizeText('room.queue.error.title'),NotificationAlertType.DEFAULT,null,null,LocalizeText('room.queue.error.title'));break;}VisitDesktop();});useMessageEvent(nitro_renderer[\"Ze\" /* NavigatorOpenRoomCreatorEvent */],event=>CreateLinkEvent('navigator/show'));return{categories,doorData,setDoorData,topLevelContext,topLevelContexts,searchResult,navigatorData};};const useNavigator=()=>Object(index_esm[\"a\" /* useBetween */])(useNavigatorState);\n// CONCATENATED MODULE: ./src/hooks/navigator/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/purse/usePurse.ts\nconst usePurseState=()=>{const[purse,setPurse]=Object(react[\"useState\"])(new Purse_Purse());const hcDisabled=Object(react[\"useMemo\"])(()=>GetConfiguration('hc.disabled',false),[]);const clubStatus=Object(react[\"useMemo\"])(()=>{if(hcDisabled||purse.clubDays>0)return ClubStatus.ACTIVE;if(purse.pastVipDays>0||purse.pastVipDays>0)return ClubStatus.EXPIRED;return ClubStatus.NONE;},[purse,hcDisabled]);const getCurrencyAmount=type=>{if(type===-1)return purse.credits;for(const[key,value]of purse.activityPoints.entries()){if(key!==type)continue;return value;}return 0;};useMessageEvent(nitro_renderer[\"Ni\" /* UserCreditsEvent */],event=>{const parser=event.getParser();setPurse(prevValue=>{const newValue=CloneObject(prevValue);newValue.credits=parseFloat(parser.credits);if(prevValue.credits!==newValue.credits)PlaySound(SoundNames.CREDITS);return newValue;});});useMessageEvent(nitro_renderer[\"Pi\" /* UserCurrencyEvent */],event=>{const parser=event.getParser();setPurse(prevValue=>{const newValue=CloneObject(prevValue);newValue.activityPoints=parser.currencies;return newValue;});});useMessageEvent(nitro_renderer[\"f\" /* ActivityPointNotificationMessageEvent */],event=>{const parser=event.getParser();setPurse(prevValue=>{const newValue=CloneObject(prevValue);newValue.activityPoints=new Map(newValue.activityPoints);newValue.activityPoints.set(parser.type,parser.amount);if(parser.type===0)PlaySound(SoundNames.DUCKETS);return newValue;});});useMessageEvent(nitro_renderer[\"hj\" /* UserSubscriptionEvent */],event=>{const parser=event.getParser();const productName=parser.productName;if(productName!=='club_habbo'&&productName!=='habbo_club')return;setPurse(prevValue=>{const newValue=CloneObject(prevValue);newValue.clubDays=Math.max(0,parser.daysToPeriodEnd);newValue.clubPeriods=Math.max(0,parser.periodsSubscribedAhead);newValue.isVip=parser.isVip;newValue.pastClubDays=parser.pastClubDays;newValue.pastVipDays=parser.pastVipDays;newValue.isExpiring=parser.responseType===nitro_renderer[\"ij\" /* UserSubscriptionParser */].RESPONSE_TYPE_DISCOUNT_AVAILABLE?true:false;newValue.minutesUntilExpiration=parser.minutesUntilExpiration;newValue.minutesSinceLastModified=parser.minutesSinceLastModified;return newValue;});});Object(react[\"useEffect\"])(()=>{if(hcDisabled)return;SendMessageComposer(new nitro_renderer[\"gj\" /* UserSubscriptionComposer */]('habbo_club'));const interval=setInterval(()=>SendMessageComposer(new nitro_renderer[\"gj\" /* UserSubscriptionComposer */]('habbo_club')),50000);return()=>clearInterval(interval);},[hcDisabled]);Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Oi\" /* UserCurrencyComposer */]());},[]);return{purse,hcDisabled,clubStatus,getCurrencyAmount};};const usePurse=()=>Object(index_esm[\"a\" /* useBetween */])(usePurseState);\n// CONCATENATED MODULE: ./src/hooks/purse/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/useFurniAddedEvent.ts\nconst useFurniAddedEvent=(isActive,handler)=>{Object(react[\"useEffect\"])(()=>{if(!isActive)return;const onRoomWidgetUpdateRoomObjectEvent=event=>handler(event);UI_EVENT_DISPATCHER.addEventListener(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_ADDED,onRoomWidgetUpdateRoomObjectEvent);return()=>{UI_EVENT_DISPATCHER.removeEventListener(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_ADDED,onRoomWidgetUpdateRoomObjectEvent);};},[isActive,handler]);};\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/useFurniRemovedEvent.ts\nconst useFurniRemovedEvent=(isActive,handler)=>{Object(react[\"useEffect\"])(()=>{if(!isActive)return;const onRoomWidgetUpdateRoomObjectEvent=event=>handler(event);UI_EVENT_DISPATCHER.addEventListener(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,onRoomWidgetUpdateRoomObjectEvent);return()=>{UI_EVENT_DISPATCHER.removeEventListener(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,onRoomWidgetUpdateRoomObjectEvent);};},[isActive,handler]);};\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/useObjectDeselectedEvent.ts\nconst useObjectDeselectedEvent=handler=>{useUiEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED,handler);};\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/useObjectRollOutEvent.ts\nconst useObjectRollOutEvent=handler=>{useUiEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OUT,handler);};\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/useObjectRollOverEvent.ts\nconst useObjectRollOverEvent=handler=>{useUiEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OVER,handler);};\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/useObjectSelectedEvent.ts\nconst useObjectSelectedEvent=handler=>{useUiEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_SELECTED,handler);};\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/useUserAddedEvent.ts\nconst useUserAddedEvent=(isActive,handler)=>{Object(react[\"useEffect\"])(()=>{if(!isActive)return;const onRoomWidgetUpdateRoomObjectEvent=event=>handler(event);UI_EVENT_DISPATCHER.addEventListener(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED,onRoomWidgetUpdateRoomObjectEvent);return()=>{UI_EVENT_DISPATCHER.removeEventListener(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED,onRoomWidgetUpdateRoomObjectEvent);};},[isActive,handler]);};\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/useUserRemovedEvent.ts\nconst useUserRemovedEvent=(isActive,handler)=>{Object(react[\"useEffect\"])(()=>{if(!isActive)return;const onRoomWidgetUpdateRoomObjectEvent=event=>handler(event);UI_EVENT_DISPATCHER.addEventListener(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED,onRoomWidgetUpdateRoomObjectEvent);return()=>{UI_EVENT_DISPATCHER.removeEventListener(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED,onRoomWidgetUpdateRoomObjectEvent);};},[isActive,handler]);};\n// CONCATENATED MODULE: ./src/hooks/rooms/engine/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/rooms/useRoom.ts\nconst useRoomState=()=>{const[roomSession,setRoomSession]=Object(react[\"useState\"])(null);const[roomBackground,setRoomBackground]=Object(react[\"useState\"])(null);const[roomFilter,setRoomFilter]=Object(react[\"useState\"])(null);const[originalRoomBackgroundColor,setOriginalRoomBackgroundColor]=Object(react[\"useState\"])(0);const updateRoomBackgroundColor=function(hue,saturation,lightness){let original=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!roomBackground)return;const newColor=nitro_renderer[\"sb\" /* ColorConverter */].hslToRGB(((hue&0xFF)<<16)+((saturation&0xFF)<<8)+(lightness&0xFF));if(original)setOriginalRoomBackgroundColor(newColor);if(!hue&&!saturation&&!lightness){roomBackground.tint=0;}else{roomBackground.tint=newColor;}};const updateRoomFilter=color=>{if(!roomFilter)return;const r=color>>16&0xFF;const g=color>>8&0xFF;const b=color&0xFF;roomFilter.red=r/255;roomFilter.green=g/255;roomFilter.blue=b/255;};useUiEvent(RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.PREVIEW,event=>updateRoomBackgroundColor(event.hue,event.saturation,event.lightness));useUiEvent(RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.CLEAR_PREVIEW,event=>{if(!roomBackground)return;roomBackground.tint=originalRoomBackgroundColor;});useRoomEngineEvent(nitro_renderer[\"Xg\" /* RoomObjectHSLColorEnabledEvent */].ROOM_BACKGROUND_COLOR,event=>{if(nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;if(event.enable)updateRoomBackgroundColor(event.hue,event.saturation,event.lightness,true);else updateRoomBackgroundColor(0,0,0,true);});useRoomEngineEvent(nitro_renderer[\"rg\" /* RoomBackgroundColorEvent */].ROOM_COLOR,event=>{if(nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;let color=0x000000;let brightness=0xFF;if(!event.bgOnly){color=event.color;brightness=event.brightness;}updateRoomFilter(nitro_renderer[\"sb\" /* ColorConverter */].hslToRGB((nitro_renderer[\"sb\" /* ColorConverter */].rgbToHSL(color)&0xFFFF00)+brightness));});useRoomEngineEvent([nitro_renderer[\"Eg\" /* RoomEngineEvent */].INITIALIZED,nitro_renderer[\"Eg\" /* RoomEngineEvent */].DISPOSED],event=>{if(nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;const session=GetRoomSession();if(!session)return;switch(event.type){case nitro_renderer[\"Eg\" /* RoomEngineEvent */].INITIALIZED:SetActiveRoomId(event.roomId);setRoomSession(session);return;case nitro_renderer[\"Eg\" /* RoomEngineEvent */].DISPOSED:setRoomSession(null);return;}});useRoomSessionManagerEvent([nitro_renderer[\"mh\" /* RoomSessionEvent */].CREATED,nitro_renderer[\"mh\" /* RoomSessionEvent */].ENDED],event=>{switch(event.type){case nitro_renderer[\"mh\" /* RoomSessionEvent */].CREATED:StartRoomSession(event.session);return;case nitro_renderer[\"mh\" /* RoomSessionEvent */].ENDED:setRoomSession(null);return;}});useRoomEngineEvent([nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].SELECTED,nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].DESELECTED,nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].ADDED,nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].REMOVED,nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].PLACED,nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].REQUEST_MOVE,nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].REQUEST_ROTATE,nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].MOUSE_ENTER,nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].MOUSE_LEAVE],event=>{if(nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;let updateEvent=null;switch(event.type){case nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].SELECTED:if(!IsFurnitureSelectionDisabled(event))updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_SELECTED,event.objectId,event.category,event.roomId);break;case nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].DESELECTED:updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED,event.objectId,event.category,event.roomId);break;case nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].ADDED:{let addedEventType=null;switch(event.category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:addedEventType=RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_ADDED;break;case nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT:addedEventType=RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED;break;}if(addedEventType)updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(addedEventType,event.objectId,event.category,event.roomId);break;}case nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].REMOVED:{let removedEventType=null;switch(event.category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:removedEventType=RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED;break;case nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT:removedEventType=RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED;break;}if(removedEventType)updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(removedEventType,event.objectId,event.category,event.roomId);break;}case nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].REQUEST_MOVE:if(CanManipulateFurniture(roomSession,event.objectId,event.category))ProcessRoomObjectOperation(event.objectId,event.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_MOVE);break;case nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].REQUEST_ROTATE:if(CanManipulateFurniture(roomSession,event.objectId,event.category))ProcessRoomObjectOperation(event.objectId,event.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_ROTATE_POSITIVE);break;case nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].MOUSE_ENTER:updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OVER,event.objectId,event.category,event.roomId);break;case nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].MOUSE_LEAVE:updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OUT,event.objectId,event.category,event.roomId);break;}if(updateEvent)DispatchUiEvent(updateEvent);});Object(react[\"useEffect\"])(()=>{if(!roomSession)return;const nitroInstance=GetNitroInstance();const roomEngine=GetRoomEngine();const roomId=roomSession.roomId;const canvasId=1;const width=Math.floor(window.innerWidth);const height=Math.floor(window.innerHeight);const renderer=nitroInstance.renderer;if(renderer){renderer.view.style.width=`${width}px`;renderer.view.style.height=`${height}px`;renderer.resolution=window.devicePixelRatio;renderer.resize(width,height);}const displayObject=roomEngine.getRoomInstanceDisplay(roomId,canvasId,width,height,nitro_renderer[\"Qg\" /* RoomGeometry */].SCALE_ZOOMED_IN);const canvas=GetRoomEngine().getRoomInstanceRenderingCanvas(roomId,canvasId);if(!displayObject||!canvas)return;const background=new nitro_renderer[\"rf\" /* NitroSprite */](nitro_renderer[\"sf\" /* NitroTexture */].WHITE);const filter=new nitro_renderer[\"ff\" /* NitroAdjustmentFilter */]();const master=canvas.master;background.tint=0;background.width=width;background.height=height;master.addChildAt(background,0);master.filters=[filter];setRoomBackground(background);setRoomFilter(filter);const geometry=roomEngine.getRoomInstanceGeometry(roomId,canvasId);if(geometry){const minX=roomEngine.getRoomInstanceVariable(roomId,nitro_renderer[\"Jh\" /* RoomVariableEnum */].ROOM_MIN_X)||0;const maxX=roomEngine.getRoomInstanceVariable(roomId,nitro_renderer[\"Jh\" /* RoomVariableEnum */].ROOM_MAX_X)||0;const minY=roomEngine.getRoomInstanceVariable(roomId,nitro_renderer[\"Jh\" /* RoomVariableEnum */].ROOM_MIN_Y)||0;const maxY=roomEngine.getRoomInstanceVariable(roomId,nitro_renderer[\"Jh\" /* RoomVariableEnum */].ROOM_MAX_Y)||0;let x=(minX+maxX)/2;let y=(minY+maxY)/2;const offset=20;x=x+(offset-1);y=y+(offset-1);const z=Math.sqrt(offset*offset+offset*offset)*Math.tan(30/180*Math.PI);geometry.location=new nitro_renderer[\"kj\" /* Vector3d */](x,y,z);}const stage=nitroInstance.stage;if(!stage)return;stage.addChild(displayObject);SetActiveRoomId(roomSession.roomId);const resize=event=>{const width=Math.floor(window.innerWidth);const height=Math.floor(window.innerHeight);renderer.view.style.width=`${width}px`;renderer.view.style.height=`${height}px`;renderer.resolution=window.devicePixelRatio;renderer.resize(width,height);background.width=width;background.height=height;InitializeRoomInstanceRenderingCanvas(width,height,1);nitroInstance.render();};window.addEventListener('resize',resize);return()=>{setRoomBackground(null);setRoomFilter(null);setOriginalRoomBackgroundColor(0);window.removeEventListener('resize',resize);};},[roomSession]);return{roomSession};};const useRoom=()=>Object(index_esm[\"a\" /* useBetween */])(useRoomState);\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureBackgroundColorWidget.ts\nconst useFurnitureBackgroundColorWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[hue,setHue]=Object(react[\"useState\"])(0);const[saturation,setSaturation]=Object(react[\"useState\"])(0);const[lightness,setLightness]=Object(react[\"useState\"])(0);const{roomSession=null}=useRoom();const applyToner=()=>SendMessageComposer(new nitro_renderer[\"i\" /* ApplyTonerComposer */](objectId,hue,saturation,lightness));const toggleToner=()=>roomSession.useMultistateItem(objectId);const onClose=()=>{DispatchUiEvent(new RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent(RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.CLEAR_PREVIEW));setObjectId(-1);setCategory(-1);setHue(0);setSaturation(0);setLightness(0);};useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BACKGROUND_COLOR,event=>{if(!CanManipulateFurniture(roomSession,event.objectId,event.category))return;const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);const model=roomObject.model;setObjectId(event.objectId);setCategory(event.category);setHue(parseInt(model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_ROOM_BACKGROUND_COLOR_HUE)));setSaturation(parseInt(model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION)));setLightness(parseInt(model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS)));});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});Object(react[\"useEffect\"])(()=>{if(objectId===-1||category===-1)return;DispatchUiEvent(new RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent(RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.PREVIEW,hue,saturation,lightness));},[objectId,category,hue,saturation,lightness]);return{objectId,hue,setHue,saturation,setSaturation,lightness,setLightness,applyToner,toggleToner,onClose};};const useFurnitureBackgroundColorWidget=useFurnitureBackgroundColorWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureBadgeDisplayWidget.ts\nconst useFurnitureBadgeDisplayWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[color,setColor]=Object(react[\"useState\"])('1');const[badgeName,setBadgeName]=Object(react[\"useState\"])('');const[badgeDesc,setBadgeDesc]=Object(react[\"useState\"])('');const[date,setDate]=Object(react[\"useState\"])('');const[senderName,setSenderName]=Object(react[\"useState\"])('');const{simpleAlert=null}=useNotification();const onClose=()=>{setObjectId(-1);setCategory(-1);setColor('1');setBadgeName('');setBadgeDesc('');setDate('');setSenderName('');};useRoomEngineEvent([nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BADGE_DISPLAY_ENGRAVING,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING],event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const stringStuff=new nitro_renderer[\"di\" /* StringDataType */]();stringStuff.initializeFromRoomObjectModel(roomObject.model);setObjectId(event.objectId);setCategory(event.category);setColor('1');setBadgeName(LocalizeBadgeName(stringStuff.getValue(1)));setBadgeDesc(LocalizeBadgeDescription(stringStuff.getValue(1)));setDate(stringStuff.getValue(2));setSenderName(stringStuff.getValue(3));});useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const ownerId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);if(ownerId!==GetSessionDataManager().userId)return;simpleAlert(`${LocalizeText('resolution.failed.subtitle')} ${LocalizeText('resolution.failed.text')}`,null,null,null,LocalizeText('resolution.failed.title'));});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});return{objectId,category,color,badgeName,badgeDesc,date,senderName,onClose};};const useFurnitureBadgeDisplayWidget=useFurnitureBadgeDisplayWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureContextMenuWidget.ts\nconst MONSTERPLANT_SEED_CONFIRMATION='MONSTERPLANT_SEED_CONFIRMATION';const PURCHASABLE_CLOTHING_CONFIRMATION='PURCHASABLE_CLOTHING_CONFIRMATION';const GROUP_FURNITURE='GROUP_FURNITURE';const EFFECTBOX_OPEN='EFFECTBOX_OPEN';const useFurnitureContextMenuWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[mode,setMode]=Object(react[\"useState\"])(null);const[confirmMode,setConfirmMode]=Object(react[\"useState\"])(null);const[confirmingObjectId,setConfirmingObjectId]=Object(react[\"useState\"])(-1);const[groupData,setGroupData]=Object(react[\"useState\"])(null);const[isGroupMember,setIsGroupMember]=Object(react[\"useState\"])(false);const{roomSession=null}=useRoom();const onClose=Object(react[\"useCallback\"])(()=>{setObjectId(-1);setGroupData(null);setIsGroupMember(false);setMode(null);},[]);const closeConfirm=()=>{setConfirmMode(null);setConfirmingObjectId(-1);};const processAction=name=>{if(name){switch(name){case'use_friend_furni':roomSession.useMultistateItem(objectId);break;case'use_monsterplant_seed':setConfirmMode(MONSTERPLANT_SEED_CONFIRMATION);setConfirmingObjectId(objectId);break;case'use_random_teleport':GetRoomEngine().useRoomObject(objectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);break;case'use_purchaseable_clothing':setConfirmMode(PURCHASABLE_CLOTHING_CONFIRMATION);setConfirmingObjectId(objectId);break;case'join_group':TryJoinGroup(groupData.guildId);setIsGroupMember(true);return;case'go_to_group_homeroom':if(groupData)TryVisitRoom(groupData.guildHomeRoomId);break;}}onClose();};useRoomEngineEvent([nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].OPEN_FURNI_CONTEXT_MENU,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].CLOSE_FURNI_CONTEXT_MENU,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_EFFECTBOX_OPEN_DIALOG],event=>{const object=GetRoomEngine().getRoomObject(roomSession.roomId,event.objectId,event.category);if(!object)return;switch(event.type){case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:if(!IsOwnerOfFurniture(object))return;setConfirmingObjectId(object.id);setConfirmMode(MONSTERPLANT_SEED_CONFIRMATION);onClose();return;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_EFFECTBOX_OPEN_DIALOG:if(!IsOwnerOfFurniture(object))return;setConfirmingObjectId(object.id);setConfirmMode(EFFECTBOX_OPEN);onClose();return;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:if(!IsOwnerOfFurniture(object))return;setConfirmingObjectId(object.id);setConfirmMode(PURCHASABLE_CLOTHING_CONFIRMATION);onClose();return;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].OPEN_FURNI_CONTEXT_MENU:setObjectId(object.id);switch(event.contextMenu){case nitro_renderer[\"wb\" /* ContextMenuEnum */].FRIEND_FURNITURE:setMode(nitro_renderer[\"wb\" /* ContextMenuEnum */].FRIEND_FURNITURE);return;case nitro_renderer[\"wb\" /* ContextMenuEnum */].MONSTERPLANT_SEED:if(IsOwnerOfFurniture(object))setMode(nitro_renderer[\"wb\" /* ContextMenuEnum */].MONSTERPLANT_SEED);return;case nitro_renderer[\"wb\" /* ContextMenuEnum */].MYSTERY_BOX:return;case nitro_renderer[\"wb\" /* ContextMenuEnum */].RANDOM_TELEPORT:setMode(nitro_renderer[\"wb\" /* ContextMenuEnum */].RANDOM_TELEPORT);return;case nitro_renderer[\"wb\" /* ContextMenuEnum */].PURCHASABLE_CLOTHING:if(IsOwnerOfFurniture(object))setMode(nitro_renderer[\"wb\" /* ContextMenuEnum */].PURCHASABLE_CLOTHING);return;}return;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].CLOSE_FURNI_CONTEXT_MENU:if(object.id===objectId)onClose();return;}});useMessageEvent(nitro_renderer[\"ld\" /* GroupFurniContextMenuInfoMessageEvent */],event=>{const parser=event.getParser();setObjectId(parser.objectId);setGroupData(parser);setIsGroupMember(parser.userIsMember);setMode(GROUP_FURNITURE);});return{objectId,mode,confirmMode,confirmingObjectId,groupData,isGroupMember,closeConfirm,processAction,onClose};};const useFurnitureContextMenuWidget=useFurnitureContextMenuWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureDimmerWidget.ts\nconst useFurnitureDimmerWidgetState=()=>{const[presets,setPresets]=Object(react[\"useState\"])([]);const[selectedPresetId,setSelectedPresetId]=Object(react[\"useState\"])(0);const[dimmerState,setDimmerState]=Object(react[\"useState\"])(0);const[lastDimmerState,setLastDimmerState]=Object(react[\"useState\"])(0);const[effectId,setEffectId]=Object(react[\"useState\"])(0);const[color,setColor]=Object(react[\"useState\"])(0xFFFFFF);const[brightness,setBrightness]=Object(react[\"useState\"])(0xFF);const[selectedEffectId,setSelectedEffectId]=Object(react[\"useState\"])(0);const[selectedColor,setSelectedColor]=Object(react[\"useState\"])(0);const[selectedBrightness,setSelectedBrightness]=Object(react[\"useState\"])(0);const{roomSession=null}=useRoom();const canOpenWidget=()=>roomSession.isRoomOwner||roomSession.controllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator;const selectPresetId=id=>{const preset=presets[id-1];if(!preset)return;setSelectedPresetId(preset.id);setSelectedEffectId(preset.type);setSelectedColor(preset.color);setSelectedBrightness(preset.light);};const applyChanges=()=>{if(dimmerState===0)return;const selectedPresetIndex=selectedPresetId-1;if(selectedPresetId<1||selectedPresetId>presets.length)return;const preset=presets[selectedPresetIndex];if(!preset||selectedEffectId===preset.type&&selectedColor===preset.color&&selectedBrightness===preset.light)return;setPresets(prevValue=>{const newValue=[...prevValue];newValue[selectedPresetIndex]=new DimmerFurnitureWidgetPresetItem(preset.id,selectedEffectId,selectedColor,selectedBrightness);return newValue;});FurnitureDimmerUtilities_FurnitureDimmerUtilities.savePreset(preset.id,selectedEffectId,selectedColor,selectedBrightness,true);};useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_DIMMER,event=>{if(!canOpenWidget())return;roomSession.requestMoodlightSettings();});useRoomSessionManagerEvent(nitro_renderer[\"jh\" /* RoomSessionDimmerPresetsEvent */].ROOM_DIMMER_PRESETS,event=>{const presets=[];let i=0;while(i<event.presetCount){const preset=event.getPreset(i);if(preset)presets.push(new DimmerFurnitureWidgetPresetItem(preset.id,preset.type,preset.color,preset.brightness));i++;}setPresets(presets);setSelectedPresetId(event.selectedPresetId);});useRoomEngineEvent(nitro_renderer[\"Dg\" /* RoomEngineDimmerStateEvent */].ROOM_COLOR,event=>{if(nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;setLastDimmerState(dimmerState);setDimmerState(event.state);setSelectedPresetId(event.presetId);setEffectId(event.effectId);setSelectedEffectId(event.effectId);setColor(event.color);setSelectedColor(event.color);setBrightness(event.brightness);setSelectedBrightness(event.brightness);});Object(react[\"useEffect\"])(()=>{if(dimmerState===0&&lastDimmerState===0)return;FurnitureDimmerUtilities_FurnitureDimmerUtilities.previewDimmer(selectedColor,selectedBrightness,selectedEffectId===2);},[dimmerState,lastDimmerState,selectedColor,selectedBrightness,selectedEffectId]);return{presets,selectedPresetId,dimmerState,lastDimmerState,effectId,color,brightness,selectedEffectId,setSelectedEffectId,selectedColor,setSelectedColor,selectedBrightness,setSelectedBrightness,selectPresetId,applyChanges};};const useFurnitureDimmerWidget=useFurnitureDimmerWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureExchangeWidget.ts\nconst useFurnitureExchangeWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[value,setValue]=Object(react[\"useState\"])(0);const onClose=Object(react[\"useCallback\"])(()=>{setObjectId(-1);setCategory(-1);setValue(0);},[]);const redeem=()=>{GetRoomSession().connection.send(new nitro_renderer[\"bc\" /* FurnitureExchangeComposer */](objectId));onClose();};useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_CREDITFURNI,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject||!IsOwnerOfFurniture(roomObject))return;setObjectId(event.objectId);setCategory(event.category);setValue(roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_CREDIT_VALUE)||0);});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});return{objectId,value,redeem,onClose};};const useFurnitureExchangeWidget=useFurnitureExchangeWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureExternalImageWidget.ts\nconst useFurnitureExternalImageWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[photoData,setPhotoData]=Object(react[\"useState\"])(null);const onClose=()=>{setObjectId(-1);setCategory(-1);setPhotoData(null);};useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_EXTERNAL_IMAGE,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const data=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA);const photoData=JSON.parse(data);setObjectId(event.objectId);setCategory(event.category);setPhotoData(photoData);});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});return{objectId,photoData,onClose};};const useFurnitureExternalImageWidget=useFurnitureExternalImageWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureFriendFurniWidget.ts\nconst useFurnitureFriendFurniWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[type,setType]=Object(react[\"useState\"])(0);const[usernames,setUsernames]=Object(react[\"useState\"])([]);const[figures,setFigures]=Object(react[\"useState\"])([]);const[date,setDate]=Object(react[\"useState\"])(null);const[stage,setStage]=Object(react[\"useState\"])(0);const onClose=()=>{setObjectId(-1);setCategory(-1);setType(0);setUsernames([]);setFigures([]);setDate(null);};const respond=flag=>{GetRoomSession().connection.send(new nitro_renderer[\"Ub\" /* FriendFurniConfirmLockMessageComposer */](objectId,flag));onClose();};useMessageEvent(nitro_renderer[\"te\" /* LoveLockFurniStartEvent */],event=>{const parser=event.getParser();setObjectId(parser.furniId);setStage(parser.start?1:2);});useMessageEvent(nitro_renderer[\"re\" /* LoveLockFurniFinishedEvent */],event=>onClose());useMessageEvent(nitro_renderer[\"se\" /* LoveLockFurniFriendConfirmedEvent */],event=>onClose());useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_FRIEND_FURNITURE_ENGRAVING,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const data=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA);const type=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_FRIENDFURNI_ENGRAVING);if(data[0]!=='1'||data.length!==6)return;setObjectId(event.objectId);setCategory(event.category);setType(type);setUsernames([data[1],data[2]]);setFigures([data[3],data[4]]);setDate(data[5]);setStage(0);});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});return{objectId,type,usernames,figures,date,stage,onClose,respond};};const useFurnitureFriendFurniWidget=useFurnitureFriendFurniWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureHighScoreWidget.ts\nconst SCORE_TYPES=['perteam','mostwins','classic'];const CLEAR_TYPES=['alltime','daily','weekly','monthly'];const useFurnitureHighScoreWidgetState=()=>{const[stuffDatas,setStuffDatas]=Object(react[\"useState\"])(new Map());const{roomSession=null}=useRoom();const getScoreType=type=>SCORE_TYPES[type];const getClearType=type=>CLEAR_TYPES[type];useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIGH_SCORE_DISPLAY,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const formatKey=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA_FORMAT);const stuffData=nitro_renderer[\"xf\" /* ObjectDataFactory */].getData(formatKey);stuffData.initializeFromRoomObjectModel(roomObject.model);setStuffDatas(prevValue=>{const newValue=new Map(prevValue);newValue.set(roomObject.id,stuffData);return newValue;});});useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIDE_HIGH_SCORE_DISPLAY,event=>{if(event.roomId!==roomSession.roomId)return;setStuffDatas(prevValue=>{const newValue=new Map(prevValue);newValue.delete(event.objectId);return newValue;});});return{stuffDatas,getScoreType,getClearType};};const useFurnitureHighScoreWidget=useFurnitureHighScoreWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureInternalLinkWidget.ts\nconst INTERNALLINK='internalLink';const useFurnitureInternalLinkWidgetState=()=>{useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_INTERNAL_LINK,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const data=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA);let link=data[INTERNALLINK];if(!link||!link.length)link=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_INTERNAL_LINK);if(link&&link.length)CreateLinkEvent(link);});return{};};const useFurnitureInternalLinkWidget=useFurnitureInternalLinkWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureMannequinWidget.ts\nconst useFurnitureMannequinWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[figure,setFigure]=Object(react[\"useState\"])(null);const[gender,setGender]=Object(react[\"useState\"])(null);const[clubLevel,setClubLevel]=Object(react[\"useState\"])(nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].NO_CLUB);const[name,setName]=Object(react[\"useState\"])(null);const onClose=()=>{setObjectId(-1);setCategory(-1);setFigure(null);setGender(null);setName(null);};const saveFigure=()=>{if(objectId===-1)return;SendMessageComposer(new nitro_renderer[\"hc\" /* FurnitureMannequinSaveLookComposer */](objectId));onClose();};const wearFigure=()=>{if(objectId===-1)return;SendMessageComposer(new nitro_renderer[\"jc\" /* FurnitureMultiStateComposer */](objectId));onClose();};const saveName=()=>{if(objectId===-1)return;SendMessageComposer(new nitro_renderer[\"ic\" /* FurnitureMannequinSaveNameComposer */](objectId,name));};useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MANNEQUIN,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const model=roomObject.model;const figure=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_MANNEQUIN_FIGURE)||null;const gender=model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_MANNEQUIN_GENDER)||null;const figureContainer=GetAvatarRenderManager().createFigureContainer(figure);const figureClubLevel=GetAvatarRenderManager().getFigureClubLevel(figureContainer,gender,MannequinUtilities_MannequinUtilities.MANNEQUIN_CLOTHING_PART_TYPES);setObjectId(event.objectId);setCategory(event.category);setFigure(figure);setGender(gender);setClubLevel(figureClubLevel);setName(model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_MANNEQUIN_NAME)||null);});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});return{objectId,figure,gender,clubLevel,name,setName,saveFigure,wearFigure,saveName,onClose};};const useFurnitureMannequinWidget=useFurnitureMannequinWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurniturePresentWidget.ts\nconst FLOOR='floor';const WALLPAPER='wallpaper';const LANDSCAPE='landscape';const POSTER='poster';const useFurniturePresentWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[classId,setClassId]=Object(react[\"useState\"])(-1);const[itemType,setItemType]=Object(react[\"useState\"])(null);const[text,setText]=Object(react[\"useState\"])(null);const[isOwnerOfFurniture,setIsOwnerOfFurniture]=Object(react[\"useState\"])(false);const[senderName,setSenderName]=Object(react[\"useState\"])(null);const[senderFigure,setSenderFigure]=Object(react[\"useState\"])(null);const[placedItemId,setPlacedItemId]=Object(react[\"useState\"])(-1);const[placedItemType,setPlacedItemType]=Object(react[\"useState\"])(null);const[placedInRoom,setPlacedInRoom]=Object(react[\"useState\"])(false);const[imageUrl,setImageUrl]=Object(react[\"useState\"])(null);const{roomSession=null}=useRoom();const onClose=()=>{setObjectId(-1);setClassId(-1);setItemType(null);setText(null);setIsOwnerOfFurniture(false);setSenderName(null);setSenderFigure(null);setPlacedItemId(-1);setPlacedItemType(null);setPlacedInRoom(false);setImageUrl(null);};const openPresent=()=>{if(objectId===-1)return;roomSession.openGift(objectId);GetRoomEngine().changeObjectModelData(GetRoomEngine().activeRoomId,objectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR,nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DISABLE_PICKING_ANIMATION,1);};const imageListener=Object(react[\"useMemo\"])(()=>{return{imageReady:(id,texture,image)=>{if(!image&&texture){image=nitro_renderer[\"fi\" /* TextureUtils */].generateImage(texture);}setImageUrl(image.src);},imageFailed:null};},[]);useRoomSessionManagerEvent(nitro_renderer[\"rh\" /* RoomSessionPresentEvent */].RSPE_PRESENT_OPENED,event=>{let furniData=null;if(event.itemType===ProductTypeEnum.FLOOR){furniData=GetSessionDataManager().getFloorItemData(event.classId);}else if(event.itemType===ProductTypeEnum.WALL){furniData=GetSessionDataManager().getWallItemData(event.classId);}let isOwnerOfFurni=false;if(event.placedInRoom){const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,event.placedItemId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);if(roomObject)isOwnerOfFurni=IsOwnerOfFurniture(roomObject);}let giftImage=null;switch(event.itemType){case ProductTypeEnum.WALL:{if(furniData){switch(furniData.className){case FLOOR:case LANDSCAPE:case WALLPAPER:let imageType=null;let message=null;if(furniData.className===FLOOR){imageType='packagecard_icon_floor';message=LocalizeText('inventory.furni.item.floor.name');}else if(furniData.className===LANDSCAPE){imageType='packagecard_icon_landscape';message=LocalizeText('inventory.furni.item.landscape.name');}else{imageType='packagecard_icon_wallpaper';message=LocalizeText('inventory.furni.item.wallpaper.name');}setText(message);//setImageUrl(getGiftImageUrl(imageType));\nbreak;case POSTER:{const productCode=event.productCode;let extras=null;if(productCode.indexOf('poster')===0)extras=productCode.replace('poster','');const productData=GetSessionDataManager().getProductData(productCode);let name=null;if(productData)name=productData.name;else if(furniData)name=furniData.name;setText(name);setImageUrl(GetRoomEngine().getFurnitureWallIconUrl(event.classId,extras));break;}default:{setText(furniData.name||null);setImageUrl(GetRoomEngine().getFurnitureWallIconUrl(event.classId));break;}}}break;}case ProductTypeEnum.HABBO_CLUB:setText(LocalizeText('widget.furni.present.hc'));//setImageUrl(getGiftImageUrl('packagecard_icon_hc'));\nbreak;default:{if(event.placedItemType===ProductTypeEnum.PET){const petfigureString=event.petFigureString;if(petfigureString&&petfigureString.length){const petFigureData=new nitro_renderer[\"Ff\" /* PetFigureData */](petfigureString);const petImage=GetRoomEngine().getRoomObjectPetImage(petFigureData.typeId,petFigureData.paletteId,petFigureData.color,new nitro_renderer[\"kj\" /* Vector3d */](90),64,imageListener,true,0,petFigureData.customParts);if(petImage)setImageUrl(petImage.getImage().src);}}else{const furniImage=GetRoomEngine().getFurnitureFloorImage(event.classId,new nitro_renderer[\"kj\" /* Vector3d */](90),64,imageListener);if(furniImage)setImageUrl(furniImage.getImage().src);}const productData=GetSessionDataManager().getProductData(event.productCode);setText(productData&&productData.name||furniData.name);break;}}setObjectId(0);setClassId(event.classId);setItemType(event.itemType);setIsOwnerOfFurniture(isOwnerOfFurni);setPlacedItemId(event.placedItemId);setPlacedItemType(event.placedItemType);setPlacedInRoom(event.placedInRoom);});useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PRESENT,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return null;onClose();setObjectId(event.objectId);setClassId(-1);setText(roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA)||'');setIsOwnerOfFurniture(IsOwnerOfFurniture(roomObject));setSenderName(roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_PURCHASER_NAME)||null);setSenderFigure(roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_PURCHASER_FIGURE)||null);});useFurniRemovedEvent(objectId!==-1,event=>{if(event.id===objectId)onClose();if(event.id===placedItemId){if(placedInRoom)setPlacedInRoom(false);}});return{objectId,classId,itemType,text,isOwnerOfFurniture,senderName,senderFigure,placedItemId,placedItemType,placedInRoom,imageUrl,openPresent,onClose};};const useFurniturePresentWidget=useFurniturePresentWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureRoomLinkWidget.ts\nconst useFurnitureRoomLinkWidget_INTERNALLINK='internalLink';const useFurnitureRoomLinkWidgetState=()=>{const[roomIdToEnter,setRoomIdToEnter]=Object(react[\"useState\"])(0);useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ROOM_LINK,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const data=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA);let roomId=data[useFurnitureRoomLinkWidget_INTERNALLINK];if(!roomId||!roomId.length)roomId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_INTERNAL_LINK);if(!roomId||!roomId.length)return;roomId=parseInt(roomId,10);if(roomId===NaN)return;setRoomIdToEnter(roomId);SendMessageComposer(new nitro_renderer[\"Cc\" /* GetGuestRoomMessageComposer */](roomId,false,false));});useMessageEvent(nitro_renderer[\"Dc\" /* GetGuestRoomResultEvent */],event=>{if(!roomIdToEnter)return;const parser=event.getParser();if(parser.data.roomId!==roomIdToEnter)return;setRoomIdToEnter(0);});return{};};const useFurnitureRoomLinkWidget=useFurnitureRoomLinkWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureSpamWallPostItWidget.ts\nconst useFurnitureSpamWallPostItWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[itemType,setItemType]=Object(react[\"useState\"])('');const[location,setLocation]=Object(react[\"useState\"])('');const[color,setColor]=Object(react[\"useState\"])('0');const[text,setText]=Object(react[\"useState\"])('');const[canModify,setCanModify]=Object(react[\"useState\"])(false);const{getWallItemById=null}=useInventoryFurni();const onClose=()=>{SendMessageComposer(new nitro_renderer[\"g\" /* AddSpamWallPostItMessageComposer */](objectId,location,color,text));setObjectId(-1);setCategory(-1);setItemType('');setLocation('');setColor('0');setText('');setCanModify(false);};useMessageEvent(nitro_renderer[\"og\" /* RequestSpamWallPostItMessageEvent */],event=>{const parser=event.getParser();setObjectId(parser.itemId);setCategory(nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL);const inventoryItem=getWallItemById(parser.itemId);let itemType='post_it';if(inventoryItem){const wallItemType=GetRoomEngine().getFurnitureWallName(inventoryItem.type);if(wallItemType.match('post_it_'))itemType=wallItemType;}setItemType(itemType);setLocation(parser.location);setColor('FFFF33');setText('');setCanModify(true);});return{objectId,color,setColor,text,setText,canModify,onClose};};const useFurnitureSpamWallPostItWidget=useFurnitureSpamWallPostItWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureStackHeightWidget.ts\nconst MAX_HEIGHT=40;const useFurnitureStackHeightWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[height,setHeight]=Object(react[\"useState\"])(0);const[pendingHeight,setPendingHeight]=Object(react[\"useState\"])(-1);const onClose=()=>{setObjectId(-1);setCategory(-1);setHeight(0);setPendingHeight(-1);};const updateHeight=function(height){let server=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!height)height=0;height=Math.abs(height);if(!server)height>MAX_HEIGHT&&(height=MAX_HEIGHT);setHeight(parseFloat(height.toFixed(2)));if(!server)setPendingHeight(height*100);};useMessageEvent(nitro_renderer[\"oc\" /* FurnitureStackHeightEvent */],event=>{const parser=event.getParser();if(objectId!==parser.furniId)return;updateHeight(parser.height,true);});useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_STACK_HEIGHT,event=>{if(!CanManipulateFurniture(GetRoomSession(),event.objectId,event.category))return;const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;setObjectId(event.objectId);setCategory(event.category);setHeight(roomObject.getLocation().z);setPendingHeight(-1);});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});Object(react[\"useEffect\"])(()=>{if(objectId===-1||pendingHeight===-1)return;const timeout=setTimeout(()=>SendMessageComposer(new nitro_renderer[\"nc\" /* FurnitureStackHeightComposer */](objectId,~~pendingHeight)),10);return()=>clearTimeout(timeout);},[objectId,pendingHeight]);return{objectId,height,maxHeight:MAX_HEIGHT,onClose,updateHeight};};const useFurnitureStackHeightWidget=useFurnitureStackHeightWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureStickieWidget.ts\nconst useFurnitureStickieWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[color,setColor]=Object(react[\"useState\"])('0');const[text,setText]=Object(react[\"useState\"])('');const[type,setType]=Object(react[\"useState\"])('');const[canModify,setCanModify]=Object(react[\"useState\"])(false);const onClose=()=>{setObjectId(-1);setCategory(-1);setColor('0');setText('');setType('');setCanModify(false);};const updateColor=newColor=>{if(newColor===color)return;setColor(newColor);GetRoomEngine().modifyRoomObjectData(objectId,category,newColor,text);};const updateText=newText=>{setText(newText);GetRoomEngine().modifyRoomObjectData(objectId,category,color,newText);};const trash=()=>GetRoomEngine().deleteRoomObject(objectId,category);useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_STICKIE,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;const data=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_ITEMDATA);if(data.length<6)return;let color=null;let text=null;if(data.indexOf(' ')>0){color=data.slice(0,data.indexOf(' '));text=data.slice(data.indexOf(' ')+1,data.length);}else{color=data;}setObjectId(event.objectId);setCategory(event.category);setColor(color||'0');setText(text||'');setType(roomObject.type||'post_it');setCanModify(GetRoomSession().isRoomOwner||GetSessionDataManager().isModerator||IsOwnerOfFurniture(roomObject));});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});return{objectId,color,text,type,canModify,updateColor,updateText,trash,onClose};};const useFurnitureStickieWidget=useFurnitureStickieWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureTrophyWidget.ts\nconst useFurnitureTrophyWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[color,setColor]=Object(react[\"useState\"])('1');const[senderName,setSenderName]=Object(react[\"useState\"])('');const[date,setDate]=Object(react[\"useState\"])('');const[message,setMessage]=Object(react[\"useState\"])('');const onClose=()=>{setObjectId(-1);setCategory(-1);setColor('1');setSenderName('');setDate('');setMessage('');};useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TROPHY,event=>{const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;let data=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA);let extra=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_EXTRAS);if(!extra)extra='0';setObjectId(event.objectId);setCategory(event.category);setColor(roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_COLOR)||'1');const senderName=data.substring(0,data.indexOf('\\t'));data=data.substring(senderName.length+1,data.length);const trophyDate=data.substring(0,data.indexOf('\\t'));const trophyText=data.substr(trophyDate.length+1,data.length);setSenderName(senderName);setDate(trophyDate);setMessage(trophyText);});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});return{objectId,color,senderName,date,message,onClose};};const useFurnitureTrophyWidget=useFurnitureTrophyWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/useFurnitureYoutubeWidget.ts\nconst CONTROL_COMMAND_PREVIOUS_VIDEO=0;const CONTROL_COMMAND_NEXT_VIDEO=1;const CONTROL_COMMAND_PAUSE_VIDEO=2;const CONTROL_COMMAND_CONTINUE_VIDEO=3;const useFurnitureYoutubeWidgetState=()=>{const[objectId,setObjectId]=Object(react[\"useState\"])(-1);const[category,setCategory]=Object(react[\"useState\"])(-1);const[videoId,setVideoId]=Object(react[\"useState\"])(null);const[videoStart,setVideoStart]=Object(react[\"useState\"])(null);const[videoEnd,setVideoEnd]=Object(react[\"useState\"])(null);const[currentVideoState,setCurrentVideoState]=Object(react[\"useState\"])(-1);const[selectedVideo,setSelectedVideo]=Object(react[\"useState\"])(null);const[playlists,setPlaylists]=Object(react[\"useState\"])(null);const[hasControl,setHasControl]=Object(react[\"useState\"])(false);const onClose=()=>{setObjectId(-1);setCategory(-1);setVideoId(null);setVideoStart(null);setVideoEnd(null);setCurrentVideoState(-1);setSelectedVideo(null);setPlaylists(null);setHasControl(false);};const previous=()=>SendMessageComposer(new nitro_renderer[\"xb\" /* ControlYoutubeDisplayPlaybackMessageComposer */](objectId,CONTROL_COMMAND_PREVIOUS_VIDEO));const next=()=>SendMessageComposer(new nitro_renderer[\"xb\" /* ControlYoutubeDisplayPlaybackMessageComposer */](objectId,CONTROL_COMMAND_NEXT_VIDEO));const pause=()=>hasControl&&videoId&&videoId.length&&SendMessageComposer(new nitro_renderer[\"xb\" /* ControlYoutubeDisplayPlaybackMessageComposer */](objectId,CONTROL_COMMAND_PAUSE_VIDEO));const play=()=>hasControl&&videoId&&videoId.length&&SendMessageComposer(new nitro_renderer[\"xb\" /* ControlYoutubeDisplayPlaybackMessageComposer */](objectId,CONTROL_COMMAND_CONTINUE_VIDEO));const selectVideo=video=>{if(selectedVideo===video){setSelectedVideo(null);SendMessageComposer(new nitro_renderer[\"ci\" /* SetYoutubeDisplayPlaylistMessageComposer */](objectId,''));return;}setSelectedVideo(video);SendMessageComposer(new nitro_renderer[\"ci\" /* SetYoutubeDisplayPlaylistMessageComposer */](objectId,video));};useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_YOUTUBE,event=>{if(nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;const roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(!roomObject)return;setObjectId(event.objectId);setCategory(event.category);setHasControl(GetSessionDataManager().hasSecurity(nitro_renderer[\"Uh\" /* SecurityLevel */].EMPLOYEE)||IsOwnerOfFurniture(roomObject));SendMessageComposer(new nitro_renderer[\"Wc\" /* GetYoutubeDisplayStatusMessageComposer */](event.objectId));});useMessageEvent(nitro_renderer[\"wj\" /* YoutubeDisplayVideoMessageEvent */],event=>{const parser=event.getParser();if(objectId===-1||objectId!==parser.furniId)return;setVideoId(parser.videoId);setVideoStart(parser.startAtSeconds);setVideoEnd(parser.endAtSeconds);setCurrentVideoState(parser.state);});useMessageEvent(nitro_renderer[\"vj\" /* YoutubeDisplayPlaylistsEvent */],event=>{const parser=event.getParser();if(objectId===-1||objectId!==parser.furniId)return;setPlaylists(parser.playlists);setSelectedVideo(parser.selectedPlaylistId);setVideoId(null);setCurrentVideoState(-1);setVideoEnd(null);setVideoStart(null);});useMessageEvent(nitro_renderer[\"uj\" /* YoutubeControlVideoMessageEvent */],event=>{const parser=event.getParser();if(objectId===-1||objectId!==parser.furniId)return;switch(parser.commandId){case 1:setCurrentVideoState(YoutubeVideoPlaybackStateEnum.PLAYING);break;case 2:setCurrentVideoState(YoutubeVideoPlaybackStateEnum.PAUSED);break;}});useFurniRemovedEvent(objectId!==-1&&category!==-1,event=>{if(event.id!==objectId||event.category!==category)return;onClose();});return{objectId,videoId,videoStart,videoEnd,currentVideoState,selectedVideo,playlists,onClose,previous,next,pause,play,selectVideo};};const useFurnitureYoutubeWidget=useFurnitureYoutubeWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/furniture/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/wired/useWired.ts\nconst useWiredState=()=>{const[trigger,setTrigger]=Object(react[\"useState\"])(null);const[intParams,setIntParams]=Object(react[\"useState\"])([]);const[stringParam,setStringParam]=Object(react[\"useState\"])('');const[furniIds,setFurniIds]=Object(react[\"useState\"])([]);const[actionDelay,setActionDelay]=Object(react[\"useState\"])(0);const[allowsFurni,setAllowsFurni]=Object(react[\"useState\"])(WiredFurniType.STUFF_SELECTION_OPTION_NONE);const{showConfirm=null}=useNotification();const saveWired=()=>{const save=trigger=>{if(!trigger)return;if(trigger instanceof nitro_renderer[\"pj\" /* WiredActionDefinition */]){SendMessageComposer(new nitro_renderer[\"Gi\" /* UpdateActionMessageComposer */](trigger.id,intParams,stringParam,furniIds,actionDelay,trigger.stuffTypeSelectionCode));}else if(trigger instanceof nitro_renderer[\"Ci\" /* TriggerDefinition */]){SendMessageComposer(new nitro_renderer[\"Ki\" /* UpdateTriggerMessageComposer */](trigger.id,intParams,stringParam,furniIds,trigger.stuffTypeSelectionCode));}else if(trigger instanceof nitro_renderer[\"ub\" /* ConditionDefinition */]){SendMessageComposer(new nitro_renderer[\"Hi\" /* UpdateConditionMessageComposer */](trigger.id,intParams,stringParam,furniIds,trigger.stuffTypeSelectionCode));}};if(!IsOwnerOfFloorFurniture(trigger.id)){showConfirm(LocalizeText('wiredfurni.nonowner.change.confirm.body'),()=>{save(trigger);},null,null,null,LocalizeText('wiredfurni.nonowner.change.confirm.title'));}else{save(trigger);}};const selectObjectForWired=(objectId,category)=>{if(!trigger||!allowsFurni)return;if(objectId<=0)return;setFurniIds(prevValue=>{const newFurniIds=[...prevValue];const index=prevValue.indexOf(objectId);if(index>=0){newFurniIds.splice(index,1);WiredSelectionVisualizer_WiredSelectionVisualizer.hide(objectId);}else if(newFurniIds.length<trigger.maximumItemSelectionCount){newFurniIds.push(objectId);WiredSelectionVisualizer_WiredSelectionVisualizer.show(objectId);}return newFurniIds;});};useMessageEvent(nitro_renderer[\"tj\" /* WiredSaveSuccessEvent */],event=>{const parser=event.getParser();setTrigger(null);});useMessageEvent(nitro_renderer[\"qj\" /* WiredFurniActionEvent */],event=>{const parser=event.getParser();setTrigger(parser.definition);});useMessageEvent(nitro_renderer[\"rj\" /* WiredFurniConditionEvent */],event=>{const parser=event.getParser();setTrigger(parser.definition);});useMessageEvent(nitro_renderer[\"sj\" /* WiredFurniTriggerEvent */],event=>{const parser=event.getParser();setTrigger(parser.definition);});Object(react[\"useEffect\"])(()=>{if(!trigger)return;return()=>{setIntParams([]);setStringParam('');setActionDelay(0);setFurniIds(prevValue=>{if(prevValue&&prevValue.length)WiredSelectionVisualizer_WiredSelectionVisualizer.clearSelectionShaderFromFurni(prevValue);return[];});setAllowsFurni(WiredFurniType.STUFF_SELECTION_OPTION_NONE);};},[trigger]);return{trigger,setTrigger,intParams,setIntParams,stringParam,setStringParam,furniIds,setFurniIds,actionDelay,setActionDelay,setAllowsFurni,saveWired,selectObjectForWired};};const useWired=()=>Object(index_esm[\"a\" /* useBetween */])(useWiredState);\n// CONCATENATED MODULE: ./src/hooks/wired/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useAvatarInfoWidget.ts\nconst useAvatarInfoWidgetState=()=>{const[avatarInfo,setAvatarInfo]=Object(react[\"useState\"])(null);const[activeNameBubble,setActiveNameBubble]=Object(react[\"useState\"])(null);const[nameBubbles,setNameBubbles]=Object(react[\"useState\"])([]);const[productBubbles,setProductBubbles]=Object(react[\"useState\"])([]);const[confirmingProduct,setConfirmingProduct]=Object(react[\"useState\"])(null);const[pendingPetId,setPendingPetId]=Object(react[\"useState\"])(-1);const[isDecorating,setIsDecorating]=Object(react[\"useState\"])(false);const{friends=[]}=useFriends();const{selectObjectForWired=null}=useWired();const{roomSession=null}=useRoom();const removeNameBubble=index=>{setNameBubbles(prevValue=>{const newValue=[...prevValue];newValue.splice(index,1);return newValue;});};const removeProductBubble=index=>{setProductBubbles(prevValue=>{const newValue=[...prevValue];const item=newValue.splice(index,1)[0];if(confirmingProduct===item)setConfirmingProduct(null);return newValue;});};const updateConfirmingProduct=product=>{setConfirmingProduct(product);setProductBubbles([]);};const getObjectName=(objectId,category)=>{const name=AvatarInfoUtilities_AvatarInfoUtilities.getObjectName(objectId,category);if(!name)return;setActiveNameBubble(name);if(category!==nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT)setProductBubbles([]);};const getObjectInfo=(objectId,category)=>{let info=null;switch(category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:info=AvatarInfoUtilities_AvatarInfoUtilities.getFurniInfo(objectId,category);if(info)selectObjectForWired(objectId,category);break;case nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT:{const userData=roomSession.userDataManager.getUserDataByIndex(objectId);if(!userData)break;switch(userData.type){case nitro_renderer[\"ah\" /* RoomObjectType */].PET:roomSession.userDataManager.requestPetInfo(userData.webID);setPendingPetId(userData.webID);break;case nitro_renderer[\"ah\" /* RoomObjectType */].USER:info=AvatarInfoUtilities_AvatarInfoUtilities.getUserInfo(category,userData);break;case nitro_renderer[\"ah\" /* RoomObjectType */].BOT:info=AvatarInfoUtilities_AvatarInfoUtilities.getBotInfo(category,userData);break;case nitro_renderer[\"ah\" /* RoomObjectType */].RENTABLE_BOT:info=AvatarInfoUtilities_AvatarInfoUtilities.getRentableBotInfo(category,userData);break;}}}if(!info)return;setAvatarInfo(info);};const processUsableRoomObject=objectId=>{};const refreshPetInfo=()=>{// roomSession.userDataManager.requestPetInfo(petData.id);\n};useRoomSessionManagerEvent(nitro_renderer[\"th\" /* RoomSessionUserDataUpdateEvent */].USER_DATA_UPDATED,event=>{if(!event.addedUsers.length)return;let addedNameBubbles=[];event.addedUsers.forEach(user=>{if(user.webID===GetSessionDataManager().userId)return;if(friends.find(friend=>friend.id===user.webID)){addedNameBubbles.push(new AvatarInfoName(user.roomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,user.webID,user.name,user.type,true));}});if(!addedNameBubbles.length)return;setNameBubbles(prevValue=>{const newValue=[...prevValue];addedNameBubbles.forEach(bubble=>{const oldIndex=newValue.findIndex(oldBubble=>oldBubble.id===bubble.id);if(oldIndex>-1)newValue.splice(oldIndex,1);newValue.push(bubble);});return newValue;});});useRoomSessionManagerEvent(nitro_renderer[\"oh\" /* RoomSessionPetInfoUpdateEvent */].PET_INFO,event=>{const petData=event.petInfo;if(!petData)return;if(petData.id!==pendingPetId)return;const petInfo=AvatarInfoUtilities_AvatarInfoUtilities.getPetInfo(petData);if(!petInfo)return;setAvatarInfo(petInfo);setPendingPetId(-1);});useRoomSessionManagerEvent(nitro_renderer[\"ph\" /* RoomSessionPetStatusUpdateEvent */].PET_STATUS_UPDATE,event=>{/*     var _local_2:Boolean;\r\n        var _local_3:Boolean;\r\n        var _local_4:Boolean;\r\n        var _local_5:Boolean;\r\n        var _local_6:RoomUserData;\r\n        var _local_7:_Str_4828;\r\n        if (((!(this._container == null)) && (!(this._container.events == null))))\r\n        {\r\n            _local_2 = k.canBreed;\r\n            _local_3 = k.canHarvest;\r\n            _local_4 = k.canRevive;\r\n            _local_5 = k.hasBreedingPermission;\r\n            _local_6 = this._Str_19958(k.petId);\r\n            if (_local_6 == null)\r\n            {\r\n                Logger.log(((\"Could not find pet with the id: \" + k.petId) + \" given by petStatusUpdate\"));\r\n                return;\r\n            }\r\n            _local_7 = new _Str_4828(_local_6.roomObjectId, _local_2, _local_3, _local_4, _local_5);\r\n            this._container.events.dispatchEvent(_local_7); */});useRoomEngineEvent(nitro_renderer[\"Jg\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_INVENTORY,event=>{// this._Str_23199((k as RoomEngineUseProductEvent).inventoryStripId, (k as RoomEngineUseProductEvent).furnitureTypeId);\n});useRoomEngineEvent(nitro_renderer[\"Jg\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_ROOM,event=>{const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,event.objectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);if(!roomObject||!IsOwnerOfFurniture(roomObject))return;const ownerId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);const typeId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);const furniData=GetSessionDataManager().getFloorItemData(typeId);const parts=furniData.customParams.split(' ');const part=parts.length?parseInt(parts[0]):-1;if(part===-1)return;const useProductBubbles=[];const roomObjects=GetRoomEngine().getRoomObjects(roomSession.roomId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);for(const roomObject of roomObjects){const userData=roomSession.userDataManager.getUserDataByIndex(roomObject.id);let replace=false;if(!userData||userData.type!==nitro_renderer[\"ah\" /* RoomObjectType */].PET){}else{if(userData.ownerId===ownerId){if(userData.hasSaddle&&furniData.specialType===FurniCategory.PET_SADDLE)replace=true;const figureParts=userData.figure.split(' ');const figurePart=figureParts.length?parseInt(figureParts[0]):-1;if(figurePart===part){if(furniData.specialType===FurniCategory.MONSTERPLANT_REVIVAL){if(!userData.canRevive)continue;}if(furniData.specialType===FurniCategory.MONSTERPLANT_REBREED){if(userData.petLevel<7||userData.canRevive||userData.canBreed)continue;}if(furniData.specialType===FurniCategory.MONSTERPLANT_FERTILIZE){if(userData.petLevel>=7||userData.canRevive)continue;}useProductBubbles.push(new UseProductItem(userData.roomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userData.name,event.objectId,roomObject.id,-1,replace));}}}}setConfirmingProduct(null);if(useProductBubbles.length)setProductBubbles(useProductBubbles);});useRoomEngineEvent(nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].REQUEST_MANIPULATION,event=>{if(!CanManipulateFurniture(roomSession,event.objectId,event.category))return;setIsDecorating(true);});useObjectSelectedEvent(event=>{getObjectInfo(event.id,event.category);});useObjectDeselectedEvent(event=>{setAvatarInfo(null);setProductBubbles([]);});useObjectRollOverEvent(event=>{if(avatarInfo||event.category!==nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT)return;getObjectName(event.id,event.category);});useObjectRollOutEvent(event=>{if(!activeNameBubble||event.category!==nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT||activeNameBubble.roomIndex!==event.id)return;setActiveNameBubble(null);});useUiEvent([RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED],event=>{if(activeNameBubble&&activeNameBubble.category===event.category&&activeNameBubble.roomIndex===event.id)setActiveNameBubble(null);if(event.category===nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT){let index=nameBubbles.findIndex(bubble=>bubble.roomIndex===event.id);if(index>-1)setNameBubbles(prevValue=>prevValue.filter(bubble=>bubble.roomIndex===event.id));index=productBubbles.findIndex(bubble=>bubble.id===event.id);if(index>-1)setProductBubbles(prevValue=>prevValue.filter(bubble=>bubble.id!==event.id));}else if(event.category===nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR){const index=productBubbles.findIndex(bubble=>bubble.id===event.id);if(index>-1)setProductBubbles(prevValue=>prevValue.filter(bubble=>bubble.requestRoomObjectId!==event.id));}if(avatarInfo){if(avatarInfo instanceof AvatarInfoFurni){if(avatarInfo.id===event.id)setAvatarInfo(null);}else if(avatarInfo instanceof AvatarInfoUser||avatarInfo instanceof AvatarInfoRentableBot||avatarInfo instanceof AvatarInfoPet){if(avatarInfo.roomIndex===event.id)setAvatarInfo(null);}}});Object(react[\"useEffect\"])(()=>{if(!avatarInfo)return;setActiveNameBubble(null);setNameBubbles([]);setProductBubbles([]);},[avatarInfo]);Object(react[\"useEffect\"])(()=>{if(!activeNameBubble)return;setNameBubbles([]);},[activeNameBubble]);Object(react[\"useEffect\"])(()=>{roomSession.isDecorating=isDecorating;},[roomSession,isDecorating]);return{avatarInfo,setAvatarInfo,activeNameBubble,setActiveNameBubble,nameBubbles,productBubbles,confirmingProduct,isDecorating,setIsDecorating,removeNameBubble,removeProductBubble,updateConfirmingProduct,getObjectName};};const useAvatarInfoWidget=useAvatarInfoWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useChatInputWidget.ts\nconst useChatInputWidgetState=()=>{const[selectedUsername,setSelectedUsername]=Object(react[\"useState\"])('');const[isTyping,setIsTyping]=Object(react[\"useState\"])(false);const[typingStartedSent,setTypingStartedSent]=Object(react[\"useState\"])(false);const[isIdle,setIsIdle]=Object(react[\"useState\"])(false);const[floodBlocked,setFloodBlocked]=Object(react[\"useState\"])(false);const[floodBlockedSeconds,setFloodBlockedSeconds]=Object(react[\"useState\"])(0);const{showNitroAlert=null,showConfirm=null}=useNotification();const{roomSession=null}=useRoom();const sendChat=function(text,chatType){let recipientName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let styleId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(text==='')return null;const parts=text.split(' ');if(parts.length>0){const firstPart=parts[0];let secondPart='';if(parts.length>1)secondPart=parts[1];if(firstPart.charAt(0)===':'&&secondPart==='x'){const selectedAvatarId=GetRoomEngine().selectedAvatarId;if(selectedAvatarId>-1){const userData=roomSession.userDataManager.getUserDataByIndex(selectedAvatarId);if(userData){secondPart=userData.name;text=text.replace(' x',' '+userData.name);}}}switch(firstPart.toLowerCase()){case':shake':nitro_renderer[\"zh\" /* RoomShakingEffect */].init(2500,5000);nitro_renderer[\"zh\" /* RoomShakingEffect */].turnVisualizationOn();return null;case':rotate':nitro_renderer[\"fh\" /* RoomRotatingEffect */].init(2500,5000);nitro_renderer[\"fh\" /* RoomRotatingEffect */].turnVisualizationOn();return null;case':d':case';d':if(GetClubMemberLevel()===nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].VIP){roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].LAUGH.ordinal);}break;case'o/':case'_o/':roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].WAVE.ordinal);return null;case':kiss':if(GetClubMemberLevel()===nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].VIP){roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].BLOW.ordinal);return null;}break;case':jump':if(GetClubMemberLevel()===nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].VIP){roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].JUMP.ordinal);return null;}break;case':idle':roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].IDLE.ordinal);return null;case'_b':roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].RESPECT.ordinal);return null;case':sign':roomSession.sendSignMessage(parseInt(secondPart));return null;case':iddqd':case':flip':GetRoomEngine().events.dispatchEvent(new nitro_renderer[\"Oh\" /* RoomZoomEvent */](roomSession.roomId,-1,true));return null;case':zoom':GetRoomEngine().events.dispatchEvent(new nitro_renderer[\"Oh\" /* RoomZoomEvent */](roomSession.roomId,parseFloat(secondPart),false));return null;case':screenshot':const texture=GetRoomEngine().createTextureFromRoom(roomSession.roomId,1);const image=new Image();image.src=nitro_renderer[\"fi\" /* TextureUtils */].generateImageUrl(texture);const newWindow=window.open('');newWindow.document.write(image.outerHTML);return null;case':pickall':if(roomSession.isRoomOwner||GetSessionDataManager().isModerator){showConfirm(LocalizeText('room.confirm.pick_all'),()=>{GetSessionDataManager().sendSpecialCommandMessage(':pickall');},null,null,null,LocalizeText('generic.alert.title'));}return null;case':furni':CreateLinkEvent('furni-chooser/');return null;case':chooser':CreateLinkEvent('user-chooser/');return null;case':floor':case':bcfloor':if(roomSession.controllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].ROOM_OWNER)CreateLinkEvent('floor-editor/show');return null;case':togglefps':{if(GetNitroInstance().ticker.maxFPS>0)GetNitroInstance().ticker.maxFPS=0;else GetNitroInstance().ticker.maxFPS=GetConfiguration('system.animation.fps');return null;}case':client':case':nitro':case':billsonnn':showNitroAlert();return null;case':settings':if(roomSession.isRoomOwner||GetSessionDataManager().isModerator){SendMessageComposer(new nitro_renderer[\"wh\" /* RoomSettingsComposer */](roomSession.roomId));}return null;}}switch(chatType){case ChatMessageTypeEnum.CHAT_DEFAULT:roomSession.sendChatMessage(text,styleId);break;case ChatMessageTypeEnum.CHAT_SHOUT:roomSession.sendShoutMessage(text,styleId);break;case ChatMessageTypeEnum.CHAT_WHISPER:roomSession.sendWhisperMessage(recipientName,text,styleId);break;}};useRoomSessionManagerEvent(nitro_renderer[\"hh\" /* RoomSessionChatEvent */].FLOOD_EVENT,event=>{setFloodBlocked(true);setFloodBlockedSeconds(parseFloat(event.message));});useObjectSelectedEvent(event=>{if(event.category!==nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT)return;const userData=roomSession.userDataManager.getUserDataByIndex(event.id);if(!userData)return;setSelectedUsername(userData.name);});useRoomEngineEvent(nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].DESELECTED,event=>setSelectedUsername(''));Object(react[\"useEffect\"])(()=>{if(!floodBlocked)return;let seconds=0;const interval=setInterval(()=>{setFloodBlockedSeconds(prevValue=>{seconds=(prevValue||0)-1;return seconds;});if(seconds<0){clearInterval(interval);setFloodBlocked(false);}},1000);return()=>clearInterval(interval);},[floodBlocked]);Object(react[\"useEffect\"])(()=>{if(!isIdle)return;let timeout=null;if(isIdle){timeout=setTimeout(()=>{setIsIdle(false);setIsTyping(false);},10000);}return()=>clearTimeout(timeout);},[isIdle]);Object(react[\"useEffect\"])(()=>{if(isTyping){if(!typingStartedSent){setTypingStartedSent(true);roomSession.sendChatTypingMessage(isTyping);}}else{if(typingStartedSent){setTypingStartedSent(false);roomSession.sendChatTypingMessage(isTyping);}}},[roomSession,isTyping,typingStartedSent]);return{selectedUsername,floodBlocked,floodBlockedSeconds,setIsTyping,setIsIdle,sendChat};};const useChatInputWidget=useChatInputWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useChatWidget.ts\nconst avatarColorCache=new Map();const avatarImageCache=new Map();const petImageCache=new Map();const useChatWidgetState=()=>{const[chatMessages,setChatMessages]=Object(react[\"useState\"])([]);const[chatSettings,setChatSettings]=Object(react[\"useState\"])({mode:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_MODE_FREE_FLOW,weight:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_NORMAL,speed:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_NORMAL,distance:50,protection:nitro_renderer[\"vg\" /* RoomChatSettings */].FLOOD_FILTER_NORMAL});const{roomSession=null}=useRoom();const isDisposed=Object(react[\"useRef\"])(false);const getScrollSpeed=Object(react[\"useMemo\"])(()=>{if(!chatSettings)return 6000;switch(chatSettings.speed){case nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_FAST:return 3000;case nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_NORMAL:return 6000;case nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_SLOW:return 12000;}},[chatSettings]);const setFigureImage=figure=>{const avatarImage=GetAvatarRenderManager().createAvatarImage(figure,nitro_renderer[\"r\" /* AvatarScaleType */].LARGE,null,{resetFigure:figure=>{if(isDisposed.current)return;setFigureImage(figure);},dispose:()=>{},disposed:false});if(!avatarImage)return;const image=avatarImage.getCroppedImage(nitro_renderer[\"s\" /* AvatarSetType */].HEAD);const color=avatarImage.getPartColor(nitro_renderer[\"q\" /* AvatarFigurePartType */].CHEST);avatarColorCache.set(figure,color&&color.rgb||16777215);avatarImage.dispose();avatarImageCache.set(figure,image.src);return image.src;};const getUserImage=figure=>{let existing=avatarImageCache.get(figure);if(!existing)existing=setFigureImage(figure);return existing;};const getPetImage=function(figure,direction,_arg_3){let scale=arguments.length>3&&arguments[3]!==undefined?arguments[3]:64;let posture=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let existing=petImageCache.get(figure+posture);if(existing)return existing;const figureData=new nitro_renderer[\"Ff\" /* PetFigureData */](figure);const typeId=figureData.typeId;const image=GetRoomEngine().getRoomObjectPetImage(typeId,figureData.paletteId,figureData.color,new nitro_renderer[\"kj\" /* Vector3d */](direction*45),scale,null,false,0,figureData.customParts,posture);if(image){existing=nitro_renderer[\"fi\" /* TextureUtils */].generateImageUrl(image.data);petImageCache.set(figure+posture,existing);}return existing;};const removeHiddenChats=()=>{setChatMessages(prevValue=>{if(prevValue){const newMessages=prevValue.filter(chat=>chat.top>-chat.height*2);if(newMessages.length!==prevValue.length)return newMessages;}return prevValue;});};const moveAllChatsUp=amount=>{setChatMessages(prevValue=>{if(prevValue){prevValue.forEach(chat=>{if(chat.skipMovement){chat.skipMovement=false;return;}chat.top-=amount;});}return prevValue;});removeHiddenChats();};useRoomSessionManagerEvent(nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_EVENT,event=>{const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,event.objectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);const bubbleLocation=roomObject?GetRoomObjectScreenLocation(roomSession.roomId,roomObject===null||roomObject===void 0?void 0:roomObject.id,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT):new nitro_renderer[\"nf\" /* NitroPoint */]();const userData=roomObject?roomSession.userDataManager.getUserDataByIndex(event.objectId):new nitro_renderer[\"Hh\" /* RoomUserData */](-1);let username='';let avatarColor=0;let imageUrl=null;let chatType=event.chatType;let styleId=event.style;let userType=0;let petType=-1;let text=event.message;if(userData){userType=userData.type;const figure=userData.figure;switch(userType){case nitro_renderer[\"ah\" /* RoomObjectType */].PET:imageUrl=getPetImage(figure,2,true,64,roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_POSTURE));petType=new nitro_renderer[\"Ff\" /* PetFigureData */](figure).typeId;break;case nitro_renderer[\"ah\" /* RoomObjectType */].USER:imageUrl=getUserImage(figure);break;case nitro_renderer[\"ah\" /* RoomObjectType */].RENTABLE_BOT:case nitro_renderer[\"ah\" /* RoomObjectType */].BOT:styleId=nitro_renderer[\"ei\" /* SystemChatStyleEnum */].BOT;break;}avatarColor=avatarColorCache.get(figure);username=userData.name;}switch(chatType){case nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_RESPECT:text=LocalizeText('widgets.chatbubble.respect',['username'],[username]);if(GetConfigurationManager().getValue('respect.options')['enabled'])PlaySound(GetConfigurationManager().getValue('respect.options')['sound']);break;case nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_PETREVIVE:case nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_PET_REBREED_FERTILIZE:case nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_PET_SPEED_FERTILIZE:{let textKey='widget.chatbubble.petrevived';if(chatType===nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_PET_REBREED_FERTILIZE){textKey='widget.chatbubble.petrefertilized;';}else if(chatType===nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_PET_SPEED_FERTILIZE){textKey='widget.chatbubble.petspeedfertilized';}let targetUserName=null;const newRoomObject=GetRoomEngine().getRoomObject(roomSession.roomId,event.extraParam,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);if(newRoomObject){const newUserData=roomSession.userDataManager.getUserDataByIndex(roomObject.id);if(newUserData)targetUserName=newUserData.name;}text=LocalizeText(textKey,['petName','userName'],[username,targetUserName]);break;}case nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_PETRESPECT:text=LocalizeText('widget.chatbubble.petrespect',['petname'],[username]);break;case nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_PETTREAT:text=LocalizeText('widget.chatbubble.pettreat',['petname'],[username]);break;case nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_HAND_ITEM_RECEIVED:text=LocalizeText('widget.chatbubble.handitem',['username','handitem'],[username,LocalizeText('handitem'+event.extraParam)]);break;case nitro_renderer[\"hh\" /* RoomSessionChatEvent */].CHAT_TYPE_MUTE_REMAINING:{const hours=(event.extraParam>0?Math.floor(event.extraParam/3600):0).toString();const minutes=(event.extraParam>0?Math.floor(event.extraParam%3600/60):0).toString();const seconds=(event.extraParam%60).toString();text=LocalizeText('widget.chatbubble.mutetime',['hours','minutes','seconds'],[hours,minutes,seconds]);break;}}const chatMessage=new ChatBubbleMessage(userData.roomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,roomSession.roomId,text,RoomChatFormatter(text),username,new nitro_renderer[\"nf\" /* NitroPoint */](bubbleLocation.x,bubbleLocation.y),chatType,styleId,imageUrl,avatarColor&&('#'+avatarColor.toString(16).padStart(6,'0')||false));setChatMessages(prevValue=>[...prevValue,chatMessage]);});useRoomEngineEvent(nitro_renderer[\"Cg\" /* RoomDragEvent */].ROOM_DRAG,event=>{if(!chatMessages.length||event.roomId!==roomSession.roomId)return;const offsetX=event.offsetX;chatMessages.forEach(chat=>chat.elementRef&&(chat.left+=offsetX));});useMessageEvent(nitro_renderer[\"Dc\" /* GetGuestRoomResultEvent */],event=>{const parser=event.getParser();if(!parser.roomEnter)return;setChatSettings(parser.chat);});useMessageEvent(nitro_renderer[\"wg\" /* RoomChatSettingsEvent */],event=>{const parser=event.getParser();setChatSettings(parser.chat);});Object(react[\"useEffect\"])(()=>{isDisposed.current=false;return()=>{isDisposed.current=true;};},[]);return{chatMessages,setChatMessages,chatSettings,getScrollSpeed,removeHiddenChats,moveAllChatsUp};};const useChatWidget=useChatWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useDoorbellWidget.ts\nconst useDoorbellWidgetState=()=>{const[users,setUsers]=Object(react[\"useState\"])([]);const addUser=userName=>{if(users.indexOf(userName)>=0)return;setUsers([...users,userName]);};const removeUser=userName=>{const index=users.indexOf(userName);if(index===-1)return;const newUsers=[...users];newUsers.splice(index,1);setUsers(newUsers);};const answer=(userName,flag)=>{GetRoomSession().sendDoorbellApprovalMessage(userName,flag);removeUser(userName);};useRoomSessionManagerEvent(nitro_renderer[\"kh\" /* RoomSessionDoorbellEvent */].DOORBELL,event=>addUser(event.userName));useRoomSessionManagerEvent(nitro_renderer[\"kh\" /* RoomSessionDoorbellEvent */].RSDE_REJECTED,event=>removeUser(event.userName));useRoomSessionManagerEvent(nitro_renderer[\"kh\" /* RoomSessionDoorbellEvent */].RSDE_ACCEPTED,event=>removeUser(event.userName));return{users,addUser,removeUser,answer};};const useDoorbellWidget=useDoorbellWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useFriendRequestWidget.ts\nconst useFriendRequestWidgetState=()=>{const[activeRequests,setActiveRequests]=Object(react[\"useState\"])([]);const{requests=[],dismissedRequestIds=[],setDismissedRequestIds=null}=useFriends();const displayedRequests=Object(react[\"useMemo\"])(()=>activeRequests.filter(request=>dismissedRequestIds.indexOf(request.request.requesterUserId)===-1),[activeRequests,dismissedRequestIds]);const hideFriendRequest=userId=>{setDismissedRequestIds(prevValue=>{if(prevValue.indexOf(userId)>=0)return prevValue;const newValue=[...prevValue];newValue.push(userId);return newValue;});};useUserAddedEvent(true,event=>{if(event.category!==nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT)return;const userData=GetRoomSession().userDataManager.getUserDataByIndex(event.id);if(!userData||userData.type!==nitro_renderer[\"bh\" /* RoomObjectUserType */].getTypeNumber(nitro_renderer[\"bh\" /* RoomObjectUserType */].USER))return;const request=requests.find(request=>request.requesterUserId===userData.webID);if(!request||activeRequests.find(request=>request.request.requesterUserId===userData.webID))return;const newValue=[...activeRequests];newValue.push({roomIndex:userData.roomIndex,request});setActiveRequests(newValue);});useUserRemovedEvent(true,event=>{if(event.category!==nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT)return;const index=activeRequests.findIndex(request=>request.roomIndex===event.id);if(index===-1)return;const newValue=[...activeRequests];newValue.splice(index,1);setActiveRequests(newValue);});Object(react[\"useEffect\"])(()=>{const newDisplayedRequests=[];for(const request of requests){const userData=GetRoomSession().userDataManager.getUserData(request.requesterUserId);if(!userData)continue;newDisplayedRequests.push({roomIndex:userData.roomIndex,request});}setActiveRequests(newDisplayedRequests);},[requests]);return{displayedRequests,hideFriendRequest};};const useFriendRequestWidget=useFriendRequestWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useFurniChooserWidget.ts\nconst useFurniChooserWidgetState=()=>{const[items,setItems]=Object(react[\"useState\"])(null);const{roomSession=null}=useRoom();const onClose=()=>setItems(null);const selectItem=item=>item&&GetRoomEngine().selectRoomObject(GetRoomSession().roomId,item.id,item.category);const populateChooser=()=>{const sessionDataManager=GetSessionDataManager();const wallObjects=GetRoomEngine().getRoomObjects(roomSession.roomId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL);const floorObjects=GetRoomEngine().getRoomObjects(roomSession.roomId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);const wallItems=wallObjects.map(roomObject=>{if(roomObject.id<0)return null;let name=roomObject.type;if(name.startsWith('poster')){name=LocalizeText(`poster_${name.replace('poster','')}_name`);}else{const typeId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);const furniData=sessionDataManager.getWallItemData(typeId);if(furniData&&furniData.name.length)name=furniData.name;}return new RoomObjectItem(roomObject.id,nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL,name);});const floorItems=floorObjects.map(roomObject=>{if(roomObject.id<0)return null;let name=roomObject.type;const typeId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);const furniData=sessionDataManager.getFloorItemData(typeId);if(furniData&&furniData.name.length)name=furniData.name;return new RoomObjectItem(roomObject.id,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR,name);});setItems([...wallItems,...floorItems].sort((a,b)=>a.name<b.name?-1:1));};useFurniAddedEvent(!!items,event=>{if(event.id<0)return;const roomObject=GetRoomEngine().getRoomObject(GetRoomSession().roomId,event.id,event.category);if(!roomObject)return;let item=null;switch(event.category){case nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:{let name=roomObject.type;if(name.startsWith('poster')){name=LocalizeText(`poster_${name.replace('poster','')}_name`);}else{const typeId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);const furniData=GetSessionDataManager().getWallItemData(typeId);if(furniData&&furniData.name.length)name=furniData.name;}item=new RoomObjectItem(roomObject.id,nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL,name);break;}case nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR:{let name=roomObject.type;const typeId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);const furniData=GetSessionDataManager().getFloorItemData(typeId);if(furniData&&furniData.name.length)name=furniData.name;item=new RoomObjectItem(roomObject.id,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR,name);}}setItems(prevValue=>[...prevValue,item].sort((a,b)=>a.name<b.name?-1:1));});useFurniRemovedEvent(!!items,event=>{if(event.id<0)return;setItems(prevValue=>{const newValue=[...prevValue];for(let i=0;i<newValue.length;i++){const existingValue=newValue[i];if(existingValue.id!==event.id||existingValue.category!==event.category)continue;newValue.splice(i,1);break;}return newValue;});});return{items,onClose,selectItem,populateChooser};};const useFurniChooserWidget=useFurniChooserWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/usePollWidget.ts\nconst usePollWidgetState=()=>{const{roomSession=null}=useRoom();const startPoll=pollId=>roomSession.sendPollStartMessage(pollId);const rejectPoll=pollId=>roomSession.sendPollRejectMessage(pollId);const answerPoll=(pollId,questionId,answers)=>roomSession.sendPollAnswerMessage(pollId,questionId,answers);useRoomSessionManagerEvent(nitro_renderer[\"qh\" /* RoomSessionPollEvent */].OFFER,event=>{const pollEvent=new RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.OFFER,event.id);pollEvent.summary=event.summary;pollEvent.headline=event.headline;DispatchUiEvent(pollEvent);});useRoomSessionManagerEvent(nitro_renderer[\"qh\" /* RoomSessionPollEvent */].ERROR,event=>{const pollEvent=new RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.ERROR,event.id);pollEvent.summary=event.summary;pollEvent.headline=event.headline;DispatchUiEvent(pollEvent);});useRoomSessionManagerEvent(nitro_renderer[\"qh\" /* RoomSessionPollEvent */].CONTENT,event=>{const pollEvent=new RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.CONTENT,event.id);pollEvent.startMessage=event.startMessage;pollEvent.endMessage=event.endMessage;pollEvent.numQuestions=event.numQuestions;pollEvent.questionArray=event.questionArray;pollEvent.npsPoll=event.npsPoll;DispatchUiEvent(pollEvent);});return{startPoll,rejectPoll,answerPoll};};const usePollWidget=usePollWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useUserChooserWidget.ts\nconst useUserChooserWidgetState=()=>{const[items,setItems]=Object(react[\"useState\"])(null);const{roomSession=null}=useRoom();const onClose=()=>setItems(null);const selectItem=item=>item&&GetRoomEngine().selectRoomObject(GetRoomSession().roomId,item.id,item.category);const populateChooser=()=>{const roomSession=GetRoomSession();const roomObjects=GetRoomEngine().getRoomObjects(roomSession.roomId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);setItems(roomObjects.map(roomObject=>{if(roomObject.id<0)return null;const userData=roomSession.userDataManager.getUserDataByIndex(roomObject.id);if(!userData)return null;return new RoomObjectItem(userData.roomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userData.name);}).sort((a,b)=>a.name<b.name?-1:1));};useUserAddedEvent(!!items,event=>{if(event.id<0)return;const userData=GetRoomSession().userDataManager.getUserDataByIndex(event.id);if(!userData)return;setItems(prevValue=>{const newValue=[...prevValue];newValue.push(new RoomObjectItem(userData.roomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userData.name));newValue.sort((a,b)=>a.name<b.name?-1:1);return newValue;});});useUserRemovedEvent(!!items,event=>{if(event.id<0)return;setItems(prevValue=>{const newValue=[...prevValue];for(let i=0;i<newValue.length;i++){const existingValue=newValue[i];if(existingValue.id!==event.id||existingValue.category!==event.category)continue;newValue.splice(i,1);break;}return newValue;});});return{items,onClose,selectItem,populateChooser};};const useUserChooserWidget=useUserChooserWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useWordQuizWidget.ts\nconst DEFAULT_DISPLAY_DELAY=4000;const SIGN_FADE_DELAY=3;const useWordQuizWidgetState=()=>{const[pollId,setPollId]=Object(react[\"useState\"])(-1);const[question,setQuestion]=Object(react[\"useState\"])(null);const[answerSent,setAnswerSent]=Object(react[\"useState\"])(false);const[questionClearTimeout,setQuestionClearTimeout]=Object(react[\"useState\"])(null);const[answerCounts,setAnswerCounts]=Object(react[\"useState\"])(new Map());const[userAnswers,setUserAnswers]=Object(react[\"useState\"])(new Map());const{answerPoll=null}=usePollWidget();const{roomSession=null}=useRoom();const clearQuestion=()=>{setPollId(-1);setQuestion(null);};const vote=vote=>{if(answerSent||!question)return;answerPoll(pollId,question.id,[vote]);setAnswerSent(true);};const checkSignFade=Object(react[\"useCallback\"])(()=>{setUserAnswers(prevValue=>{const keysToRemove=[];prevValue.forEach((value,key)=>{value.secondsLeft--;if(value.secondsLeft<=0)keysToRemove.push(key);});if(keysToRemove.length===0)return prevValue;const copy=new Map(prevValue);keysToRemove.forEach(key=>copy.delete(key));return copy;});},[]);useRoomSessionManagerEvent(nitro_renderer[\"vh\" /* RoomSessionWordQuizEvent */].ANSWERED,event=>{const userData=roomSession.userDataManager.getUserData(event.userId);if(!userData)return;setAnswerCounts(event.answerCounts);setUserAnswers(prevValue=>{if(!prevValue.has(userData.roomIndex)){const newValue=new Map(userAnswers);newValue.set(userData.roomIndex,{value:event.value,secondsLeft:SIGN_FADE_DELAY});return newValue;}return prevValue;});if(event.value==='0'){GetRoomEngine().updateRoomObjectUserGesture(roomSession.roomId,userData.roomIndex,nitro_renderer[\"l\" /* AvatarAction */].getGestureId(nitro_renderer[\"l\" /* AvatarAction */].GESTURE_SAD));}else{GetRoomEngine().updateRoomObjectUserGesture(roomSession.roomId,userData.roomIndex,nitro_renderer[\"l\" /* AvatarAction */].getGestureId(nitro_renderer[\"l\" /* AvatarAction */].GESTURE_SMILE));}});useRoomSessionManagerEvent(nitro_renderer[\"vh\" /* RoomSessionWordQuizEvent */].FINISHED,event=>{if(question&&question.id===event.questionId){setAnswerCounts(event.answerCounts);setAnswerSent(true);setQuestionClearTimeout(prevValue=>{if(prevValue)clearTimeout(prevValue);return setTimeout(()=>clearQuestion(),DEFAULT_DISPLAY_DELAY);});}setUserAnswers(new Map());});useRoomSessionManagerEvent(nitro_renderer[\"vh\" /* RoomSessionWordQuizEvent */].QUESTION,event=>{setPollId(event.id);setQuestion(event.question);setAnswerSent(false);setAnswerCounts(new Map());setUserAnswers(new Map());setQuestionClearTimeout(prevValue=>{if(prevValue)clearTimeout(prevValue);if(event.duration>0){const delay=event.duration<1000?DEFAULT_DISPLAY_DELAY:event.duration;return setTimeout(()=>clearQuestion(),delay);}return null;});});Object(react[\"useEffect\"])(()=>{const interval=setInterval(()=>checkSignFade(),1000);return()=>clearInterval(interval);},[checkSignFade]);Object(react[\"useEffect\"])(()=>{return()=>{setQuestionClearTimeout(prevValue=>{if(prevValue)clearTimeout(prevValue);return null;});};},[]);return{question,answerSent,answerCounts,userAnswers,vote};};const useWordQuizWidget=useWordQuizWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/rooms/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/session/useSessionInfo.ts\nconst useSessionInfoState=()=>{const[userInfo,setUserInfo]=Object(react[\"useState\"])(null);const[userFigure,setUserFigure]=Object(react[\"useState\"])(null);const[chatStyleId,setChatStyleId]=Object(react[\"useState\"])(0);const[userRespectRemaining,setUserRespectRemaining]=Object(react[\"useState\"])(0);const[petRespectRemaining,setPetRespectRemaining]=Object(react[\"useState\"])(0);const[screenSize,setScreenSize]=useLocalStorage('nitro.screensize',{width:window.innerWidth,height:window.innerHeight});const updateChatStyleId=styleId=>{setChatStyleId(styleId);SendMessageComposer(new nitro_renderer[\"Dh\" /* RoomUnitChatStyleComposer */](styleId));};const respectUser=userId=>{GetSessionDataManager().giveRespect(userId);setUserRespectRemaining(GetSessionDataManager().respectsLeft);};const respectPet=petId=>{GetSessionDataManager().givePetRespect(petId);setPetRespectRemaining(GetSessionDataManager().respectsPetLeft);};useMessageEvent(nitro_renderer[\"Vi\" /* UserInfoEvent */],event=>{const parser=event.getParser();setUserInfo(parser.userInfo);setUserFigure(parser.userInfo.figure);setUserRespectRemaining(parser.userInfo.respectsRemaining);setPetRespectRemaining(parser.userInfo.respectsPetRemaining);});useMessageEvent(nitro_renderer[\"Lb\" /* FigureUpdateEvent */],event=>{const parser=event.getParser();setUserFigure(parser.figure);});useMessageEvent(nitro_renderer[\"cj\" /* UserSettingsEvent */],event=>{const parser=event.getParser();setChatStyleId(parser.chatType);});Object(react[\"useEffect\"])(()=>{const currentScreenSize=GetLocalStorage('nitro.screensize');if(currentScreenSize&&(currentScreenSize.width!==window.innerWidth||currentScreenSize.height!==window.innerHeight)){let i=window.localStorage.length;while(i>0){const key=window.localStorage.key(i);if(key&&key.startsWith('nitro.window'))window.localStorage.removeItem(key);i--;}}const onResize=event=>setScreenSize({width:window.innerWidth,height:window.innerHeight});window.addEventListener('resize',onResize);return()=>{window.removeEventListener('resize',onResize);};},[setScreenSize]);return{userInfo,userFigure,chatStyleId,userRespectRemaining,petRespectRemaining,respectUser,respectPet,updateChatStyleId};};const useSessionInfo=()=>Object(index_esm[\"a\" /* useBetween */])(useSessionInfoState);\n// CONCATENATED MODULE: ./src/hooks/session/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/UseMountEffect.tsx\n// eslint-disable-next-line react-hooks/exhaustive-deps\nconst useEffectOnce=effect=>Object(react[\"useEffect\"])(effect,[]);const UseMountEffect=fn=>useEffectOnce(()=>fn());\n// CONCATENATED MODULE: ./src/hooks/index.ts\n\n// CONCATENATED MODULE: ./src/components/achievements/views/AchievementBadgeView.tsx\nconst AchievementBadgeView=props=>{const{achievement=null,scale=1,...rest}=props;if(!achievement)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:AchievementUtilities_AchievementUtilities.getAchievementBadgeCode(achievement),isGrayscale:!AchievementUtilities_AchievementUtilities.getAchievementHasStarted(achievement),scale:scale,...rest});};\n// CONCATENATED MODULE: ./src/components/achievements/views/achievement-list/AchievementListItemView.tsx\nconst AchievementListItemView=props=>{const{achievement=null,selectedAchievementId=-1,setSelectedAchievementId=null,children=null,...rest}=props;if(!achievement)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{itemActive:selectedAchievementId===achievement.achievementId,itemUnseen:achievement.unseen>0,onClick:event=>setSelectedAchievementId(achievement.achievementId),...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementBadgeView,{achievement:achievement}),children]});};\n// CONCATENATED MODULE: ./src/components/achievements/views/achievement-list/AchievementListView.tsx\nconst AchievementListView=props=>{const{achievements=null,selectedAchievementId=-1,setSelectedAchievementId=null,children=null,...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid,{columnCount:6,columnMinWidth:50,columnMinHeight:50,...rest,children:[achievements&&achievements.length>0&&achievements.map((achievement,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementListItemView,{achievement:achievement,selectedAchievementId:selectedAchievementId,setSelectedAchievementId:setSelectedAchievementId},index)),children]});};\n// CONCATENATED MODULE: ./src/components/achievements/views/AchievementDetailsView.tsx\nconst AchievementDetailsView=props=>{const{achievement=null,children=null,...rest}=props;if(!achievement)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{shrink:true,className:\"bg-muted rounded p-2 text-black\",gap:2,overflow:\"hidden\",...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementBadgeView,{className:\"nitro-achievements-badge-image\",achievement:achievement,scale:2}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:LocalizeText('achievements.details.level',['level','limit'],[AchievementUtilities_AchievementUtilities.getAchievementLevel(achievement).toString(),achievement.levelCount.toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullWidth:true,justifyContent:\"center\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",truncate:true,children:LocalizeBadgeName(AchievementUtilities_AchievementUtilities.getAchievementBadgeCode(achievement))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{textBreak:true,children:LocalizeBadgeDescription(AchievementUtilities_AchievementUtilities.getAchievementBadgeCode(achievement))})]}),(achievement.levelRewardPoints>0||achievement.scoreLimit>0)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[achievement.levelRewardPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,className:\"small\",children:LocalizeText('achievements.details.reward')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,className:\"fw-bold small\",gap:1,children:[achievement.levelRewardPoints,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:achievement.levelRewardPointType})]})]}),achievement.scoreLimit>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutProgressBar,{text:LocalizeText('achievements.details.progress',['progress','limit'],[(achievement.currentPoints+achievement.scoreAtStartOfLevel).toString(),(achievement.scoreLimit+achievement.scoreAtStartOfLevel).toString()]),progress:achievement.currentPoints+achievement.scoreAtStartOfLevel,maxProgress:achievement.scoreLimit+achievement.scoreAtStartOfLevel})]})]}),children]});};\n// CONCATENATED MODULE: ./src/components/achievements/views/AchievementCategoryView.tsx\nconst AchievementCategoryView=props=>{const{category=null,selectedAchievementId=-1,setSelectedAchievementId=null,setAchievementSeen=null}=props;const selectedAchievement=Object(react[\"useMemo\"])(()=>{if(selectedAchievementId===-1)return null;return category.achievements.find(achievement=>achievement.achievementId===selectedAchievementId);},[category,selectedAchievementId]);Object(react[\"useEffect\"])(()=>{if(!selectedAchievement){if(category.achievements.length)setSelectedAchievementId(category.achievements[0].achievementId);}},[selectedAchievement,category,setSelectedAchievementId]);Object(react[\"useEffect\"])(()=>{if(!selectedAchievement)return;setAchievementSeen(category.code,selectedAchievement.achievementId);},[selectedAchievement,category,setAchievementSeen]);if(!category)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullHeight:true,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementListView,{achievements:category.achievements,selectedAchievementId:selectedAchievementId,setSelectedAchievementId:setSelectedAchievementId}),!!selectedAchievement&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementDetailsView,{achievement:selectedAchievement})]});};\n// CONCATENATED MODULE: ./src/components/achievements/views/category-list/AchievementsCategoryListItemView.tsx\nconst AchievementsCategoryListItemView=props=>{const{category=null,selectedCategoryCode=null,setSelectedCategoryCode=null,children=null,...rest}=props;if(!category)return null;const progress=AchievementUtilities_AchievementUtilities.getAchievementCategoryProgress(category);const maxProgress=AchievementUtilities_AchievementUtilities.getAchievementCategoryMaxProgress(category);const getCategoryImage=AchievementUtilities_AchievementUtilities.getAchievementCategoryImageUrl(category,progress);const getTotalUnseen=AchievementUtilities_AchievementUtilities.getAchievementCategoryTotalUnseen(category);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{itemActive:selectedCategoryCode===category.code,itemCount:getTotalUnseen,itemCountMinimum:0,gap:1,onClick:event=>setSelectedCategoryCode(category.code),...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fullWidth:true,center:true,small:true,className:\"pt-1\",children:LocalizeText(`quests.${category.code}.name`)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBackgroundImage,{position:\"relative\",imageUrl:getCategoryImage,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{fullWidth:true,center:true,position:\"absolute\",variant:\"white\",style:{fontSize:12,bottom:9},children:[progress,\" / \",maxProgress]})}),children]});};\n// CONCATENATED MODULE: ./src/components/achievements/views/category-list/AchievementsCategoryListView.tsx\nconst AchievementsCategoryListView=props=>{const{categories=null,selectedCategoryCode=null,setSelectedCategoryCode=null,children=null,...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid,{columnCount:3,columnMinWidth:90,columnMinHeight:100,...rest,children:[categories&&categories.length>0&&categories.map((category,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementsCategoryListItemView,{category:category,selectedCategoryCode:selectedCategoryCode,setSelectedCategoryCode:setSelectedCategoryCode},index)),children]});};\n// CONCATENATED MODULE: ./src/components/achievements/AchievementsView.tsx\nconst AchievementsView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{achievementCategories=[],selectedCategoryCode=null,setSelectedCategoryCode=null,selectedAchievementId=-1,setSelectedAchievementId=null,achievementScore=0,getProgress=0,getMaxProgress=0,setAchievementSeen=null}=useAchievements();const selectedCategory=Object(react[\"useMemo\"])(()=>{if(selectedCategoryCode===null)return null;return achievementCategories.find(category=>category.code===selectedCategoryCode);},[achievementCategories,selectedCategoryCode]);Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;}},eventUrlPrefix:'achievements/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"achievements\",className:\"nitro-achievements\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('inventory.achievements'),onCloseClick:event=>setIsVisible(false)}),selectedCategory&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardSubHeaderView,{position:\"relative\",className:\"justify-content-center align-items-center cursor-pointer\",gap:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{onClick:event=>setSelectedCategoryCode(null),className:\"nitro-achievements-back-arrow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:4,fontWeight:\"bold\",className:\"text-small\",children:LocalizeText(`quests.${selectedCategory.code}.name`)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('achievements.details.categoryprogress',['progress','limit'],[selectedCategory.getProgress().toString(),selectedCategory.getMaxProgress().toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:AchievementUtilities_AchievementUtilities.getAchievementCategoryImageUrl(selectedCategory,null,true)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{gap:1,children:[!selectedCategory&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementsCategoryListView,{categories:achievementCategories,selectedCategoryCode:selectedCategoryCode,setSelectedCategoryCode:setSelectedCategoryCode}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,center:true,children:LocalizeText('achievements.categories.score',['score'],[achievementScore.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutProgressBar,{text:LocalizeText('achievements.categories.totalprogress',['progress','limit'],[getProgress.toString(),getMaxProgress.toString()]),progress:getProgress,maxProgress:getMaxProgress})]})]}),selectedCategory&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementCategoryView,{category:selectedCategory,selectedAchievementId:selectedAchievementId,setSelectedAchievementId:setSelectedAchievementId,setAchievementSeen:setAchievementSeen})]})]});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/AvatarEditorIcon.tsx\nconst AvatarEditorIcon=props=>{const{icon=null,selected=false,classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-avatar-editor-spritesheet'];if(icon&&icon.length)newClassNames.push(icon+'-icon');if(selected)newClassNames.push('selected');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[icon,selected,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{classNames:getClassNames,...rest});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/AvatarEditorFigurePreviewView.tsx\nconst AvatarEditorFigurePreviewView=props=>{const{figureData=null}=props;const[updateId,setUpdateId]=Object(react[\"useState\"])(-1);const rerender=Object(react[\"useCallback\"])(()=>{setUpdateId(prevValue=>prevValue+1);},[]);const rotateFigure=Object(react[\"useCallback\"])(direction=>{if(direction<nitro_renderer[\"m\" /* AvatarDirectionAngle */].MIN_DIRECTION){direction=nitro_renderer[\"m\" /* AvatarDirectionAngle */].MAX_DIRECTION+(direction+1);}if(direction>nitro_renderer[\"m\" /* AvatarDirectionAngle */].MAX_DIRECTION){direction=direction-(nitro_renderer[\"m\" /* AvatarDirectionAngle */].MAX_DIRECTION+1);}figureData.direction=direction;},[figureData]);Object(react[\"useEffect\"])(()=>{if(!figureData)return;figureData.notify=rerender;return()=>{figureData.notify=null;};},[figureData,rerender]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"figure-preview-container\",overflow:\"hidden\",position:\"relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:figureData.getFigureString(),direction:figureData.direction,scale:2}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon,{className:\"avatar-spotlight\",icon:\"spotlight\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"avatar-shadow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"arrow-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon,{pointer:true,icon:\"arrow-left\",onClick:event=>rotateFigure(figureData.direction+1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon,{pointer:true,icon:\"arrow-right\",onClick:event=>rotateFigure(figureData.direction-1)})]})]});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/figure-set/AvatarEditorFigureSetItemView.tsx\nconst AvatarEditorFigureSetItemView=props=>{const{partItem=null,children=null,...rest}=props;const[updateId,setUpdateId]=Object(react[\"useState\"])(-1);const hcDisabled=GetConfiguration('hc.disabled',false);Object(react[\"useEffect\"])(()=>{const rerender=()=>setUpdateId(prevValue=>prevValue+1);partItem.notify=rerender;return()=>partItem.notify=null;},[partItem]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{itemImage:partItem.isClear?undefined:partItem.imageUrl,itemActive:partItem.isSelected,...rest,children:[!hcDisabled&&partItem.isHC&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{className:\"position-absolute end-1 bottom-1\",type:\"hc\"}),partItem.isClear&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon,{icon:\"clear\"}),partItem.isSellable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon,{icon:\"sellable\",position:\"absolute\",className:\"end-1 bottom-1\"}),children]});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/figure-set/AvatarEditorFigureSetView.tsx\nconst AvatarEditorFigureSetView=props=>{const{model=null,category=null,setMaxPaletteCount=null}=props;const elementRef=Object(react[\"useRef\"])(null);const selectPart=Object(react[\"useCallback\"])(item=>{const index=category.parts.indexOf(item);if(index===-1)return;model.selectPart(category.name,index);const partItem=category.getCurrentPart();setMaxPaletteCount(partItem.maxColorIndex||1);},[model,category,setMaxPaletteCount]);Object(react[\"useEffect\"])(()=>{if(!model||!category||!elementRef||!elementRef.current)return;elementRef.current.scrollTop=0;},[model,category]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{innerRef:elementRef,columnCount:3,columnMinHeight:50,children:category.parts.length>0&&category.parts.map((item,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorFigureSetItemView,{partItem:item,onClick:event=>selectPart(item)},index))});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/palette-set/AvatarEditorPaletteSetItemView.tsx\nconst AvatarEditorPaletteSetItem=props=>{const{colorItem=null,children=null,...rest}=props;const[updateId,setUpdateId]=Object(react[\"useState\"])(-1);const hcDisabled=GetConfiguration('hc.disabled',false);Object(react[\"useEffect\"])(()=>{const rerender=()=>setUpdateId(prevValue=>prevValue+1);colorItem.notify=rerender;return()=>colorItem.notify=null;},[colorItem]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{itemHighlight:true,itemColor:colorItem.color,itemActive:colorItem.isSelected,className:\"clear-bg\",...rest,children:[!hcDisabled&&colorItem.isHC&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{className:\"position-absolute end-1 bottom-1\",type:\"hc\"}),children]});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/palette-set/AvatarEditorPaletteSetView.tsx\nconst AvatarEditorPaletteSetView=props=>{const{model=null,category=null,paletteSet=[],paletteIndex=-1}=props;const elementRef=Object(react[\"useRef\"])(null);const selectColor=Object(react[\"useCallback\"])(item=>{const index=paletteSet.indexOf(item);if(index===-1)return;model.selectColor(category.name,index,paletteIndex);},[model,category,paletteSet,paletteIndex]);Object(react[\"useEffect\"])(()=>{if(!model||!category||!elementRef||!elementRef.current)return;elementRef.current.scrollTop=0;},[model,category]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{innerRef:elementRef,gap:1,columnCount:5,columnMinWidth:30,children:paletteSet.length>0&&paletteSet.map((item,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorPaletteSetItem,{colorItem:item,onClick:event=>selectColor(item)},index))});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/AvatarEditorModelView.tsx\nconst AvatarEditorModelView=props=>{const{model=null,gender=null,setGender=null}=props;const[activeCategory,setActiveCategory]=Object(react[\"useState\"])(null);const[maxPaletteCount,setMaxPaletteCount]=Object(react[\"useState\"])(1);const selectCategory=Object(react[\"useCallback\"])(name=>{const category=model.categories.get(name);if(!category)return;category.init();setActiveCategory(category);for(const part of category.parts){if(!part||!part.isSelected)continue;setMaxPaletteCount(part.maxColorIndex||1);break;}},[model]);Object(react[\"useEffect\"])(()=>{model.init();for(const name of model.categories.keys()){selectCategory(name);break;}},[model,selectCategory]);if(!model||!activeCategory)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:2,children:[model.canSetGender&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:\"category-item\",onClick:event=>setGender(FigureData_FigureData.MALE),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon,{icon:\"male\",selected:gender===FigureData_FigureData.MALE})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:\"category-item\",onClick:event=>setGender(FigureData_FigureData.FEMALE),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon,{icon:\"female\",selected:gender===FigureData_FigureData.FEMALE})})]}),!model.canSetGender&&model.categories&&model.categories.size>0&&Array.from(model.categories.keys()).map(name=>{const category=model.categories.get(name);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:\"category-item\",onClick:event=>selectCategory(name),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon,{icon:category.name,selected:activeCategory===category})},name);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorFigureSetView,{model:model,category:activeCategory,setMaxPaletteCount:setMaxPaletteCount})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,overflow:\"hidden\",children:[maxPaletteCount>=1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorPaletteSetView,{model:model,category:activeCategory,paletteSet:activeCategory.getPalette(0),paletteIndex:0}),maxPaletteCount===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorPaletteSetView,{model:model,category:activeCategory,paletteSet:activeCategory.getPalette(1),paletteIndex:1})]})]});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/AvatarEditorWardrobeView.tsx\nconst AvatarEditorWardrobeView=props=>{const{figureData=null,savedFigures=[],setSavedFigures=null,loadAvatarInEditor=null}=props;const hcDisabled=GetConfiguration('hc.disabled',false);const wearFigureAtIndex=Object(react[\"useCallback\"])(index=>{if(index>=savedFigures.length||index<0)return;const[figure,gender]=savedFigures[index];loadAvatarInEditor(figure.getFigureString(),gender);},[savedFigures,loadAvatarInEditor]);const saveFigureAtWardrobeIndex=Object(react[\"useCallback\"])(index=>{if(!figureData||index>=savedFigures.length||index<0)return;const newFigures=[...savedFigures];const figure=figureData.getFigureString();const gender=figureData.gender;newFigures[index]=[GetAvatarRenderManager().createFigureContainer(figure),gender];setSavedFigures(newFigures);SendMessageComposer(new nitro_renderer[\"Rh\" /* SaveWardrobeOutfitMessageComposer */](index+1,figure,gender));},[figureData,savedFigures,setSavedFigures]);const figures=Object(react[\"useMemo\"])(()=>{if(!savedFigures||!savedFigures.length)return[];const items=[];savedFigures.forEach((_ref,index)=>{let[figureContainer,gender]=_ref;let clubLevel=0;if(figureContainer)clubLevel=GetAvatarRenderManager().getFigureClubLevel(figureContainer,gender);items.push(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{position:\"relative\",overflow:\"hidden\",className:\"nitro-avatar-editor-wardrobe-figure-preview\",children:[figureContainer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:figureContainer.getFigureString(),gender:gender,direction:2}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"avatar-shadow\"}),!hcDisabled&&clubLevel>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{className:\"position-absolute top-1 start-1\",type:\"hc\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,className:\"button-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"link\",fullWidth:true,onClick:event=>saveFigureAtWardrobeIndex(index),children:LocalizeText('avatareditor.wardrobe.save')}),figureContainer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"link\",fullWidth:true,onClick:event=>wearFigureAtIndex(index),disabled:clubLevel>GetClubMemberLevel(),children:LocalizeText('generic_usable.button.use')})]})]},index));});return items;},[savedFigures,hcDisabled,saveFigureAtWardrobeIndex,wearFigureAtIndex]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:5,columnMinWidth:80,columnMinHeight:140,children:figures});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/AvatarEditorView.tsx\nconst DEFAULT_MALE_FIGURE='hr-100.hd-180-7.ch-215-66.lg-270-79.sh-305-62.ha-1002-70.wa-2007';const DEFAULT_FEMALE_FIGURE='hr-515-33.hd-600-1.ch-635-70.lg-716-66-62.sh-735-68';const AvatarEditorView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[figures,setFigures]=Object(react[\"useState\"])(null);const[figureData,setFigureData]=Object(react[\"useState\"])(null);const[categories,setCategories]=Object(react[\"useState\"])(null);const[activeCategory,setActiveCategory]=Object(react[\"useState\"])(null);const[figureSetIds,setFigureSetIds]=Object(react[\"useState\"])([]);const[boundFurnitureNames,setBoundFurnitureNames]=Object(react[\"useState\"])([]);const[savedFigures,setSavedFigures]=Object(react[\"useState\"])([]);const[isWardrobeVisible,setIsWardrobeVisible]=Object(react[\"useState\"])(false);const[lastFigure,setLastFigure]=Object(react[\"useState\"])(null);const[lastGender,setLastGender]=Object(react[\"useState\"])(null);const[needsReset,setNeedsReset]=Object(react[\"useState\"])(true);const[isInitalized,setIsInitalized]=Object(react[\"useState\"])(false);const maxWardrobeSlots=Object(react[\"useMemo\"])(()=>GetConfiguration('avatar.wardrobe.max.slots',10),[]);useMessageEvent(nitro_renderer[\"Kb\" /* FigureSetIdsMessageEvent */],event=>{const parser=event.getParser();setFigureSetIds(parser.figureSetIds);setBoundFurnitureNames(parser.boundsFurnitureNames);});useMessageEvent(nitro_renderer[\"jj\" /* UserWardrobePageEvent */],event=>{const parser=event.getParser();const savedFigures=[];let i=0;while(i<maxWardrobeSlots){savedFigures.push([null,null]);i++;}for(let[index,[look,gender]]of parser.looks.entries()){const container=GetAvatarRenderManager().createFigureContainer(look);savedFigures[index-1]=[container,gender];}setSavedFigures(savedFigures);});const selectCategory=Object(react[\"useCallback\"])(name=>{if(!categories)return;setActiveCategory(categories.get(name));},[categories]);const resetCategories=Object(react[\"useCallback\"])(()=>{const categories=new Map();categories.set(nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].GENERIC,new BodyModel_BodyModel());categories.set(nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].HEAD,new HeadModel_HeadModel());categories.set(nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].TORSO,new TorsoModel_TorsoModel());categories.set(nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].LEGS,new LegModel_LegModel());setCategories(categories);},[]);const setupFigures=Object(react[\"useCallback\"])(()=>{const figures=new Map();const maleFigure=new FigureData_FigureData();const femaleFigure=new FigureData_FigureData();maleFigure.loadAvatarData(DEFAULT_MALE_FIGURE,FigureData_FigureData.MALE);femaleFigure.loadAvatarData(DEFAULT_FEMALE_FIGURE,FigureData_FigureData.FEMALE);figures.set(FigureData_FigureData.MALE,maleFigure);figures.set(FigureData_FigureData.FEMALE,femaleFigure);setFigures(figures);setFigureData(figures.get(FigureData_FigureData.MALE));},[]);const loadAvatarInEditor=Object(react[\"useCallback\"])(function(figure,gender){let reset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;gender=AvatarEditorUtilities_AvatarEditorUtilities.getGender(gender);let newFigureData=figureData;if(gender!==newFigureData.gender)newFigureData=figures.get(gender);if(figure!==newFigureData.getFigureString())newFigureData.loadAvatarData(figure,gender);if(newFigureData!==figureData)setFigureData(newFigureData);if(reset){setLastFigure(figureData.getFigureString());setLastGender(figureData.gender);}},[figures,figureData]);const processAction=Object(react[\"useCallback\"])(action=>{switch(action){case AvatarEditorAction.ACTION_CLEAR:loadAvatarInEditor(figureData.getFigureStringWithFace(0,false),figureData.gender,false);resetCategories();return;case AvatarEditorAction.ACTION_RESET:loadAvatarInEditor(lastFigure,lastGender);resetCategories();return;case AvatarEditorAction.ACTION_RANDOMIZE:const figure=generateRandomFigure(figureData,figureData.gender,GetClubMemberLevel(),figureSetIds,[FigureData_FigureData.FACE]);loadAvatarInEditor(figure,figureData.gender,false);resetCategories();return;case AvatarEditorAction.ACTION_SAVE:SendMessageComposer(new nitro_renderer[\"Ti\" /* UserFigureComposer */](figureData.gender,figureData.getFigureString()));setIsVisible(false);return;}},[figureData,lastFigure,lastGender,figureSetIds,loadAvatarInEditor,resetCategories]);const setGender=Object(react[\"useCallback\"])(gender=>{gender=AvatarEditorUtilities_AvatarEditorUtilities.getGender(gender);setFigureData(figures.get(gender));},[figures]);Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;}},eventUrlPrefix:'avatar-editor/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);Object(react[\"useEffect\"])(()=>{setSavedFigures(new Array(maxWardrobeSlots));},[maxWardrobeSlots]);Object(react[\"useEffect\"])(()=>{if(!isWardrobeVisible)return;setActiveCategory(null);SendMessageComposer(new nitro_renderer[\"Vc\" /* GetWardrobeMessageComposer */]());},[isWardrobeVisible]);Object(react[\"useEffect\"])(()=>{if(!activeCategory)return;setIsWardrobeVisible(false);},[activeCategory]);Object(react[\"useEffect\"])(()=>{if(!categories)return;selectCategory(nitro_renderer[\"n\" /* AvatarEditorFigureCategory */].GENERIC);},[categories,selectCategory]);Object(react[\"useEffect\"])(()=>{if(!figureData)return;AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE=figureData;resetCategories();return()=>AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE=null;},[figureData,resetCategories]);Object(react[\"useEffect\"])(()=>{AvatarEditorUtilities_AvatarEditorUtilities.FIGURE_SET_IDS=figureSetIds;AvatarEditorUtilities_AvatarEditorUtilities.BOUND_FURNITURE_NAMES=boundFurnitureNames;resetCategories();return()=>{AvatarEditorUtilities_AvatarEditorUtilities.FIGURE_SET_IDS=null;AvatarEditorUtilities_AvatarEditorUtilities.BOUND_FURNITURE_NAMES=null;};},[figureSetIds,boundFurnitureNames,resetCategories]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;if(!figures){setupFigures();setIsInitalized(true);return;}},[isVisible,figures,setupFigures]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!isInitalized||!needsReset)return;loadAvatarInEditor(GetSessionDataManager().figure,GetSessionDataManager().gender);setNeedsReset(false);},[isVisible,isInitalized,needsReset,loadAvatarInEditor]);Object(react[\"useEffect\"])(()=>{if(isVisible)return;return()=>{setNeedsReset(true);};},[isVisible]);if(!isVisible||!figureData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"avatar-editor\",className:\"nitro-avatar-editor\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('avatareditor.title'),onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardTabsView,{children:[categories&&categories.size>0&&Array.from(categories.keys()).map(category=>{const isActive=activeCategory&&activeCategory.name===category;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:isActive,onClick:event=>selectCategory(category),children:LocalizeText(`avatareditor.category.${category}`)},category);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:isWardrobeVisible,onClick:event=>setIsWardrobeVisible(true),children:LocalizeText('avatareditor.category.wardrobe')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:9,overflow:\"hidden\",children:[activeCategory&&!isWardrobeVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorModelView,{model:activeCategory,gender:figureData.gender,setGender:setGender}),isWardrobeVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorWardrobeView,{figureData:figureData,savedFigures:savedFigures,setSavedFigures:setSavedFigures,loadAvatarInEditor:loadAvatarInEditor})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:3,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorFigurePreviewView,{figureData:figureData}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:event=>processAction(AvatarEditorAction.ACTION_RESET),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"undo\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:event=>processAction(AvatarEditorAction.ACTION_CLEAR),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"trash\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:event=>processAction(AvatarEditorAction.ACTION_RANDOMIZE),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"dice\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{className:\"w-100\",variant:\"success\",onClick:event=>processAction(AvatarEditorAction.ACTION_SAVE),children:LocalizeText('avatareditor.save')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/camera/views/CameraWidgetCaptureView.tsx\nconst CAMERA_ROLL_LIMIT=5;const CameraWidgetCaptureView=props=>{const{onClose=null,onEdit=null,onDelete=null}=props;const{cameraRoll=null,setCameraRoll=null,selectedPictureIndex=-1,setSelectedPictureIndex=null}=useCamera();const{simpleAlert=null}=useNotification();const elementRef=Object(react[\"useRef\"])();const selectedPicture=selectedPictureIndex>-1?cameraRoll[selectedPictureIndex]:null;const getCameraBounds=Object(react[\"useCallback\"])(()=>{if(!elementRef||!elementRef.current)return null;const frameBounds=elementRef.current.getBoundingClientRect();return new nitro_renderer[\"of\" /* NitroRectangle */](Math.floor(frameBounds.x),Math.floor(frameBounds.y),Math.floor(frameBounds.width),Math.floor(frameBounds.height));},[]);const takePicture=Object(react[\"useCallback\"])(()=>{if(selectedPictureIndex>-1){setSelectedPictureIndex(-1);return;}const texture=GetRoomEngine().createTextureFromRoom(GetRoomSession().roomId,1,getCameraBounds());const clone=[...cameraRoll];if(clone.length>=CAMERA_ROLL_LIMIT){simpleAlert(LocalizeText('camera.full.body'));clone.pop();}PlaySound(SoundNames.CAMERA_SHUTTER);clone.push(new CameraPicture(texture,nitro_renderer[\"fi\" /* TextureUtils */].generateImageUrl(texture)));setCameraRoll(clone);},[cameraRoll,selectedPictureIndex,getCameraBounds,setCameraRoll,setSelectedPictureIndex,simpleAlert]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow,{uniqueKey:\"nitro-camera-capture\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,className:\"nitro-camera-capture\",gap:0,children:[selectedPicture&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",className:\"camera-area\",src:selectedPicture.imageUrl}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"camera-canvas drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute header-close\",onClick:onClose,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})}),!selectedPicture&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:elementRef,className:\"camera-area camera-view-finder\"}),selectedPicture&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"camera-area camera-frame\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"camera-frame-preview-actions w-100 position-absolute bottom-0 py-2 text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success me-3\",title:LocalizeText('camera.editor.button.tooltip'),onClick:onEdit,children:LocalizeText('camera.editor.button.text')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-danger\",onClick:onDelete,children:LocalizeText('camera.delete.button.text')})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"camera-button\",title:LocalizeText('camera.take.photo.button.tooltip'),onClick:takePicture})})]}),cameraRoll.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{gap:2,justifyContent:\"center\",className:\"camera-roll d-flex justify-content-center py-2\",children:cameraRoll.map((picture,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:picture.imageUrl,onClick:event=>setSelectedPictureIndex(index)},index);})})]})});};\n// CONCATENATED MODULE: ./src/components/camera/views/CameraWidgetCheckoutView.tsx\nconst CameraWidgetCheckoutView=props=>{const{base64Url=null,onCloseClick=null,onCancelClick=null,price=null}=props;const[pictureUrl,setPictureUrl]=Object(react[\"useState\"])(null);const[publishUrl,setPublishUrl]=Object(react[\"useState\"])(null);const[picturesBought,setPicturesBought]=Object(react[\"useState\"])(0);const[wasPicturePublished,setWasPicturePublished]=Object(react[\"useState\"])(false);const[isWaiting,setIsWaiting]=Object(react[\"useState\"])(false);const[publishCooldown,setPublishCooldown]=Object(react[\"useState\"])(0);const publishDisabled=Object(react[\"useMemo\"])(()=>GetConfiguration('camera.publish.disabled',false),[]);useMessageEvent(nitro_renderer[\"W\" /* CameraPurchaseOKMessageEvent */],event=>{setPicturesBought(value=>value+1);setIsWaiting(false);});useMessageEvent(nitro_renderer[\"V\" /* CameraPublishStatusMessageEvent */],event=>{const parser=event.getParser();setPublishUrl(parser.extraDataId);setPublishCooldown(parser.secondsToWait);setWasPicturePublished(parser.ok);setIsWaiting(false);});useMessageEvent(nitro_renderer[\"X\" /* CameraStorageUrlMessageEvent */],event=>{const parser=event.getParser();setPictureUrl(GetConfiguration('camera.url')+'/'+parser.url);});const processAction=function(type){let value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close':onCloseClick();return;case'buy':if(isWaiting)return;setIsWaiting(true);SendMessageComposer(new nitro_renderer[\"Wf\" /* PurchasePhotoMessageComposer */](''));return;case'publish':if(isWaiting)return;setIsWaiting(true);SendMessageComposer(new nitro_renderer[\"Qf\" /* PublishPhotoMessageComposer */]());return;case'cancel':onCancelClick();return;}};Object(react[\"useEffect\"])(()=>{if(!base64Url)return;GetRoomEngine().saveBase64AsScreenshot(base64Url);},[base64Url]);if(!price)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-camera-checkout\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('camera.confirm_phase.title'),onCloseClick:event=>processAction('close')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,children:[pictureUrl&&pictureUrl.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{className:\"picture-preview border\",imageUrl:pictureUrl}),(!pictureUrl||!pictureUrl.length)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"picture-preview border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('camera.loading')})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",className:\"bg-muted rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:publishDisabled?10:6,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('camera.purchase.header')}),(price.credits>0||price.duckets>0)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('catalog.purchase.confirmation.dialog.cost')}),price.credits>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:price.credits}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:-1})]}),price.duckets>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:price.duckets}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:5})]})]}),picturesBought>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('camera.purchase.count.info')}),\" \",picturesBought,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"u\",{className:\"ms-1 cursor-pointer\",onClick:()=>CreateLinkEvent('inventory/toggle'),children:LocalizeText('camera.open.inventory')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",disabled:isWaiting,onClick:event=>processAction('buy'),children:LocalizeText(!picturesBought?'buy':'camera.buy.another.button.text')})})]}),!publishDisabled&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",className:\"bg-muted rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText(wasPicturePublished?'camera.publish.successful':'camera.publish.explanation')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(wasPicturePublished?'camera.publish.success.short.info':'camera.publish.detailed.explanation')}),wasPicturePublished&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:publishUrl,rel:\"noreferrer\",target:\"_blank\",children:LocalizeText('camera.link.to.published')}),!wasPicturePublished&&price.publishDucketPrice>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('catalog.purchase.confirmation.dialog.cost')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:price.publishDucketPrice}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:5})]})]}),publishCooldown>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mt-1 text-center fw-bold\",children:LocalizeText('camera.publish.wait',['minutes'],[Math.ceil(publishCooldown/60).toString()])})]}),!wasPicturePublished&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{className:\"d-flex align-items-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",disabled:isWaiting||publishCooldown>0,onClick:event=>processAction('publish'),children:LocalizeText('camera.publish.button.text')})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,children:LocalizeText('camera.warning.disclaimer')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>processAction('cancel'),children:LocalizeText('generic.cancel')})})]})]});};\n// EXTERNAL MODULE: ./node_modules/react-slider/dist/es/prod/index.js + 3 modules\nvar prod = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/components/camera/views/editor/effect-list/CameraWidgetEffectListItemView.tsx\nconst CameraWidgetEffectListItemView=props=>{const{effect=null,thumbnailUrl=null,isActive=false,isLocked=false,selectEffect=null,removeEffect=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{title:LocalizeText(!isLocked?`camera.effect.name.${effect.name}`:`camera.effect.required.level ${effect.minLevel}`),itemActive:isActive,onClick:event=>!isActive&&selectEffect(),children:[isActive&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",className:\"rounded-circle remove-effect\",onClick:removeEffect,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})}),!isLocked&&thumbnailUrl&&thumbnailUrl.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"effect-thumbnail-image border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:thumbnailUrl})}),isLocked&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{center:true,bold:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"lock\"})}),effect.minLevel]})]});};\n// CONCATENATED MODULE: ./src/components/camera/views/editor/effect-list/CameraWidgetEffectListView.tsx\nconst CameraWidgetEffectListView=props=>{const{myLevel=0,selectedEffects=[],effects=[],thumbnails=[],processAction=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{columnCount:3,overflow:\"auto\",children:effects&&effects.length>0&&effects.map((effect,index)=>{const thumbnailUrl=thumbnails.find(thumbnail=>thumbnail.effectName===effect.name);const isActive=selectedEffects.findIndex(selectedEffect=>selectedEffect.effect.name===effect.name)>-1;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetEffectListItemView,{effect:effect,thumbnailUrl:thumbnailUrl&&thumbnailUrl.thumbnailUrl||null,isActive:isActive,isLocked:effect.minLevel>myLevel,selectEffect:()=>processAction('select_effect',effect.name),removeEffect:()=>processAction('remove_effect',effect.name)},index);})});};\n// CONCATENATED MODULE: ./src/components/camera/views/editor/CameraWidgetEditorView.tsx\nconst TABS=[CameraEditorTabs.COLORMATRIX,CameraEditorTabs.COMPOSITE];const CameraWidgetEditorView=props=>{const{picture=null,availableEffects=null,myLevel=1,onClose=null,onCancel=null,onCheckout=null}=props;const[currentTab,setCurrentTab]=Object(react[\"useState\"])(TABS[0]);const[selectedEffectName,setSelectedEffectName]=Object(react[\"useState\"])(null);const[selectedEffects,setSelectedEffects]=Object(react[\"useState\"])([]);const[effectsThumbnails,setEffectsThumbnails]=Object(react[\"useState\"])([]);const[isZoomed,setIsZoomed]=Object(react[\"useState\"])(false);const getColorMatrixEffects=Object(react[\"useMemo\"])(()=>{return availableEffects.filter(effect=>effect.colorMatrix);},[availableEffects]);const getCompositeEffects=Object(react[\"useMemo\"])(()=>{return availableEffects.filter(effect=>effect.texture);},[availableEffects]);const getEffectList=Object(react[\"useCallback\"])(()=>{if(currentTab===CameraEditorTabs.COLORMATRIX){return getColorMatrixEffects;}return getCompositeEffects;},[currentTab,getColorMatrixEffects,getCompositeEffects]);const getSelectedEffectIndex=Object(react[\"useCallback\"])(name=>{if(!name||!name.length||!selectedEffects||!selectedEffects.length)return-1;return selectedEffects.findIndex(effect=>effect.effect.name===name);},[selectedEffects]);const getCurrentEffectIndex=Object(react[\"useMemo\"])(()=>{return getSelectedEffectIndex(selectedEffectName);},[selectedEffectName,getSelectedEffectIndex]);const getCurrentEffect=Object(react[\"useMemo\"])(()=>{if(!selectedEffectName)return null;return selectedEffects[getCurrentEffectIndex]||null;},[selectedEffectName,getCurrentEffectIndex,selectedEffects]);const setSelectedEffectAlpha=Object(react[\"useCallback\"])(alpha=>{const index=getCurrentEffectIndex;if(index===-1)return;setSelectedEffects(prevValue=>{const clone=[...prevValue];const currentEffect=clone[index];clone[getCurrentEffectIndex]=new nitro_renderer[\"ug\" /* RoomCameraWidgetSelectedEffect */](currentEffect.effect,alpha);return clone;});},[getCurrentEffectIndex,setSelectedEffects]);const getCurrentPictureUrl=Object(react[\"useMemo\"])(()=>{return GetRoomCameraWidgetManager().applyEffects(picture.texture,selectedEffects,isZoomed).src;},[picture,selectedEffects,isZoomed]);const processAction=Object(react[\"useCallback\"])(function(type){let effectName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close':onClose();return;case'cancel':onCancel();return;case'checkout':onCheckout(getCurrentPictureUrl);return;case'change_tab':setCurrentTab(String(effectName));return;case'select_effect':{let existingIndex=getSelectedEffectIndex(effectName);if(existingIndex>=0)return;const effect=availableEffects.find(effect=>effect.name===effectName);if(!effect)return;setSelectedEffects(prevValue=>{return[...prevValue,new nitro_renderer[\"ug\" /* RoomCameraWidgetSelectedEffect */](effect,1)];});setSelectedEffectName(effect.name);return;}case'remove_effect':{let existingIndex=getSelectedEffectIndex(effectName);if(existingIndex===-1)return;setSelectedEffects(prevValue=>{const clone=[...prevValue];clone.splice(existingIndex,1);return clone;});if(selectedEffectName===effectName)setSelectedEffectName(null);return;}case'clear_effects':setSelectedEffectName(null);setSelectedEffects([]);return;case'download':{const image=new Image();image.src=getCurrentPictureUrl;const newWindow=window.open('');newWindow.document.write(image.outerHTML);return;}case'zoom':setIsZoomed(!isZoomed);return;}},[isZoomed,availableEffects,selectedEffectName,getCurrentPictureUrl,getSelectedEffectIndex,onCancel,onCheckout,onClose,setIsZoomed,setSelectedEffects]);Object(react[\"useEffect\"])(()=>{const thumbnails=[];for(const effect of availableEffects){thumbnails.push(new CameraPictureThumbnail(effect.name,GetRoomCameraWidgetManager().applyEffects(picture.texture,[new nitro_renderer[\"ug\" /* RoomCameraWidgetSelectedEffect */](effect,1)],false).src));}setEffectsThumbnails(thumbnails);},[picture,availableEffects]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-camera-editor\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('camera.editor.button.text'),onCloseClick:event=>processAction('close')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView,{children:TABS.map(tab=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:currentTab===tab,onClick:event=>processAction('change_tab',tab),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'icon icon-camera-'+tab})},tab);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetEffectListView,{myLevel:myLevel,selectedEffects:selectedEffects,effects:getEffectList(),thumbnails:effectsThumbnails,processAction:processAction})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,justifyContent:\"between\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:getCurrentPictureUrl,className:\"picture-preview\"}),selectedEffectName&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('camera.effect.name.'+selectedEffectName)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:1,step:0.01,value:getCurrentEffect.alpha,onChange:event=>setSelectedEffectAlpha(event),renderThumb:(props,state)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{...props,children:state.valueNow})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>processAction('clear_effects'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"trash\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>processAction('download'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"save\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>processAction('zoom'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:isZoomed?'search-minus':'search-plus'})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>processAction('cancel'),children:LocalizeText('generic.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>processAction('checkout'),children:LocalizeText('camera.preview.button.text')})]})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/camera/CameraWidgetView.tsx\nconst MODE_NONE=0;const MODE_CAPTURE=1;const MODE_EDITOR=2;const MODE_CHECKOUT=3;const CameraWidgetView=props=>{const[mode,setMode]=Object(react[\"useState\"])(MODE_NONE);const[base64Url,setSavedPictureUrl]=Object(react[\"useState\"])(null);const{availableEffects=[],selectedPictureIndex=-1,cameraRoll=[],setCameraRoll=null,myLevel=0,price={credits:0,duckets:0,publishDucketPrice:0}}=useCamera();const processAction=type=>{switch(type){case'close':setMode(MODE_NONE);return;case'edit':setMode(MODE_EDITOR);return;case'delete':setCameraRoll(prevValue=>{const clone=[...prevValue];clone.splice(selectedPictureIndex,1);return clone;});return;case'editor_cancel':setMode(MODE_CAPTURE);return;}};const checkoutPictureUrl=Object(react[\"useCallback\"])(pictureUrl=>{setSavedPictureUrl(pictureUrl);setMode(MODE_CHECKOUT);},[]);useRoomSessionManagerEvent(nitro_renderer[\"mh\" /* RoomSessionEvent */].ENDED,event=>setMode(MODE_NONE));Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setMode(MODE_CAPTURE);return;case'hide':setMode(MODE_NONE);return;case'toggle':setMode(prevValue=>{if(!prevValue)return MODE_CAPTURE;else return MODE_NONE;});return;}},eventUrlPrefix:'camera/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);if(mode===MODE_NONE)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[mode===MODE_CAPTURE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetCaptureView,{onClose:()=>processAction('close'),onEdit:()=>processAction('edit'),onDelete:()=>processAction('delete')}),mode===MODE_EDITOR&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetEditorView,{picture:cameraRoll[selectedPictureIndex],myLevel:myLevel,onClose:()=>processAction('close'),onCancel:()=>processAction('editor_cancel'),onCheckout:checkoutPictureUrl,availableEffects:availableEffects}),mode===MODE_CHECKOUT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetCheckoutView,{base64Url:base64Url,onCloseClick:()=>processAction('close'),onCancelClick:()=>processAction('editor_cancel'),price:price})]});};\n// CONCATENATED MODULE: ./src/components/campaign/CalendarItemView.tsx\nconst CalendarItemView=props=>{const{itemId=-1,state=null,product=null,active=false,onClick=null}=props;const getFurnitureIcon=name=>{let furniData=GetSessionDataManager().getFloorItemDataByName(name);let url=null;if(furniData)url=GetRoomEngine().getFurnitureFloorIconUrl(furniData.id);else{furniData=GetSessionDataManager().getWallItemDataByName(name);if(furniData)url=GetRoomEngine().getFurnitureWallIconUrl(furniData.id);}return url;};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fit:true,center:true,pointer:true,className:`campaign-spritesheet campaign-day-generic-bg rounded calendar-item ${active?'active':''}`,onClick:()=>onClick(itemId),children:[state===CalendarItemState.STATE_UNLOCKED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"campaign-spritesheet unlocked-bg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"campaign-spritesheet campaign-opened\",children:product&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:product.customImage?GetConfiguration('image.library.url')+product.customImage:getFurnitureIcon(product.productName)})})}),state!==CalendarItemState.STATE_UNLOCKED&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,className:\"campaign-spritesheet locked-bg\",children:[state===CalendarItemState.STATE_LOCKED_AVAILABLE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"campaign-spritesheet available\"}),(state===CalendarItemState.STATE_LOCKED_EXPIRED||state===CalendarItemState.STATE_LOCKED_FUTURE)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"campaign-spritesheet unavailable\"})]})]});};\n// CONCATENATED MODULE: ./src/components/campaign/CalendarView.tsx\nconst TOTAL_SHOWN_ITEMS=5;const CalendarView=props=>{const{onClose=null,campaignName=null,currentDay=null,numDays=null,missedDays=null,openedDays=null,openPackage=null,receivedProducts=null}=props;const[selectedDay,setSelectedDay]=Object(react[\"useState\"])(currentDay);const[index,setIndex]=Object(react[\"useState\"])(Math.max(0,selectedDay-1));const getDayState=day=>{if(openedDays.includes(day))return CalendarItemState.STATE_UNLOCKED;if(day>currentDay)return CalendarItemState.STATE_LOCKED_FUTURE;if(missedDays.includes(day))return CalendarItemState.STATE_LOCKED_EXPIRED;return CalendarItemState.STATE_LOCKED_AVAILABLE;};const dayMessage=day=>{const state=getDayState(day);switch(state){case CalendarItemState.STATE_UNLOCKED:return LocalizeText('campaign.calendar.info.unlocked');case CalendarItemState.STATE_LOCKED_FUTURE:return LocalizeText('campaign.calendar.info.future');case CalendarItemState.STATE_LOCKED_EXPIRED:return LocalizeText('campaign.calendar.info.expired');default:return LocalizeText('campaign.calendar.info.available.desktop');}};const onClickNext=()=>{const nextDay=selectedDay+1;if(nextDay===numDays)return;setSelectedDay(nextDay);if(index+TOTAL_SHOWN_ITEMS<nextDay+1)setIndex(index+1);};const onClickPrev=()=>{const prevDay=selectedDay-1;if(prevDay<0)return;setSelectedDay(prevDay);if(index>prevDay)setIndex(index-1);};const onClickItem=item=>{if(selectedDay===item){const state=getDayState(item);if(state===CalendarItemState.STATE_LOCKED_AVAILABLE)openPackage(item,false);return;}setSelectedDay(item);};const forceOpen=()=>{const id=selectedDay;const state=getDayState(id);if(state!==CalendarItemState.STATE_UNLOCKED)openPackage(id,true);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-campaign-calendar\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText(`campaign.calendar.${campaignName}.title`),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{fullHeight:false,justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:1}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:3,children:LocalizeText('campaign.calendar.heading.day',['number'],[(selectedDay+1).toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:dayMessage(selectedDay)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:GetSessionDataManager().isModerator&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:forceOpen,children:\"Force open\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:1})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullHeight:true,gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"campaign-spritesheet prev\",onClick:onClickPrev})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,fullWidth:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{fit:true,columnCount:TOTAL_SHOWN_ITEMS,gap:1,children:[...Array(TOTAL_SHOWN_ITEMS)].map((e,i)=>{const day=index+i;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CalendarItemView,{itemId:day,state:getDayState(day),active:selectedDay===day,product:receivedProducts.has(day)?receivedProducts.get(day):null,onClick:onClickItem})},i);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"campaign-spritesheet next\",onClick:onClickNext})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/campaign/CampaignView.tsx\nconst CampaignView=props=>{const[calendarData,setCalendarData]=Object(react[\"useState\"])(null);const[lastOpenAttempt,setLastOpenAttempt]=Object(react[\"useState\"])(-1);const[receivedProducts,setReceivedProducts]=Object(react[\"useState\"])(new Map());const[isCalendarOpen,setCalendarOpen]=Object(react[\"useState\"])(false);useMessageEvent(nitro_renderer[\"Y\" /* CampaignCalendarDataMessageEvent */],event=>{const parser=event.getParser();if(!parser)return;setCalendarData(parser.calendarData);});useMessageEvent(nitro_renderer[\"Z\" /* CampaignCalendarDoorOpenedMessageEvent */],event=>{const parser=event.getParser();if(!parser)return;const lastAttempt=lastOpenAttempt;if(parser.doorOpened){setCalendarData(prev=>{const copy=prev.clone();copy.openedDays.push(lastOpenAttempt);return copy;});setReceivedProducts(prev=>{const copy=new Map(prev);copy.set(lastAttempt,new CalendarItem(parser.productName,parser.customImage,parser.furnitureClassName));return copy;});}setLastOpenAttempt(-1);});const openPackage=Object(react[\"useCallback\"])(function(id){let asStaff=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!calendarData)return;setLastOpenAttempt(id);if(asStaff){SendMessageComposer(new nitro_renderer[\"yf\" /* OpenCampaignCalendarDoorAsStaffComposer */](calendarData.campaignName,id));}else{SendMessageComposer(new nitro_renderer[\"zf\" /* OpenCampaignCalendarDoorComposer */](calendarData.campaignName,id));}},[calendarData]);const onCalendarClose=Object(react[\"useCallback\"])(()=>{setCalendarOpen(false);},[]);Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const value=url.split('/');if(value.length<2)return;switch(value[1]){case'calendar':setCalendarOpen(true);break;}},eventUrlPrefix:'openView/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:calendarData&&isCalendarOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CalendarView,{onClose:onCalendarClose,campaignName:calendarData.campaignName,currentDay:calendarData.currentDay,numDays:calendarData.campaignDays,openedDays:calendarData.openedDays,missedDays:calendarData.missedDays,openPackage:openPackage,receivedProducts:receivedProducts})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/catalog-icon/CatalogIconView.tsx\nconst CatalogIconView=props=>{const{icon=0}=props;const getIconUrl=Object(react[\"useMemo\"])(()=>{return GetConfiguration('catalog.asset.icon.url').replace('%name%',icon.toString());},[icon]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:getIconUrl,style:{width:20,height:20}});};\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(22);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// CONCATENATED MODULE: ./src/components/catalog/views/gift/CatalogGiftView.tsx\nconst CatalogGiftView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[pageId,setPageId]=Object(react[\"useState\"])(0);const[offerId,setOfferId]=Object(react[\"useState\"])(0);const[extraData,setExtraData]=Object(react[\"useState\"])('');const[receiverName,setReceiverName]=Object(react[\"useState\"])('');const[showMyFace,setShowMyFace]=Object(react[\"useState\"])(true);const[message,setMessage]=Object(react[\"useState\"])('');const[colors,setColors]=Object(react[\"useState\"])([]);const[selectedBoxIndex,setSelectedBoxIndex]=Object(react[\"useState\"])(0);const[selectedRibbonIndex,setSelectedRibbonIndex]=Object(react[\"useState\"])(0);const[selectedColorId,setSelectedColorId]=Object(react[\"useState\"])(0);const[maxBoxIndex,setMaxBoxIndex]=Object(react[\"useState\"])(0);const[maxRibbonIndex,setMaxRibbonIndex]=Object(react[\"useState\"])(0);const[receiverNotFound,setReceiverNotFound]=Object(react[\"useState\"])(false);const{catalogOptions=null}=useCatalog();const{giftConfiguration=null}=catalogOptions;const onClose=Object(react[\"useCallback\"])(()=>{setIsVisible(false);setPageId(0);setOfferId(0);setExtraData('');setReceiverName('');setShowMyFace(true);setMessage('');setSelectedBoxIndex(0);setSelectedRibbonIndex(0);if(colors.length)setSelectedColorId(colors[0].id);},[colors]);const onCatalogEvent=Object(react[\"useCallback\"])(event=>{switch(event.type){case CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS:onClose();return;case CatalogEvent_CatalogEvent.INIT_GIFT:const castedEvent=event;onClose();setPageId(castedEvent.pageId);setOfferId(castedEvent.offerId);setExtraData(castedEvent.extraData);setIsVisible(true);return;}},[onClose]);useUiEvent(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS,onCatalogEvent);useUiEvent(CatalogEvent_CatalogEvent.INIT_GIFT,onCatalogEvent);const isBoxDefault=Object(react[\"useMemo\"])(()=>{return giftConfiguration?giftConfiguration.defaultStuffTypes.findIndex(s=>s===giftConfiguration.boxTypes[selectedBoxIndex])>-1:true;},[giftConfiguration,selectedBoxIndex]);const boxExtraData=Object(react[\"useMemo\"])(()=>{if(!giftConfiguration)return'';return(giftConfiguration.boxTypes[selectedBoxIndex]*1000+giftConfiguration.ribbonTypes[selectedRibbonIndex]).toString();},[giftConfiguration,selectedBoxIndex,selectedRibbonIndex]);const isColorable=Object(react[\"useMemo\"])(()=>{if(!giftConfiguration)return false;const boxType=giftConfiguration.boxTypes[selectedBoxIndex];return boxType===8||boxType>=3&&boxType<=6?false:true;},[giftConfiguration,selectedBoxIndex]);const handleAction=Object(react[\"useCallback\"])(action=>{switch(action){case'prev_box':setSelectedBoxIndex(value=>value===0?maxBoxIndex:value-1);return;case'next_box':setSelectedBoxIndex(value=>value===maxBoxIndex?0:value+1);return;case'prev_ribbon':setSelectedRibbonIndex(value=>value===0?maxRibbonIndex:value-1);return;case'next_ribbon':setSelectedRibbonIndex(value=>value===maxRibbonIndex?0:value+1);return;case'buy':if(!receiverName||receiverName.length===0){setReceiverNotFound(true);return;}SendMessageComposer(new nitro_renderer[\"Sf\" /* PurchaseFromCatalogAsGiftComposer */](pageId,offerId,extraData,receiverName,message,selectedColorId,selectedBoxIndex,selectedRibbonIndex,showMyFace));return;}},[extraData,maxBoxIndex,maxRibbonIndex,message,offerId,pageId,receiverName,selectedBoxIndex,selectedColorId,selectedRibbonIndex,showMyFace]);useMessageEvent(nitro_renderer[\"Xc\" /* GiftReceiverNotFoundEvent */],event=>setReceiverNotFound(true));Object(react[\"useEffect\"])(()=>{setReceiverNotFound(false);},[receiverName]);Object(react[\"useEffect\"])(()=>{if(!giftConfiguration)return;const newColors=[];for(const colorId of giftConfiguration.stuffTypes){const giftData=GetSessionDataManager().getFloorItemData(colorId);if(!giftData)continue;if(giftData.colors&&giftData.colors.length>0)newColors.push({id:colorId,color:`#${giftData.colors[0].toString(16)}`});}setMaxBoxIndex(giftConfiguration.boxTypes.length-1);setMaxRibbonIndex(giftConfiguration.ribbonTypes.length-1);if(newColors.length){setSelectedColorId(newColors[0].id);setColors(newColors);}},[giftConfiguration]);if(!giftConfiguration||!giftConfiguration.isEnabled||!isVisible)return null;const boxName='catalog.gift_wrapping_new.box.'+(isBoxDefault?'default':selectedBoxIndex);const ribbonName=`catalog.gift_wrapping_new.ribbon.${selectedRibbonIndex}`;const priceText='catalog.gift_wrapping_new.'+(isBoxDefault?'freeprice':'price');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"catalog-gift\",className:\"nitro-catalog-gift\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('catalog.gift_wrapping.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormGroup,{column:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('catalog.gift_wrapping.receiver')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:'form-control form-control-sm'+classnames_default()({' is-invalid':receiverNotFound}),value:receiverName,onChange:e=>setReceiverName(e.target.value)}),receiverNotFound&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"invalid-feedback\",children:LocalizeText('catalog.gift_wrapping.receiver_not_found.title')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGiftTagView,{figure:GetSessionDataManager().figure,userName:GetSessionDataManager().userName,message:message,editable:true,onChange:value=>setMessage(value)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"form-check\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"showMyFace\",checked:showMyFace,onChange:e=>setShowMyFace(value=>!value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"form-check-label\",children:LocalizeText('catalog.gift_wrapping.show_face.title')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[selectedColorId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"gift-preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutFurniImageView,{productType:ProductTypeEnum.FLOOR,productClassId:selectedColorId,extraData:boxExtraData})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",onClick:()=>handleAction('prev_box'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",onClick:()=>handleAction('next_box'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:LocalizeText(boxName)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[LocalizeText(priceText,['price'],[giftConfiguration.price.toString()]),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:-1})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",onClick:()=>handleAction('prev_ribbon'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",onClick:()=>handleAction('next_ribbon'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:LocalizeText(ribbonName)})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:LocalizeText('catalog.gift_wrapping.pick_color')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ButtonGroup,{fullWidth:true,children:colors.map(color=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",active:color.id===selectedColorId,disabled:!isColorable,style:{backgroundColor:color.color},onClick:()=>setSelectedColorId(color.id)},color.id))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"link\",onClick:onClose,className:\"text-black\",children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:()=>handleAction('buy'),children:LocalizeText('catalog.gift_wrapping.give_gift')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/common/CatalogSearchView.tsx\nconst CatalogSearchView=props=>{const[searchValue,setSearchValue]=Object(react[\"useState\"])('');const[needsProcessing,setNeedsProcessing]=Object(react[\"useState\"])(false);const{currentType=null,rootNode=null,offersToNodes=null,searchResult=null,setSearchResult=null,setCurrentPage=null}=useCatalog();const updateSearchValue=value=>{if(!value||!value.length){setSearchValue('');if(searchResult)setSearchResult(null);}else{setSearchValue(value);setNeedsProcessing(true);}};const processSearch=Object(react[\"useCallback\"])(search=>{setNeedsProcessing(false);search=search.toLocaleLowerCase().replace(' ','');if(!search||!search.length)return;const furnitureDatas=GetSessionDataManager().getAllFurnitureData({loadFurnitureData:null});if(!furnitureDatas||!furnitureDatas.length)return;const foundFurniture=[];const foundFurniLines=[];for(const furniture of furnitureDatas){if(currentType===CatalogType.BUILDER&&!furniture.availableForBuildersClub)continue;if(currentType===CatalogType.NORMAL&&furniture.excludeDynamic)continue;const searchValues=[furniture.className,furniture.name,furniture.description].join(' ').replace(/ /gi,'').toLowerCase();if(currentType===CatalogType.BUILDER&&furniture.purchaseOfferId===-1&&furniture.rentOfferId===-1){if(furniture.furniLine!==''&&foundFurniLines.indexOf(furniture.furniLine)<0){if(searchValues.indexOf(search)>=0)foundFurniLines.push(furniture.furniLine);}}else{const foundNodes=[...GetOfferNodes(offersToNodes,furniture.purchaseOfferId),...GetOfferNodes(offersToNodes,furniture.rentOfferId)];if(foundNodes.length){if(searchValues.indexOf(search)>=0)foundFurniture.push(furniture);if(foundFurniture.length===250)break;}}}const offers=[];for(const furniture of foundFurniture)offers.push(new FurnitureOffer_FurnitureOffer(furniture));let nodes=[];FilterCatalogNode(search,foundFurniLines,rootNode,nodes);setCurrentPage(new CatalogPage(-1,'default_3x3',new PageLocalization_PageLocalization([],[]),offers,false,1));setSearchResult(new SearchResult(search,offers,nodes.filter(node=>node.isVisible)));},[offersToNodes,currentType,rootNode,setCurrentPage,setSearchResult]);Object(react[\"useEffect\"])(()=>{if(!needsProcessing)return;const timeout=setTimeout(()=>processSearch(searchValue),300);return()=>clearTimeout(timeout);},[searchValue,needsProcessing,processSearch]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fullWidth:true,alignItems:\"center\",position:\"relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:event=>updateSearchValue(event.target.value),onKeyDown:event=>(event.code==='Enter'||event.code==='NumpadEnter')&&processSearch(searchValue)})}),(!searchValue||!searchValue.length)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",className:\"catalog-search-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"search\"})}),searchValue&&!!searchValue.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",className:\"catalog-search-button\",onClick:event=>updateSearchValue(''),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/navigation/CatalogNavigationSetView.tsx\nconst CatalogNavigationSetView=props=>{const{node=null,child=false}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:node&&node.children.length>0&&node.children.map((n,index)=>{if(!n.isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationItemView,{node:n,child:child},index);})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/navigation/CatalogNavigationItemView.tsx\nconst CatalogNavigationItemView=props=>{const{node=null,child=false}=props;const{activateNode=null}=useCatalog();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"nitro-catalog-navigation-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{gap:1,column:false,itemActive:node.isActive,onClick:event=>activateNode(node),className:child?'inset':'',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogIconView,{icon:node.iconId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:node.localization}),node.isBranch&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:node.isOpen?'caret-up':'caret-down'})]}),node.isOpen&&node.isBranch&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationSetView,{node:node,child:true})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/navigation/CatalogNavigationView.tsx\nconst CatalogNavigationView=props=>{const{node=null}=props;const{searchResult=null}=useCatalog();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSearchView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullHeight:true,className:\"nitro-catalog-navigation-grid-container rounded p-1\",overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid,{id:\"nitro-catalog-main-navigation\",gap:1,columnCount:1,children:[searchResult&&searchResult.filteredNodes.length>0&&searchResult.filteredNodes.map((n,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationItemView,{node:n},index);}),!searchResult&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationSetView,{node:node})]})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogBadgeSelectorWidgetView.tsx\nconst EXCLUDED_BADGE_CODES=[];const CatalogBadgeSelectorWidgetView=props=>{const{columnCount=5,...rest}=props;const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[currentBadgeCode,setCurrentBadgeCode]=Object(react[\"useState\"])(null);const{currentOffer=null,setPurchaseOptions=null}=useCatalog();const{badgeCodes=[],activate=null,deactivate=null}=useInventoryBadges();const previewStuffData=Object(react[\"useMemo\"])(()=>{if(!currentBadgeCode)return null;const stuffData=new nitro_renderer[\"di\" /* StringDataType */]();stuffData.setValue(['0',currentBadgeCode,'','']);return stuffData;},[currentBadgeCode]);Object(react[\"useEffect\"])(()=>{if(!currentOffer)return;setPurchaseOptions(prevValue=>{const newValue={...prevValue};newValue.extraParamRequired=true;newValue.extraData=previewStuffData&&previewStuffData.getValue(1)||null;newValue.previewStuffData=previewStuffData;return newValue;});},[currentOffer,previewStuffData,setPurchaseOptions]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;const id=activate();return()=>deactivate(id);},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(()=>{setIsVisible(true);return()=>setIsVisible(false);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:columnCount,...rest,children:badgeCodes&&badgeCodes.length>0&&badgeCodes.map((badgeCode,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:currentBadgeCode===badgeCode,onClick:event=>setCurrentBadgeCode(badgeCode),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:badgeCode})},index);})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogFirstProductSelectorWidgetView.tsx\nconst CatalogFirstProductSelectorWidgetView=props=>{const{currentPage=null,setCurrentOffer=null}=useCatalog();Object(react[\"useEffect\"])(()=>{if(!currentPage||!currentPage.offers.length)return;setCurrentOffer(currentPage.offers[0]);},[currentPage,setCurrentOffer]);return null;};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/common/CatalogGridOfferView.tsx\nconst CatalogGridOfferView=props=>{const{offer=null,selectOffer=null,itemActive=false,...rest}=props;const[isMouseDown,setMouseDown]=Object(react[\"useState\"])(false);const{requestOfferToMover=null}=useCatalog();const{isVisible=false}=useInventoryFurni();const iconUrl=Object(react[\"useMemo\"])(()=>{if(offer.pricingModel===Offer_Offer.PRICING_MODEL_BUNDLE){return null;}return offer.product.getIconUrl(offer);},[offer]);const onMouseEvent=event=>{switch(event.type){case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN:selectOffer(offer);setMouseDown(true);return;case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_UP:setMouseDown(false);return;case nitro_renderer[\"Ve\" /* MouseEventType */].ROLL_OUT:if(!isMouseDown||!itemActive||!isVisible)return;requestOfferToMover(offer);return;}};const product=offer.product;if(!product)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemImage:iconUrl,itemCount:offer.pricingModel===Offer_Offer.PRICING_MODEL_MULTI?product.productCount:1,itemUniqueSoldout:product.uniqueLimitedItemSeriesSize&&!product.uniqueLimitedItemsLeft,itemUniqueNumber:product.uniqueLimitedItemSeriesSize,itemActive:itemActive,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent,...rest,children:offer.product.productType===ProductTypeEnum.ROBOT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:offer.product.extraParam,headOnly:true,direction:3})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogItemGridWidgetView.tsx\nconst CatalogItemGridWidgetView=props=>{const{columnCount=5,children=null,...rest}=props;const{currentOffer=null,setCurrentOffer=null,currentPage=null,setPurchaseOptions=null}=useCatalog();const elementRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(()=>{if(elementRef&&elementRef.current)elementRef.current.scrollTop=0;},[currentPage]);if(!currentPage)return null;const selectOffer=offer=>{offer.activate();if(offer.isLazy)return;setCurrentOffer(offer);if(offer.product&&offer.product.productType===ProductTypeEnum.WALL){setPurchaseOptions(prevValue=>{const newValue={...prevValue};newValue.extraData=offer.product.extraParam||null;return newValue;});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid,{innerRef:elementRef,columnCount:columnCount,...rest,children:[currentPage.offers&&currentPage.offers.length>0&&currentPage.offers.map((offer,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGridOfferView,{itemActive:currentOffer&&currentOffer.offerId===offer.offerId,offer:offer,selectOffer:selectOffer},index)),children]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogLimitedItemWidgetView.tsx\nconst CatalogLimitedItemWidgetView=props=>{const{children=null,...rest}=props;const{currentOffer=null}=useCatalog();if(!currentOffer||currentOffer.pricingModel!==Offer_Offer.PRICING_MODEL_SINGLE||!currentOffer.product.isUniqueLimitedItem)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionCompletePlateView,{className:\"mx-auto\",uniqueLimitedItemsLeft:currentOffer.product.uniqueLimitedItemsLeft,uniqueLimitedSeriesSize:currentOffer.product.uniqueLimitedItemSeriesSize}),children]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogPurchaseWidgetView.tsx\nconst CatalogPurchaseWidgetView=props=>{const{noGiftOption=false,purchaseCallback=null}=props;const[purchaseWillBeGift,setPurchaseWillBeGift]=Object(react[\"useState\"])(false);const[purchaseState,setPurchaseState]=Object(react[\"useState\"])(CatalogPurchaseState.NONE);const[catalogSkipPurchaseConfirmation,setCatalogSkipPurchaseConfirmation]=useLocalStorage(LocalStorageKeys.CATALOG_SKIP_PURCHASE_CONFIRMATION,false);const{currentOffer=null,currentPage=null,purchaseOptions=null,setPurchaseOptions=null}=useCatalog();const{getCurrencyAmount=null}=usePurse();const onCatalogEvent=Object(react[\"useCallback\"])(event=>{switch(event.type){case CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS:setPurchaseState(CatalogPurchaseState.NONE);return;case CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED:setPurchaseState(CatalogPurchaseState.FAILED);return;case CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent.NOT_ALLOWED:setPurchaseState(CatalogPurchaseState.FAILED);return;case CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent.SOLD_OUT:setPurchaseState(CatalogPurchaseState.SOLD_OUT);return;}},[]);useUiEvent(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS,onCatalogEvent);useUiEvent(CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED,onCatalogEvent);useUiEvent(CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent.NOT_ALLOWED,onCatalogEvent);useUiEvent(CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent.SOLD_OUT,onCatalogEvent);const isLimitedSoldOut=Object(react[\"useMemo\"])(()=>{if(!currentOffer)return false;if(purchaseOptions.extraParamRequired&&(!purchaseOptions.extraData||!purchaseOptions.extraData.length))return false;if(currentOffer.pricingModel===Offer_Offer.PRICING_MODEL_SINGLE){const product=currentOffer.product;if(product&&product.isUniqueLimitedItem)return!product.uniqueLimitedItemsLeft;}return false;},[currentOffer,purchaseOptions]);const purchase=function(){let isGift=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!currentOffer)return;if(GetClubMemberLevel()<currentOffer.clubLevel){CreateLinkEvent('habboUI/open/hccenter');return;}if(isGift){DispatchUiEvent(new CatalogInitGiftEvent_CatalogInitGiftEvent(currentOffer.page.pageId,currentOffer.offerId,purchaseOptions.extraData));return;}setPurchaseState(CatalogPurchaseState.PURCHASE);if(purchaseCallback){purchaseCallback();return;}let pageId=currentOffer.page.pageId;// if(pageId === -1)\n// {\n//     const nodes = getNodesByOfferId(currentOffer.offerId);\n//     if(nodes) pageId = nodes[0].pageId;\n// }\nSendMessageComposer(new nitro_renderer[\"Tf\" /* PurchaseFromCatalogComposer */](pageId,currentOffer.offerId,purchaseOptions.extraData,purchaseOptions.quantity));};Object(react[\"useEffect\"])(()=>{if(!currentOffer)return;setPurchaseState(CatalogPurchaseState.NONE);},[currentOffer,setPurchaseOptions]);Object(react[\"useEffect\"])(()=>{let timeout=null;if(purchaseState===CatalogPurchaseState.CONFIRM||purchaseState===CatalogPurchaseState.FAILED){timeout=setTimeout(()=>setPurchaseState(CatalogPurchaseState.NONE),3000);}return()=>{if(timeout)clearTimeout(timeout);};},[purchaseState]);if(!currentOffer)return null;const PurchaseButton=()=>{const priceCredits=currentOffer.priceInCredits*purchaseOptions.quantity;const pricePoints=currentOffer.priceInActivityPoints*purchaseOptions.quantity;if(GetClubMemberLevel()<currentOffer.clubLevel)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",disabled:true,children:LocalizeText('catalog.alert.hc.required')});if(isLimitedSoldOut)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",disabled:true,children:LocalizeText('catalog.alert.limited_edition_sold_out.title')});if(priceCredits>getCurrencyAmount(-1))return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",disabled:true,children:LocalizeText('catalog.alert.notenough.title')});if(pricePoints>getCurrencyAmount(currentOffer.activityPointType))return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",disabled:true,children:LocalizeText('catalog.alert.notenough.activitypoints.title.'+currentOffer.activityPointType)});switch(purchaseState){case CatalogPurchaseState.CONFIRM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"warning\",onClick:event=>purchase(),children:LocalizeText('catalog.marketplace.confirm_title')});case CatalogPurchaseState.PURCHASE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLoadingSpinnerView,{})});case CatalogPurchaseState.FAILED:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",children:LocalizeText('generic.failed')});case CatalogPurchaseState.SOLD_OUT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",children:LocalizeText('generic.failed')+' - '+LocalizeText('catalog.alert.limited_edition_sold_out.title')});case CatalogPurchaseState.NONE:default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:purchaseOptions.extraParamRequired&&(!purchaseOptions.extraData||!purchaseOptions.extraData.length),onClick:event=>setPurchaseState(CatalogPurchaseState.CONFIRM),children:LocalizeText('catalog.purchase_confirmation.'+(currentOffer.isRentOffer?'rent':'buy'))});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PurchaseButton,{}),!noGiftOption&&!currentOffer.isRentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:purchaseOptions.quantity>1||!currentOffer.giftable||isLimitedSoldOut||purchaseOptions.extraParamRequired&&(!purchaseOptions.extraData||!purchaseOptions.extraData.length),onClick:event=>purchase(true),children:LocalizeText('catalog.purchase_confirmation.gift')})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogPriceDisplayWidgetView.tsx\nconst CatalogPriceDisplayWidgetView=props=>{const{offer=null,separator=false}=props;const{purchaseOptions=null}=useCatalog();const{quantity=1}=purchaseOptions;if(!offer)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[offer.priceInCredits>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:offer.priceInCredits*quantity}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:-1})]}),separator&&offer.priceInCredits>0&&offer.priceInActivityPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{size:\"xs\",color:\"black\",icon:\"plus\"}),offer.priceInActivityPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:offer.priceInActivityPoints*quantity}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:offer.activityPointType})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogTotalPriceWidget.tsx\nconst CatalogTotalPriceWidget=props=>{const{gap=1,...rest}=props;const{currentOffer=null}=useCatalog();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:gap,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPriceDisplayWidgetView,{offer:currentOffer})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogViewProductWidgetView.tsx\nconst CatalogViewProductWidgetView=props=>{const{currentOffer=null,roomPreviewer=null,purchaseOptions=null}=useCatalog();const{previewStuffData=null}=purchaseOptions;Object(react[\"useEffect\"])(()=>{if(!currentOffer||currentOffer.pricingModel===Offer_Offer.PRICING_MODEL_BUNDLE||!roomPreviewer)return;const product=currentOffer.product;if(!product)return;roomPreviewer.reset(false);switch(product.productType){case ProductTypeEnum.FLOOR:{if(!product.furnitureData)return;if(product.furnitureData.specialType===FurniCategory.FIGURE_PURCHASABLE_SET){const furniData=GetSessionDataManager().getFloorItemData(product.furnitureData.id);const customParts=furniData.customParams.split(',').map(value=>parseInt(value));const figureSets=[];for(const part of customParts){if(GetAvatarRenderManager().isValidFigureSetForGender(part,GetSessionDataManager().gender))figureSets.push(part);}const figureString=GetAvatarRenderManager().getFigureStringWithFigureIds(GetSessionDataManager().figure,GetSessionDataManager().gender,figureSets);roomPreviewer.addAvatarIntoRoom(figureString,product.productClassId);}else{roomPreviewer.addFurnitureIntoRoom(product.productClassId,new nitro_renderer[\"kj\" /* Vector3d */](90),previewStuffData,product.extraParam);}return;}case ProductTypeEnum.WALL:{if(!product.furnitureData)return;switch(product.furnitureData.specialType){case FurniCategory.FLOOR:roomPreviewer.updateObjectRoom(product.extraParam);return;case FurniCategory.WALL_PAPER:roomPreviewer.updateObjectRoom(null,product.extraParam);return;case FurniCategory.LANDSCAPE:{roomPreviewer.updateObjectRoom(null,null,product.extraParam);const furniData=GetSessionDataManager().getWallItemDataByName('ads_twi_windw');if(furniData)roomPreviewer.addWallItemIntoRoom(furniData.id,new nitro_renderer[\"kj\" /* Vector3d */](90),furniData.customParams);return;}default:roomPreviewer.updateObjectRoom('default','default','default');roomPreviewer.addWallItemIntoRoom(product.productClassId,new nitro_renderer[\"kj\" /* Vector3d */](90),product.extraParam);return;}}case ProductTypeEnum.ROBOT:roomPreviewer.addAvatarIntoRoom(product.extraParam,0);return;case ProductTypeEnum.EFFECT:roomPreviewer.addAvatarIntoRoom(GetSessionDataManager().figure,product.productClassId);return;}},[currentOffer,previewStuffData,roomPreviewer]);if(!currentOffer)return null;if(currentOffer.pricingModel===Offer_Offer.PRICING_MODEL_BUNDLE){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fit:true,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{fullWidth:true,columnCount:4,className:\"nitro-catalog-layout-bundle-grid\",children:currentOffer.products.length>0&&currentOffer.products.map((product,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemImage:product.getIconUrl(currentOffer),itemCount:product.productCount},index);})})});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutBadgeDisplayView.tsx\nconst CatalogLayoutBadgeDisplayView=props=>{const{page=null}=props;const{currentOffer=null}=useCatalog();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogFirstProductSelectorWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogItemGridWidgetView,{shrink:true}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:LocalizeText('catalog_selectbadge')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogBadgeSelectorWidgetView,{})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLimitedItemWidgetView,{fullWidth:true,position:\"absolute\",className:\"top-1\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{})]})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogAddOnBadgeWidgetView.tsx\nconst CatalogAddOnBadgeWidgetView=props=>{const{...rest}=props;const{currentOffer=null}=useCatalog();if(!currentOffer||!currentOffer.badgeCode||!currentOffer.badgeCode.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:currentOffer.badgeCode,...rest});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogSpinnerWidgetView.tsx\nconst MIN_VALUE=1;const MAX_VALUE=100;const CatalogSpinnerWidgetView=props=>{const{currentOffer=null,purchaseOptions=null,setPurchaseOptions=null}=useCatalog();const{quantity=1}=purchaseOptions;const updateQuantity=value=>{if(isNaN(value))value=1;value=Math.max(value,MIN_VALUE);value=Math.min(value,MAX_VALUE);if(value===quantity)return;setPurchaseOptions(prevValue=>{const newValue={...prevValue};newValue.quantity=value;return newValue;});};if(!currentOffer||!currentOffer.bundlePurchaseAllowed)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('catalog.bundlewidget.spinner.select.amount')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"caret-left\",className:\"text-black cursor-pointer\",onClick:event=>updateQuantity(quantity-1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:quantity,onChange:event=>updateQuantity(event.target.valueAsNumber)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"caret-right\",className:\"text-black cursor-pointer\",onClick:event=>updateQuantity(quantity+1)})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutColorGroupingView.tsx\nconst CatalogLayoutColorGroupingView=props=>{const{page=null}=props;const[colorableItems,setColorableItems]=Object(react[\"useState\"])(new Map());const{currentOffer=null,setCurrentOffer=null}=useCatalog();const[colorsShowing,setColorsShowing]=Object(react[\"useState\"])(false);const sortByColorIndex=(a,b)=>{if(!a.product.furnitureData.colorIndex||!b.product.furnitureData.colorIndex){return 1;}if(a.product.furnitureData.colorIndex>b.product.furnitureData.colorIndex){return 1;}if(a==b){return 0;}return-1;};const sortyByFurnitureClassName=(a,b)=>{if(a.product.furnitureData.className>b.product.furnitureData.className){return 1;}if(a==b){return 0;}return-1;};const selectOffer=offer=>{offer.activate();setCurrentOffer(offer);};const selectColor=(colorIndex,productName)=>{const fullName=`${productName}*${colorIndex}`;const index=page.offers.findIndex(offer=>offer.product.furnitureData.fullName===fullName);if(index>-1){selectOffer(page.offers[index]);}};const offers=Object(react[\"useMemo\"])(()=>{const offers=[];const addedColorableItems=new Map();const updatedColorableItems=new Map();page.offers.sort(sortByColorIndex);let selectedColor=0;page.offers.forEach(offer=>{if(!offer.product)return;const furniData=offer.product.furnitureData;if(!furniData||!furniData.hasIndexedColor){offers.push(offer);}else{const name=furniData.className;const colorIndex=furniData.colorIndex;if(!updatedColorableItems.has(name)){updatedColorableItems.set(name,[]);}if(furniData.colors){for(let color of furniData.colors){if(color!==0xFFFFFF)// for some reason we hate the color white\n{selectedColor=color;}}if(updatedColorableItems.get(name).indexOf(selectedColor)===-1){updatedColorableItems.get(name)[colorIndex]=selectedColor;}}if(!addedColorableItems.has(name)){offers.push(offer);addedColorableItems.set(name,true);}}});offers.sort(sortyByFurnitureClassName);setColorableItems(updatedColorableItems);return offers;},[page.offers]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid,{columnCount:5,children:[(!colorsShowing||!currentOffer||!colorableItems.has(currentOffer.product.furnitureData.className))&&offers.map((offer,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGridOfferView,{itemActive:currentOffer&&(currentOffer.product.furnitureData.hasIndexedColor?currentOffer.product.furnitureData.className===offer.product.furnitureData.className:currentOffer.offerId===offer.offerId),offer:offer,selectOffer:selectOffer},index)),colorsShowing&&currentOffer&&colorableItems.has(currentOffer.product.furnitureData.className)&&colorableItems.get(currentOffer.product.furnitureData.className).map((color,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemHighlight:true,itemActive:currentOffer.product.furnitureData.colorIndex===index,itemColor:nitro_renderer[\"sb\" /* ColorConverter */].int2rgb(color),className:\"clear-bg\",onClick:event=>selectColor(index,currentOffer.product.furnitureData.className)},index))]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLimitedItemWidgetView,{fullWidth:true,position:\"absolute\",className:\"top-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView,{position:\"absolute\",className:\"bg-muted rounded bottom-1 end-1\"}),currentOffer.product.furnitureData.hasIndexedColor&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{position:\"absolute\",className:\"bottom-1 start-1\",onClick:event=>setColorsShowing(prev=>!prev),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"fill-drip\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSpinnerWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget,{justifyContent:\"end\",alignItems:\"end\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/catalog-header/CatalogHeaderView.tsx\nconst CatalogHeaderView=props=>{const{imageUrl=null}=props;const[displayImageUrl,setDisplayImageUrl]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{setDisplayImageUrl(imageUrl!==null&&imageUrl!==void 0?imageUrl:GetConfiguration('catalog.asset.image.url').replace('%name%','catalog_header_roombuilder'));},[imageUrl]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,fullWidth:true,className:\"nitro-catalog-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:displayImageUrl,onError:_ref=>{let{currentTarget}=_ref;currentTarget.src=GetConfiguration('catalog.asset.image.url').replace('%name%','catalog_header_roombuilder');}})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutDefaultView.tsx\nconst CatalogLayoutDefaultView=props=>{const{page=null}=props;const{currentOffer=null,currentPage=null}=useCatalog();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,overflow:\"hidden\",children:[GetConfiguration('catalog.headers')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogHeaderView,{imageUrl:currentPage.localization.getImage(0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogItemGridWidgetView,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,overflow:\"hidden\",style:{height:140},children:[currentOffer.product.productType!==ProductTypeEnum.BADGE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLimitedItemWidgetView,{fullWidth:true,position:\"absolute\",className:\"top-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView,{className:\"bg-muted rounded bottom-1 end-1\"})]}),currentOffer.product.productType===ProductTypeEnum.BADGE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView,{className:\"scale-2\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSpinnerWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget,{justifyContent:\"end\",alignItems:\"end\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{})]})]})]})]})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogGuildBadgeWidgetView.tsx\nconst CatalogGuildBadgeWidgetView=props=>{const{...rest}=props;const{currentOffer=null,purchaseOptions=null}=useCatalog();const{previewStuffData=null}=purchaseOptions;const badgeCode=Object(react[\"useMemo\"])(()=>{if(!currentOffer||!previewStuffData)return null;const badgeCode=previewStuffData.getValue(2);if(!badgeCode||!badgeCode.length)return null;return badgeCode;},[currentOffer,previewStuffData]);if(!badgeCode)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:badgeCode,isGroup:true,...rest});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogGuildSelectorWidgetView.tsx\nconst CatalogGuildSelectorWidgetView=props=>{const[selectedGroupIndex,setSelectedGroupIndex]=Object(react[\"useState\"])(0);const{currentOffer=null,catalogOptions=null,setPurchaseOptions=null}=useCatalog();const{groups=null}=catalogOptions;const previewStuffData=Object(react[\"useMemo\"])(()=>{if(!groups||!groups.length)return null;const group=groups[selectedGroupIndex];if(!group)return null;const stuffData=new nitro_renderer[\"di\" /* StringDataType */]();stuffData.setValue(['0',group.groupId.toString(),group.badgeCode,group.colorA,group.colorB]);return stuffData;},[selectedGroupIndex,groups]);Object(react[\"useEffect\"])(()=>{if(!currentOffer)return;setPurchaseOptions(prevValue=>{const newValue={...prevValue};newValue.extraParamRequired=true;newValue.extraData=previewStuffData&&previewStuffData.getValue(1)||null;newValue.previewStuffData=previewStuffData;return newValue;});},[currentOffer,previewStuffData,setPurchaseOptions]);Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"db\" /* CatalogGroupsComposer */]());},[]);if(!groups||!groups.length){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"bg-muted rounded p-1 text-black text-center\",children:[LocalizeText('catalog.guild_selector.members_only'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{className:\"mt-1\",children:LocalizeText('catalog.guild_selector.find_groups')})]});}const selectedGroup=groups[selectedGroupIndex];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[!!selectedGroup&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{overflow:\"hidden\",className:\"rounded border\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fullHeight:true,style:{width:'20px',backgroundColor:'#'+selectedGroup.colorA}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fullHeight:true,style:{width:'20px',backgroundColor:'#'+selectedGroup.colorB}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:selectedGroupIndex,onChange:event=>setSelectedGroupIndex(parseInt(event.target.value)),children:groups.map((group,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:index,children:group.groupName},index))})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutGuildCustomFurniView.tsx\nconst CatalogLayouGuildCustomFurniView=props=>{const{page=null}=props;const{currentOffer=null}=useCatalog();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogItemGridWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGuildBadgeWidgetView,{position:\"absolute\",className:\"bottom-1 end-1\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{grow:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGuildSelectorWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutGuildForumView.tsx\nconst CatalogLayouGuildForumView=props=>{const{page=null}=props;const[selectedGroupIndex,setSelectedGroupIndex]=Object(react[\"useState\"])(0);const{currentOffer=null,setCurrentOffer=null,catalogOptions=null}=useCatalog();const{groups=null}=catalogOptions;Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"db\" /* CatalogGroupsComposer */]());},[page]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogFirstProductSelectorWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"bg-muted rounded p-2 text-black\",size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"overflow-auto\",dangerouslySetInnerHTML:{__html:page.localization.getText(1)}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:5,overflow:\"hidden\",gap:1,children:!!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{grow:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGuildSelectorWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{noGiftOption:true})]})})})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutGuildFrontpageView.tsx\nconst CatalogLayouGuildFrontpageView=props=>{const{page=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,overflow:\"hidden\",className:\"bg-muted rounded p-2 text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{dangerouslySetInnerHTML:{__html:page.localization.getText(2)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{overflow:\"auto\",dangerouslySetInnerHTML:{__html:page.localization.getText(0)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{dangerouslySetInnerHTML:{__html:page.localization.getText(1)}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,size:5,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:()=>CreateLinkEvent('groups/create'),children:LocalizeText('catalog.start.guild.purchase.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutInfoLoyaltyView.tsx\nconst CatalogLayoutInfoLoyaltyView=props=>{const{page=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"h-100 nitro-catalog-layout-info-loyalty text-black d-flex flex-row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"overflow-auto h-100 d-flex flex-column info-loyalty-content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutPets3View.tsx\nconst CatalogLayoutPets3View=props=>{const{page=null}=props;const imageUrl=page.localization.getImage(1);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,className:\"bg-muted rounded text-black p-2\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[imageUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:imageUrl}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"fs-5\",dangerouslySetInnerHTML:{__html:page.localization.getText(1)}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{grow:true,alignItems:\"center\",overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{dangerouslySetInnerHTML:{__html:page.localization.getText(2)}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"fw-bold\",dangerouslySetInnerHTML:{__html:page.localization.getText(3)}})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutPets2View.tsx\nconst CatalogLayoutPets2View=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutPets3View,{...props});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutRoomAdsView.tsx\nconst CatalogLayoutRoomAdsView=props=>{const{page=null}=props;const[eventName,setEventName]=Object(react[\"useState\"])('');const[eventDesc,setEventDesc]=Object(react[\"useState\"])('');const[roomId,setRoomId]=Object(react[\"useState\"])(-1);const[availableRooms,setAvailableRooms]=Object(react[\"useState\"])([]);const[extended,setExtended]=Object(react[\"useState\"])(false);const[categoryId,setCategoryId]=Object(react[\"useState\"])(1);const[categories,setCategories]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"qg\" /* RoomAdPurchaseInfoEvent */],event=>{const parser=event.getParser();if(!parser)return;setAvailableRooms(parser.rooms);});const purchaseAd=Object(react[\"useCallback\"])(()=>{const pageId=page.pageId;const offerId=page.offers.length>=1?page.offers[0].offerId:-1;const flatId=roomId;const name=eventName;const desc=eventDesc;const catId=categoryId;SendMessageComposer(new nitro_renderer[\"Xf\" /* PurchaseRoomAdMessageComposer */](pageId,offerId,flatId,name,extended,desc,catId));},[categoryId,eventDesc,eventName,extended,page.offers,page.pageId,roomId]);useMessageEvent(nitro_renderer[\"Si\" /* UserEventCatsEvent */],event=>{const parser=event.getParser();setCategories(parser.categories);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Nc\" /* GetRoomAdPurchaseInfoComposer */]());// TODO: someone needs to fix this for morningstar\nSendMessageComposer(new nitro_renderer[\"Tc\" /* GetUserEventCatsMessageComposer */]());},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,center:true,children:LocalizeText('roomad.catalog_header')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:12,overflow:\"hidden\",className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{children:LocalizeText('roomad.catalog_text')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"bg-muted rounded p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:categoryId,onChange:event=>setCategoryId(parseInt(event.target.value)),children:categories&&categories.map((cat,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:cat.id,children:cat.name},index))})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('roomad.catalog_name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:64,value:eventName,onChange:event=>setEventName(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('roomad.catalog_description')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control form-control-sm\",maxLength:64,value:eventDesc,onChange:event=>setEventDesc(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('roomad.catalog_roomname')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomId,onChange:event=>setRoomId(parseInt(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:-1,disabled:true,children:LocalizeText('roomad.catalog_roomname')}),availableRooms&&availableRooms.map((room,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:room.roomId,children:room.roomName},index))]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:purchaseAd,children:LocalizeText('buy')})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogBundleGridWidgetView.tsx\nconst CatalogBundleGridWidgetView=props=>{const{columnCount=5,children=null,...rest}=props;const{currentOffer=null}=useCatalog();const elementRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(()=>{if(elementRef&&elementRef.current)elementRef.current.scrollTop=0;},[currentOffer]);if(!currentOffer)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid,{innerRef:elementRef,columnCount:5,...rest,children:[currentOffer.products&&currentOffer.products.length>0&&currentOffer.products.map((product,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemImage:product.getIconUrl(),itemCount:product.productCount},index)),children]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogSimplePriceWidgetView.tsx\nconst CatalogSimplePriceWidgetView=props=>{const{gap=1,...rest}=props;const{currentOffer=null}=useCatalog();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{gap:gap,alignItems:\"center\",classNames:['bg-muted','p-1','rounded'],...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPriceDisplayWidgetView,{separator:true,offer:currentOffer})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutRoomBundleView.tsx\nconst CatalogLayoutRoomBundleView=props=>{const{page=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogFirstProductSelectorWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,overflow:\"hidden\",children:[!!page.localization.getText(2)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{dangerouslySetInnerHTML:{__html:page.localization.getText(2)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{grow:true,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogBundleGridWidgetView,{fullWidth:true,className:\"nitro-catalog-layout-bundle-grid\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,overflow:\"hidden\",gap:1,children:[!!page.localization.getText(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,small:true,overflow:\"auto\",children:page.localization.getText(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,position:\"relative\",overflow:\"hidden\",gap:0,children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",className:\"flex-grow-1\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView,{position:\"absolute\",className:\"bg-muted rounded bottom-0 start-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSimplePriceWidgetView,{position:\"absolute\",className:\"bottom-0 end-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutSingleBundleView.tsx\nconst CatalogLayoutSingleBundleView=props=>{const{page=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogFirstProductSelectorWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,overflow:\"hidden\",children:[!!page.localization.getText(2)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{dangerouslySetInnerHTML:{__html:page.localization.getText(2)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{grow:true,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogBundleGridWidgetView,{fullWidth:true,className:\"nitro-catalog-layout-bundle-grid\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,overflow:\"hidden\",gap:1,children:[!!page.localization.getText(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,small:true,overflow:\"auto\",children:page.localization.getText(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,position:\"relative\",overflow:\"hidden\",gap:0,children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",className:\"flex-grow-1\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView,{position:\"absolute\",className:\"bg-muted rounded bottom-0 start-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSimplePriceWidgetView,{position:\"absolute\",className:\"bottom-0 end-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogSpacesWidgetView.tsx\nconst SPACES_GROUP_NAMES=['floors','walls','views'];const CatalogSpacesWidgetView=props=>{const{columnCount=5,children=null,...rest}=props;const[groupedOffers,setGroupedOffers]=Object(react[\"useState\"])(null);const[selectedGroupIndex,setSelectedGroupIndex]=Object(react[\"useState\"])(-1);const[selectedOfferForGroup,setSelectedOfferForGroup]=Object(react[\"useState\"])(null);const{currentPage=null,currentOffer=null,setCurrentOffer=null,setPurchaseOptions=null}=useCatalog();const elementRef=Object(react[\"useRef\"])();const setSelectedOffer=offer=>{if(!offer)return;setSelectedOfferForGroup(prevValue=>{const newValue=[...prevValue];newValue[selectedGroupIndex]=offer;return newValue;});};Object(react[\"useEffect\"])(()=>{if(!currentPage)return;const groupedOffers=[[],[],[]];for(const offer of currentPage.offers){if(offer.pricingModel!==Offer_Offer.PRICING_MODEL_SINGLE&&offer.pricingModel!==Offer_Offer.PRICING_MODEL_MULTI)continue;const product=offer.product;if(!product||product.productType!==ProductTypeEnum.WALL&&product.productType!==ProductTypeEnum.FLOOR||!product.furnitureData)continue;const className=product.furnitureData.className;switch(className){case'floor':groupedOffers[0].push(offer);break;case'wallpaper':groupedOffers[1].push(offer);break;case'landscape':groupedOffers[2].push(offer);break;}}setGroupedOffers(groupedOffers);setSelectedGroupIndex(0);setSelectedOfferForGroup([groupedOffers[0][0],groupedOffers[1][0],groupedOffers[2][0]]);},[currentPage]);Object(react[\"useEffect\"])(()=>{if(selectedGroupIndex===-1||!selectedOfferForGroup)return;setCurrentOffer(selectedOfferForGroup[selectedGroupIndex]);},[selectedGroupIndex,selectedOfferForGroup,setCurrentOffer]);Object(react[\"useEffect\"])(()=>{if(selectedGroupIndex===-1||!selectedOfferForGroup||!currentOffer)return;setPurchaseOptions(prevValue=>{const newValue={...prevValue};newValue.extraData=selectedOfferForGroup[selectedGroupIndex].product.extraParam;newValue.extraParamRequired=true;return newValue;});},[currentOffer,selectedGroupIndex,selectedOfferForGroup,setPurchaseOptions]);Object(react[\"useEffect\"])(()=>{if(elementRef&&elementRef.current)elementRef.current.scrollTop=0;},[selectedGroupIndex]);if(!groupedOffers||selectedGroupIndex===-1)return null;const offers=groupedOffers[selectedGroupIndex];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ButtonGroup,{children:SPACES_GROUP_NAMES.map((name,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{active:selectedGroupIndex===index,onClick:event=>setSelectedGroupIndex(index),children:LocalizeText(`catalog.spaces.tab.${name}`)},index))}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid,{innerRef:elementRef,columnCount:columnCount,...rest,children:[offers&&offers.length>0&&offers.map((offer,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGridOfferView,{itemActive:currentOffer&&currentOffer===offer,offer:offer,selectOffer:offer=>setSelectedOffer(offer)},index)),children]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutSpacesView.tsx\nconst CatalogLayoutSpacesView=props=>{const{page=null}=props;const{currentOffer=null,roomPreviewer=null}=useCatalog();Object(react[\"useEffect\"])(()=>{roomPreviewer.updatePreviewObjectBoundingRectangle(new nitro_renderer[\"nf\" /* NitroPoint */]());},[roomPreviewer]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSpacesWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{position:\"relative\",overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutTrophiesView.tsx\nconst CatalogLayoutTrophiesView=props=>{const{page=null}=props;const[trophyText,setTrophyText]=Object(react[\"useState\"])('');const{currentOffer=null,setPurchaseOptions=null}=useCatalog();Object(react[\"useEffect\"])(()=>{if(!currentOffer)return;setPurchaseOptions(prevValue=>{const newValue={...prevValue};newValue.extraData=trophyText;return newValue;});},[currentOffer,trophyText,setPurchaseOptions]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogItemGridWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"flex-grow-1 form-control w-100\",defaultValue:trophyText||'',onChange:event=>setTrophyText(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutVipBuyView.tsx\nconst CatalogLayoutVipBuyView=props=>{const[pendingOffer,setPendingOffer]=Object(react[\"useState\"])(null);const[purchaseState,setPurchaseState]=Object(react[\"useState\"])(CatalogPurchaseState.NONE);const{currentPage=null,catalogOptions=null}=useCatalog();const{purse=null,getCurrencyAmount=null}=usePurse();const{clubOffers=null}=catalogOptions;const onCatalogEvent=Object(react[\"useCallback\"])(event=>{switch(event.type){case CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS:setPurchaseState(CatalogPurchaseState.NONE);return;case CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED:setPurchaseState(CatalogPurchaseState.FAILED);return;}},[]);useUiEvent(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS,onCatalogEvent);useUiEvent(CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED,onCatalogEvent);const getOfferText=Object(react[\"useCallback\"])(offer=>{let offerText='';if(offer.months>0){offerText=LocalizeText('catalog.vip.item.header.months',['num_months'],[offer.months.toString()]);}if(offer.extraDays>0){if(offerText!=='')offerText+=' ';offerText+=' '+LocalizeText('catalog.vip.item.header.days',['num_days'],[offer.extraDays.toString()]);}return offerText;},[]);const getPurchaseHeader=Object(react[\"useCallback\"])(()=>{if(!purse)return'';const extensionOrSubscription=purse.clubDays>0||purse.clubPeriods>0?'extension.':'subscription.';const daysOrMonths=pendingOffer.months===0?'days':'months';const daysOrMonthsText=pendingOffer.months===0?pendingOffer.extraDays:pendingOffer.months;const locale=LocalizeText('catalog.vip.buy.confirm.'+extensionOrSubscription+daysOrMonths);return locale.replace('%NUM_'+daysOrMonths.toUpperCase()+'%',daysOrMonthsText.toString());},[pendingOffer,purse]);const getPurchaseValidUntil=Object(react[\"useCallback\"])(()=>{let locale=LocalizeText('catalog.vip.buy.confirm.end_date');locale=locale.replace('%month%',pendingOffer.month.toString());locale=locale.replace('%day%',pendingOffer.day.toString());locale=locale.replace('%year%',pendingOffer.year.toString());return locale;},[pendingOffer]);const getSubscriptionDetails=Object(react[\"useMemo\"])(()=>{const clubDays=purse.clubDays;const clubPeriods=purse.clubPeriods;const totalDays=clubPeriods*31+clubDays;return LocalizeText('catalog.vip.extend.info',['days'],[totalDays.toString()]);},[purse]);const purchaseSubscription=Object(react[\"useCallback\"])(()=>{if(!pendingOffer)return;setPurchaseState(CatalogPurchaseState.PURCHASE);SendMessageComposer(new nitro_renderer[\"Tf\" /* PurchaseFromCatalogComposer */](currentPage.pageId,pendingOffer.offerId,null,1));},[pendingOffer,currentPage]);const setOffer=Object(react[\"useCallback\"])(offer=>{setPurchaseState(CatalogPurchaseState.NONE);setPendingOffer(offer);},[]);const getPurchaseButton=Object(react[\"useCallback\"])(()=>{if(!pendingOffer)return null;if(pendingOffer.priceCredits>getCurrencyAmount(-1)){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"danger\",children:LocalizeText('catalog.alert.notenough.title')});}if(pendingOffer.priceActivityPoints>getCurrencyAmount(pendingOffer.priceActivityPointsType)){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"danger\",children:LocalizeText('catalog.alert.notenough.activitypoints.title.'+pendingOffer.priceActivityPointsType)});}switch(purchaseState){case CatalogPurchaseState.CONFIRM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"warning\",onClick:purchaseSubscription,children:LocalizeText('catalog.marketplace.confirm_title')});case CatalogPurchaseState.PURCHASE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"primary\",disabled:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLoadingSpinnerView,{})});case CatalogPurchaseState.FAILED:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"danger\",disabled:true,children:LocalizeText('generic.failed')});case CatalogPurchaseState.NONE:default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:()=>setPurchaseState(CatalogPurchaseState.CONFIRM),children:LocalizeText('buy')});}},[pendingOffer,purchaseState,purchaseSubscription,getCurrencyAmount]);Object(react[\"useEffect\"])(()=>{if(!clubOffers)SendMessageComposer(new nitro_renderer[\"yc\" /* GetClubOffersMessageComposer */](1));},[clubOffers]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullHeight:true,size:7,overflow:\"hidden\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:1,className:\"nitro-catalog-layout-vip-buy-grid\",children:clubOffers&&clubOffers.length>0&&clubOffers.map((offer,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{column:false,center:false,alignItems:\"center\",justifyContent:\"between\",itemActive:pendingOffer===offer,className:\"p-1\",onClick:()=>setOffer(offer),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon-hc-banner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"end\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{textEnd:true,children:getOfferText(offer)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"end\",gap:1,children:[offer.priceCredits>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:offer.priceCredits}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:-1})]}),offer.priceActivityPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:offer.priceActivityPoints}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:offer.priceActivityPointsType})]})]})]})]},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,dangerouslySetInnerHTML:{__html:LocalizeText('catalog.vip.buy.hccenter')}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullHeight:true,center:true,overflow:\"hidden\",children:[currentPage.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:currentPage.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,overflow:\"auto\",dangerouslySetInnerHTML:{__html:getSubscriptionDetails}})]}),pendingOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullWidth:true,grow:true,justifyContent:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:getPurchaseHeader()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:getPurchaseValidUntil()})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[pendingOffer.priceCredits>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:pendingOffer.priceCredits}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:-1})]}),pendingOffer.priceActivityPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:pendingOffer.priceActivityPoints}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:pendingOffer.priceActivityPointsType})]})]})]}),getPurchaseButton()]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/common/CatalogRedeemVoucherView.tsx\nconst CatalogRedeemVoucherView=props=>{const{text=null}=props;const[voucher,setVoucher]=Object(react[\"useState\"])('');const[isWaiting,setIsWaiting]=Object(react[\"useState\"])(false);const{simpleAlert=null}=useNotification();const redeemVoucher=()=>{if(!voucher||!voucher.length||isWaiting)return;SendMessageComposer(new nitro_renderer[\"cg\" /* RedeemVoucherMessageComposer */](voucher));setIsWaiting(true);};useMessageEvent(nitro_renderer[\"mj\" /* VoucherRedeemOkMessageEvent */],event=>{const parser=event.getParser();let message=LocalizeText('catalog.alert.voucherredeem.ok.description');if(parser.productName)message=LocalizeText('catalog.alert.voucherredeem.ok.description.furni',['productName','productDescription'],[parser.productName,parser.productDescription]);simpleAlert(message,null,null,null,LocalizeText('catalog.alert.voucherredeem.ok.title'));setIsWaiting(false);setVoucher('');});useMessageEvent(nitro_renderer[\"lj\" /* VoucherRedeemErrorMessageEvent */],event=>{const parser=event.getParser();simpleAlert(LocalizeText(`catalog.alert.voucherredeem.error.description.${parser.errorCode}`),null,null,null,LocalizeText('catalog.alert.voucherredeem.error.title'));setIsWaiting(false);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:text,value:voucher,onChange:event=>setVoucher(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",onClick:redeemVoucher,disabled:isWaiting,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"tag\"})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/frontpage4/CatalogLayoutFrontPageItemView.tsx\nconst CatalogLayoutFrontPageItemView=props=>{const{item=null,position='relative',pointer=true,overflow='hidden',fullHeight=true,classNames=[],children=null,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['rounded','nitro-front-page-item'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);if(!item)return null;const imageUrl=GetConfiguration('image.library.url')+item.itemPromoImage;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutBackgroundImage,{imageUrl:imageUrl,classNames:getClassNames,position:position,fullHeight:fullHeight,pointer:pointer,overflow:overflow,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{position:\"absolute\",variant:\"white\",className:\"bg-dark rounded p-2 m-2 bottom-0\",children:item.itemName}),children]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/frontpage4/CatalogLayoutFrontpage4View.tsx\nconst CatalogLayoutFrontpage4View=props=>{const{page=null,hideNavigation=null}=props;const{frontPageItems=[]}=useCatalog();const selectItem=Object(react[\"useCallback\"])(item=>{switch(item.type){case nitro_renderer[\"ac\" /* FrontPageItem */].ITEM_CATALOGUE_PAGE:CreateLinkEvent(`catalog/open/${item.catalogPageLocation}`);return;case nitro_renderer[\"ac\" /* FrontPageItem */].ITEM_PRODUCT_OFFER:CreateLinkEvent(`catalog/open/${item.productOfferId}`);return;}},[]);Object(react[\"useEffect\"])(()=>{hideNavigation();},[page,hideNavigation]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:4,children:frontPageItems[0]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontPageItemView,{item:frontPageItems[0],onClick:event=>selectItem(frontPageItems[0])})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:8,children:[frontPageItems[1]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontPageItemView,{item:frontPageItems[1],onClick:event=>selectItem(frontPageItems[1])}),frontPageItems[2]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontPageItemView,{item:frontPageItems[2],onClick:event=>selectItem(frontPageItems[2])}),frontPageItems[3]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontPageItemView,{item:frontPageItems[3],onClick:event=>selectItem(frontPageItems[3])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogRedeemVoucherView,{text:page.localization.getText(1)})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/CatalogLayoutMarketplaceItemView.tsx\nconst OWN_OFFER=1;const PUBLIC_OFFER=2;const CatalogLayoutMarketplaceItemView=props=>{const{offerData=null,type=PUBLIC_OFFER,onClick=null}=props;const getMarketplaceOfferTitle=Object(react[\"useMemo\"])(()=>{if(!offerData)return'';// desc\nreturn LocalizeText((offerData.furniType===2?'wallItem':'roomItem')+`.name.${offerData.furniId}`);},[offerData]);const offerTime=Object(react[\"useCallback\"])(()=>{if(!offerData)return'';if(offerData.status===MarketPlaceOfferState.SOLD)return LocalizeText('catalog.marketplace.offer.sold');if(offerData.timeLeftMinutes<=0)return LocalizeText('catalog.marketplace.offer.expired');const time=Math.max(1,offerData.timeLeftMinutes);const hours=Math.floor(time/60);const minutes=time-hours*60;let text=minutes+' '+LocalizeText('catalog.marketplace.offer.minutes');if(hours>0){text=hours+' '+LocalizeText('catalog.marketplace.offer.hours')+' '+text;}return LocalizeText('catalog.marketplace.offer.time_left',['time'],[text]);},[offerData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{shrink:true,center:false,column:false,alignItems:\"center\",className:\"p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{style:{width:40,height:40},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{column:false,itemImage:GetImageIconUrlForProduct(offerData.furniType===MarketplaceOfferData.TYPE_FLOOR?ProductTypeEnum.FLOOR:ProductTypeEnum.WALL,offerData.furniId,offerData.extraData),itemUniqueNumber:offerData.isUniqueLimitedItem?offerData.stuffData.uniqueNumber:0})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:getMarketplaceOfferTitle}),type===OWN_OFFER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('catalog.marketplace.offer.price_own_item',['price'],[offerData.price.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:offerTime()})]}),type===PUBLIC_OFFER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('catalog.marketplace.offer.price_public_item',['price','average'],[offerData.price.toString(),offerData.averagePrice>0?offerData.averagePrice.toString():'-'])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('catalog.marketplace.offer_count',['count'],[offerData.offerCount.toString()])})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[type===OWN_OFFER&&offerData.status!==MarketPlaceOfferState.SOLD&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:()=>onClick(offerData),children:LocalizeText('catalog.marketplace.offer.pick')}),type===PUBLIC_OFFER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:()=>onClick(offerData),children:LocalizeText('buy')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",disabled:true,children:LocalizeText('catalog.marketplace.view_more')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/CatalogLayoutMarketplaceOwnItemsView.tsx\nconst CatalogLayoutMarketplaceOwnItemsView=props=>{const[creditsWaiting,setCreditsWaiting]=Object(react[\"useState\"])(0);const[offers,setOffers]=Object(react[\"useState\"])([]);const{simpleAlert=null}=useNotification();useMessageEvent(nitro_renderer[\"Ce\" /* MarketplaceOwnOffersEvent */],event=>{const parser=event.getParser();if(!parser)return;const offers=parser.offers.map(offer=>{const newOffer=new MarketplaceOfferData(offer.offerId,offer.furniId,offer.furniType,offer.extraData,offer.stuffData,offer.price,offer.status,offer.averagePrice,offer.offerCount);newOffer.timeLeftMinutes=offer.timeLeftMinutes;return newOffer;});setCreditsWaiting(parser.creditsWaiting);setOffers(offers);});useMessageEvent(nitro_renderer[\"ze\" /* MarketplaceCancelOfferResultEvent */],event=>{const parser=event.getParser();if(!parser)return;if(!parser.success){simpleAlert(LocalizeText('catalog.marketplace.cancel_failed'),NotificationAlertType.DEFAULT,null,null,LocalizeText('catalog.marketplace.operation_failed.topic'));return;}setOffers(prevValue=>prevValue.filter(value=>value.offerId!==parser.offerId));});const soldOffers=Object(react[\"useMemo\"])(()=>{return offers.filter(value=>value.status===MarketPlaceOfferState.SOLD);},[offers]);const redeemSoldOffers=Object(react[\"useCallback\"])(()=>{setOffers(prevValue=>{const idsToDelete=soldOffers.map(value=>value.offerId);return prevValue.filter(value=>idsToDelete.indexOf(value.offerId)===-1);});SendMessageComposer(new nitro_renderer[\"bg\" /* RedeemMarketplaceOfferCreditsMessageComposer */]());},[soldOffers]);const takeItemBack=offerData=>{SendMessageComposer(new nitro_renderer[\"bb\" /* CancelMarketplaceOfferMessageComposer */](offerData.offerId));};Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Gc\" /* GetMarketplaceOwnOffersMessageComposer */]());},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",children:[creditsWaiting<=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,className:\"bg-muted rounded p-1\",children:LocalizeText('catalog.marketplace.redeem.no_sold_items')}),creditsWaiting>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,gap:1,className:\"bg-muted rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('catalog.marketplace.redeem.get_credits',['count','credits'],[soldOffers.length.toString(),creditsWaiting.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{className:\"mt-1\",onClick:redeemSoldOffers,children:LocalizeText('catalog.marketplace.offer.redeem')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:LocalizeText('catalog.marketplace.items_found',['count'],[offers.length.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"auto\",className:\"nitro-catalog-layout-marketplace-grid\",children:offers.length>0&&offers.map(offer=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplaceItemView,{offerData:offer,type:OWN_OFFER,onClick:takeItemBack},offer.offerId))})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/CatalogLayoutMarketplaceSearchFormView.tsx\nconst SearchFormView=props=>{const{searchType=null,sortTypes=null,onSearch=null}=props;const[sortType,setSortType]=Object(react[\"useState\"])(sortTypes?sortTypes[0]:3);// first item of SORT_TYPES_ACTIVITY\nconst[searchQuery,setSearchQuery]=Object(react[\"useState\"])('');const[min,setMin]=Object(react[\"useState\"])(0);const[max,setMax]=Object(react[\"useState\"])(0);const onSortTypeChange=Object(react[\"useCallback\"])(sortType=>{setSortType(sortType);if(searchType===MarketplaceSearchType.BY_ACTIVITY||searchType===MarketplaceSearchType.BY_VALUE)onSearch({minPrice:-1,maxPrice:-1,query:'',type:sortType});},[onSearch,searchType]);const onClickSearch=Object(react[\"useCallback\"])(()=>{const minPrice=min>0?min:-1;const maxPrice=max>0?max:-1;onSearch({minPrice:minPrice,maxPrice:maxPrice,type:sortType,query:searchQuery});},[max,min,onSearch,searchQuery,sortType]);Object(react[\"useEffect\"])(()=>{if(!sortTypes||!sortTypes.length)return;const sortType=sortTypes[0];setSortType(sortType);if(searchType===MarketplaceSearchType.BY_ACTIVITY||MarketplaceSearchType.BY_VALUE===searchType)onSearch({minPrice:-1,maxPrice:-1,query:'',type:sortType});},[onSearch,searchType,sortTypes]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"col-3\",children:LocalizeText('catalog.marketplace.sort_order')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:sortType,onChange:event=>onSortTypeChange(parseInt(event.target.value)),children:sortTypes.map(type=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:type,children:LocalizeText(`catalog.marketplace.sort.${type}`)},type))})]}),searchType===MarketplaceSearchType.ADVANCED&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"col-3\",children:LocalizeText('catalog.marketplace.search_name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",type:\"text\",value:searchQuery,onChange:event=>setSearchQuery(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"col-3\",children:LocalizeText('catalog.marketplace.search_price')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:min,onChange:event=>setMin(event.target.valueAsNumber)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:max,onChange:event=>setMax(event.target.valueAsNumber)})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",className:\"mx-auto\",onClick:onClickSearch,children:LocalizeText('generic.search')})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/CatalogLayoutMarketplacePublicItemsView.tsx\nconst SORT_TYPES_VALUE=[1,2];const SORT_TYPES_ACTIVITY=[3,4,5,6];const SORT_TYPES_ADVANCED=[1,2,3,4,5,6];const CatalogLayoutMarketplacePublicItemsView=props=>{const[searchType,setSearchType]=Object(react[\"useState\"])(MarketplaceSearchType.BY_ACTIVITY);const[totalItemsFound,setTotalItemsFound]=Object(react[\"useState\"])(0);const[offers,setOffers]=Object(react[\"useState\"])(new Map());const[lastSearch,setLastSearch]=Object(react[\"useState\"])({minPrice:-1,maxPrice:-1,query:'',type:3});const{getCurrencyAmount=null}=usePurse();const{simpleAlert=null,showConfirm=null}=useNotification();const requestOffers=Object(react[\"useCallback\"])(options=>{setLastSearch(options);SendMessageComposer(new nitro_renderer[\"Fc\" /* GetMarketplaceOffersMessageComposer */](options.minPrice,options.maxPrice,options.query,options.type));},[]);const getSortTypes=Object(react[\"useMemo\"])(()=>{switch(searchType){case MarketplaceSearchType.BY_ACTIVITY:return SORT_TYPES_ACTIVITY;case MarketplaceSearchType.BY_VALUE:return SORT_TYPES_VALUE;case MarketplaceSearchType.ADVANCED:return SORT_TYPES_ADVANCED;}return[];},[searchType]);const purchaseItem=Object(react[\"useCallback\"])(offerData=>{if(offerData.price>getCurrencyAmount(-1)){simpleAlert(LocalizeText('catalog.alert.notenough.credits.description'),NotificationAlertType.DEFAULT,null,null,LocalizeText('catalog.alert.notenough.title'));return;}const offerId=offerData.offerId;showConfirm(LocalizeText('catalog.marketplace.confirm_header'),()=>{SendMessageComposer(new nitro_renderer[\"K\" /* BuyMarketplaceOfferMessageComposer */](offerId));},null,null,null,LocalizeText('catalog.marketplace.confirm_title'));},[getCurrencyAmount,simpleAlert,showConfirm]);useMessageEvent(nitro_renderer[\"xe\" /* MarketPlaceOffersEvent */],event=>{const parser=event.getParser();if(!parser)return;const latestOffers=new Map();parser.offers.forEach(entry=>{const offerEntry=new MarketplaceOfferData(entry.offerId,entry.furniId,entry.furniType,entry.extraData,entry.stuffData,entry.price,entry.status,entry.averagePrice,entry.offerCount);offerEntry.timeLeftMinutes=entry.timeLeftMinutes;latestOffers.set(entry.offerId,offerEntry);});setTotalItemsFound(parser.totalItemsFound);setOffers(latestOffers);});useMessageEvent(nitro_renderer[\"ye\" /* MarketplaceBuyOfferResultEvent */],event=>{const parser=event.getParser();if(!parser)return;switch(parser.result){case 1:requestOffers(lastSearch);break;case 2:setOffers(prev=>{const newVal=new Map(prev);newVal.delete(parser.requestedOfferId);return newVal;});simpleAlert(LocalizeText('catalog.marketplace.not_available_header'),NotificationAlertType.DEFAULT,null,null,LocalizeText('catalog.marketplace.not_available_title'));break;case 3:// our shit was updated\n// todo: some dialogue modal \nsetOffers(prev=>{const newVal=new Map(prev);const item=newVal.get(parser.requestedOfferId);if(item){item.offerId=parser.offerId;item.price=parser.newPrice;item.offerCount--;newVal.set(item.offerId,item);}newVal.delete(parser.requestedOfferId);return newVal;});showConfirm(LocalizeText('catalog.marketplace.confirm_higher_header')+'\\n'+LocalizeText('catalog.marketplace.confirm_price',['price'],[parser.newPrice.toString()]),()=>{SendMessageComposer(new nitro_renderer[\"K\" /* BuyMarketplaceOfferMessageComposer */](parser.offerId));},null,null,null,LocalizeText('catalog.marketplace.confirm_higher_title'));break;case 4:simpleAlert(LocalizeText('catalog.alert.notenough.credits.description'),NotificationAlertType.DEFAULT,null,null,LocalizeText('catalog.alert.notenough.title'));break;}});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{active:searchType===MarketplaceSearchType.BY_ACTIVITY,onClick:()=>setSearchType(MarketplaceSearchType.BY_ACTIVITY),children:LocalizeText('catalog.marketplace.search_by_activity')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{active:searchType===MarketplaceSearchType.BY_VALUE,onClick:()=>setSearchType(MarketplaceSearchType.BY_VALUE),children:LocalizeText('catalog.marketplace.search_by_value')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{active:searchType===MarketplaceSearchType.ADVANCED,onClick:()=>setSearchType(MarketplaceSearchType.ADVANCED),children:LocalizeText('catalog.marketplace.search_advanced')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchFormView,{sortTypes:getSortTypes,searchType:searchType,onSearch:requestOffers}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:LocalizeText('catalog.marketplace.items_found',['count'],[offers.size.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"nitro-catalog-layout-marketplace-grid\",overflow:\"auto\",children:Array.from(offers.values()).map((entry,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplaceItemView,{offerData:entry,type:PUBLIC_OFFER,onClick:purchaseItem},index))})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/pets/CatalogLayoutPetView.tsx\nconst CatalogLayoutPetView=props=>{const{page=null}=props;const[petIndex,setPetIndex]=Object(react[\"useState\"])(-1);const[sellablePalettes,setSellablePalettes]=Object(react[\"useState\"])([]);const[selectedPaletteIndex,setSelectedPaletteIndex]=Object(react[\"useState\"])(-1);const[sellableColors,setSellableColors]=Object(react[\"useState\"])([]);const[selectedColorIndex,setSelectedColorIndex]=Object(react[\"useState\"])(-1);const[colorsShowing,setColorsShowing]=Object(react[\"useState\"])(false);const[petName,setPetName]=Object(react[\"useState\"])('');const[approvalPending,setApprovalPending]=Object(react[\"useState\"])(true);const[approvalResult,setApprovalResult]=Object(react[\"useState\"])(-1);const{currentOffer=null,setCurrentOffer=null,setPurchaseOptions=null,catalogOptions=null,roomPreviewer=null}=useCatalog();const{petPalettes=null}=catalogOptions;const getColor=Object(react[\"useMemo\"])(()=>{if(!sellableColors.length||selectedColorIndex===-1)return 0xFFFFFF;return sellableColors[selectedColorIndex][0];},[sellableColors,selectedColorIndex]);const petBreedName=Object(react[\"useMemo\"])(()=>{if(petIndex===-1||!sellablePalettes.length||selectedPaletteIndex===-1)return'';return LocalizeText(`pet.breed.${petIndex}.${sellablePalettes[selectedPaletteIndex].breedId}`);},[petIndex,sellablePalettes,selectedPaletteIndex]);const petPurchaseString=Object(react[\"useMemo\"])(()=>{if(!sellablePalettes.length||selectedPaletteIndex===-1)return'';const paletteId=sellablePalettes[selectedPaletteIndex].paletteId;let color=0xFFFFFF;if(petIndex<=7){if(selectedColorIndex===-1)return'';color=sellableColors[selectedColorIndex][0];}let colorString=color.toString(16).toUpperCase();while(colorString.length<6)colorString='0'+colorString;return`${paletteId}\\n${colorString}`;},[sellablePalettes,selectedPaletteIndex,petIndex,sellableColors,selectedColorIndex]);const validationErrorMessage=Object(react[\"useMemo\"])(()=>{let key='';switch(approvalResult){case 1:key='catalog.alert.petname.long';break;case 2:key='catalog.alert.petname.short';break;case 3:key='catalog.alert.petname.chars';break;case 4:key='catalog.alert.petname.bobba';break;}if(!key||!key.length)return'';return LocalizeText(key);},[approvalResult]);const purchasePet=Object(react[\"useCallback\"])(()=>{if(approvalResult===-1){SendMessageComposer(new nitro_renderer[\"j\" /* ApproveNameMessageComposer */](petName,1));return;}if(approvalResult===0){SendMessageComposer(new nitro_renderer[\"Tf\" /* PurchaseFromCatalogComposer */](page.pageId,currentOffer.offerId,`${petName}\\n${petPurchaseString}`,1));return;}},[page,currentOffer,petName,petPurchaseString,approvalResult]);useMessageEvent(nitro_renderer[\"k\" /* ApproveNameMessageEvent */],event=>{const parser=event.getParser();setApprovalResult(parser.result);if(parser.result===0)purchasePet();else DispatchUiEvent(new CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent(-1));});Object(react[\"useEffect\"])(()=>{if(!page||!page.offers.length)return;const offer=page.offers[0];setCurrentOffer(offer);setPetIndex(GetPetIndexFromLocalization(offer.localizationId));setColorsShowing(false);},[page,setCurrentOffer]);Object(react[\"useEffect\"])(()=>{if(!currentOffer)return;const productData=currentOffer.product.productData;if(!productData)return;if(petPalettes){for(const paletteData of petPalettes){if(paletteData.breed!==productData.type)continue;const palettes=[];for(const palette of paletteData.palettes){if(!palette.sellable)continue;palettes.push(palette);}setSelectedPaletteIndex(palettes.length?0:-1);setSellablePalettes(palettes);return;}}setSelectedPaletteIndex(-1);setSellablePalettes([]);SendMessageComposer(new nitro_renderer[\"Rc\" /* GetSellablePetPalettesComposer */](productData.type));},[currentOffer,petPalettes]);Object(react[\"useEffect\"])(()=>{if(petIndex===-1)return;const colors=GetPetAvailableColors(petIndex,sellablePalettes);setSelectedColorIndex(colors.length?0:-1);setSellableColors(colors);},[petIndex,sellablePalettes]);Object(react[\"useEffect\"])(()=>{if(!roomPreviewer)return;roomPreviewer.reset(false);if(petIndex===-1||!sellablePalettes.length||selectedPaletteIndex===-1)return;let petFigureString=`${petIndex} ${sellablePalettes[selectedPaletteIndex].paletteId}`;if(petIndex<=7)petFigureString+=` ${getColor.toString(16)}`;roomPreviewer.addPetIntoRoom(petFigureString);},[roomPreviewer,petIndex,sellablePalettes,selectedPaletteIndex,getColor]);Object(react[\"useEffect\"])(()=>{setApprovalResult(-1);},[petName]);if(!currentOffer)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid,{columnCount:5,children:[!colorsShowing&&sellablePalettes.length>0&&sellablePalettes.map((palette,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:selectedPaletteIndex===index,onClick:event=>setSelectedPaletteIndex(index),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{typeId:petIndex,paletteId:palette.paletteId,direction:2,headOnly:true})},index);}),colorsShowing&&sellableColors.length>0&&sellableColors.map((colorSet,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemHighlight:true,itemActive:selectedColorIndex===index,itemColor:nitro_renderer[\"sb\" /* ColorConverter */].int2rgb(colorSet[0]),className:\"clear-bg\",onClick:event=>setSelectedColorIndex(index)},index))]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView,{position:\"absolute\",className:\"bg-muted rounded bottom-1 end-1\"}),petIndex>-1&&petIndex<=7&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{position:\"absolute\",className:\"bottom-1 start-1\",onClick:event=>setColorsShowing(!colorsShowing),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"fill-drip\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,children:petBreedName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm w-100\",placeholder:LocalizeText('widgets.petpackage.name.title'),value:petName,onChange:event=>setPetName(event.target.value)}),approvalResult>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"invalid-feedback d-block m-0\",children:validationErrorMessage})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget,{justifyContent:\"end\",alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView,{purchaseCallback:purchasePet})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/vip-gifts/VipGiftItemView.tsx\nconst VipGiftItem=props=>{const{offer=null,isAvailable=false,onSelect=null}=props;const getImageUrlForOffer=Object(react[\"useCallback\"])(()=>{if(!offer||!offer.products.length)return'';const productData=offer.products[0];return ProductImageUtility_ProductImageUtility.getProductImageUrl(productData.productType,productData.furniClassId,productData.extraParam);},[offer]);const getItemTitle=Object(react[\"useCallback\"])(()=>{if(!offer||!offer.products.length)return'';const productData=offer.products[0];const localizationKey=ProductImageUtility_ProductImageUtility.getProductCategory(productData.productType,productData.furniClassId)===2?'wallItem.name.'+productData.furniClassId:'roomItem.name.'+productData.furniClassId;return LocalizeText(localizationKey);},[offer]);const getItemDesc=Object(react[\"useCallback\"])(()=>{if(!offer||!offer.products.length)return'';const productData=offer.products[0];const localizationKey=ProductImageUtility_ProductImageUtility.getProductCategory(productData.productType,productData.furniClassId)===2?'wallItem.desc.'+productData.furniClassId:'roomItem.desc.'+productData.furniClassId;return LocalizeText(localizationKey);},[offer]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{center:false,column:false,alignItems:\"center\",className:\"p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:getImageUrlForOffer()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,fontWeight:\"bold\",children:getItemTitle()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:()=>onSelect(offer.localizationId),disabled:!isAvailable,children:LocalizeText('catalog.club_gift.select')})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/vip-gifts/CatalogLayoutVipGiftsView.tsx\nconst CatalogLayoutVipGiftsView=props=>{const{purse=null}=usePurse();const{catalogOptions=null,setCatalogOptions=null}=useCatalog();const{clubGifts=null}=catalogOptions;const{showConfirm=null}=useNotification();const giftsAvailable=Object(react[\"useCallback\"])(()=>{if(!clubGifts)return'';if(clubGifts.giftsAvailable>0)return LocalizeText('catalog.club_gift.available',['amount'],[clubGifts.giftsAvailable.toString()]);if(clubGifts.daysUntilNextGift>0)return LocalizeText('catalog.club_gift.days_until_next',['days'],[clubGifts.daysUntilNextGift.toString()]);if(purse.isVip)return LocalizeText('catalog.club_gift.not_available');return LocalizeText('catalog.club_gift.no_club');},[clubGifts,purse]);const selectGift=Object(react[\"useCallback\"])(localizationId=>{showConfirm(LocalizeText('catalog.club_gift.confirm'),()=>{SendMessageComposer(new nitro_renderer[\"Vh\" /* SelectClubGiftComposer */](localizationId));setCatalogOptions(prevValue=>{prevValue.clubGifts.giftsAvailable--;return{...prevValue};});},null);},[setCatalogOptions,showConfirm]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:giftsAvailable()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:1,className:\"nitro-catalog-layout-vip-gifts-grid\",children:clubGifts.offers.length>0&&clubGifts.offers.map(offer=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VipGiftItem,{offer:offer,isAvailable:clubGifts.getOfferExtraData(offer.offerId).isSelectable&&clubGifts.giftsAvailable>0,onSelect:selectGift},offer.offerId))})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/GetCatalogLayout.tsx\nconst GetCatalogLayout=(page,hideNavigation)=>{if(!page)return null;const layoutProps={page,hideNavigation};switch(page.layoutCode){case'frontpage_featured':return null;case'frontpage4':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontpage4View,{...layoutProps});case'pets':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutPetView,{...layoutProps});case'pets2':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutPets2View,{...layoutProps});case'pets3':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutPets3View,{...layoutProps});case'vip_buy':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutVipBuyView,{...layoutProps});case'guild_frontpage':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayouGuildFrontpageView,{...layoutProps});case'guild_forum':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayouGuildForumView,{...layoutProps});case'guild_custom_furni':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayouGuildCustomFurniView,{...layoutProps});case'club_gifts':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutVipGiftsView,{...layoutProps});case'marketplace_own_items':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplaceOwnItemsView,{...layoutProps});case'marketplace':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplacePublicItemsView,{...layoutProps});case'single_bundle':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutSingleBundleView,{...layoutProps});case'room_bundle':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutRoomBundleView,{...layoutProps});case'spaces_new':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutSpacesView,{...layoutProps});case'trophies':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutTrophiesView,{...layoutProps});case'info_loyalty':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutInfoLoyaltyView,{...layoutProps});case'badge_display':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutBadgeDisplayView,{...layoutProps});case'roomads':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutRoomAdsView,{...layoutProps});case'default_3x3_color_grouping':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutColorGroupingView,{...layoutProps});case'bots':case'default_3x3':default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutDefaultView,{...layoutProps});}};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/MarketplacePostOfferView.tsx\nconst MarketplacePostOfferView=props=>{const[item,setItem]=Object(react[\"useState\"])(null);const[askingPrice,setAskingPrice]=Object(react[\"useState\"])(0);const[tempAskingPrice,setTempAskingPrice]=Object(react[\"useState\"])('0');const{catalogOptions=null,setCatalogOptions=null}=useCatalog();const{marketplaceConfiguration=null}=catalogOptions;const{showConfirm=null}=useNotification();const updateAskingPrice=price=>{setTempAskingPrice(price);const newValue=parseInt(price);if(isNaN(newValue)||newValue===askingPrice)return;setAskingPrice(parseInt(price));};useMessageEvent(nitro_renderer[\"Ae\" /* MarketplaceConfigurationEvent */],event=>{const parser=event.getParser();setCatalogOptions(prevValue=>{const newValue={...prevValue};newValue.marketplaceConfiguration=parser;return newValue;});});useUiEvent(CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent.POST_MARKETPLACE,event=>setItem(event.item));Object(react[\"useEffect\"])(()=>{if(!item||marketplaceConfiguration)return;SendMessageComposer(new nitro_renderer[\"Ec\" /* GetMarketplaceConfigurationMessageComposer */]());},[item,marketplaceConfiguration]);Object(react[\"useEffect\"])(()=>{if(!item)return;return()=>setAskingPrice(0);},[item]);if(!marketplaceConfiguration||!item)return null;const getFurniTitle=item?LocalizeText(item.isWallItem?'wallItem.name.'+item.type:'roomItem.name.'+item.type):'';const getFurniDescription=item?LocalizeText(item.isWallItem?'wallItem.desc.'+item.type:'roomItem.desc.'+item.type):'';const getCommission=()=>Math.max(Math.ceil(marketplaceConfiguration.commission*0.01*askingPrice),1);const postItem=()=>{if(!item||askingPrice<marketplaceConfiguration.minimumPrice)return;showConfirm(LocalizeText('inventory.marketplace.confirm_offer.info',['furniname','price'],[getFurniTitle,askingPrice.toString()]),()=>{SendMessageComposer(new nitro_renderer[\"we\" /* MakeOfferMessageComposer */](askingPrice,item.isWallItem?2:1,item.id));setItem(null);},()=>{setItem(null);},null,null,LocalizeText('inventory.marketplace.confirm_offer.title'));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-catalog-layout-marketplace-post-offer\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('inventory.marketplace.make_offer.title'),onCloseClick:event=>setItem(null)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{fullHeight:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,className:\"bg-muted rounded p-2\",size:4,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutFurniImageView,{productType:item.isWallItem?ProductTypeEnum.WALL:ProductTypeEnum.FLOOR,productClassId:item.type,extraData:item.extra.toString()})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:8,justifyContent:\"between\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:getFurniTitle}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,shrink:true,children:getFurniDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{italics:true,children:LocalizeText('inventory.marketplace.make_offer.expiration_info',['time'],[marketplaceConfiguration.offerTime.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group has-validation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:tempAskingPrice,onChange:event=>updateAskingPrice(event.target.value),placeholder:LocalizeText('inventory.marketplace.make_offer.price_request')}),(askingPrice<marketplaceConfiguration.minimumPrice||isNaN(askingPrice))&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"invalid-feedback d-block\",children:LocalizeText('inventory.marketplace.make_offer.min_price',['minprice'],[marketplaceConfiguration.minimumPrice.toString()])}),askingPrice>marketplaceConfiguration.maximumPrice&&!isNaN(askingPrice)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"invalid-feedback d-block\",children:LocalizeText('inventory.marketplace.make_offer.max_price',['maxprice'],[marketplaceConfiguration.maximumPrice.toString()])}),!(askingPrice<marketplaceConfiguration.minimumPrice||askingPrice>marketplaceConfiguration.maximumPrice||isNaN(askingPrice))&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"invalid-feedback d-block\",children:LocalizeText('inventory.marketplace.make_offer.final_price',['commission','finalprice'],[getCommission().toString(),(askingPrice+getCommission()).toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:askingPrice<marketplaceConfiguration.minimumPrice||askingPrice>marketplaceConfiguration.maximumPrice||isNaN(askingPrice),onClick:postItem,children:LocalizeText('inventory.marketplace.make_offer.post')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/CatalogView.tsx\nconst CatalogView=props=>{const{isVisible=false,setIsVisible=null,rootNode=null,currentPage=null,navigationHidden=false,setNavigationHidden=null,activeNodes=[],searchResult=null,setSearchResult=null,openPageByName=null,openPageByOfferId=null,activateNode=null,getNodeById}=useCatalog();Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;case'open':if(parts.length>2){if(parts.length===4){switch(parts[2]){case'offerId':openPageByOfferId(parseInt(parts[3]));return;}}else{openPageByName(parts[2]);}}else{setIsVisible(true);}return;}},eventUrlPrefix:'catalog/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[setIsVisible,openPageByOfferId,openPageByName]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"catalog\",className:\"nitro-catalog\",style:{width:GetConfiguration('catalog.headers')?'710px':''},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('catalog.title'),onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView,{children:rootNode&&rootNode.children.length>0&&rootNode.children.map(child=>{if(!child.isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:child.isActive,onClick:event=>{if(searchResult)setSearchResult(null);activateNode(child);},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:GetConfiguration('catalog.tab.icons')?1:0,alignItems:\"center\",children:[GetConfiguration('catalog.tab.icons')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogIconView,{icon:child.iconId}),child.localization]})},child.pageId);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[!navigationHidden&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:3,overflow:\"hidden\",children:activeNodes&&activeNodes.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationView,{node:activeNodes[0]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:!navigationHidden?9:12,overflow:\"hidden\",children:GetCatalogLayout(currentPage,()=>setNavigationHidden(true))})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGiftView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MarketplacePostOfferView,{})]});};\n// EXTERNAL MODULE: ./node_modules/react-virtualized/dist/es/index.js + 67 modules\nvar es = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/components/chat-history/ChatHistoryView.tsx\nconst ChatHistoryView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{chatHistory=[]}=useChatHistory();const elementRef=Object(react[\"useRef\"])(null);const cache=Object(react[\"useMemo\"])(()=>new es[\"c\" /* CellMeasurerCache */]({defaultHeight:25,fixedWidth:true}),[]);const RowRenderer=props=>{const item=chatHistory[props.index];const isDark=props.index%2===0;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"b\" /* CellMeasurer */],{cache:cache,columnIndex:0,parent:props.parent,rowIndex:props.index,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{style:props.style,className:\"p-1\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"muted\",children:item.timestamp}),item.type===ChatEntryType.TYPE_CHAT&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{pointer:true,noWrap:true,dangerouslySetInnerHTML:{__html:item.name+':'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{textBreak:true,wrap:true,grow:true,children:item.message})]}),item.type===ChatEntryType.TYPE_ROOM_INFO&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-small-room\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{textBreak:true,wrap:true,grow:true,children:item.name})]})]},props.key)},props.key);};const onResize=info=>cache.clearAll();Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;}},eventUrlPrefix:'chat-history/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);Object(react[\"useEffect\"])(()=>{if(elementRef&&elementRef.current&&isVisible)elementRef.current.scrollToRow(-1);},[isVisible]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"chat-history\",className:\"nitro-chat-history\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('room.chathistory.button.text'),onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AutoSizer */],{defaultWidth:300,defaultHeight:200,onResize:onResize,children:_ref=>{let{height,width}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* List */],{ref:elementRef,width:width,height:height,rowCount:chatHistory.length,rowHeight:cache.rowHeight,className:'chat-history-list',rowRenderer:RowRenderer,deferredMeasurementCache:cache});}})})]});};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/Constants.ts\nconst TILE_SIZE=32;const MAX_NUM_TILE_PER_AXIS=64;const HEIGHT_SCHEME='x0123456789abcdefghijklmnopq';class FloorAction{}FloorAction.DOOR=0;FloorAction.UP=1;FloorAction.DOWN=2;FloorAction.SET=3;FloorAction.UNSET=4;const COLORMAP={'x':'101010','0':'0065ff','1':'0091ff','2':'00bcff','3':'00e8ff','4':'00ffea','5':'00ffbf','6':'00ff93','7':'00ff68','8':'00ff3d','9':'19ff00','a':'44ff00','b':'70ff00','c':'9bff00','d':'f2ff00','e':'ffe000','f':'ffb500','g':'ff8900','h':'ff5e00','i':'ff3200','j':'ff0700','k':'ff0023','l':'ff007a','m':'ff00a5','n':'ff00d1','o':'ff00fc','p':'d600ff','q':'aa00ff'};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/ActionSettings.ts\nclass ActionSettings_ActionSettings{constructor(){this._currentAction=void 0;this._currentHeight=void 0;this._currentAction=FloorAction.SET;this._currentHeight=HEIGHT_SCHEME[1];}get currentAction(){return this._currentAction;}set currentAction(value){this._currentAction=value;}get currentHeight(){return this._currentHeight;}set currentHeight(value){this._currentHeight=value;}clear(){this._currentAction=FloorAction.SET;this._currentHeight=HEIGHT_SCHEME[1];}}\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/Tile.ts\nclass Tile{constructor(height,isBlocked){this._height=void 0;this._isBlocked=void 0;this._height=height;this._isBlocked=isBlocked;}get height(){return this._height;}set height(height){this._height=height;}get isBlocked(){return this._isBlocked;}set isBlocked(val){this._isBlocked=val;}}\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/Utils.ts\nconst getScreenPositionForTile=(x,y)=>{let positionX=x*TILE_SIZE/2-y*TILE_SIZE/2;const positionY=x*TILE_SIZE/4+y*TILE_SIZE/4;positionX=positionX+1024;// center the map in the canvas\nreturn[positionX,positionY];};const getTileFromScreenPosition=(x,y)=>{const translatedX=x-1024;// after centering translation\nconst realX=(translatedX/(TILE_SIZE/2)+y/(TILE_SIZE/4))/2;const realY=(y/(TILE_SIZE/4)-translatedX/(TILE_SIZE/2))/2;return[realX,realY];};const convertNumbersForSaving=value=>{value=parseInt(value.toString());switch(value){case 0:return-2;case 1:return-1;case 3:return 1;default:return 0;}};const convertSettingToNumber=value=>{switch(value){case 0.25:return 0;case 0.5:return 1;case 2:return 3;default:return 2;}};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/FloorplanEditor.ts\nclass FloorplanEditor_FloorplanEditor extends nitro_renderer[\"Nf\" /* PixiApplicationProxy */]{constructor(){const width=TILE_SIZE*MAX_NUM_TILE_PER_AXIS+20;const height=TILE_SIZE*MAX_NUM_TILE_PER_AXIS/2+100;super({width:width,height:height,backgroundColor:0x000000,antialias:true,autoDensity:true,resolution:1,sharedLoader:true,sharedTicker:true});this._tilemap=void 0;this._width=void 0;this._height=void 0;this._isHolding=void 0;this._doorLocation=void 0;this._lastUsedTile=void 0;this._tilemapRenderer=void 0;this._actionSettings=void 0;this._isInitialized=void 0;this._assetCollection=void 0;this._tilemap=[];this._doorLocation=new nitro_renderer[\"nf\" /* NitroPoint */](0,0);this._width=0;this._height=0;this._isHolding=false;this._lastUsedTile=new nitro_renderer[\"nf\" /* NitroPoint */](-1,-1);this._actionSettings=new ActionSettings_ActionSettings();}initialize(){if(this._isInitialized)return;const collection=GetNitroCore().asset.getCollection('floor_editor');if(!collection)return;this._assetCollection=collection;this._tilemapRenderer=new nitro_renderer[\"tf\" /* NitroTilemap */](collection.baseTexture);this.registerEventListeners();this.stage.addChild(this._tilemapRenderer);this._isInitialized=true;}registerEventListeners(){//this._tilemapRenderer.interactive = true;\nconst tempPoint=new nitro_renderer[\"nf\" /* NitroPoint */]();// @ts-ignore\nthis._tilemapRenderer.containsPoint=position=>{this._tilemapRenderer.worldTransform.applyInverse(position,tempPoint);return this.tileHitDetection(tempPoint,false);};this._tilemapRenderer.on('pointerup',()=>{this._isHolding=false;});this._tilemapRenderer.on('pointerout',()=>{this._isHolding=false;});this._tilemapRenderer.on('pointerdown',event=>{if(!(event.data.originalEvent instanceof PointerEvent)&&!(event.data.originalEvent instanceof TouchEvent))return;const pointerEvent=event.data.originalEvent;if(pointerEvent instanceof MouseEvent&&pointerEvent.button===2)return;const location=event.data.global;this.tileHitDetection(location,true);});this._tilemapRenderer.on('click',event=>{if(!(event.data.originalEvent instanceof PointerEvent))return;const pointerEvent=event.data.originalEvent;if(pointerEvent.button===2)return;const location=event.data.global;this.tileHitDetection(location,true,true);});}tileHitDetection(tempPoint,setHolding){let isClick=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;// @ts-ignore\nconst buffer=this._tilemapRenderer.pointsBuf;const bufSize=nitro_renderer[\"Af\" /* POINT_STRUCT_SIZE */];const len=buffer.length;if(setHolding){this._isHolding=true;}for(let j=0;j<len;j+=bufSize){const bufIndex=j+bufSize;const data=buffer.slice(j,bufIndex);const width=TILE_SIZE;const height=TILE_SIZE/2;const mousePositionX=Math.floor(tempPoint.x);const mousePositionY=Math.floor(tempPoint.y);const tileStartX=data[2];const tileStartY=data[3];const centreX=tileStartX+width/2;const centreY=tileStartY+height/2;const dx=Math.abs(mousePositionX-centreX);const dy=Math.abs(mousePositionY-centreY);const solution=dx/(width*0.5)+dy/(height*0.5)<=1;//todo: improve this\nif(solution){if(this._isHolding){const[realX,realY]=getTileFromScreenPosition(tileStartX,tileStartY);if(isClick){this.onClick(realX,realY);}else if(this._lastUsedTile.x!==realX||this._lastUsedTile.y!==realY){this._lastUsedTile.x=realX;this._lastUsedTile.y=realY;this.onClick(realX,realY);}}return true;}}return false;}onClick(x,y){const tile=this._tilemap[y][x];const heightIndex=HEIGHT_SCHEME.indexOf(tile.height);let futureHeightIndex=0;switch(this._actionSettings.currentAction){case FloorAction.DOOR:if(tile.height!=='x'){this._doorLocation.x=x;this._doorLocation.y=y;this.renderTiles();}return;case FloorAction.UP:if(tile.height==='x')return;futureHeightIndex=heightIndex+1;break;case FloorAction.DOWN:if(tile.height==='x'||heightIndex<=1)return;futureHeightIndex=heightIndex-1;break;case FloorAction.SET:futureHeightIndex=HEIGHT_SCHEME.indexOf(this._actionSettings.currentHeight);break;case FloorAction.UNSET:futureHeightIndex=0;break;}if(futureHeightIndex===-1)return;if(heightIndex===futureHeightIndex)return;if(futureHeightIndex>0){if(x+1>this._width)this._width=x+1;if(y+1>this._height)this._height=y+1;}const newHeight=HEIGHT_SCHEME[futureHeightIndex];if(!newHeight)return;if(tile.isBlocked)return;this._tilemap[y][x].height=newHeight;this.renderTiles();}renderTiles(){this.tilemapRenderer.clear();for(let y=0;y<this._tilemap.length;y++){for(let x=0;x<this.tilemap[y].length;x++){const tile=this.tilemap[y][x];let assetName=tile.height;if(this._doorLocation.x===x&&this._doorLocation.y===y)assetName=FloorplanEditor_FloorplanEditor.TILE_DOOR;if(tile.isBlocked)assetName=FloorplanEditor_FloorplanEditor.TILE_BLOCKED;//if((tile.height === 'x') || tile.height === 'X') continue;\nconst[positionX,positionY]=getScreenPositionForTile(x,y);this._tilemapRenderer.tile(this._assetCollection.getTexture(`floor_editor_${assetName}`),positionX,positionY);}}}setTilemap(map,blockedTiles){this._tilemap=[];const roomMapStringSplit=map.split('\\r');let width=0;let height=roomMapStringSplit.length;// find the map width, height\nfor(let y=0;y<height;y++){const originalRow=roomMapStringSplit[y];if(originalRow.length===0){roomMapStringSplit.splice(y,1);height=roomMapStringSplit.length;y--;continue;}if(originalRow.length>width){width=originalRow.length;}}// fill map with room heightmap tiles\nfor(let y=0;y<height;y++){this._tilemap[y]=[];const rowString=roomMapStringSplit[y];for(let x=0;x<width;x++){const blocked=blockedTiles[y]&&blockedTiles[y][x]||false;const char=rowString[x];if(!(char==='x')&&!(char==='X')&&char){this._tilemap[y][x]=new Tile(char,blocked);}else{this._tilemap[y][x]=new Tile('x',blocked);}}for(let x=width;x<MAX_NUM_TILE_PER_AXIS;x++){this.tilemap[y][x]=new Tile('x',false);}}// fill remaining map with empty tiles\nfor(let y=height;y<MAX_NUM_TILE_PER_AXIS;y++){if(!this.tilemap[y])this.tilemap[y]=[];for(let x=0;x<MAX_NUM_TILE_PER_AXIS;x++){this.tilemap[y][x]=new Tile('x',false);}}this._width=width;this._height=height;}getCurrentTilemapString(){const highestTile=this._tilemap[this._height-1][this._width-1];if(highestTile.height==='x'){this._width=-1;this._height=-1;for(let y=MAX_NUM_TILE_PER_AXIS-1;y>=0;y--){if(!this._tilemap[y])continue;for(let x=MAX_NUM_TILE_PER_AXIS-1;x>=0;x--){if(!this._tilemap[y][x])continue;const tile=this._tilemap[y][x];if(tile.height!=='x'){if(x+1>this._width)this._width=x+1;if(y+1>this._height)this._height=y+1;}}}}const rows=[];for(let y=0;y<this._height;y++){const row=[];for(let x=0;x<this._width;x++){const tile=this._tilemap[y][x];row[x]=tile.height;}rows[y]=row.join('');}return rows.join('\\r');}clear(){this._tilemapRenderer.interactive=false;this._tilemap=[];this._doorLocation.set(-1,-1);this._width=0;this._height=0;this._isHolding=false;this._lastUsedTile.set(-1,-1);this._actionSettings.clear();this._tilemapRenderer.clear();}get tilemapRenderer(){return this._tilemapRenderer;}get tilemap(){return this._tilemap;}get doorLocation(){return this._doorLocation;}set doorLocation(value){this._doorLocation=value;}get actionSettings(){return this._actionSettings;}static get instance(){if(!FloorplanEditor_FloorplanEditor._INSTANCE){FloorplanEditor_FloorplanEditor._INSTANCE=new FloorplanEditor_FloorplanEditor();}return FloorplanEditor_FloorplanEditor._INSTANCE;}}FloorplanEditor_FloorplanEditor._INSTANCE=null;FloorplanEditor_FloorplanEditor.TILE_BLOCKED='r_blocked';FloorplanEditor_FloorplanEditor.TILE_DOOR='r_door';\n// CONCATENATED MODULE: ./src/components/floorplan-editor/FloorplanEditorContext.tsx\nconst FloorplanEditorContext=/*#__PURE__*/Object(react[\"createContext\"])({originalFloorplanSettings:null,setOriginalFloorplanSettings:null,visualizationSettings:null,setVisualizationSettings:null});const FloorplanEditorContextProvider=props=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanEditorContext.Provider,{...props});const useFloorplanEditorContext=()=>Object(react[\"useContext\"])(FloorplanEditorContext);\n// CONCATENATED MODULE: ./src/components/floorplan-editor/views/FloorplanCanvasView.tsx\nconst FloorplanCanvasView=props=>{const{gap=1,children=null,...rest}=props;const[occupiedTilesReceived,setOccupiedTilesReceived]=Object(react[\"useState\"])(false);const[entryTileReceived,setEntryTileReceived]=Object(react[\"useState\"])(false);const{originalFloorplanSettings=null,setOriginalFloorplanSettings=null,setVisualizationSettings=null}=useFloorplanEditorContext();const elementRef=Object(react[\"useRef\"])(null);useMessageEvent(nitro_renderer[\"dh\" /* RoomOccupiedTilesMessageEvent */],event=>{const parser=event.getParser();setOriginalFloorplanSettings(prevValue=>{const newValue={...prevValue};newValue.reservedTiles=parser.blockedTilesMap;FloorplanEditor_FloorplanEditor.instance.setTilemap(newValue.tilemap,newValue.reservedTiles);return newValue;});setOccupiedTilesReceived(true);elementRef.current.scrollTo(FloorplanEditor_FloorplanEditor.instance.view.width/3,0);});useMessageEvent(nitro_renderer[\"Og\" /* RoomEntryTileMessageEvent */],event=>{const parser=event.getParser();setOriginalFloorplanSettings(prevValue=>{const newValue={...prevValue};newValue.entryPoint=[parser.x,parser.y];newValue.entryPointDir=parser.direction;return newValue;});setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.entryPointDir=parser.direction;return newValue;});FloorplanEditor_FloorplanEditor.instance.doorLocation=new nitro_renderer[\"nf\" /* NitroPoint */](parser.x,parser.y);setEntryTileReceived(true);});const onClickArrowButton=scrollDirection=>{const element=elementRef.current;if(!element)return;switch(scrollDirection){case'up':element.scrollBy({top:-10});break;case'down':element.scrollBy({top:10});break;case'left':element.scrollBy({left:-10});break;case'right':element.scrollBy({left:10});break;}};Object(react[\"useEffect\"])(()=>{return()=>{FloorplanEditor_FloorplanEditor.instance.clear();setVisualizationSettings(prevValue=>{return{wallHeight:originalFloorplanSettings.wallHeight,thicknessWall:originalFloorplanSettings.thicknessWall,thicknessFloor:originalFloorplanSettings.thicknessFloor,entryPointDir:prevValue.entryPointDir};});};},[originalFloorplanSettings.thicknessFloor,originalFloorplanSettings.thicknessWall,originalFloorplanSettings.wallHeight,setVisualizationSettings]);Object(react[\"useEffect\"])(()=>{if(!entryTileReceived||!occupiedTilesReceived)return;FloorplanEditor_FloorplanEditor.instance.renderTiles();},[entryTileReceived,occupiedTilesReceived]);Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Pc\" /* GetRoomEntryTileMessageComposer */]());SendMessageComposer(new nitro_renderer[\"Jc\" /* GetOccupiedTilesMessageComposer */]());FloorplanEditor_FloorplanEditor.instance.tilemapRenderer.interactive=true;if(!elementRef.current)return;elementRef.current.appendChild(FloorplanEditor_FloorplanEditor.instance.renderer.view);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:gap,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,size:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{className:\"d-md-none\",onClick:event=>onClickArrowButton('left'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrow-left\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",size:10,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"center\",className:\"d-md-none\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{shrink:true,onClick:event=>onClickArrowButton('up'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrow-up\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{overflow:\"auto\",innerRef:elementRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"center\",className:\"d-md-none\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{shrink:true,onClick:event=>onClickArrowButton('down'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrow-down\"})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,size:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{className:\"d-md-none\",onClick:event=>onClickArrowButton('right'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrow-right\"})})})]}),children]});};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/ConvertMapToString.ts\nconst ConvertTileMapToString=map=>map.replace(/\\r\\n|\\r|\\n/g,'\\n').toLowerCase();\n// CONCATENATED MODULE: ./src/components/floorplan-editor/views/FloorplanImportExportView.tsx\nconst FloorplanImportExportView=props=>{const{onCloseClick=null}=props;const[map,setMap]=Object(react[\"useState\"])('');const{originalFloorplanSettings=null}=useFloorplanEditorContext();const saveFloorChanges=()=>{SendMessageComposer(new nitro_renderer[\"Ii\" /* UpdateFloorPropertiesMessageComposer */](map.split('\\n').join('\\r'),originalFloorplanSettings.entryPoint[0],originalFloorplanSettings.entryPoint[1],originalFloorplanSettings.entryPointDir,convertNumbersForSaving(originalFloorplanSettings.thicknessWall),convertNumbersForSaving(originalFloorplanSettings.thicknessFloor),originalFloorplanSettings.wallHeight-1));};UseMountEffect(()=>{setMap(ConvertTileMapToString(originalFloorplanSettings.tilemap));});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{theme:\"primary-slim\",className:\"floorplan-import-export\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('floor.plan.editor.import.export'),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"h-100\",value:map,onChange:event=>setMap(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>setMap(ConvertTileMapToString(originalFloorplanSettings.tilemap)),children:LocalizeText('floor.plan.editor.revert.to.last.received.map')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:saveFloorChanges,children:LocalizeText('floor.plan.editor.save')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/views/FloorplanOptionsView.tsx\nconst MIN_WALL_HEIGHT=0;const MAX_WALL_HEIGHT=16;const MIN_FLOOR_HEIGHT=0;const MAX_FLOOR_HEIGHT=26;const FloorplanOptionsView=props=>{const{visualizationSettings=null,setVisualizationSettings=null}=useFloorplanEditorContext();const[floorAction,setFloorAction]=Object(react[\"useState\"])(FloorAction.SET);const[floorHeight,setFloorHeight]=Object(react[\"useState\"])(0);const selectAction=action=>{setFloorAction(action);FloorplanEditor_FloorplanEditor.instance.actionSettings.currentAction=action;};const changeDoorDirection=()=>{setVisualizationSettings(prevValue=>{const newValue={...prevValue};if(newValue.entryPointDir<7){++newValue.entryPointDir;}else{newValue.entryPointDir=0;}return newValue;});};const onFloorHeightChange=value=>{if(isNaN(value)||value<=0)value=0;if(value>26)value=26;setFloorHeight(value);FloorplanEditor_FloorplanEditor.instance.actionSettings.currentHeight=value.toString(36);};const onFloorThicknessChange=value=>{setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.thicknessFloor=value;return newValue;});};const onWallThicknessChange=value=>{setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.thicknessWall=value;return newValue;});};const onWallHeightChange=value=>{if(isNaN(value)||value<=0)value=MIN_WALL_HEIGHT;if(value>MAX_WALL_HEIGHT)value=MAX_WALL_HEIGHT;setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.wallHeight=value;return newValue;});};const increaseWallHeight=()=>{let height=visualizationSettings.wallHeight+1;if(height>MAX_WALL_HEIGHT)height=MAX_WALL_HEIGHT;onWallHeightChange(height);};const decreaseWallHeight=()=>{let height=visualizationSettings.wallHeight-1;if(height<=0)height=MIN_WALL_HEIGHT;onWallHeightChange(height);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('floor.plan.editor.draw.mode')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:floorAction===FloorAction.SET,onClick:event=>selectAction(FloorAction.SET),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-set-tile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:floorAction===FloorAction.UNSET,onClick:event=>selectAction(FloorAction.UNSET),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-unset-tile\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:floorAction===FloorAction.UP,onClick:event=>selectAction(FloorAction.UP),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-increase-height\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:floorAction===FloorAction.DOWN,onClick:event=>selectAction(FloorAction.DOWN),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-decrease-height\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:floorAction===FloorAction.DOOR,onClick:event=>selectAction(FloorAction.DOOR),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-set-door\"})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",size:4,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('floor.plan.editor.enter.direction')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`icon icon-door-direction-${visualizationSettings.entryPointDir} cursor-pointer`,onClick:changeDoorDirection})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('floor.editor.wall.height')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"caret-left\",className:\"cursor-pointer\",onClick:decreaseWallHeight}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:visualizationSettings.wallHeight,onChange:event=>onWallHeightChange(event.target.valueAsNumber)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"caret-right\",className:\"cursor-pointer\",onClick:increaseWallHeight})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{bold:true,children:[LocalizeText('floor.plan.editor.tile.height'),\": \",floorHeight]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:\"nitro-slider\",min:MIN_FLOOR_HEIGHT,max:MAX_FLOOR_HEIGHT,step:1,value:floorHeight,onChange:event=>onFloorHeightChange(event),renderThumb:(_ref,state)=>{let{style,...rest}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundColor:`#${COLORMAP[state.valueNow.toString(33)]}`,...style},...rest,children:state.valueNow});}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('floor.plan.editor.room.options')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"align-items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-control form-control-sm\",value:visualizationSettings.thicknessWall,onChange:event=>onWallThicknessChange(parseInt(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:0,children:LocalizeText('navigator.roomsettings.wall_thickness.thinnest')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:1,children:LocalizeText('navigator.roomsettings.wall_thickness.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:2,children:LocalizeText('navigator.roomsettings.wall_thickness.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:3,children:LocalizeText('navigator.roomsettings.wall_thickness.thick')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-control form-control-sm\",value:visualizationSettings.thicknessFloor,onChange:event=>onFloorThicknessChange(parseInt(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:0,children:LocalizeText('navigator.roomsettings.floor_thickness.thinnest')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:1,children:LocalizeText('navigator.roomsettings.floor_thickness.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:2,children:LocalizeText('navigator.roomsettings.floor_thickness.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:3,children:LocalizeText('navigator.roomsettings.floor_thickness.thick')})]})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/FloorplanEditorView.tsx\nconst FloorplanEditorView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[importExportVisible,setImportExportVisible]=Object(react[\"useState\"])(false);const[originalFloorplanSettings,setOriginalFloorplanSettings]=Object(react[\"useState\"])({tilemap:'',reservedTiles:[],entryPoint:[0,0],entryPointDir:2,wallHeight:-1,thicknessWall:1,thicknessFloor:1});const[visualizationSettings,setVisualizationSettings]=Object(react[\"useState\"])({entryPointDir:2,wallHeight:-1,thicknessWall:1,thicknessFloor:1});const saveFloorChanges=()=>{SendMessageComposer(new nitro_renderer[\"Ii\" /* UpdateFloorPropertiesMessageComposer */](FloorplanEditor_FloorplanEditor.instance.getCurrentTilemapString(),FloorplanEditor_FloorplanEditor.instance.doorLocation.x,FloorplanEditor_FloorplanEditor.instance.doorLocation.y,visualizationSettings.entryPointDir,convertNumbersForSaving(visualizationSettings.thicknessWall),convertNumbersForSaving(visualizationSettings.thicknessFloor),visualizationSettings.wallHeight-1));};const revertChanges=()=>{setVisualizationSettings({wallHeight:originalFloorplanSettings.wallHeight,thicknessWall:originalFloorplanSettings.thicknessWall,thicknessFloor:originalFloorplanSettings.thicknessFloor,entryPointDir:originalFloorplanSettings.entryPointDir});FloorplanEditor_FloorplanEditor.instance.doorLocation=new nitro_renderer[\"nf\" /* NitroPoint */](originalFloorplanSettings.entryPoint[0],originalFloorplanSettings.entryPoint[1]);FloorplanEditor_FloorplanEditor.instance.setTilemap(originalFloorplanSettings.tilemap,originalFloorplanSettings.reservedTiles);FloorplanEditor_FloorplanEditor.instance.renderTiles();};useRoomEngineEvent(nitro_renderer[\"Eg\" /* RoomEngineEvent */].DISPOSED,event=>setIsVisible(false));useMessageEvent(nitro_renderer[\"Sb\" /* FloorHeightMapEvent */],event=>{const parser=event.getParser();setOriginalFloorplanSettings(prevValue=>{const newValue={...prevValue};newValue.tilemap=parser.model;newValue.wallHeight=parser.wallHeight+1;return newValue;});setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.wallHeight=parser.wallHeight+1;return newValue;});});useMessageEvent(nitro_renderer[\"Lh\" /* RoomVisualizationSettingsEvent */],event=>{const parser=event.getParser();setOriginalFloorplanSettings(prevValue=>{const newValue={...prevValue};newValue.thicknessFloor=convertSettingToNumber(parser.thicknessFloor);newValue.thicknessWall=convertSettingToNumber(parser.thicknessWall);return newValue;});setVisualizationSettings(prevValue=>{const newValue={...prevValue};newValue.thicknessFloor=convertSettingToNumber(parser.thicknessFloor);newValue.thicknessWall=convertSettingToNumber(parser.thicknessWall);return newValue;});});Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;}},eventUrlPrefix:'floor-editor/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);Object(react[\"useEffect\"])(()=>{FloorplanEditor_FloorplanEditor.instance.initialize();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FloorplanEditorContextProvider,{value:{originalFloorplanSettings:originalFloorplanSettings,setOriginalFloorplanSettings:setOriginalFloorplanSettings,visualizationSettings:visualizationSettings,setVisualizationSettings:setVisualizationSettings},children:[isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"floorpan-editor\",className:\"nitro-floorplan-editor\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('floor.plan.editor.title'),onCloseClick:()=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanOptionsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanCanvasView,{overflow:\"hidden\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:revertChanges,children:LocalizeText('floor.plan.editor.reload')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:true,children:LocalizeText('floor.plan.editor.preview')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>setImportExportVisible(true),children:LocalizeText('floor.plan.editor.import.export')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:saveFloorChanges,children:LocalizeText('floor.plan.editor.save')})]})]})]})]}),importExportVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanImportExportView,{onCloseClick:()=>setImportExportVisible(false)})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-bar/FriendBarItemView.tsx\nconst FriendBarItemView=props=>{const{friend=null}=props;const[isVisible,setVisible]=Object(react[\"useState\"])(false);const{followFriend=null}=useFriends();const elementRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(()=>{const onClick=event=>{const element=elementRef.current;if(!element)return;if(event.target!==element&&!element.contains(event.target)){setVisible(false);}};document.addEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK,onClick);return()=>document.removeEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK,onClick);},[]);if(!friend){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{ref:elementRef,className:\"btn btn-primary friend-bar-item friend-bar-search\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"friend-bar-item-head position-absolute\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-truncate\",children:LocalizeText('friend.bar.find.title')})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{ref:elementRef,className:'btn btn-success friend-bar-item '+(isVisible?'friend-bar-item-active':''),onClick:event=>setVisible(prevValue=>!prevValue),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:`friend-bar-item-head position-absolute ${friend.id>0?'avatar':'group'}`,children:[friend.id>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{headOnly:true,figure:friend.figure,direction:2}),friend.id<=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{isGroup:true,badgeCode:friend.figure})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-truncate\",children:friend.name}),isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-friendbar-chat cursor-pointer\",onClick:event=>OpenMessengerChat(friend.id)}),friend.followingAllowed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-friendbar-visit cursor-pointer\",onClick:event=>followFriend(friend)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-profile cursor-pointer\",onClick:event=>GetUserProfile(friend.id)})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-bar/FriendsBarView.tsx\nconst MAX_DISPLAY_COUNT=3;const FriendBarView=props=>{const{onlineFriends=null}=props;const[indexOffset,setIndexOffset]=Object(react[\"useState\"])(0);const elementRef=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{innerRef:elementRef,alignItems:\"center\",className:\"friend-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"black\",className:\"friend-bar-button\",disabled:indexOffset<=0,onClick:event=>setIndexOffset(indexOffset-1),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})}),Array.from(Array(MAX_DISPLAY_COUNT),(e,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendBarItemView,{friend:onlineFriends[indexOffset+i]||null},i)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"black\",className:\"friend-bar-button\",disabled:!(onlineFriends.length>MAX_DISPLAY_COUNT&&indexOffset+MAX_DISPLAY_COUNT<=onlineFriends.length-1),onClick:event=>setIndexOffset(indexOffset+1),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/friends-list-group/FriendsListGroupItemView.tsx\nconst FriendsListGroupItemView=props=>{const{friend=null,selected=false,selectFriend=null}=props;const[isRelationshipOpen,setIsRelationshipOpen]=Object(react[\"useState\"])(false);const{followFriend=null,updateRelationship=null}=useFriends();const clickFollowFriend=event=>{event.stopPropagation();followFriend(friend);};const openMessengerChat=event=>{event.stopPropagation();OpenMessengerChat(friend.id);};const openRelationship=event=>{event.stopPropagation();setIsRelationshipOpen(true);};const clickUpdateRelationship=(event,type)=>{event.stopPropagation();updateRelationship(friend,type);setIsRelationshipOpen(false);};const getCurrentRelationshipName=()=>{if(!friend)return'none';switch(friend.relationshipStatus){case MessengerFriend.RELATIONSHIP_HEART:return'heart';case MessengerFriend.RELATIONSHIP_SMILE:return'smile';case MessengerFriend.RELATIONSHIP_BOBBA:return'bobba';default:return'none';}};if(!friend)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionItemView,{justifyContent:\"between\",className:`px-2 py-1 ${selected&&'bg-primary text-white'}`,onClick:event=>selectFriend(friend.id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{onClick:event=>event.stopPropagation(),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:friend.id})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:friend.name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[!isRelationshipOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[friend.followingAllowed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,onClick:clickFollowFriend,className:\"nitro-friends-spritesheet icon-follow\",title:LocalizeText('friendlist.tip.follow')}),friend.online&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-chat\",onClick:openMessengerChat,title:LocalizeText('friendlist.tip.im')}),friend.id>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:`nitro-friends-spritesheet icon-${getCurrentRelationshipName()} cursor-pointer`,onClick:openRelationship,title:LocalizeText('infostand.link.relationship')})]}),isRelationshipOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-heart\",onClick:event=>clickUpdateRelationship(event,MessengerFriend.RELATIONSHIP_HEART)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-smile\",onClick:event=>clickUpdateRelationship(event,MessengerFriend.RELATIONSHIP_SMILE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-bobba\",onClick:event=>clickUpdateRelationship(event,MessengerFriend.RELATIONSHIP_BOBBA)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-none\",onClick:event=>clickUpdateRelationship(event,MessengerFriend.RELATIONSHIP_NONE)})]})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/friends-list-group/FriendsListGroupView.tsx\nconst FriendsListGroupView=props=>{const{list=null,selectedFriendsIds=null,selectFriend=null}=props;if(!list||!list.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:list.map((item,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListGroupItemView,{friend:item,selected:selectedFriendsIds&&selectedFriendsIds.indexOf(item.id)>=0,selectFriend:selectFriend},index))});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/friends-list-request/FriendsListRequestItemView.tsx\nconst FriendsListRequestItemView=props=>{const{request=null}=props;const{requestResponse=null}=useFriends();if(!request)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:request.id}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:request.name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-accept cursor-pointer\",onClick:event=>requestResponse(request.id,true)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-deny cursor-pointer\",onClick:event=>requestResponse(request.id,false)})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/friends-list-request/FriendsListRequestView.tsx\nconst FriendsListRequestView=props=>{const{children=null,...rest}=props;const{requests=[],requestResponse=null}=useFriends();if(!requests.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionSetView,{...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullHeight:true,justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:0,children:requests.map((request,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListRequestItemView,{request:request},index))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"center\",className:\"px-2 py-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>requestResponse(-1,false),children:LocalizeText('friendlist.requests.dismissall')})})]}),children]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/FriendsListRemoveConfirmationView.tsx\nconst FriendsRemoveConfirmationView=props=>{const{selectedFriendsIds=null,removeFriendsText=null,removeSelectedFriends=null,onCloseClick=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-friends-remove-confirmation\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('friendlist.removefriendconfirm.title'),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:removeFriendsText}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"danger\",disabled:selectedFriendsIds.length===0,onClick:removeSelectedFriends,children:LocalizeText('generic.ok')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:onCloseClick,children:LocalizeText('generic.cancel')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/FriendsListRoomInviteView.tsx\nconst FriendsRoomInviteView=props=>{const{selectedFriendsIds=null,onCloseClick=null,sendRoomInvite=null}=props;const[roomInviteMessage,setRoomInviteMessage]=Object(react[\"useState\"])('');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-friends-room-invite\",uniqueKey:\"nitro-friends-room-invite\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('friendlist.invite.title'),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[LocalizeText('friendlist.invite.summary',['count'],[selectedFriendsIds.length.toString()]),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control\",value:roomInviteMessage,maxLength:255,onChange:event=>setRoomInviteMessage(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,className:\"bg-muted rounded p-1\",children:LocalizeText('friendlist.invite.note')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",disabled:roomInviteMessage.length===0||selectedFriendsIds.length===0,onClick:()=>sendRoomInvite(roomInviteMessage),children:LocalizeText('friendlist.invite.send')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:onCloseClick,children:LocalizeText('generic.cancel')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/FriendsListSearchView.tsx\nconst FriendsSearchView=props=>{const{...rest}=props;const[searchValue,setSearchValue]=Object(react[\"useState\"])('');const[friendResults,setFriendResults]=Object(react[\"useState\"])(null);const[otherResults,setOtherResults]=Object(react[\"useState\"])(null);const{canRequestFriend=null,requestFriend=null}=useFriends();useMessageEvent(nitro_renderer[\"be\" /* HabboSearchResultEvent */],event=>{const parser=event.getParser();setFriendResults(parser.friends);setOtherResults(parser.others);});Object(react[\"useEffect\"])(()=>{if(!searchValue||!searchValue.length)return;const timeout=setTimeout(()=>{if(!searchValue||!searchValue.length)return;SendMessageComposer(new nitro_renderer[\"ae\" /* HabboSearchComposer */](searchValue));},500);return()=>clearTimeout(timeout);},[searchValue]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionSetView,{...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"search-input form-control form-control-sm w-100 rounded-0\",placeholder:LocalizeText('generic.search'),value:searchValue,maxLength:50,onChange:event=>setSearchValue(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[friendResults&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[friendResults.length===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.nofriendsfound')}),friendResults.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.friendscaption',['cnt'],[friendResults.length.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:0,children:friendResults.map(result=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:result.avatarId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:result.avatarName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",gap:1,children:result.isAvatarOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-chat cursor-pointer\",onClick:event=>OpenMessengerChat(result.avatarId),title:LocalizeText('friendlist.tip.im')})})]},result.avatarId);})})]})]}),otherResults&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[otherResults.length===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.noothersfound')}),otherResults.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.otherscaption',['cnt'],[otherResults.length.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:0,children:otherResults.map(result=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:result.avatarId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:result.avatarName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",gap:1,children:canRequestFriend(result.avatarId)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-add cursor-pointer\",onClick:event=>requestFriend(result.avatarId,result.avatarName),title:LocalizeText('friendlist.tip.addfriend')})})]},result.avatarId);})})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/FriendsListView.tsx\nconst FriendsListView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[selectedFriendsIds,setSelectedFriendsIds]=Object(react[\"useState\"])([]);const[showRoomInvite,setShowRoomInvite]=Object(react[\"useState\"])(false);const[showRemoveFriendsConfirmation,setShowRemoveFriendsConfirmation]=Object(react[\"useState\"])(false);const{onlineFriends=[],offlineFriends=[],requests=[],requestFriend=null}=useFriends();const removeFriendsText=Object(react[\"useMemo\"])(()=>{if(!selectedFriendsIds||!selectedFriendsIds.length)return'';const userNames=[];for(const userId of selectedFriendsIds){let existingFriend=onlineFriends.find(f=>f.id===userId);if(!existingFriend)existingFriend=offlineFriends.find(f=>f.id===userId);if(!existingFriend)continue;userNames.push(existingFriend.name);}return LocalizeText('friendlist.removefriendconfirm.userlist',['user_names'],[userNames.join(', ')]);},[offlineFriends,onlineFriends,selectedFriendsIds]);const selectFriend=Object(react[\"useCallback\"])(userId=>{if(userId<0)return;setSelectedFriendsIds(prevValue=>{const newValue=[...prevValue];const existingUserIdIndex=newValue.indexOf(userId);if(existingUserIdIndex>-1){newValue.splice(existingUserIdIndex,1);}else{newValue.push(userId);}return newValue;});},[setSelectedFriendsIds]);const sendRoomInvite=message=>{if(!selectedFriendsIds.length||!message||!message.length||message.length>255)return;SendMessageComposer(new nitro_renderer[\"Yh\" /* SendRoomInviteComposer */](message,selectedFriendsIds));setShowRoomInvite(false);};const removeSelectedFriends=()=>{if(selectedFriendsIds.length===0)return;setSelectedFriendsIds(prevValue=>{SendMessageComposer(new nitro_renderer[\"hg\" /* RemoveFriendComposer */](...prevValue));return[];});setShowRemoveFriendsConfirmation(false);};Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;case'request':if(parts.length<4)return;requestFriend(parseInt(parts[2]),parts[3]);}},eventUrlPrefix:'friends/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[requestFriend]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-friends\",uniqueKey:\"nitro-friends\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('friendlist.friends'),onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{overflow:\"hidden\",gap:1,className:\"text-black p-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionView,{fullHeight:true,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardAccordionSetView,{headerText:LocalizeText('friendlist.friends')+` (${onlineFriends.length})`,isExpanded:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListGroupView,{list:onlineFriends,selectedFriendsIds:selectedFriendsIds,selectFriend:selectFriend})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardAccordionSetView,{headerText:LocalizeText('friendlist.friends.offlinecaption')+` (${offlineFriends.length})`,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListGroupView,{list:offlineFriends,selectedFriendsIds:selectedFriendsIds,selectFriend:selectFriend})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListRequestView,{headerText:LocalizeText('friendlist.tab.friendrequests')+` (${requests.length})`,isExpanded:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsSearchView,{headerText:LocalizeText('people.search.title')})]}),selectedFriendsIds&&selectedFriendsIds.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,className:\"p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:()=>setShowRoomInvite(true),children:LocalizeText('friendlist.tip.invite')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"danger\",onClick:event=>setShowRemoveFriendsConfirmation(true),children:LocalizeText('generic.delete')})]})]})]}),showRoomInvite&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsRoomInviteView,{selectedFriendsIds:selectedFriendsIds,onCloseClick:()=>setShowRoomInvite(false),sendRoomInvite:sendRoomInvite}),showRemoveFriendsConfirmation&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsRemoveConfirmationView,{selectedFriendsIds:selectedFriendsIds,removeFriendsText:removeFriendsText,onCloseClick:()=>setShowRemoveFriendsConfirmation(false),removeSelectedFriends:removeSelectedFriends})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/messenger/messenger-thread/FriendsMessengerThreadGroup.tsx\nconst FriendsMessengerThreadGroup=props=>{const{thread=null,group=null}=props;const groupChatData=Object(react[\"useMemo\"])(()=>group.type===MessengerGroupType.GROUP_CHAT&&GetGroupChatData(group.chats[0].extraData),[group]);const isOwnChat=Object(react[\"useMemo\"])(()=>{if(!thread||!group)return false;if(group.type===MessengerGroupType.PRIVATE_CHAT&&group.userId===GetSessionDataManager().userId)return true;if(groupChatData&&group.chats.length&&groupChatData.userId===GetSessionDataManager().userId)return true;return false;},[thread,group,groupChatData]);if(!thread||!group)return null;if(!group.userId){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:group.chats.map((chat,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fullWidth:true,gap:2,justifyContent:\"start\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"w-100 text-break\",children:[chat.type===MessengerThreadChat.SECURITY_NOTIFICATION&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-muted\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-warning flex-shrink-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{children:chat.message})]}),chat.type===MessengerThreadChat.ROOM_INVITE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"messenger-notification-icon flex-shrink-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{children:[LocalizeText('messenger.invitation')+' ',chat.message]})]})]})},index);})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,justifyContent:isOwnChat?'end':'start',gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{shrink:true,className:\"message-avatar\",children:[group.type===MessengerGroupType.PRIVATE_CHAT&&!isOwnChat&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:thread.participant.figure,direction:2}),groupChatData&&!isOwnChat&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:groupChatData.figure,direction:2})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:'bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-'+(isOwnChat?'right':'left'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"fw-bold\",children:[isOwnChat&&GetSessionDataManager().userName,!isOwnChat&&(groupChatData?groupChatData.username:thread.participant.name)]}),group.chats.map((chat,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"text-break\",children:chat.message},index))]}),isOwnChat&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{shrink:true,className:\"message-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:GetSessionDataManager().figure,direction:4})})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/messenger/messenger-thread/FriendsMessengerThreadView.tsx\nconst FriendsMessengerThreadView=props=>{const{thread=null}=props;thread.setRead();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:thread.groups.length>0&&thread.groups.map((group,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsMessengerThreadGroup,{thread:thread,group:group},index))});};\n// CONCATENATED MODULE: ./src/components/friends/views/messenger/FriendsMessengerView.tsx\nconst FriendsMessengerView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[lastThreadId,setLastThreadId]=Object(react[\"useState\"])(-1);const[messageText,setMessageText]=Object(react[\"useState\"])('');const{visibleThreads=[],activeThread=null,getMessageThread=null,sendMessage=null,setActiveThreadId=null,closeThread=null}=useMessenger();const{report=null}=useHelp();const messagesBox=Object(react[\"useRef\"])();const followFriend=()=>activeThread&&activeThread.participant&&SendMessageComposer(new nitro_renderer[\"Tb\" /* FollowFriendMessageComposer */](activeThread.participant.id));const openProfile=()=>activeThread&&activeThread.participant&&GetUserProfile(activeThread.participant.id);const send=()=>{if(!activeThread||!messageText.length)return;sendMessage(activeThread,GetSessionDataManager().userId,messageText);setMessageText('');};const onKeyDown=event=>{if(event.key!=='Enter')return;send();};Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length===2){if(parts[1]==='open'){setIsVisible(true);return;}if(parts[1]==='toggle'){setIsVisible(prevValue=>!prevValue);return;}const thread=getMessageThread(parseInt(parts[1]));if(!thread)return;setActiveThreadId(thread.threadId);setIsVisible(true);}},eventUrlPrefix:'friends-messenger/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[getMessageThread,setActiveThreadId]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!activeThread)return;messagesBox.current.scrollTop=messagesBox.current.scrollHeight;},[isVisible,activeThread]);Object(react[\"useEffect\"])(()=>{if(isVisible&&!activeThread){if(lastThreadId>0){setActiveThreadId(lastThreadId);}else{if(visibleThreads.length>0)setActiveThreadId(visibleThreads[0].threadId);}return;}if(!isVisible&&activeThread){setLastThreadId(activeThread.threadId);setActiveThreadId(-1);}},[isVisible,activeThread,lastThreadId,visibleThreads,setActiveThreadId]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-friends-messenger\",uniqueKey:\"nitro-friends-messenger\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('messenger.window.title',['OPEN_CHAT_COUNT'],[visibleThreads.length.toString()]),onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:4,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('toolbar.icon.label.messenger')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullHeight:true,overflow:\"auto\",children:visibleThreads&&visibleThreads.length>0&&visibleThreads.map(thread=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{itemActive:activeThread===thread,onClick:event=>setActiveThreadId(thread.threadId),children:[thread.unread&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView,{count:thread.unreadCount}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",className:\"friend-head px-1\",children:[thread.participant.id>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:thread.participant.figure,headOnly:true,direction:3}),thread.participant.id<=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{isGroup:true,badgeCode:thread.participant.figure})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,grow:true,children:thread.participant.name})]})]},thread.threadId);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:8,overflow:\"hidden\",children:activeThread&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,center:true,children:LocalizeText('messenger.window.separator',['FRIEND_NAME'],[activeThread.participant.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:followFriend,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-follow\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:openProfile,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friends-spritesheet icon-profile-sm\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:()=>report(ReportType.IM,{reportedUserId:activeThread.participant.id}),children:LocalizeText('messenger.window.button.report')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>closeThread(activeThread.threadId),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fit:true,className:\"bg-muted p-2 rounded chat-messages\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{innerRef:messagesBox,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsMessengerThreadView,{thread:activeThread})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:255,placeholder:LocalizeText('messenger.window.input.default',['FRIEND_NAME'],[activeThread.participant.name]),value:messageText,onChange:event=>setMessageText(event.target.value),onKeyDown:onKeyDown}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:send,children:LocalizeText('widgets.chatinput.say')})]})]})})]})})]});};\n// CONCATENATED MODULE: ./src/components/friends/FriendsView.tsx\nconst FriendsView=props=>{const{settings=null,onlineFriends=[]}=useFriends();if(!settings)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(react_dom[\"createPortal\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendBarView,{onlineFriends:onlineFriends}),document.getElementById('toolbar-friend-bar-container')),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsMessengerView,{})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupBadgeCreatorView.tsx\nconst POSITIONS=[0,1,2,3,4,5,6,7,8];const GroupBadgeCreatorView=props=>{const{badgeParts=[],setBadgeParts=null}=props;const[selectedIndex,setSelectedIndex]=Object(react[\"useState\"])(-1);const{groupCustomize=null}=useGroup();const setPartProperty=(partIndex,property,value)=>{const newBadgeParts=[...badgeParts];newBadgeParts[partIndex][property]=value;setBadgeParts(newBadgeParts);if(property==='key')setSelectedIndex(-1);};if(!badgeParts||!badgeParts.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[selectedIndex<0&&badgeParts&&badgeParts.length>0&&badgeParts.map((part,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:2,className:\"bg-muted rounded px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:event=>setSelectedIndex(index),children:[badgeParts[index].code&&badgeParts[index].code.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:badgeParts[index].code,isGroup:true}),(!badgeParts[index].code||!badgeParts[index].code.length)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"badge-image group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"plus\"})})]}),part.type!==GroupBadgePart.BASE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{gap:1,columnCount:3,children:POSITIONS.map((position,posIndex)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:`group-badge-position-swatch ${badgeParts[index].position===position?'active':''}`,onClick:event=>setPartProperty(index,'position',position)},posIndex);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{gap:1,columnCount:8,children:groupCustomize.badgePartColors.length>0&&groupCustomize.badgePartColors.map((item,colorIndex)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:`group-badge-color-swatch ${badgeParts[index].color===colorIndex+1?'active':''}`,style:{backgroundColor:'#'+item.color},onClick:event=>setPartProperty(index,'color',colorIndex+1)},colorIndex);})})]},index);}),selectedIndex>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,columnCount:5,children:[badgeParts[selectedIndex].type===GroupBadgePart.SYMBOL&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:event=>setPartProperty(selectedIndex,'key',0),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"badge-image group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})}),(badgeParts[selectedIndex].type===GroupBadgePart.BASE?groupCustomize.badgeBases:groupCustomize.badgeSymbols).map((item,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:event=>setPartProperty(selectedIndex,'key',item.id),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:GroupBadgePart.getCode(badgeParts[selectedIndex].type,item.id,badgeParts[selectedIndex].color,4),isGroup:true})},index);})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabBadgeView.tsx\nconst GroupTabBadgeView=props=>{const{groupData=null,setGroupData=null,setCloseAction=null,skipDefault=null}=props;const[badgeParts,setBadgeParts]=Object(react[\"useState\"])(null);const{groupCustomize=null}=useGroup();const getModifiedBadgeCode=()=>{if(!badgeParts||!badgeParts.length)return'';let badgeCode='';badgeParts.forEach(part=>part.code&&(badgeCode+=part.code));return badgeCode;};const saveBadge=Object(react[\"useCallback\"])(()=>{if(!groupData||!badgeParts||!badgeParts.length)return false;if(groupData.groupBadgeParts===badgeParts)return true;if(groupData.groupId<=0){setGroupData(prevValue=>{const newValue={...prevValue};newValue.groupBadgeParts=badgeParts;return newValue;});return true;}const badge=[];badgeParts.forEach(part=>{if(!part.code)return;badge.push(part.key);badge.push(part.color);badge.push(part.position);});SendMessageComposer(new nitro_renderer[\"wd\" /* GroupSaveBadgeComposer */](groupData.groupId,badge));return true;},[groupData,badgeParts,setGroupData]);Object(react[\"useEffect\"])(()=>{if(groupData.groupBadgeParts)return;const badgeParts=[new GroupBadgePart(GroupBadgePart.BASE,groupCustomize.badgeBases[0].id,groupCustomize.badgePartColors[0].id),new GroupBadgePart(GroupBadgePart.SYMBOL,0,groupCustomize.badgePartColors[0].id),new GroupBadgePart(GroupBadgePart.SYMBOL,0,groupCustomize.badgePartColors[0].id),new GroupBadgePart(GroupBadgePart.SYMBOL,0,groupCustomize.badgePartColors[0].id),new GroupBadgePart(GroupBadgePart.SYMBOL,0,groupCustomize.badgePartColors[0].id)];setGroupData(prevValue=>{const groupBadgeParts=badgeParts;return{...prevValue,groupBadgeParts};});},[groupData.groupBadgeParts,groupCustomize,setGroupData]);Object(react[\"useEffect\"])(()=>{if(groupData.groupId<=0){setBadgeParts(groupData.groupBadgeParts?[...groupData.groupBadgeParts]:null);return;}setBadgeParts(groupData.groupBadgeParts);},[groupData]);Object(react[\"useEffect\"])(()=>{setCloseAction({action:saveBadge});return()=>setCloseAction(null);},[setCloseAction,saveBadge]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"bg-muted rounded p-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:getModifiedBadgeCode(),isGroup:true})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:10,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupBadgeCreatorView,{badgeParts:badgeParts,setBadgeParts:setBadgeParts})})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabColorsView.tsx\nconst GroupTabColorsView=props=>{const{groupData=null,setGroupData=null,setCloseAction=null}=props;const[colors,setColors]=Object(react[\"useState\"])(null);const{groupCustomize=null}=useGroup();const getGroupColor=colorIndex=>{if(colorIndex===0)return groupCustomize.groupColorsA.find(color=>color.id===colors[colorIndex]).color;return groupCustomize.groupColorsB.find(color=>color.id===colors[colorIndex]).color;};const selectColor=(colorIndex,colorId)=>{setColors(prevValue=>{const newColors=[...prevValue];newColors[colorIndex]=colorId;return newColors;});};const saveColors=Object(react[\"useCallback\"])(()=>{if(!groupData||!colors||!colors.length)return false;if(groupData.groupColors===colors)return true;if(groupData.groupId<=0){setGroupData(prevValue=>{const newValue={...prevValue};newValue.groupColors=[...colors];return newValue;});return true;}SendMessageComposer(new nitro_renderer[\"xd\" /* GroupSaveColorsComposer */](groupData.groupId,colors[0],colors[1]));return true;},[groupData,colors,setGroupData]);Object(react[\"useEffect\"])(()=>{if(!groupCustomize.groupColorsA||!groupCustomize.groupColorsB||groupData.groupColors)return;const groupColors=[groupCustomize.groupColorsA[0].id,groupCustomize.groupColorsB[0].id];setGroupData(prevValue=>{return{...prevValue,groupColors};});},[groupCustomize,groupData.groupColors,setGroupData]);Object(react[\"useEffect\"])(()=>{if(groupData.groupId<=0){setColors(groupData.groupColors?[...groupData.groupColors]:null);return;}setColors(groupData.groupColors);},[groupData]);Object(react[\"useEffect\"])(()=>{setCloseAction({action:saveColors});return()=>setCloseAction(null);},[setCloseAction,saveColors]);if(!colors)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:2,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('group.edit.color.guild.color')}),groupData.groupColors&&groupData.groupColors.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{overflow:\"hidden\",className:\"rounded border\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(0)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(1)}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('group.edit.color.primary.color')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:groupData.groupColors&&groupCustomize.groupColorsA&&groupCustomize.groupColorsA.map((item,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'group-badge-color-swatch cursor-pointer'+classnames_default()({' active':groupData.groupColors[0]===item.id}),style:{backgroundColor:'#'+item.color},onClick:()=>selectColor(0,item.id)},index);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('group.edit.color.secondary.color')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:groupData.groupColors&&groupCustomize.groupColorsB&&groupCustomize.groupColorsB.map((item,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'group-badge-color-swatch cursor-pointer'+classnames_default()({' active':groupData.groupColors[1]===item.id}),style:{backgroundColor:'#'+item.color},onClick:()=>selectColor(1,item.id)},index);})})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabCreatorConfirmationView.tsx\nconst GroupTabCreatorConfirmationView=props=>{const{groupData=null,setGroupData=null,purchaseCost=0}=props;const{groupCustomize=null}=useGroup();const getCompleteBadgeCode=()=>{if(!groupData||!groupData.groupBadgeParts||!groupData.groupBadgeParts.length)return'';let badgeCode='';groupData.groupBadgeParts.forEach(part=>part.code&&(badgeCode+=part.code));return badgeCode;};const getGroupColor=colorIndex=>{if(colorIndex===0)return groupCustomize.groupColorsA.find(c=>c.id===groupData.groupColors[colorIndex]).color;return groupCustomize.groupColorsB.find(c=>c.id===groupData.groupColors[colorIndex]).color;};if(!groupData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,className:\"bg-muted rounded p-1\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,center:true,children:LocalizeText('group.create.confirm.guildbadge')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:getCompleteBadgeCode(),isGroup:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,className:\"bg-muted rounded p-1\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,center:true,children:LocalizeText('group.edit.color.guild.color')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{overflow:\"hidden\",className:\"rounded border\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(0)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(1)}})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:9,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:groupData.groupName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:groupData.groupDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{overflow:\"auto\",children:LocalizeText('group.create.confirm.info')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,variant:\"white\",className:\"bg-primary rounded p-1\",children:LocalizeText('group.create.confirm.buyinfo',['amount'],[purchaseCost.toString()])})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabIdentityView.tsx\nconst GroupTabIdentityView=props=>{const{groupData=null,setGroupData=null,setCloseAction=null,onClose=null,isCreator=false,availableRooms=[]}=props;const[groupName,setGroupName]=Object(react[\"useState\"])('');const[groupDescription,setGroupDescription]=Object(react[\"useState\"])('');const[groupHomeroomId,setGroupHomeroomId]=Object(react[\"useState\"])(-1);const{showConfirm=null}=useNotification();const deleteGroup=()=>{if(!groupData||groupData.groupId<=0)return;showConfirm(LocalizeText('group.deleteconfirm.desc'),()=>{SendMessageComposer(new nitro_renderer[\"jd\" /* GroupDeleteComposer */](groupData.groupId));if(onClose)onClose();},null,null,null,LocalizeText('group.deleteconfirm.title'));};const saveIdentity=Object(react[\"useCallback\"])(()=>{if(!groupData||!groupName||!groupName.length)return false;if(groupName===groupData.groupName&&groupDescription===groupData.groupDescription)return true;if(groupData.groupId<=0){if(groupHomeroomId<=0)return false;setGroupData(prevValue=>{const newValue={...prevValue};newValue.groupName=groupName;newValue.groupDescription=groupDescription;newValue.groupHomeroomId=groupHomeroomId;return newValue;});return true;}SendMessageComposer(new nitro_renderer[\"yd\" /* GroupSaveInformationComposer */](groupData.groupId,groupName,groupDescription||''));return true;},[groupData,groupName,groupDescription,groupHomeroomId,setGroupData]);Object(react[\"useEffect\"])(()=>{setGroupName(groupData.groupName||'');setGroupDescription(groupData.groupDescription||'');setGroupHomeroomId(groupData.groupHomeroomId);},[groupData]);Object(react[\"useEffect\"])(()=>{setCloseAction({action:saveIdentity});return()=>setCloseAction(null);},[setCloseAction,saveIdentity]);if(!groupData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:groupName,maxLength:29,onChange:event=>setGroupName(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.desc')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control form-control-sm\",value:groupDescription,maxLength:254,onChange:event=>setGroupDescription(event.target.value)})]}),isCreator&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.base')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullWidth:true,gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:groupHomeroomId,onChange:event=>setGroupHomeroomId(parseInt(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:-1,disabled:true,children:LocalizeText('group.edit.base.select.room')}),availableRooms&&availableRooms.map((room,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:room.id,children:room.name},index))]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"col-3\",children:\"\\xA0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:LocalizeText('group.edit.base.warning')})]})]})]}),!isCreator&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:deleteGroup,children:LocalizeText('group.delete')}),isCreator&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{underline:true,center:true,fullWidth:true,pointer:true,onClick:event=>CreateLinkEvent('navigator/create'),children:LocalizeText('group.createroom')})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupCreatorView.tsx\nconst GroupCreatorView_TABS=[1,2,3,4];const GroupCreatorView=props=>{const{onClose=null}=props;const[currentTab,setCurrentTab]=Object(react[\"useState\"])(1);const[closeAction,setCloseAction]=Object(react[\"useState\"])(null);const[groupData,setGroupData]=Object(react[\"useState\"])(null);const[availableRooms,setAvailableRooms]=Object(react[\"useState\"])(null);const[purchaseCost,setPurchaseCost]=Object(react[\"useState\"])(0);const onCloseClose=()=>{setCloseAction(null);setGroupData(null);if(onClose)onClose();};const buyGroup=()=>{if(!groupData)return;const badge=[];groupData.groupBadgeParts.forEach(part=>{if(part.code){badge.push(part.key);badge.push(part.color);badge.push(part.position);}});SendMessageComposer(new nitro_renderer[\"ed\" /* GroupBuyComposer */](groupData.groupName,groupData.groupDescription,groupData.groupHomeroomId,groupData.groupColors[0],groupData.groupColors[1],badge));};const previousStep=()=>{if(closeAction&&closeAction.action){if(!closeAction.action())return;}if(currentTab===1){onClose();return;}setCurrentTab(value=>value-1);};const nextStep=()=>{if(closeAction&&closeAction.action){if(!closeAction.action())return;}if(currentTab===4){buyGroup();return;}setCurrentTab(value=>value===4?value:value+1);};useMessageEvent(nitro_renderer[\"gd\" /* GroupBuyDataEvent */],event=>{const parser=event.getParser();const rooms=[];parser.availableRooms.forEach((name,id)=>rooms.push({id,name}));setAvailableRooms(rooms);setPurchaseCost(parser.groupCost);});Object(react[\"useEffect\"])(()=>{setCurrentTab(1);setGroupData({groupId:-1,groupName:null,groupDescription:null,groupHomeroomId:-1,groupState:1,groupCanMembersDecorate:true,groupColors:null,groupBadgeParts:null});SendMessageComposer(new nitro_renderer[\"fd\" /* GroupBuyDataComposer */]());},[setGroupData]);if(!groupData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-group-creator\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('group.create.title'),onCloseClick:onCloseClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"creator-tabs\",children:GroupCreatorView_TABS.map((tab,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:`tab tab-${tab===1?'blue-flat':tab===4?'yellow':'blue-arrow'} ${currentTab===tab?'active':''}`,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:LocalizeText(`group.create.steplabel.${tab}`)})},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:`nitro-group-tab-image tab-${currentTab}`}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,fontSize:4,children:LocalizeText(`group.create.stepcaption.${currentTab}`)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(`group.create.stepdesc.${currentTab}`)})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",children:[currentTab===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabIdentityView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction,onClose:null,isCreator:true,availableRooms:availableRooms}),currentTab===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabBadgeView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction}),currentTab===3&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabColorsView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction}),currentTab===4&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabCreatorConfirmationView,{groupData:groupData,setGroupData:setGroupData,purchaseCost:purchaseCost})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"link\",className:\"text-black\",onClick:previousStep,children:LocalizeText(currentTab===1?'generic.cancel':'group.create.previousstep')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:currentTab===4&&!HasHabboClub(),variant:currentTab===4?HasHabboClub()?'success':'danger':'primary',onClick:nextStep,children:LocalizeText(currentTab===4?HasHabboClub()?'group.create.confirm.buy':'group.create.confirm.viprequired':'group.create.nextstep')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupInformationView.tsx\nconst STATES=['regular','exclusive','private'];const GroupInformationView=props=>{const{groupInformation=null,onClose=null,overflow='hidden',...rest}=props;const{showConfirm=null}=useNotification();const isRealOwner=groupInformation&&groupInformation.ownerName===GetSessionDataManager().userName;const joinGroup=()=>groupInformation&&TryJoinGroup(groupInformation.id);const leaveGroup=()=>{showConfirm(LocalizeText('group.leaveconfirm.desc'),()=>{SendMessageComposer(new nitro_renderer[\"vd\" /* GroupRemoveMemberComposer */](groupInformation.id,GetSessionDataManager().userId));if(onClose)onClose();},null);};const getRoleIcon=()=>{if(groupInformation.membershipType===GroupMembershipType.NOT_MEMBER||groupInformation.membershipType===GroupMembershipType.REQUEST_PENDING)return null;if(isRealOwner)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-owner\",title:LocalizeText('group.youareowner')});if(groupInformation.isAdmin)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-admin\",title:LocalizeText('group.youareadmin')});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-member\",title:LocalizeText('group.youaremember')});};const getButtonText=()=>{if(isRealOwner)return'group.youareowner';if(groupInformation.type===GroupType.PRIVATE)return'';if(groupInformation.membershipType===GroupMembershipType.MEMBER)return'group.leave';if(groupInformation.membershipType===GroupMembershipType.NOT_MEMBER&&groupInformation.type===GroupType.REGULAR)return'group.join';if(groupInformation.membershipType===GroupMembershipType.REQUEST_PENDING)return'group.membershippending';if(groupInformation.membershipType===GroupMembershipType.NOT_MEMBER&&groupInformation.type===GroupType.EXCLUSIVE)return'group.requestmembership';};const handleButtonClick=()=>{if(groupInformation.type===GroupType.PRIVATE&&groupInformation.membershipType===GroupMembershipType.NOT_MEMBER)return;if(groupInformation.membershipType===GroupMembershipType.MEMBER){leaveGroup();return;}joinGroup();};const handleAction=Object(react[\"useCallback\"])(action=>{switch(action){case'members':GetGroupMembers(groupInformation.id);break;case'members_pending':GetGroupMembers(groupInformation.id,2);break;case'manage':GetGroupManager(groupInformation.id);break;case'homeroom':TryVisitRoom(groupInformation.roomId);break;case'furniture':CreateLinkEvent('catalog/open/'+CatalogPageName.GUILD_CUSTOM_FURNI);break;case'popular_groups':CreateLinkEvent('navigator/search/groups');break;}},[groupInformation]);if(!groupInformation)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:overflow,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,size:3,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",overflow:\"hidden\",className:\"group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:groupInformation.badge,isGroup:true,scale:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,underline:true,pointer:true,onClick:()=>handleAction('members'),children:LocalizeText('group.membercount',['totalMembers'],[groupInformation.membersCount.toString()])}),groupInformation.pendingRequestsCount>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,underline:true,pointer:true,onClick:()=>handleAction('members_pending'),children:LocalizeText('group.pendingmembercount',['amount'],[groupInformation.pendingRequestsCount.toString()])}),groupInformation.isOwner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,underline:true,pointer:true,onClick:()=>handleAction('manage'),children:LocalizeText('group.manage')})]}),getRoleIcon()]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:9,justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:groupInformation.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'icon icon-group-type-'+groupInformation.type,title:LocalizeText(`group.edit.settings.type.${STATES[groupInformation.type]}.help`)}),groupInformation.canMembersDecorate&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-decorate\",title:LocalizeText('group.memberscandecorate')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:LocalizeText('group.created',['date','owner'],[groupInformation.createdAt,groupInformation.ownerName])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,overflow:\"auto\",className:\"group-description\",children:groupInformation.description})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,underline:true,pointer:true,onClick:()=>handleAction('homeroom'),children:LocalizeText('group.linktobase')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,underline:true,pointer:true,onClick:()=>handleAction('furniture'),children:LocalizeText('group.buyfurni')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,underline:true,pointer:true,onClick:()=>handleAction('popular_groups'),children:LocalizeText('group.showgroups')})]}),groupInformation.type!==GroupType.PRIVATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:groupInformation.membershipType===GroupMembershipType.REQUEST_PENDING||isRealOwner,onClick:handleButtonClick,children:LocalizeText(getButtonText())})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupInformationStandaloneView.tsx\nconst GroupInformationStandaloneView=props=>{const[groupInformation,setGroupInformation]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"nd\" /* GroupInformationEvent */],event=>{const parser=event.getParser();if(groupInformation&&groupInformation.id===parser.id||parser.flag)setGroupInformation(parser);});if(!groupInformation)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-group-information-standalone\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('group.window.title'),onCloseClick:event=>setGroupInformation(null)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupInformationView,{groupInformation:groupInformation,onClose:()=>setGroupInformation(null)})})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabSettingsView.tsx\nconst GroupTabSettingsView_STATES=['regular','exclusive','private'];const GroupTabSettingsView=props=>{const{groupData=null,setGroupData=null,setCloseAction=null}=props;const[groupState,setGroupState]=Object(react[\"useState\"])(groupData.groupState);const[groupDecorate,setGroupDecorate]=Object(react[\"useState\"])(groupData.groupCanMembersDecorate);const saveSettings=Object(react[\"useCallback\"])(()=>{if(!groupData)return false;if(groupState===groupData.groupState&&groupDecorate===groupData.groupCanMembersDecorate)return true;if(groupData.groupId<=0){setGroupData(prevValue=>{const newValue={...prevValue};newValue.groupState=groupState;newValue.groupCanMembersDecorate=groupDecorate;return newValue;});return true;}SendMessageComposer(new nitro_renderer[\"zd\" /* GroupSavePreferencesComposer */](groupData.groupId,groupState,groupDecorate?0:1));return true;},[groupData,groupState,groupDecorate,setGroupData]);Object(react[\"useEffect\"])(()=>{setGroupState(groupData.groupState);setGroupDecorate(groupData.groupCanMembersDecorate);},[groupData]);Object(react[\"useEffect\"])(()=>{setCloseAction({action:saveSettings});return()=>setCloseAction(null);},[setCloseAction,saveSettings]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{children:GroupTabSettingsView_STATES.map((state,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"groupState\",checked:groupState===index,onChange:event=>setGroupState(index)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`icon icon-group-type-${index}`}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText(`group.edit.settings.type.${state}.label`)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(`group.edit.settings.type.${state}.help`)})]})]},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HorizontalRule,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:groupDecorate,onChange:event=>setGroupDecorate(prevValue=>!prevValue)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('group.edit.settings.rights.caption')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('group.edit.settings.rights.members.help')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupManagerView.tsx\nconst GroupManagerView_TABS=[1,2,3,5];const GroupManagerView=props=>{const[currentTab,setCurrentTab]=Object(react[\"useState\"])(1);const[closeAction,setCloseAction]=Object(react[\"useState\"])(null);const[groupData,setGroupData]=Object(react[\"useState\"])(null);const onClose=()=>{setCloseAction(prevValue=>{if(prevValue&&prevValue.action)prevValue.action();return null;});setGroupData(null);};const changeTab=tab=>{if(closeAction&&closeAction.action)closeAction.action();setCurrentTab(tab);};useMessageEvent(nitro_renderer[\"nd\" /* GroupInformationEvent */],event=>{const parser=event.getParser();if(!groupData||groupData.groupId!==parser.id)return;setGroupData(prevValue=>{const newValue={...prevValue};newValue.groupName=parser.title;newValue.groupDescription=parser.description;newValue.groupState=parser.type;newValue.groupCanMembersDecorate=parser.canMembersDecorate;return newValue;});});useMessageEvent(nitro_renderer[\"Bd\" /* GroupSettingsEvent */],event=>{const parser=event.getParser();const groupBadgeParts=[];parser.badgeParts.forEach((part,id)=>{groupBadgeParts.push(new nitro_renderer[\"bd\" /* GroupBadgePart */](part.isBase?nitro_renderer[\"bd\" /* GroupBadgePart */].BASE:nitro_renderer[\"bd\" /* GroupBadgePart */].SYMBOL,part.key,part.color,part.position));});setGroupData({groupId:parser.id,groupName:parser.title,groupDescription:parser.description,groupHomeroomId:parser.roomId,groupState:parser.state,groupCanMembersDecorate:parser.canMembersDecorate,groupColors:[parser.colorA,parser.colorB],groupBadgeParts});});if(!groupData||groupData.groupId<=0)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-group-manager\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('group.window.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView,{children:GroupManagerView_TABS.map(tab=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:currentTab===tab,onClick:()=>changeTab(tab),children:LocalizeText(`group.edit.tab.${tab}`)},tab);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:`nitro-group-tab-image tab-${currentTab}`}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,fontSize:4,children:LocalizeText(`group.edit.tabcaption.${currentTab}`)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(`group.edit.tabdesc.${currentTab}`)})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,overflow:\"hidden\",children:[currentTab===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabIdentityView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction,onClose:onClose}),currentTab===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabBadgeView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction,skipDefault:true}),currentTab===3&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabColorsView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction}),currentTab===5&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabSettingsView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupMembersView.tsx\nconst GroupMembersView=props=>{const[groupId,setGroupId]=Object(react[\"useState\"])(-1);const[levelId,setLevelId]=Object(react[\"useState\"])(-1);const[membersData,setMembersData]=Object(react[\"useState\"])(null);const[pageId,setPageId]=Object(react[\"useState\"])(-1);const[totalPages,setTotalPages]=Object(react[\"useState\"])(0);const[searchQuery,setSearchQuery]=Object(react[\"useState\"])('');const[removingMemberName,setRemovingMemberName]=Object(react[\"useState\"])(null);const{showConfirm=null}=useNotification();const getRankDescription=member=>{if(member.rank===nitro_renderer[\"ud\" /* GroupRank */].OWNER)return'group.members.owner';if(membersData.admin){if(member.rank===nitro_renderer[\"ud\" /* GroupRank */].ADMIN)return'group.members.removerights';if(member.rank===nitro_renderer[\"ud\" /* GroupRank */].MEMBER)return'group.members.giverights';}return'';};const refreshMembers=Object(react[\"useCallback\"])(()=>{if(groupId===-1||levelId===-1||pageId===-1)return;SendMessageComposer(new nitro_renderer[\"pd\" /* GroupMembersComposer */](groupId,pageId,searchQuery,levelId));},[groupId,levelId,pageId,searchQuery]);const toggleAdmin=member=>{if(!membersData.admin||member.rank===nitro_renderer[\"ud\" /* GroupRank */].OWNER)return;if(member.rank!==nitro_renderer[\"ud\" /* GroupRank */].ADMIN)SendMessageComposer(new nitro_renderer[\"Zc\" /* GroupAdminGiveComposer */](membersData.groupId,member.id));else SendMessageComposer(new nitro_renderer[\"ad\" /* GroupAdminTakeComposer */](membersData.groupId,member.id));refreshMembers();};const acceptMembership=member=>{if(!membersData.admin||member.rank!==nitro_renderer[\"ud\" /* GroupRank */].REQUESTED)return;SendMessageComposer(new nitro_renderer[\"rd\" /* GroupMembershipAcceptComposer */](membersData.groupId,member.id));refreshMembers();};const removeMemberOrDeclineMembership=member=>{if(!membersData.admin)return;if(member.rank===nitro_renderer[\"ud\" /* GroupRank */].REQUESTED){SendMessageComposer(new nitro_renderer[\"sd\" /* GroupMembershipDeclineComposer */](membersData.groupId,member.id));refreshMembers();return;}setRemovingMemberName(member.name);SendMessageComposer(new nitro_renderer[\"id\" /* GroupConfirmRemoveMemberComposer */](membersData.groupId,member.id));};useMessageEvent(nitro_renderer[\"qd\" /* GroupMembersEvent */],event=>{const parser=event.getParser();setMembersData(parser);setLevelId(parser.level);setTotalPages(Math.ceil(parser.totalMembersCount/parser.pageSize));});useMessageEvent(nitro_renderer[\"hd\" /* GroupConfirmMemberRemoveEvent */],event=>{const parser=event.getParser();showConfirm(LocalizeText(parser.furnitureCount>0?'group.kickconfirm.desc':'group.kickconfirm_nofurni.desc',['user','amount'],[removingMemberName,parser.furnitureCount.toString()]),()=>{SendMessageComposer(new nitro_renderer[\"vd\" /* GroupRemoveMemberComposer */](membersData.groupId,parser.userId));refreshMembers();},null);setRemovingMemberName(null);});Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;const groupId=parseInt(parts[1])||-1;const levelId=parseInt(parts[2])||3;setGroupId(groupId);setLevelId(levelId);setPageId(0);},eventUrlPrefix:'group-members/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);Object(react[\"useEffect\"])(()=>{setPageId(0);},[groupId,levelId,searchQuery]);Object(react[\"useEffect\"])(()=>{if(groupId===-1||levelId===-1||pageId===-1)return;SendMessageComposer(new nitro_renderer[\"pd\" /* GroupMembersComposer */](groupId,pageId,searchQuery,levelId));},[groupId,levelId,pageId,searchQuery]);Object(react[\"useEffect\"])(()=>{if(groupId===-1)return;setLevelId(-1);setMembersData(null);setTotalPages(0);setSearchQuery('');setRemovingMemberName(null);},[groupId]);if(groupId===-1||!membersData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-group-members\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('group.members.title',['groupName'],[membersData?membersData.groupTitle:'']),onCloseClick:event=>setGroupId(-1)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:membersData.badge,isGroup:true,className:\"mx-auto d-block\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm w-100\",placeholder:LocalizeText('group.members.searchinfo'),value:searchQuery,onChange:event=>setSearchQuery(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm w-100\",value:levelId,onChange:event=>setLevelId(parseInt(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('group.members.search.all')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('group.members.search.admins')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:LocalizeText('group.members.search.pending')})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{columnCount:2,overflow:\"auto\",className:\"nitro-group-members-list-grid\",children:membersData.result.map((member,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,alignItems:\"center\",overflow:\"hidden\",className:\"member-list-item bg-white rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"avatar-head cursor-pointer\",onClick:()=>GetUserProfile(member.id),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:member.figure,headOnly:true,direction:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,pointer:true,onClick:event=>GetUserProfile(member.id),children:member.name}),member.rank!==nitro_renderer[\"ud\" /* GroupRank */].REQUESTED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,italics:true,variant:\"muted\",children:LocalizeText('group.members.since',['date'],[member.joinedAt])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[member.rank!==nitro_renderer[\"ud\" /* GroupRank */].REQUESTED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:membersData.admin,className:`icon icon-group-small-${member.rank===nitro_renderer[\"ud\" /* GroupRank */].OWNER?'owner':member.rank===nitro_renderer[\"ud\" /* GroupRank */].ADMIN?'admin':membersData.admin&&member.rank===nitro_renderer[\"ud\" /* GroupRank */].MEMBER?'not-admin':''}`,title:LocalizeText(getRankDescription(member)),onClick:event=>toggleAdmin(member)})}),membersData.admin&&member.rank===nitro_renderer[\"ud\" /* GroupRank */].REQUESTED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-accept\",title:LocalizeText('group.members.accept'),onClick:event=>acceptMembership(member)})}),membersData.admin&&member.rank!==nitro_renderer[\"ud\" /* GroupRank */].OWNER&&member.id!==GetSessionDataManager().userId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-deny\",title:LocalizeText(member.rank===nitro_renderer[\"ud\" /* GroupRank */].REQUESTED?'group.members.reject':'group.members.kick'),onClick:event=>removeMemberOrDeclineMembership(member)})})]})]},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:membersData.pageIndex===0,onClick:event=>setPageId(prevValue=>prevValue-1),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:LocalizeText('group.members.pageinfo',['amount','page','totalPages'],[membersData.totalMembersCount.toString(),(membersData.pageIndex+1).toString(),totalPages.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:membersData.pageIndex===totalPages-1,onClick:event=>setPageId(prevValue=>prevValue+1),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/GroupsView.tsx\nconst GroupsView=props=>{const[isCreatorVisible,setCreatorVisible]=Object(react[\"useState\"])(false);const{}=useGroup();useMessageEvent(nitro_renderer[\"td\" /* GroupPurchasedEvent */],event=>{const parser=event.getParser();setCreatorVisible(false);TryVisitRoom(parser.roomId);});Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'create':setCreatorVisible(true);return;case'manage':if(!parts[2])return;setCreatorVisible(false);SendMessageComposer(new nitro_renderer[\"Ad\" /* GroupSettingsComposer */](Number(parts[2])));return;}},eventUrlPrefix:'groups/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isCreatorVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupCreatorView,{onClose:()=>setCreatorVisible(false)}),!isCreatorVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupManagerView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupMembersView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupInformationStandaloneView,{})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolAcceptView.tsx\nconst GuideToolAcceptView=props=>{const{helpRequestDescription=null,helpRequestAverageTime=0}=props;const answerRequest=response=>SendMessageComposer(new nitro_renderer[\"Kd\" /* GuideSessionGuideDecidesMessageComposer */](response));return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,className:\"bg-muted p-2 rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('guide.help.request.guide.accept.request.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"muted\",children:LocalizeText('guide.help.request.type.1')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{wrap:true,textBreak:true,children:helpRequestDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>answerRequest(true),children:LocalizeText('guide.help.request.guide.accept.accept.button')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:event=>answerRequest(false),children:LocalizeText('guide.help.request.guide.accept.skip.link')})]})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolMenuView.tsx\nconst GuideToolMenuView=props=>{const{isOnDuty=false,isHandlingGuideRequests=false,setIsHandlingGuideRequests=null,isHandlingHelpRequests=false,setIsHandlingHelpRequests=null,isHandlingBullyReports=false,setIsHandlingBullyReports=null,guidesOnDuty=0,helpersOnDuty=0,guardiansOnDuty=0,processAction=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,className:\"bg-muted p-2 rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:'duty-switch'+(isOnDuty?'':' off'),onClick:event=>processAction('toggle_duty')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('guide.help.guide.tool.yourstatus')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(`guide.help.guide.tool.duty.${isOnDuty?'on':'off'}`)})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('guide.help.guide.tool.tickettypeselection.caption')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",disabled:isOnDuty,type:\"checkbox\",checked:isHandlingGuideRequests,onChange:event=>setIsHandlingGuideRequests(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.guide.tool.tickettypeselection.guiderequests')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",disabled:isOnDuty,type:\"checkbox\",checked:isHandlingHelpRequests,onChange:event=>setIsHandlingHelpRequests(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.guide.tool.tickettypeselection.onlyhelprequests')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",disabled:isOnDuty,type:\"checkbox\",checked:isHandlingBullyReports,onChange:event=>setIsHandlingBullyReports(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.guide.tool.tickettypeselection.bullyreports')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"bg-dark m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"info-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{dangerouslySetInnerHTML:{__html:LocalizeText('guide.help.guide.tool.guidesonduty',['amount'],[guidesOnDuty.toString()])}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{dangerouslySetInnerHTML:{__html:LocalizeText('guide.help.guide.tool.helpersonduty',['amount'],[helpersOnDuty.toString()])}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{dangerouslySetInnerHTML:{__html:LocalizeText('guide.help.guide.tool.guardiansonduty',['amount'],[guardiansOnDuty.toString()])}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"bg-dark m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:true,onClick:event=>processAction('forum_link'),children:LocalizeText('guide.help.guide.tool.forum.link')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:true,children:LocalizeText('guide.help.guide.tool.skill.link')})]})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolOngoingView.tsx\nconst GuideToolOngoingView=props=>{const scrollDiv=Object(react[\"useRef\"])(null);const{isGuide=false,userId=0,userName=null,userFigure=null,isTyping=false,messageGroups=[]}=props;const[messageText,setMessageText]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{var _scrollDiv$current;(_scrollDiv$current=scrollDiv.current)===null||_scrollDiv$current===void 0?void 0:_scrollDiv$current.scrollIntoView({block:'end',behavior:'smooth'});},[messageGroups]);const visit=Object(react[\"useCallback\"])(()=>{SendMessageComposer(new nitro_renderer[\"Jd\" /* GuideSessionGetRequesterRoomMessageComposer */]());},[]);const invite=Object(react[\"useCallback\"])(()=>{SendMessageComposer(new nitro_renderer[\"Ld\" /* GuideSessionInviteRequesterMessageComposer */]());},[]);const resolve=Object(react[\"useCallback\"])(()=>{SendMessageComposer(new nitro_renderer[\"Td\" /* GuideSessionResolvedMessageComposer */]());},[]);useMessageEvent(nitro_renderer[\"Sd\" /* GuideSessionRequesterRoomMessageEvent */],event=>{const parser=event.getParser();TryVisitRoom(parser.requesterRoomId);});const sendMessage=Object(react[\"useCallback\"])(()=>{if(!messageText||!messageText.length)return;SendMessageComposer(new nitro_renderer[\"Nd\" /* GuideSessionMessageMessageComposer */](messageText));setMessageText('');},[messageText]);const onKeyDown=Object(react[\"useCallback\"])(event=>{if(event.key!=='Enter')return;sendMessage();},[sendMessage]);const isOwnChat=Object(react[\"useCallback\"])(userId=>{return userId===GetSessionDataManager().userId;},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullHeight:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,className:\"bg-muted p-2 rounded\",children:[isGuide&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:visit,children:LocalizeText('guide.help.request.guide.ongoing.visit.button')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:true,onClick:invite,children:LocalizeText('guide.help.request.guide.ongoing.invite.button')})]}),!isGuide&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.request.user.ongoing.guide.desc')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",disabled:true,children:LocalizeText('guide.help.common.report.link')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"hidden\",gap:1,className:\"bg-muted rounded chat-messages p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"auto\",children:[messageGroups.map((group,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,justifyContent:isOwnChat(group.userId)?'end':'start',gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{shrink:true,className:\"message-avatar\",children:!isOwnChat(group.userId)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:userFigure,direction:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:'bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-'+(isOwnChat(group.userId)?'right':'left'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{bold:true,children:[isOwnChat(group.userId)&&GetSessionDataManager().userName,!isOwnChat(group.userId)&&userName]}),group.messages.map((chat,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"text-break\",children:chat.message},index))]}),isOwnChat(group.userId)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"message-avatar flex-shrink-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:GetSessionDataManager().figure,direction:4})})]},index);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:scrollDiv})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('guide.help.request.guide.ongoing.input.empty',['name'],[userName]),value:messageText,onChange:event=>setMessageText(event.target.value),onKeyDown:onKeyDown}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:sendMessage,children:LocalizeText('widgets.chatinput.say')})]}),isTyping&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"muted\",children:LocalizeText('guide.help.common.typing')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:resolve,children:LocalizeText('guide.help.request.'+(isGuide?'guide':'user')+'.ongoing.close.link')})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolUserCreateRequestView.tsx\nconst MIN_REQUEST_LENGTH=15;const GuideToolUserCreateRequestView=props=>{const{userRequest='',setUserRequest=null}=props;const[isPending,setIsPending]=Object(react[\"useState\"])(false);const sendRequest=()=>{setIsPending(true);SendMessageComposer(new nitro_renderer[\"Fd\" /* GuideSessionCreateMessageComposer */](1,userRequest));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.request.user.create.help')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"request-message\",maxLength:140,value:userRequest,onChange:event=>setUserRequest(event.target.value),placeholder:LocalizeText('guide.help.request.user.create.input.help')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",disabled:userRequest.length<MIN_REQUEST_LENGTH||isPending,onClick:sendRequest,children:LocalizeText('guide.help.request.user.create.input.button')})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolUserFeedbackView.tsx\nconst GuideToolUserFeedbackView=props=>{const{userName=null}=props;const giveFeedback=Object(react[\"useCallback\"])(recommend=>{SendMessageComposer(new nitro_renderer[\"Id\" /* GuideSessionFeedbackMessageComposer */](recommend));},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",gap:1,className:\"bg-muted p-2 rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.request.user.feedback.guide.desc')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",disabled:true,children:LocalizeText('guide.help.common.report.link')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('guide.help.request.user.feedback.closed.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.request.user.feedback.closed.desc')})]}),userName&&userName.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"bg-dark m-0 mt-auto\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,bold:true,children:LocalizeText('guide.help.request.user.feedback.question')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:event=>giveFeedback(true),children:LocalizeText('guide.help.request.user.feedback.positive.button')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"danger\",onClick:event=>giveFeedback(false),children:LocalizeText('guide.help.request.user.feedback.negative.button')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolUserPendingView.tsx\nconst GuideToolUserPendingView=props=>{const{helpRequestDescription=null,helpRequestAverageTime=0}=props;const cancelRequest=()=>SendMessageComposer(new nitro_renderer[\"Rd\" /* GuideSessionRequesterCancelsMessageComposer */]());return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,className:\"bg-muted rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('guide.help.request.guide.accept.request.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"muted\",children:LocalizeText('guide.help.request.type.1')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{wrap:true,textBreak:true,children:helpRequestDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('guide.help.request.user.pending.info.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.request.user.pending.info.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.request.user.pending.info.waiting',['waitingtime'],[helpRequestAverageTime.toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:cancelRequest,children:LocalizeText('guide.help.request.user.pending.cancel.button')})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolUserThanksView.tsx\nconst GuideToolUserThanksView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('guide.help.request.user.thanks.info.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('guide.help.request.user.thanks.info.desc')})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/GuideToolView.tsx\nconst GuideToolView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[headerText,setHeaderText]=Object(react[\"useState\"])(LocalizeText('guide.help.guide.tool.title'));const[noCloseButton,setNoCloseButton]=Object(react[\"useState\"])(false);const[sessionState,setSessionState]=Object(react[\"useState\"])(GuideSessionState.GUIDE_TOOL_MENU);const[isOnDuty,setIsOnDuty]=Object(react[\"useState\"])(false);const[isHandlingBullyReports,setIsHandlingBullyReports]=Object(react[\"useState\"])(false);const[isHandlingGuideRequests,setIsHandlingGuideRequests]=Object(react[\"useState\"])(false);const[isHandlingHelpRequests,setIsHandlingHelpRequests]=Object(react[\"useState\"])(false);const[helpersOnDuty,setHelpersOnDuty]=Object(react[\"useState\"])(0);const[guidesOnDuty,setGuidesOnDuty]=Object(react[\"useState\"])(0);const[guardiansOnDuty,setGuardiansOnDuty]=Object(react[\"useState\"])(0);const[userRequest,setUserRequest]=Object(react[\"useState\"])('');const[helpRequestDescription,setHelpRequestDescription]=Object(react[\"useState\"])(null);const[helpRequestAverageTime,setHelpRequestAverageTime]=Object(react[\"useState\"])(0);const[ongoingUserId,setOngoingUserId]=Object(react[\"useState\"])(0);const[ongoingUsername,setOngoingUsername]=Object(react[\"useState\"])(null);const[ongoingFigure,setOngoingFigure]=Object(react[\"useState\"])(null);const[ongoingIsTyping,setOngoingIsTyping]=Object(react[\"useState\"])(false);const[ongoingMessageGroups,setOngoingMessageGroups]=Object(react[\"useState\"])([]);const{simpleAlert=null}=useNotification();const updateSessionState=Object(react[\"useCallback\"])((newState,replacement)=>{switch(newState){case GuideSessionState.GUIDE_TOOL_MENU:setHeaderText(LocalizeText('guide.help.guide.tool.title'));setNoCloseButton(false);break;case GuideSessionState.GUIDE_ACCEPT:setHeaderText(LocalizeText('guide.help.request.guide.accept.title'));setNoCloseButton(true);break;case GuideSessionState.GUIDE_ONGOING:setHeaderText(LocalizeText('guide.help.request.guide.ongoing.title',['name'],[replacement]));setNoCloseButton(true);break;case GuideSessionState.USER_CREATE:setHeaderText(LocalizeText('guide.help.request.user.create.title'));setNoCloseButton(false);break;case GuideSessionState.USER_PENDING:setHeaderText(LocalizeText('guide.help.request.user.pending.title'));setNoCloseButton(true);break;case GuideSessionState.USER_ONGOING:setHeaderText(LocalizeText('guide.help.request.user.ongoing.title',['name'],[replacement]));setNoCloseButton(true);break;case GuideSessionState.USER_FEEDBACK:setHeaderText(LocalizeText('guide.help.request.user.feedback.title'));setNoCloseButton(true);break;case GuideSessionState.USER_THANKS:setHeaderText(LocalizeText('guide.help.request.user.thanks.title'));setNoCloseButton(false);break;}setSessionState(newState);setIsVisible(true);},[]);const onGuideToolEvent=Object(react[\"useCallback\"])(event=>{switch(event.type){case GuideToolEvent_GuideToolEvent.SHOW_GUIDE_TOOL:setIsVisible(true);return;case GuideToolEvent_GuideToolEvent.HIDE_GUIDE_TOOL:setIsVisible(false);return;case GuideToolEvent_GuideToolEvent.TOGGLE_GUIDE_TOOL:setIsVisible(value=>!value);return;case GuideToolEvent_GuideToolEvent.CREATE_HELP_REQUEST:updateSessionState(GuideSessionState.USER_CREATE);return;}},[updateSessionState]);useUiEvent(GuideToolEvent_GuideToolEvent.SHOW_GUIDE_TOOL,onGuideToolEvent);useUiEvent(GuideToolEvent_GuideToolEvent.HIDE_GUIDE_TOOL,onGuideToolEvent);useUiEvent(GuideToolEvent_GuideToolEvent.TOGGLE_GUIDE_TOOL,onGuideToolEvent);useUiEvent(GuideToolEvent_GuideToolEvent.CREATE_HELP_REQUEST,onGuideToolEvent);useMessageEvent(nitro_renderer[\"Bf\" /* PerkAllowancesMessageEvent */],event=>{const parser=event.getParser();if(!parser.isAllowed(nitro_renderer[\"Cf\" /* PerkEnum */].USE_GUIDE_TOOL)&&isOnDuty){setIsOnDuty(false);SendMessageComposer(new nitro_renderer[\"Pd\" /* GuideSessionOnDutyUpdateMessageComposer */](false,false,false,false));}});useMessageEvent(nitro_renderer[\"Dd\" /* GuideOnDutyStatusMessageEvent */],event=>{const parser=event.getParser();setIsOnDuty(parser.onDuty);setGuidesOnDuty(parser.guidesOnDuty);setHelpersOnDuty(parser.helpersOnDuty);setGuardiansOnDuty(parser.guardiansOnDuty);});useMessageEvent(nitro_renderer[\"Ed\" /* GuideSessionAttachedMessageEvent */],event=>{const parser=event.getParser();setHelpRequestDescription(parser.helpRequestDescription);setHelpRequestAverageTime(parser.roleSpecificWaitTime);if(parser.asGuide&&isOnDuty)updateSessionState(GuideSessionState.GUIDE_ACCEPT);if(!parser.asGuide)updateSessionState(GuideSessionState.USER_PENDING);});useMessageEvent(nitro_renderer[\"Ud\" /* GuideSessionStartedMessageEvent */],event=>{const parser=event.getParser();if(isOnDuty){setOngoingUserId(parser.requesterUserId);setOngoingUsername(parser.requesterName);setOngoingFigure(parser.requesterFigure);updateSessionState(GuideSessionState.GUIDE_ONGOING,parser.requesterName);}else{setOngoingUserId(parser.guideUserId);setOngoingUsername(parser.guideName);setOngoingFigure(parser.guideFigure);updateSessionState(GuideSessionState.USER_ONGOING,parser.guideName);}});useMessageEvent(nitro_renderer[\"Qd\" /* GuideSessionPartnerIsTypingMessageEvent */],event=>{const parser=event.getParser();setOngoingIsTyping(parser.isTyping);});useMessageEvent(nitro_renderer[\"Od\" /* GuideSessionMessageMessageEvent */],event=>{const parser=event.getParser();const messageGroups=[...ongoingMessageGroups];let lastGroup=messageGroups[messageGroups.length-1];if(!lastGroup||lastGroup.userId!==parser.senderId){lastGroup=new GuideToolMessageGroup(parser.senderId);messageGroups.push(lastGroup);}lastGroup.addChat(new GuideToolMessage(parser.chatMessage));setOngoingMessageGroups(messageGroups);});useMessageEvent(nitro_renderer[\"Md\" /* GuideSessionInvitedToGuideRoomMessageEvent */],event=>{const parser=event.getParser();const messageGroups=[...ongoingMessageGroups];let lastGroup=messageGroups[messageGroups.length-1];const guideId=isOnDuty?GetSessionDataManager().userId:ongoingUserId;if(!lastGroup||lastGroup.userId!==guideId){lastGroup=new GuideToolMessageGroup(guideId);messageGroups.push(lastGroup);}lastGroup.addChat(new GuideToolMessage(parser.roomName,parser.roomId));setOngoingMessageGroups(messageGroups);});useMessageEvent(nitro_renderer[\"Hd\" /* GuideSessionEndedMessageEvent */],event=>{if(isOnDuty){setOngoingUserId(0);setOngoingUsername(null);setOngoingFigure(null);setOngoingIsTyping(false);setOngoingMessageGroups([]);updateSessionState(GuideSessionState.GUIDE_TOOL_MENU);}else{updateSessionState(GuideSessionState.USER_FEEDBACK);}});useMessageEvent(nitro_renderer[\"Gd\" /* GuideSessionDetachedMessageEvent */],event=>{setOngoingUserId(0);setOngoingUsername(null);setOngoingFigure(null);setOngoingIsTyping(false);setOngoingMessageGroups([]);if(isOnDuty){updateSessionState(GuideSessionState.GUIDE_TOOL_MENU);}else{updateSessionState(GuideSessionState.USER_THANKS);}});Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'tour'://Create Tour Request\nreturn;}},eventUrlPrefix:'help/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);const processAction=Object(react[\"useCallback\"])(action=>{switch(action){case'close':setIsVisible(false);setUserRequest('');setSessionState(GuideSessionState.GUIDE_TOOL_MENU);return;case'toggle_duty':if(!isHandlingBullyReports&&!isHandlingGuideRequests&&!isHandlingHelpRequests){simpleAlert(LocalizeText('guide.help.guide.tool.noqueueselected.message'),null,null,null,LocalizeText('guide.help.guide.tool.noqueueselected.caption'),null);return;}setIsOnDuty(v=>{SendMessageComposer(new nitro_renderer[\"Pd\" /* GuideSessionOnDutyUpdateMessageComposer */](!v,v?false:isHandlingGuideRequests,v?false:isHandlingHelpRequests,v?false:isHandlingBullyReports));return!v;});return;case'forum_link':const url=GetConfiguration('group.homepage.url','').replace('%groupid%',GetConfiguration('guide.help.alpha.groupid','0'));window.open(url);return;}},[isHandlingBullyReports,isHandlingGuideRequests,isHandlingHelpRequests,simpleAlert]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-guide-tool\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:headerText,onCloseClick:event=>processAction('close'),noCloseButton:noCloseButton}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[sessionState===GuideSessionState.GUIDE_TOOL_MENU&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolMenuView,{isOnDuty:isOnDuty,isHandlingGuideRequests:isHandlingGuideRequests,setIsHandlingGuideRequests:setIsHandlingGuideRequests,isHandlingHelpRequests:isHandlingHelpRequests,setIsHandlingHelpRequests:setIsHandlingHelpRequests,isHandlingBullyReports:isHandlingBullyReports,setIsHandlingBullyReports:setIsHandlingBullyReports,guidesOnDuty:guidesOnDuty,helpersOnDuty:helpersOnDuty,guardiansOnDuty:guardiansOnDuty,processAction:processAction}),sessionState===GuideSessionState.GUIDE_ACCEPT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolAcceptView,{helpRequestDescription:helpRequestDescription,helpRequestAverageTime:helpRequestAverageTime}),[GuideSessionState.GUIDE_ONGOING,GuideSessionState.USER_ONGOING].includes(sessionState)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolOngoingView,{isGuide:isOnDuty,userId:ongoingUserId,userName:ongoingUsername,userFigure:ongoingFigure,isTyping:ongoingIsTyping,messageGroups:ongoingMessageGroups}),sessionState===GuideSessionState.USER_CREATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolUserCreateRequestView,{userRequest:userRequest,setUserRequest:setUserRequest}),sessionState===GuideSessionState.USER_PENDING&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolUserPendingView,{helpRequestDescription:helpRequestDescription,helpRequestAverageTime:helpRequestAverageTime}),sessionState===GuideSessionState.USER_FEEDBACK&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolUserFeedbackView,{userName:ongoingUsername}),sessionState===GuideSessionState.USER_THANKS&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolUserThanksView,{})]})]});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Popover.js + 4 modules\nvar Popover = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/OverlayTrigger.js + 8 modules\nvar OverlayTrigger = __webpack_require__(141);\n\n// CONCATENATED MODULE: ./src/components/hc-center/HcCenterView.tsx\nconst HcCenterView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[kickbackData,setKickbackData]=Object(react[\"useState\"])(null);const[unclaimedGifts,setUnclaimedGifts]=Object(react[\"useState\"])(0);const[badgeCode,setBadgeCode]=Object(react[\"useState\"])(null);const{userFigure=null}=useSessionInfo();const{purse=null,clubStatus=null}=usePurse();const{badgeCodes=[],activate=null,deactivate=null}=useInventoryBadges();const getClubText=()=>{if(purse.clubDays<=0)return LocalizeText('purse.clubdays.zero.amount.text');if(purse.minutesUntilExpiration>-1&&purse.minutesUntilExpiration<60*24){return nitro_renderer[\"Zb\" /* FriendlyTime */].shortFormat(purse.minutesUntilExpiration*60);}return nitro_renderer[\"Zb\" /* FriendlyTime */].shortFormat((purse.clubPeriods*31+purse.clubDays)*86400);};const getInfoText=()=>{switch(clubStatus){case ClubStatus.ACTIVE:return LocalizeText(`hccenter.status.${clubStatus}.info`,['timeleft','joindate','streakduration'],[getClubText(),kickbackData.firstSubscriptionDate,nitro_renderer[\"Zb\" /* FriendlyTime */].shortFormat(kickbackData.currentHcStreak*86400)]);case ClubStatus.EXPIRED:return LocalizeText(`hccenter.status.${clubStatus}.info`,['joindate'],[kickbackData.firstSubscriptionDate]);default:return LocalizeText(`hccenter.status.${clubStatus}.info`);}};const getHcPaydayTime=()=>kickbackData.timeUntilPayday<60?LocalizeText('hccenter.special.time.soon'):nitro_renderer[\"Zb\" /* FriendlyTime */].shortFormat(kickbackData.timeUntilPayday*60);const getHcPaydayAmount=()=>LocalizeText('hccenter.special.sum',['credits'],[(kickbackData.creditRewardForStreakBonus+kickbackData.creditRewardForMonthlySpent).toString()]);useMessageEvent(nitro_renderer[\"pb\" /* ClubGiftInfoEvent */],event=>{const parser=event.getParser();setUnclaimedGifts(parser.giftsAvailable);});useMessageEvent(nitro_renderer[\"Th\" /* ScrSendKickbackInfoMessageEvent */],event=>{const parser=event.getParser();setKickbackData(parser.data);});Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'open':if(parts.length>2){switch(parts[2]){case'hccenter':setIsVisible(true);break;}}return;}},eventUrlPrefix:'habboUI/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);Object(react[\"useEffect\"])(()=>{setBadgeCode(GetClubBadge(badgeCodes));},[badgeCodes]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;const id=activate();return()=>deactivate(id);},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"xc\" /* GetClubGiftInfo */]());SendMessageComposer(new nitro_renderer[\"Sh\" /* ScrGetKickbackInfoMessageComposer */]());},[]);if(!isVisible)return null;const popover=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],{id:\"popover-basic\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Popover[\"a\" /* default */].Body,{className:\"text-black py-2 px-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:LocalizeText('hccenter.breakdown.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.breakdown.creditsspent',['credits'],[kickbackData.totalCreditsSpent.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.breakdown.paydayfactor.percent',['percent'],[(kickbackData.kickbackPercentage*100).toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.breakdown.streakbonus',['credits'],[kickbackData.creditRewardForStreakBonus.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"w-100 text-black my-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.breakdown.total',['credits','actual'],[getHcPaydayAmount(),((kickbackData.kickbackPercentage*kickbackData.totalCreditsSpent+kickbackData.creditRewardForStreakBonus)*100/100).toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn btn-link text-primary p-0\",onClick:()=>CreateLinkEvent('habbopages/'+GetConfiguration('hc.center')['payday.habbopage']),children:LocalizeText('hccenter.special.infolink')})]})});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{theme:\"primary-slim\",className:\"nitro-hc-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('generic.hccenter'),onCloseClick:()=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{position:\"relative\",className:\"bg-muted p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"hc-logo\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>CreateLinkEvent('catalog/open/'+GetConfiguration('catalog.links')['hc.buy_hc']),children:LocalizeText(clubStatus===ClubStatus.ACTIVE?'hccenter.btn.extend':'hccenter.btn.buy')})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{position:\"absolute\",className:\"end-0 p-4 top-0 habbo-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:userFigure,direction:4,scale:2})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:badgeCode,className:\"align-self-center flex-shrink-0 me-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,className:\"streak-info\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('hccenter.status.'+clubStatus)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{dangerouslySetInnerHTML:{__html:getInfoText()}})]})]}),GetConfiguration('hc.center')['payday.info']&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"rounded-start bg-primary p-2 payday-special mb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"mb-1\",children:LocalizeText('hccenter.special.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.special.info')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn btn-link text-white p-0 mt-auto align-self-baseline\",onClick:()=>CreateLinkEvent('habbopages/'+GetConfiguration('hc.center')['payday.habbopage']),children:LocalizeText('hccenter.special.infolink')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"payday flex-shrink-0 p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"mb-2 ms-2\",children:LocalizeText('hccenter.special.time.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-row mb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"clock me-2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h6\",{className:\"mb-0 align-self-center\",children:getHcPaydayTime()})]}),clubStatus===ClubStatus.ACTIVE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"pe-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"ms-2 mb-1 bolder\",children:LocalizeText('hccenter.special.amount.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100 text-center ms-4n\",children:getHcPaydayAmount()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OverlayTrigger[\"a\" /* default */],{trigger:['hover','focus'],placement:\"left\",overlay:popover,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn btn-link align-self-end text-primary\",children:LocalizeText('hccenter.breakdown.infolink')})})]})]})]})]}),GetConfiguration('hc.center')['gift.info']&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"rounded bg-success p-2 d-flex flex-row mb-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"mb-1\",children:LocalizeText('hccenter.gift.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{dangerouslySetInnerHTML:{__html:unclaimedGifts>0?LocalizeText('hccenter.unclaimedgifts',['unclaimedgifts'],[unclaimedGifts.toString()]):LocalizeText('hccenter.gift.info')}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary btn-lg align-self-center ms-auto\",onClick:()=>CreateLinkEvent('catalog/open/'+GetConfiguration('catalog.links')['hc.hc_gifts']),children:LocalizeText(clubStatus===ClubStatus.ACTIVE?'hccenter.btn.gifts.redeem':'hccenter.btn.gifts.view')})]}),GetConfiguration('hc.center')['benefits.info']&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"benefits text-black py-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"mb-1 text-primary\",children:LocalizeText('hccenter.general.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mb-2\",dangerouslySetInnerHTML:{__html:LocalizeText('hccenter.general.info')}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-link p-0 text-primary\",onClick:()=>CreateLinkEvent('habbopages/'+GetConfiguration('hc.center')['benefits.habbopage']),children:LocalizeText('hccenter.general.infolink')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/DescribeReportView.tsx\nconst DescribeReportView=props=>{const[message,setMessage]=Object(react[\"useState\"])('');const{activeReport=null,setActiveReport=null}=useHelp();const submitMessage=()=>{if(message.length<15)return;setActiveReport(prevValue=>{const currentStep=ReportState.REPORT_SUMMARY;return{...prevValue,message,currentStep};});};const back=()=>{setActiveReport(prevValue=>{return{...prevValue,currentStep:prevValue.currentStep-1};});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:4,children:LocalizeText('help.emergency.chat_report.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('help.cfh.input.text')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control h-100\",value:message,onChange:event=>setMessage(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",disabled:!(activeReport.reportType===ReportType.BULLY||activeReport.reportType===ReportType.EMERGENCY),onClick:back,children:LocalizeText('generic.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:message.length<15,onClick:submitMessage,children:LocalizeText('help.emergency.main.submit.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/HelpIndexView.tsx\nconst HelpIndexView=props=>{const{setActiveReport=null}=useHelp();const onReportClick=()=>{setActiveReport(prevValue=>{const currentStep=ReportState.SELECT_USER;return{...prevValue,currentStep};});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,center:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:3,children:LocalizeText('help.main.frame.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('help.main.self.description')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:onReportClick,children:LocalizeText('help.main.bully.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:()=>DispatchUiEvent(new GuideToolEvent_GuideToolEvent(GuideToolEvent_GuideToolEvent.CREATE_HELP_REQUEST)),children:LocalizeText('help.main.help.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:true,children:LocalizeText('help.main.self.tips.title')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"link\",textColor:\"black\",onClick:()=>SendMessageComposer(new nitro_renderer[\"wc\" /* GetCfhStatusMessageComposer */](false)),children:LocalizeText('help.main.my.sanction.status')})]});};\n// CONCATENATED MODULE: ./src/components/help/views/name-change/NameChangeConfirmationView.tsx\nconst NameChangeConfirmationView=props=>{const{username='',onAction=null}=props;const[isConfirming,setIsConfirming]=Object(react[\"useState\"])(false);useMessageEvent(nitro_renderer[\"Wi\" /* UserNameChangeMessageEvent */],event=>{const parser=event.getParser();if(!parser)return;if(parser.webId!==GetSessionDataManager().userId)return;onAction('close');});const confirm=Object(react[\"useCallback\"])(()=>{if(isConfirming)return;setIsConfirming(true);SendMessageComposer(new nitro_renderer[\"lb\" /* ChangeUserNameMessageComposer */](username));},[isConfirming,username]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column gap-4 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:LocalizeText('tutorial.name_change.info.confirm')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column align-items-center gap-1 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('tutorial.name_change.confirm')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fw-bold\",children:username})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",disabled:isConfirming,onClick:confirm,children:LocalizeText('generic.ok')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:()=>onAction('close'),children:LocalizeText('cancel')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/name-change/NameChangeInitView.tsx\nconst NameChangeInitView=props=>{const{onAction=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column gap-4 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:LocalizeText('tutorial.name_change.info.main')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fw-bold d-flex align-items-center justify-content-center h-100 w-100\",children:LocalizeText('tutorial.name_change.current',['name'],[GetSessionDataManager().userName])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:()=>onAction('start'),children:LocalizeText('tutorial.name_change.change')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:()=>onAction('confirmation',GetSessionDataManager().userName),children:LocalizeText('tutorial.name_change.keep')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/name-change/NameChangeInputView.tsx\nconst AVAILABLE=0;const TOO_SHORT=2;const TOO_LONG=3;const NOT_VALID=4;const TAKEN_WITH_SUGGESTIONS=5;const DISABLED=6;const NameChangeInputView=props=>{const{onAction=null}=props;const[newUsername,setNewUsername]=Object(react[\"useState\"])('');const[canProceed,setCanProceed]=Object(react[\"useState\"])(false);const[isChecking,setIsChecking]=Object(react[\"useState\"])(false);const[errorCode,setErrorCode]=Object(react[\"useState\"])(null);const[suggestions,setSuggestions]=Object(react[\"useState\"])([]);useMessageEvent(nitro_renderer[\"nb\" /* CheckUserNameResultMessageEvent */],event=>{setIsChecking(false);const parser=event.getParser();if(!parser)return;switch(parser.resultCode){case AVAILABLE:setCanProceed(true);break;case TOO_SHORT:setErrorCode('short');break;case TOO_LONG:setErrorCode('long');break;case NOT_VALID:setErrorCode('invalid');break;case TAKEN_WITH_SUGGESTIONS:setSuggestions(parser.nameSuggestions);setErrorCode('taken');break;case DISABLED:setErrorCode('change_not_allowed');}});const check=Object(react[\"useCallback\"])(()=>{if(newUsername==='')return;setCanProceed(false);setSuggestions([]);setErrorCode(null);setIsChecking(true);SendMessageComposer(new nitro_renderer[\"mb\" /* CheckUserNameMessageComposer */](newUsername));},[newUsername]);const handleUsernameChange=Object(react[\"useCallback\"])(username=>{setCanProceed(false);setSuggestions([]);setErrorCode(null);setNewUsername(username);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column gap-3 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('tutorial.name_change.info.select')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:newUsername,onChange:e=>handleUsernameChange(e.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary\",disabled:newUsername===''||isChecking,onClick:check,children:LocalizeText('tutorial.name_change.check')})]}),!errorCode&&!canProceed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:LocalizeText('help.tutorial.name.info')}),errorCode&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-danger rounded p-2 text-center text-white\",children:LocalizeText(`help.tutorial.name.${errorCode}`,['name'],[newUsername])}),canProceed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-success rounded p-2 text-center text-white\",children:LocalizeText('help.tutorial.name.available',['name'],[newUsername])}),suggestions&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex flex-column gap-2\",children:suggestions.map((suggestion,i)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col bg-muted rounded p-1 cursor-pointer\",onClick:()=>handleUsernameChange(suggestion),children:suggestion},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",disabled:!canProceed,onClick:()=>onAction('confirmation',newUsername),children:LocalizeText('tutorial.name_change.pick')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:()=>onAction('close'),children:LocalizeText('cancel')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/name-change/NameChangeView.tsx\nconst INIT='INIT';const INPUT='INPUT';const CONFIRMATION='CONFIRMATION';const NameChangeView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[layout,setLayout]=Object(react[\"useState\"])(INIT);const[newUsername,setNewUsername]=Object(react[\"useState\"])('');useUiEvent(HelpNameChangeEvent_HelpNameChangeEvent.INIT,event=>{setLayout(INIT);setIsVisible(true);});const onAction=Object(react[\"useCallback\"])((action,value)=>{switch(action){case'start':setLayout(INPUT);break;case'confirmation':setNewUsername(value);setLayout(CONFIRMATION);break;case'close':setNewUsername('');setIsVisible(false);break;}},[]);const titleKey=Object(react[\"useMemo\"])(()=>{switch(layout){case INIT:return'tutorial.name_change.title.main';case INPUT:return'tutorial.name_change.title.select';case CONFIRMATION:return'tutorial.name_change.title.confirm';}},[layout]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-change-username\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText(titleKey),onCloseClick:()=>onAction('close')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[layout===INIT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NameChangeInitView,{onAction:onAction}),layout===INPUT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NameChangeInputView,{onAction:onAction}),layout===CONFIRMATION&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NameChangeConfirmationView,{username:newUsername,onAction:onAction})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/ReportSummaryView.tsx\nconst ReportSummaryView=props=>{const{activeReport=null,setActiveReport=null}=useHelp();const submitReport=()=>{const chats=[];switch(activeReport.reportType){case ReportType.BULLY:case ReportType.EMERGENCY:case ReportType.ROOM:{const reportedRoomId=activeReport.roomId<=0?activeReport.reportedChats[0].roomId:activeReport.roomId;activeReport.reportedChats.forEach(entry=>chats.push(entry.entityId,entry.message));SendMessageComposer(new nitro_renderer[\"Q\" /* CallForHelpMessageComposer */](activeReport.message,activeReport.cfhTopic,activeReport.reportedUserId,reportedRoomId,chats));break;}case ReportType.IM:activeReport.reportedChats.forEach(entry=>chats.push(entry.entityId,entry.message));SendMessageComposer(new nitro_renderer[\"O\" /* CallForHelpFromIMMessageComposer */](activeReport.message,activeReport.cfhTopic,activeReport.reportedUserId,chats));break;case ReportType.THREAD:SendMessageComposer(new nitro_renderer[\"N\" /* CallForHelpFromForumThreadMessageComposer */](activeReport.groupId,activeReport.threadId,activeReport.cfhTopic,activeReport.message));break;case ReportType.MESSAGE:SendMessageComposer(new nitro_renderer[\"M\" /* CallForHelpFromForumMessageMessageComposer */](activeReport.groupId,activeReport.threadId,activeReport.messageId,activeReport.cfhTopic,activeReport.message));break;case ReportType.PHOTO:SendMessageComposer(new nitro_renderer[\"P\" /* CallForHelpFromPhotoMessageComposer */](activeReport.extraData,activeReport.cfhTopic,activeReport.roomId,GetSessionDataManager().userId,activeReport.roomObjectId));break;}setActiveReport(null);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:4,children:LocalizeText('help.cfh.button.send')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('help.main.summary')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:submitReport,children:LocalizeText('guide.help.request.emergency.submit.button')})]});};\n// CONCATENATED MODULE: ./src/components/help/views/SanctionStatusView.tsx\nconst SanctionSatusView=props=>{const{sanctionInfo=null,setSanctionInfo=null}=useHelp();const sanctionLocalization=(param,sanctionName,length)=>{let localizationName=`help.sanction.${param}`;switch(sanctionName){case'ALERT':localizationName=localizationName+'.alert';break;case'MUTE':localizationName=localizationName+'.mute';break;case'BAN_PERMANENT':localizationName=localizationName+'.permban';break;default:localizationName=localizationName+'.ban';if(length>24){localizationName=localizationName+'.days';return LocalizeText(localizationName,['days'],[(length/24).toString()]);}}return LocalizeText(localizationName,['hours'],[length.toString()]);};if(!sanctionInfo)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-help\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('help.sanction.info.title'),onCloseClick:()=>setSanctionInfo(null)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"index-image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"between\",size:7,overflow:\"hidden\",children:[sanctionInfo.sanctionReason==='cfh.reason.EMPTY'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 fw-bold\",children:LocalizeText('help.sanction.current.none')}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[(sanctionInfo.probationHoursLeft>0||sanctionInfo.isSanctionActive)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 fw-bold\",children:LocalizeText('help.sanction.probation.reminder')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:`col-12 fw-bold ${sanctionInfo.isSanctionNew?'text-danger':''}`,children:[LocalizeText('help.sanction.last.sanction'),\" \",sanctionLocalization('current',sanctionInfo.sanctionName,sanctionInfo.sanctionLengthHours)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12\",children:[LocalizeText('generic.start.time'),\" \",sanctionInfo.sanctionCreationTime]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12\",children:[LocalizeText('generic.reason'),\" \",sanctionInfo.sanctionReason]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12\",children:[LocalizeText('help.sanction.probation.days.left'),\" \",Math.trunc(sanctionInfo.probationHoursLeft/24)+1]})]}),sanctionInfo.hasCustomMute&&!sanctionInfo.isSanctionActive&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 fw-bold\",children:LocalizeText('help.sanction.custom.mute')}),sanctionInfo.tradeLockExpiryTime&&sanctionInfo.tradeLockExpiryTime.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12 fw-bold\",children:[LocalizeText('trade.locked.until'),\" \",sanctionInfo.tradeLockExpiryTime]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12\",children:sanctionLocalization('next',sanctionInfo.nextSanctionName,sanctionInfo.nextSanctionLengthHours)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>setSanctionInfo(null),children:LocalizeText('habbo.way.ok.button')})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/help/views/SelectReportedChatsView.tsx\nconst SelectReportedChatsView=props=>{const[selectedChats,setSelectedChats]=Object(react[\"useState\"])([]);const{activeReport=null,setActiveReport=null}=useHelp();const{chatHistory=[],messengerHistory=[]}=useChatHistory();const userChats=Object(react[\"useMemo\"])(()=>{switch(activeReport.reportType){case ReportType.BULLY:case ReportType.EMERGENCY:return chatHistory.filter(chat=>chat.type===ChatEntryType.TYPE_CHAT&&chat.entityId===activeReport.reportedUserId&&chat.entityType===nitro_renderer[\"ah\" /* RoomObjectType */].USER);case ReportType.IM:return messengerHistory.filter(chat=>chat.entityId===activeReport.reportedUserId&&chat.type===ChatEntryType.TYPE_IM);}return[];},[activeReport,chatHistory,messengerHistory]);const selectChat=chatEntry=>{setSelectedChats(prevValue=>{const newValue=[...prevValue];const index=newValue.indexOf(chatEntry);if(index>=0)newValue.splice(index,1);else newValue.push(chatEntry);return newValue;});};const submitChats=()=>{if(!selectedChats||selectedChats.length<=0)return;setActiveReport(prevValue=>{return{...prevValue,reportedChats:selectedChats,currentStep:ReportState.SELECT_TOPICS};});};const back=()=>{setActiveReport(prevValue=>{return{...prevValue,currentStep:prevValue.currentStep-1};});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:4,children:LocalizeText('help.emergency.chat_report.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('help.emergency.chat_report.description')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,overflow:\"hidden\",children:[!userChats||!userChats.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('help.cfh.error.no_user_data')}),userChats.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{gap:1,columnCount:1,columnMinHeight:25,overflow:\"auto\",children:userChats.map((chat,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{onClick:event=>selectChat(chat),itemActive:selectedChats.indexOf(chat)>=0,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:chat.message})},chat.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:back,disabled:activeReport.reportType===ReportType.IM,children:LocalizeText('generic.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:selectedChats.length<=0,onClick:submitChats,children:LocalizeText('help.emergency.main.submit.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/SelectReportedUserView.tsx\nconst SelectReportedUserView=props=>{const[selectedUserId,setSelectedUserId]=Object(react[\"useState\"])(-1);const{chatHistory=[]}=useChatHistory();const{activeReport=null,setActiveReport=null}=useHelp();const availableUsers=Object(react[\"useMemo\"])(()=>{const users=new Map();chatHistory.forEach(chat=>{if(chat.type===ChatEntryType.TYPE_CHAT&&chat.entityType===nitro_renderer[\"ah\" /* RoomObjectType */].USER&&chat.entityId!==GetSessionDataManager().userId&&!users.has(chat.entityId))users.set(chat.entityId,{id:chat.entityId,username:chat.name});});return Array.from(users.values());},[chatHistory]);const submitUser=()=>{if(selectedUserId<=0)return;setActiveReport(prevValue=>{return{...prevValue,reportedUserId:selectedUserId,currentStep:ReportState.SELECT_CHATS};});};const selectUser=userId=>{setSelectedUserId(prevValue=>{if(userId===prevValue)return-1;return userId;});};const back=()=>{setActiveReport(prevValue=>{return{...prevValue,currentStep:prevValue.currentStep-1};});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:4,children:LocalizeText('help.emergency.main.step.two.title')}),availableUsers.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('report.user.pick.user')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,overflow:\"hidden\",children:[!!!availableUsers.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('report.user.error.nolist')}),availableUsers.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:1,columnMinHeight:25,gap:1,children:availableUsers.map((user,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{onClick:event=>selectUser(user.id),itemActive:selectedUserId===user.id,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{dangerouslySetInnerHTML:{__html:user.username}})},user.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:back,children:LocalizeText('generic.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:selectedUserId<=0,onClick:submitUser,children:LocalizeText('help.emergency.main.submit.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/SelectTopicView.tsx\nconst SelectTopicView=props=>{const[selectedCategory,setSelectedCategory]=Object(react[\"useState\"])(-1);const[selectedTopic,setSelectedTopic]=Object(react[\"useState\"])(-1);const{setActiveReport=null}=useHelp();const{cfhCategories=[]}=useModTools();const submitTopic=()=>{if(selectedCategory<0||selectedTopic<0)return;setActiveReport(prevValue=>{return{...prevValue,cfhCategory:selectedCategory,cfhTopic:cfhCategories[selectedCategory].topics[selectedTopic].id,currentStep:ReportState.INPUT_REPORT_MESSAGE};});};const back=()=>{setActiveReport(prevValue=>{return{...prevValue,currentStep:prevValue.currentStep-1};});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:4,children:LocalizeText('help.emergency.chat_report.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('help.cfh.pick.topic')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,overflow:\"auto\",children:[selectedCategory<0&&cfhCategories.map((category,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:event=>setSelectedCategory(index),children:LocalizeText(`help.cfh.reason.${category.name}`)},index)),selectedCategory>=0&&cfhCategories[selectedCategory].topics.map((topic,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:event=>setSelectedTopic(index),active:selectedTopic===index,children:LocalizeText(`help.cfh.topic.${topic.id}`)},index))]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:back,children:LocalizeText('generic.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{disabled:selectedTopic<0,onClick:submitTopic,children:LocalizeText('help.emergency.main.submit.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/HelpView.tsx\nconst HelpView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{activeReport=null,setActiveReport=null,report=null}=useHelp();const onClose=()=>{setActiveReport(null);setIsVisible(false);};Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;case'tour':// todo: launch tour\nreturn;case'report':if(parts.length>=5&&parts[2]==='room'){const roomId=parseInt(parts[3]);const unknown=unescape(parts.splice(4).join('/'));//this.reportRoom(roomId, unknown, \"\");\n}return;}},eventUrlPrefix:'help/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);Object(react[\"useEffect\"])(()=>{if(!activeReport)return;setIsVisible(true);},[activeReport]);const CurrentStepView=()=>{if(activeReport){switch(activeReport.currentStep){case ReportState.SELECT_USER:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectReportedUserView,{});case ReportState.SELECT_CHATS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectReportedChatsView,{});case ReportState.SELECT_TOPICS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectTopicView,{});case ReportState.INPUT_REPORT_MESSAGE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DescribeReportView,{});case ReportState.REPORT_SUMMARY:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReportSummaryView,{});}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HelpIndexView,{});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-help\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('help.button.cfh'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"index-image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{justifyContent:\"between\",size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrentStepView,{})})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SanctionSatusView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NameChangeView,{})]});};\n// CONCATENATED MODULE: ./src/components/hotel-view/views/widgets/bonus-rare/BonusRareWidgetView.tsx\nconst BonusRareWidgetView=props=>{const[productType,setProductType]=Object(react[\"useState\"])(null);const[productClassId,setProductClassId]=Object(react[\"useState\"])(null);const[totalCoinsForBonus,setTotalCoinsForBonus]=Object(react[\"useState\"])(null);const[coinsStillRequiredToBuy,setCoinsStillRequiredToBuy]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"y\" /* BonusRareInfoMessageEvent */],event=>{const parser=event.getParser();setProductType(parser.productType);setProductClassId(parser.productClassId);setTotalCoinsForBonus(parser.totalCoinsForBonus);setCoinsStillRequiredToBuy(parser.coinsStillRequiredToBuy);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"rc\" /* GetBonusRareInfoMessageComposer */]());},[]);if(!productType)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bonus-rare widget d-flex\",children:[productType,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bg-light-dark rounded overflow-hidden position-relative bonus-bar-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex justify-content-center align-items-center w-100 h-100 position-absolute small top-0\",children:totalCoinsForBonus-coinsStillRequiredToBuy+'/'+totalCoinsForBonus}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"small bg-info rounded position-absolute top-0 h-100\",style:{width:(totalCoinsForBonus-coinsStillRequiredToBuy)/totalCoinsForBonus*100+'%'}})]})]});};\n// CONCATENATED MODULE: ./src/components/hotel-view/views/widgets/hall-of-fame-item/HallOfFameItemView.tsx\nconst HallOfFameItemView=props=>{const{data=null,level=0}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"hof-user-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"hof-tooltip\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"hof-header\",children:[level,\". \",data.userName,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:data.userId})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"small text-center text-white\",children:LocalizeText('landing.view.competition.hof.points',['points'],[LocalizeFormattedNumber(data.currentScore).toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:data.figure,direction:2})]});};\n// CONCATENATED MODULE: ./src/components/hotel-view/views/widgets/hall-of-fame/HallOfFameWidgetView.tsx\nconst HallOfFameWidgetView=props=>{const{slot=-1,conf=null}=props;const[data,setData]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"tb\" /* CommunityGoalHallOfFameMessageEvent */],event=>{const parser=event.getParser();setData(parser.data);});Object(react[\"useEffect\"])(()=>{const campaign=conf?conf['campaign']:'';SendMessageComposer(new nitro_renderer[\"zc\" /* GetCommunityGoalHallOfFameMessageComposer */](campaign));},[conf]);if(!data)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"hall-of-fame d-flex\",children:data.hof&&data.hof.length>0&&data.hof.map((entry,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HallOfFameItemView,{data:entry,level:index+1},index);})});};\n// CONCATENATED MODULE: ./src/components/hotel-view/views/widgets/promo-article/PromoArticleWidgetView.tsx\nconst PromoArticleWidgetView=props=>{const[articles,setArticles]=Object(react[\"useState\"])(null);const[index,setIndex]=Object(react[\"useState\"])(0);useMessageEvent(nitro_renderer[\"Pf\" /* PromoArticlesMessageEvent */],event=>{const parser=event.getParser();setArticles(parser.articles);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Mc\" /* GetPromoArticlesComposer */]());},[]);if(!articles)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"promo-articles widget mb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-row align-items-center w-100 mb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{className:\"flex-shrink-0 pe-1\",children:LocalizeText('landing.view.promo.article.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"w-100 my-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex flex-row mb-1\",children:articles&&articles.length>0&&articles.map((article,ind)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'promo-articles-bullet cursor-pointer '+(article===articles[index]?'promo-articles-bullet-active':''),onClick:event=>setIndex(ind)},article.id))}),articles&&articles[index]&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"promo-article d-flex flex-row row mx-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"promo-article-image\",style:{backgroundImage:`url(${articles[index].imageUrl})`}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-3 d-flex flex-column h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"my-0\",children:articles[index].title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:articles[index].bodyText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-sm mt-auto btn-gainsboro\",onClick:event=>OpenUrl(articles[index].linkContent),children:articles[index].buttonText})]})]})]});};\n// CONCATENATED MODULE: ./src/components/hotel-view/views/widgets/widget-container/WidgetContainerView.tsx\nconst WidgetContainerView=props=>{const{conf=null}=props;const getOption=Object(react[\"useCallback\"])(key=>{const option=conf[key];if(!option)return null;switch(key){case'image':return GetConfigurationManager().interpolate(option);}return option;},[conf]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"widgetcontainer widget d-flex flex-row overflow-hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"widgetcontainer-image flex-shrink-0\",style:{backgroundImage:`url(${getOption('image')})`}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column align-self-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"my-0\",children:LocalizeText(`landing.view.${getOption('texts')}.header`)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{children:LocalizeText(`landing.view.${getOption('texts')}.body`)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-sm btn-gainsboro align-self-start px-3 mt-auto\",onClick:event=>OpenUrl(getOption('btnLink')),children:LocalizeText(`landing.view.${getOption('texts')}.button`)})]})]});};\n// CONCATENATED MODULE: ./src/components/hotel-view/views/widgets/GetWidgetLayout.tsx\nconst GetWidgetLayout=props=>{switch(props.widgetType){case'promoarticle':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PromoArticleWidgetView,{});case'achievementcompetition_hall_of_fame':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HallOfFameWidgetView,{slot:props.slot,conf:props.widgetConf});case'bonusrare':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BonusRareWidgetView,{});case'widgetcontainer':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WidgetContainerView,{conf:props.widgetConf});default:return null;}};\n// CONCATENATED MODULE: ./src/components/hotel-view/views/widgets/WidgetSlotView.tsx\nconst WidgetSlotView=props=>{const{widgetType=null,widgetSlot=0,widgetConf=null,className='',...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:`widget-slot slot-${widgetSlot} ${className||''}`,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GetWidgetLayout,{widgetType:widgetType,slot:widgetSlot,widgetConf:widgetConf})});};\n// CONCATENATED MODULE: ./src/components/hotel-view/HotelView.tsx\nconst widgetSlotCount=7;const HotelView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(true);const{userFigure=null}=useSessionInfo();const onRoomSessionEvent=Object(react[\"useCallback\"])(event=>{switch(event.type){case nitro_renderer[\"mh\" /* RoomSessionEvent */].CREATED:setIsVisible(false);return;case nitro_renderer[\"mh\" /* RoomSessionEvent */].ENDED:setIsVisible(event.openLandingView);return;}},[]);useRoomSessionManagerEvent(nitro_renderer[\"mh\" /* RoomSessionEvent */].CREATED,onRoomSessionEvent);useRoomSessionManagerEvent(nitro_renderer[\"mh\" /* RoomSessionEvent */].ENDED,onRoomSessionEvent);if(!isVisible)return null;const backgroundColor=GetConfiguration('hotelview')['images']['background.colour'];const background=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['background']);const sun=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['sun']);const drape=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['drape']);const left=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['left']);const rightRepeat=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['right.repeat']);const right=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['right']);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nitro-hotel-view\",style:backgroundColor&&backgroundColor?{background:backgroundColor}:{},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container h-100 py-3 overflow-hidden landing-widgets\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-9 h-100 d-flex flex-column\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WidgetSlotView,{widgetSlot:1,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+1+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+1+'.conf'],className:\"col-6\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12 row mx-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WidgetSlotView,{widgetSlot:2,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+2+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+2+'.conf'],className:\"col-7\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WidgetSlotView,{widgetSlot:3,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+3+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+3+'.conf'],className:\"col-5\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WidgetSlotView,{widgetSlot:4,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+4+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+4+'.conf'],className:\"col-7\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WidgetSlotView,{widgetSlot:5,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+5+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+5+'.conf'],className:\"col-5\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WidgetSlotView,{widgetSlot:6,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+6+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+6+'.conf'],className:\"mt-auto\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-3 h-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WidgetSlotView,{widgetSlot:7,widgetType:GetConfiguration('hotelview')['widgets']['slot.'+7+'.widget'],widgetConf:GetConfiguration('hotelview')['widgets']['slot.'+7+'.conf']})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"background position-absolute\",style:background&&background.length?{backgroundImage:`url(${background})`}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sun position-absolute\",style:sun&&sun.length?{backgroundImage:`url(${sun})`}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"drape position-absolute\",style:drape&&drape.length?{backgroundImage:`url(${drape})`}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"left position-absolute\",style:left&&left.length?{backgroundImage:`url(${left})`}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"right-repeat position-absolute\",style:rightRepeat&&rightRepeat.length?{backgroundImage:`url(${rightRepeat})`}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"right position-absolute\",style:right&&right.length?{backgroundImage:`url(${right})`}:{}}),GetConfiguration('hotelview')['show.avatar']&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"avatar-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:userFigure,direction:2})})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/badge/InventoryBadgeItemView.tsx\nconst InventoryBadgeItemView=props=>{const{badgeCode=null,children=null,...rest}=props;const{selectedBadgeCode=null,setSelectedBadgeCode=null,toggleBadge=null,getBadgeId=null}=useInventoryBadges();const{isUnseen=null}=useInventoryUnseenTracker();const unseen=isUnseen(UnseenItemCategory.BADGE,getBadgeId(badgeCode));return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{itemActive:selectedBadgeCode===badgeCode,itemUnseen:unseen,onMouseDown:event=>setSelectedBadgeCode(badgeCode),onDoubleClick:event=>toggleBadge(selectedBadgeCode),...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:badgeCode}),children]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/badge/InventoryBadgeView.tsx\nconst InventoryBadgeView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{badgeCodes=[],activeBadgeCodes=[],selectedBadgeCode=null,isWearingBadge=null,canWearBadges=null,toggleBadge=null,getBadgeId=null,activate=null,deactivate=null}=useInventoryBadges();const{isUnseen=null,removeUnseen=null}=useInventoryUnseenTracker();Object(react[\"useEffect\"])(()=>{if(!selectedBadgeCode||!isUnseen(UnseenItemCategory.BADGE,getBadgeId(selectedBadgeCode)))return;removeUnseen(UnseenItemCategory.BADGE,getBadgeId(selectedBadgeCode));},[selectedBadgeCode,isUnseen,removeUnseen,getBadgeId]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;const id=activate();return()=>deactivate(id);},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(()=>{setIsVisible(true);return()=>setIsVisible(false);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:4,children:badgeCodes&&badgeCodes.length>0&&badgeCodes.map((badgeCode,index)=>{if(activeBadgeCodes.indexOf(badgeCode)>=0)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBadgeItemView,{badgeCode:badgeCode},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"justify-content-between\",size:5,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('inventory.badges.activebadges')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:3,children:activeBadgeCodes&&activeBadgeCodes.length>0&&activeBadgeCodes.map((badgeCode,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBadgeItemView,{badgeCode:badgeCode},index))})]}),!!selectedBadgeCode&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,justifyContent:\"end\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{shrink:true,badgeCode:selectedBadgeCode}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeBadgeName(selectedBadgeCode)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:isWearingBadge(selectedBadgeCode)?'danger':'success',disabled:!isWearingBadge(selectedBadgeCode)&&!canWearBadges(),onClick:event=>toggleBadge(selectedBadgeCode),children:LocalizeText(isWearingBadge(selectedBadgeCode)?'inventory.badges.clearbadge':'inventory.badges.wearbadge')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/InventoryCategoryEmptyView.tsx\nconst InventoryCategoryEmptyView=props=>{const{title='',desc='',children=null,...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"empty-image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"center\",size:7,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",fontSize:5,overflow:\"unset\",truncate:true,children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{overflow:\"auto\",children:desc})]}),children]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/bot/InventoryBotItemView.tsx\nconst InventoryBotItemView=props=>{const{botItem=null,children=null,...rest}=props;const[isMouseDown,setMouseDown]=Object(react[\"useState\"])(false);const{selectedBot=null,setSelectedBot=null}=useInventoryBots();const{isUnseen=null}=useInventoryUnseenTracker();const unseen=isUnseen(UnseenItemCategory.BOT,botItem.botData.id);const onMouseEvent=event=>{switch(event.type){case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN:setSelectedBot(botItem);setMouseDown(true);return;case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_UP:setMouseDown(false);return;case nitro_renderer[\"Ve\" /* MouseEventType */].ROLL_OUT:if(!isMouseDown||selectedBot!==botItem)return;attemptBotPlacement(botItem);return;case'dblclick':attemptBotPlacement(botItem);return;}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{itemActive:selectedBot===botItem,itemUnseen:unseen,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent,onDoubleClick:onMouseEvent,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:botItem.botData.figure,direction:3,headOnly:true}),children]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/bot/InventoryBotView.tsx\nconst InventoryBotView=props=>{const{roomSession=null,roomPreviewer=null}=props;const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{botItems=[],selectedBot=null,activate=null,deactivate=null}=useInventoryBots();const{isUnseen=null,removeUnseen=null}=useInventoryUnseenTracker();Object(react[\"useEffect\"])(()=>{if(!selectedBot||!roomPreviewer)return;const botData=selectedBot.botData;const roomEngine=GetRoomEngine();let wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_WALL_TYPE);let floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);let landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';roomPreviewer.reset(false);roomPreviewer.updateRoomWallsAndFloorVisibility(true,true);roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);roomPreviewer.addAvatarIntoRoom(botData.figure,0);},[roomPreviewer,selectedBot]);Object(react[\"useEffect\"])(()=>{if(!selectedBot||!isUnseen(UnseenItemCategory.BOT,selectedBot.botData.id))return;removeUnseen(UnseenItemCategory.BOT,selectedBot.botData.id);},[selectedBot,isUnseen,removeUnseen]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;const id=activate();return()=>deactivate(id);},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(()=>{setIsVisible(true);return()=>setIsVisible(false);},[]);if(!botItems||!botItems.length)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryCategoryEmptyView,{title:LocalizeText('inventory.empty.bots.title'),desc:LocalizeText('inventory.empty.bots.desc')});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:5,children:botItems&&botItems.length>0&&botItems.map(item=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBotItemView,{botItem:item},item.botData.id))})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"hidden\",position:\"relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140})}),selectedBot&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:selectedBot.botData.name}),!!roomSession&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>attemptBotPlacement(selectedBot),children:LocalizeText('inventory.furni.placetoroom')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/furniture/InventoryFurnitureItemView.tsx\nconst InventoryFurnitureItemView=props=>{const{groupItem=null,...rest}=props;const[isMouseDown,setMouseDown]=Object(react[\"useState\"])(false);const{selectedItem=null,setSelectedItem=null}=useInventoryFurni();const onMouseEvent=event=>{switch(event.type){case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN:setSelectedItem(groupItem);setMouseDown(true);return;case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_UP:setMouseDown(false);return;case nitro_renderer[\"Ve\" /* MouseEventType */].ROLL_OUT:if(!isMouseDown||!(groupItem===selectedItem))return;attemptItemPlacement(groupItem);return;case'dblclick':attemptItemPlacement(groupItem);return;}};const count=groupItem.getUnlockedCount();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{className:!count?'opacity-0-5 ':'',itemImage:groupItem.iconUrl,itemCount:groupItem.getUnlockedCount(),itemActive:groupItem===selectedItem,itemUniqueNumber:groupItem.stuffData.uniqueNumber,itemUnseen:groupItem.hasUnseenItems,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent,onDoubleClick:onMouseEvent,...rest});};\n// CONCATENATED MODULE: ./src/components/inventory/views/furniture/InventoryFurnitureSearchView.tsx\nconst InventoryFurnitureSearchView=props=>{const{groupItems=[],setGroupItems=null}=props;const[searchValue,setSearchValue]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{let filteredGroupItems=[...groupItems];if(searchValue&&searchValue.length){const comparison=searchValue.toLocaleLowerCase();filteredGroupItems=groupItems.filter(item=>{if(comparison&&comparison.length){if(item.name.toLocaleLowerCase().includes(comparison))return item;}return null;});}setGroupItems(filteredGroupItems);},[groupItems,setGroupItems,searchValue]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:event=>setSearchValue(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"search\"})})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/furniture/InventoryFurnitureView.tsx\nconst attemptPlaceMarketplaceOffer=groupItem=>{const item=groupItem.getLastItem();if(!item)return false;if(!item.sellable)return false;DispatchUiEvent(new CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent(item));};const InventoryFurnitureView=props=>{const{roomSession=null,roomPreviewer=null}=props;const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[filteredGroupItems,setFilteredGroupItems]=Object(react[\"useState\"])([]);const{groupItems=[],selectedItem=null,activate=null,deactivate=null}=useInventoryFurni();const{resetItems=null}=useInventoryUnseenTracker();Object(react[\"useEffect\"])(()=>{if(!selectedItem||!roomPreviewer)return;const furnitureItem=selectedItem.getLastItem();if(!furnitureItem)return;const roomEngine=GetRoomEngine();let wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_WALL_TYPE);let floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);let landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';roomPreviewer.reset(false);roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);roomPreviewer.updateRoomWallsAndFloorVisibility(true,true);if(furnitureItem.category===FurniCategory.WALL_PAPER||furnitureItem.category===FurniCategory.FLOOR||furnitureItem.category===FurniCategory.LANDSCAPE){floorType=furnitureItem.category===FurniCategory.FLOOR?selectedItem.stuffData.getLegacyString():floorType;wallType=furnitureItem.category===FurniCategory.WALL_PAPER?selectedItem.stuffData.getLegacyString():wallType;landscapeType=furnitureItem.category===FurniCategory.LANDSCAPE?selectedItem.stuffData.getLegacyString():landscapeType;roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);if(furnitureItem.category===FurniCategory.LANDSCAPE){const data=GetSessionDataManager().getWallItemDataByName('noob_window_double');if(data)roomPreviewer.addWallItemIntoRoom(data.id,new nitro_renderer[\"kj\" /* Vector3d */](90,0,0),data.customParams);}}else{if(selectedItem.isWallItem){roomPreviewer.addWallItemIntoRoom(selectedItem.type,new nitro_renderer[\"kj\" /* Vector3d */](90),furnitureItem.stuffData.getLegacyString());}else{roomPreviewer.addFurnitureIntoRoom(selectedItem.type,new nitro_renderer[\"kj\" /* Vector3d */](90),selectedItem.stuffData,furnitureItem.extra.toString());}}},[roomPreviewer,selectedItem]);Object(react[\"useEffect\"])(()=>{if(!selectedItem||!selectedItem.hasUnseenItems)return;resetItems(UnseenItemCategory.FURNI,selectedItem.items.map(item=>item.id));selectedItem.hasUnseenItems=false;},[selectedItem,resetItems]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;const id=activate();return()=>deactivate(id);},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(()=>{setIsVisible(true);return()=>setIsVisible(false);},[]);if(!groupItems||!groupItems.length)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryCategoryEmptyView,{title:LocalizeText('inventory.empty.title'),desc:LocalizeText('inventory.empty.desc')});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryFurnitureSearchView,{groupItems:groupItems,setGroupItems:setFilteredGroupItems}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:5,children:filteredGroupItems&&filteredGroupItems.length>0&&filteredGroupItems.map((item,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryFurnitureItemView,{groupItem:item},index))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",position:\"relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140}),selectedItem&&selectedItem.stuffData.isUnique&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionCompactPlateView,{className:\"top-2 end-2\",position:\"absolute\",uniqueNumber:selectedItem.stuffData.uniqueNumber,uniqueSeries:selectedItem.stuffData.uniqueSeries}),selectedItem&&selectedItem.stuffData.rarityLevel>-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRarityLevelView,{className:\"top-2 end-2\",position:\"absolute\",level:selectedItem.stuffData.rarityLevel})]}),selectedItem&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:selectedItem.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[!!roomSession&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>attemptItemPlacement(selectedItem),children:LocalizeText('inventory.furni.placetoroom')}),selectedItem&&selectedItem.isSellable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>attemptPlaceMarketplaceOffer(selectedItem),children:LocalizeText('inventory.marketplace.sell')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/furniture/InventoryTradeView.tsx\nconst MAX_ITEMS_TO_TRADE=9;const InventoryTradeView=props=>{const{cancelTrade=null}=props;const[groupItem,setGroupItem]=Object(react[\"useState\"])(null);const[ownGroupItem,setOwnGroupItem]=Object(react[\"useState\"])(null);const[otherGroupItem,setOtherGroupItem]=Object(react[\"useState\"])(null);const[filteredGroupItems,setFilteredGroupItems]=Object(react[\"useState\"])(null);const[countdownTick,setCountdownTick]=Object(react[\"useState\"])(3);const[quantity,setQuantity]=Object(react[\"useState\"])(1);const{ownUser=null,otherUser=null,groupItems=[],tradeState=TradeState.TRADING_STATE_READY,progressTrade=null,removeItem=null,setTradeState=null}=useInventoryTrade();const{simpleAlert=null}=useNotification();const canTradeItem=(isWallItem,spriteId,category,groupable,stuffData)=>{if(!ownUser||ownUser.accepts||!ownUser.userItems)return false;if(ownUser.userItems.length<MAX_ITEMS_TO_TRADE)return true;if(!groupable)return false;let type=spriteId.toString();if(category===FurniCategory.POSTER){type=type+'poster'+stuffData.getLegacyString();}else{if(category===FurniCategory.GUILD_FURNI){type=getGuildFurniType(spriteId,stuffData);}else{type=(isWallItem?'I':'S')+type;}}return!!ownUser.userItems.getValue(type);};const attemptItemOffer=count=>{if(!groupItem)return;const tradeItems=groupItem.getTradeItems(count);if(!tradeItems||!tradeItems.length)return;let coreItem=null;const itemIds=[];for(const item of tradeItems){itemIds.push(item.id);if(!coreItem)coreItem=item;}const ownItemCount=ownUser.userItems.length;if(ownItemCount+itemIds.length<=1500){if(!coreItem.isGroupable&&itemIds.length){SendMessageComposer(new nitro_renderer[\"ri\" /* TradingListAddItemComposer */](itemIds.pop()));}else{const tradeIds=[];for(const itemId of itemIds){if(canTradeItem(coreItem.isWallItem,coreItem.type,coreItem.category,coreItem.isGroupable,coreItem.stuffData)){tradeIds.push(itemId);}}if(tradeIds.length){if(tradeIds.length===1){SendMessageComposer(new nitro_renderer[\"ri\" /* TradingListAddItemComposer */](tradeIds.pop()));}else{SendMessageComposer(new nitro_renderer[\"si\" /* TradingListAddItemsComposer */](...tradeIds));}}}}else{simpleAlert(LocalizeText('trading.items.too_many_items.desc'),NotificationAlertType.DEFAULT,null,null,LocalizeText('trading.items.too_many_items.title'));}};const getLockIcon=accepts=>{const iconName=accepts?'lock':'unlock';const textColor=accepts?'success':'danger';return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:iconName,className:'text-'+textColor});};const updateQuantity=(value,totalItemCount)=>{if(isNaN(Number(value))||Number(value)<0||!value)value=1;value=Math.max(Number(value),1);value=Math.min(Number(value),totalItemCount);if(value===quantity)return;setQuantity(value);};const changeCount=totalItemCount=>{updateQuantity(quantity,totalItemCount);attemptItemOffer(quantity);};Object(react[\"useEffect\"])(()=>{setQuantity(1);},[groupItem]);Object(react[\"useEffect\"])(()=>{if(tradeState!==TradeState.TRADING_STATE_COUNTDOWN)return;setCountdownTick(3);const interval=setInterval(()=>{setCountdownTick(prevValue=>{const newValue=prevValue-1;if(newValue===0)clearInterval(interval);return newValue;});},1000);return()=>clearInterval(interval);},[tradeState,setTradeState]);Object(react[\"useEffect\"])(()=>{if(countdownTick!==0)return;setTradeState(TradeState.TRADING_STATE_CONFIRMING);},[countdownTick,setTradeState]);if(tradeState===TradeState.TRADING_STATE_READY||!ownUser||!otherUser)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:4,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryFurnitureSearchView,{groupItems:groupItems,setGroupItems:setFilteredGroupItems}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{column:true,fullHeight:true,justifyContent:\"between\",overflow:\"hidden\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:3,children:filteredGroupItems&&filteredGroupItems.length>0&&filteredGroupItems.map((item,index)=>{const count=item.getUnlockedCount();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{className:!count?'opacity-0-5 ':'',itemImage:item.iconUrl,itemCount:count,itemActive:groupItem===item,itemUniqueNumber:item.stuffData.uniqueNumber,onClick:event=>count&&setGroupItem(item),onDoubleClick:event=>attemptItemOffer(1),children:count>0&&groupItem===item&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{position:\"absolute\",variant:\"success\",className:\"trade-button bottom-1 end-1\",onClick:event=>attemptItemOffer(1),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,alignItems:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:6,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",placeholder:LocalizeText('catalog.bundlewidget.spinner.select.amount'),disabled:!groupItem,value:quantity,onChange:event=>setQuantity(event.target.valueAsNumber)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:6,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",disabled:!groupItem,onClick:event=>changeCount(groupItem.getUnlockedCount()),children:LocalizeText('inventory.trading.areoffering')})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fullWidth:true,className:\"badge bg-muted\",children:groupItem?groupItem.name:LocalizeText('catalog_selectproduct')})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:8,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[LocalizeText('inventory.trading.you'),\" \",LocalizeText('inventory.trading.areoffering'),\":\"]}),getLockIcon(ownUser.accepts)]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:3,children:Array.from(Array(MAX_ITEMS_TO_TRADE),(e,i)=>{const item=ownUser.userItems.getWithIndex(i)||null;if(!item)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{},i);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:ownGroupItem===item,itemImage:item.iconUrl,itemCount:item.getTotalCount(),itemUniqueNumber:item.stuffData.uniqueNumber,onClick:event=>setOwnGroupItem(item),onDoubleClick:event=>removeItem(item),children:ownGroupItem===item&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{position:\"absolute\",variant:\"danger\",className:\"trade-button bottom-1 start-1\",onClick:event=>removeItem(item),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})})},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fullWidth:true,className:\"badge bg-muted\",children:ownGroupItem?ownGroupItem.name:LocalizeText('catalog_selectproduct')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[otherUser.userName,\" \",LocalizeText('inventory.trading.isoffering'),\":\"]}),getLockIcon(otherUser.accepts)]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:3,children:Array.from(Array(MAX_ITEMS_TO_TRADE),(e,i)=>{const item=otherUser.userItems.getWithIndex(i)||null;if(!item)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{},i);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem,{itemActive:otherGroupItem===item,itemImage:item.iconUrl,itemCount:item.getTotalCount(),itemUniqueNumber:item.stuffData.uniqueNumber,onClick:event=>setOtherGroupItem(item)},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fullWidth:true,className:\"badge bg-muted w-100\",children:otherGroupItem?otherGroupItem.name:LocalizeText('catalog_selectproduct')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{grow:true,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:cancelTrade,children:LocalizeText('generic.cancel')}),tradeState===TradeState.TRADING_STATE_READY&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",disabled:!ownUser.itemCount&&!otherUser.itemCount,onClick:progressTrade,children:LocalizeText('inventory.trading.accept')}),tradeState===TradeState.TRADING_STATE_RUNNING&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",disabled:!ownUser.itemCount&&!otherUser.itemCount,onClick:progressTrade,children:LocalizeText(ownUser.accepts?'inventory.trading.modify':'inventory.trading.accept')}),tradeState===TradeState.TRADING_STATE_COUNTDOWN&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",disabled:true,children:LocalizeText('inventory.trading.countdown',['counter'],[countdownTick.toString()])}),tradeState===TradeState.TRADING_STATE_CONFIRMING&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:progressTrade,children:LocalizeText('inventory.trading.button.restore')}),tradeState===TradeState.TRADING_STATE_CONFIRMED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",children:LocalizeText('inventory.trading.info.waiting')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/pet/InventoryPetItemView.tsx\nconst InventoryPetItemView=props=>{const{petItem=null,children=null,...rest}=props;const[isMouseDown,setMouseDown]=Object(react[\"useState\"])(false);const{selectedPet=null,setSelectedPet=null}=useInventoryPets();const{isUnseen}=useInventoryUnseenTracker();const unseen=isUnseen(UnseenItemCategory.PET,petItem.petData.id);const onMouseEvent=event=>{switch(event.type){case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_DOWN:setSelectedPet(petItem);setMouseDown(true);return;case nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_UP:setMouseDown(false);return;case nitro_renderer[\"Ve\" /* MouseEventType */].ROLL_OUT:if(!isMouseDown||!(petItem===selectedPet))return;attemptPetPlacement(petItem);return;case'dblclick':attemptPetPlacement(petItem);return;}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{itemActive:petItem===selectedPet,itemUnseen:unseen,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent,onDoubleClick:onMouseEvent,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{figure:petItem.petData.figureData.figuredata,direction:3,headOnly:true}),children]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/pet/InventoryPetView.tsx\nconst InventoryPetView=props=>{const{roomSession=null,roomPreviewer=null}=props;const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{petItems=null,selectedPet=null,activate=null,deactivate=null}=useInventoryPets();const{isUnseen=null,removeUnseen=null}=useInventoryUnseenTracker();Object(react[\"useEffect\"])(()=>{if(!selectedPet||!roomPreviewer)return;const petData=selectedPet.petData;const roomEngine=GetRoomEngine();let wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_WALL_TYPE);let floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);let landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"ch\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';roomPreviewer.reset(false);roomPreviewer.updateRoomWallsAndFloorVisibility(true,true);roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);roomPreviewer.addPetIntoRoom(petData.figureString);},[roomPreviewer,selectedPet]);Object(react[\"useEffect\"])(()=>{if(!selectedPet||!isUnseen(UnseenItemCategory.PET,selectedPet.petData.id))return;removeUnseen(UnseenItemCategory.PET,selectedPet.petData.id);},[selectedPet,isUnseen,removeUnseen]);Object(react[\"useEffect\"])(()=>{if(!isVisible)return;const id=activate();return()=>deactivate(id);},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(()=>{setIsVisible(true);return()=>setIsVisible(false);},[]);if(!petItems||!petItems.length)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryCategoryEmptyView,{title:LocalizeText('inventory.empty.pets.title'),desc:LocalizeText('inventory.empty.pets.desc')});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:5,children:petItems&&petItems.length>0&&petItems.map(item=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryPetItemView,{petItem:item},item.petData.id))})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:5,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"hidden\",position:\"relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140})}),selectedPet&&selectedPet.petData&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{grow:true,truncate:true,children:selectedPet.petData.name}),!!roomSession&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>attemptPetPlacement(selectedPet),children:LocalizeText('inventory.furni.placetoroom')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/InventoryView.tsx\nconst TAB_FURNITURE='inventory.furni';const TAB_BOTS='inventory.bots';const TAB_PETS='inventory.furni.tab.pets';const TAB_BADGES='inventory.badges';const InventoryView_TABS=[TAB_FURNITURE,TAB_BOTS,TAB_PETS,TAB_BADGES];const UNSEEN_CATEGORIES=[UnseenItemCategory.FURNI,UnseenItemCategory.BOT,UnseenItemCategory.PET,UnseenItemCategory.BADGE];const InventoryView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[currentTab,setCurrentTab]=Object(react[\"useState\"])(InventoryView_TABS[0]);const[roomSession,setRoomSession]=Object(react[\"useState\"])(null);const[roomPreviewer,setRoomPreviewer]=Object(react[\"useState\"])(null);const{isTrading=false,stopTrading=null}=useInventoryTrade();const{getCount=null,resetCategory=null}=useInventoryUnseenTracker();const onClose=()=>{if(isTrading)stopTrading();setIsVisible(false);};useRoomEngineEvent(nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].PLACED,event=>{if(!isObjectMoverRequested())return;InventoryUtilities_setObjectMoverRequested(false);if(!event.placedInRoom)setIsVisible(true);});useRoomSessionManagerEvent([nitro_renderer[\"mh\" /* RoomSessionEvent */].CREATED,nitro_renderer[\"mh\" /* RoomSessionEvent */].ENDED],event=>{switch(event.type){case nitro_renderer[\"mh\" /* RoomSessionEvent */].CREATED:setRoomSession(event.session);return;case nitro_renderer[\"mh\" /* RoomSessionEvent */].ENDED:setRoomSession(null);setIsVisible(false);return;}});useMessageEvent(nitro_renderer[\"u\" /* BadgePointLimitsEvent */],event=>{const parser=event.getParser();for(const data of parser.data)GetLocalization().setBadgePointLimit(data.badgeId,data.limit);});Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;}},eventUrlPrefix:'inventory/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);Object(react[\"useEffect\"])(()=>{setRoomPreviewer(new nitro_renderer[\"eh\" /* RoomPreviewer */](GetRoomEngine(),++nitro_renderer[\"eh\" /* RoomPreviewer */].PREVIEW_COUNTER));return()=>{setRoomPreviewer(prevValue=>{prevValue.dispose();return null;});};},[]);Object(react[\"useEffect\"])(()=>{if(!isVisible&&isTrading)setIsVisible(true);},[isVisible,isTrading]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:'inventory',className:\"nitro-inventory\",theme:isTrading?'primary-slim':'',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('inventory.title'),onCloseClick:onClose}),!isTrading&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView,{children:InventoryView_TABS.map((name,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:currentTab===name,onClick:event=>setCurrentTab(name),count:getCount(UNSEEN_CATEGORIES[index]),children:LocalizeText(name)},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[currentTab===TAB_FURNITURE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryFurnitureView,{roomSession:roomSession,roomPreviewer:roomPreviewer}),currentTab===TAB_BOTS&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBotView,{roomSession:roomSession,roomPreviewer:roomPreviewer}),currentTab===TAB_PETS&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryPetView,{roomSession:roomSession,roomPreviewer:roomPreviewer}),currentTab===TAB_BADGES&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBadgeView,{})]})]}),isTrading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryTradeView,{cancelTrade:onClose})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/chatlog/ChatlogView.tsx\nconst ChatlogView=props=>{const{records=null}=props;const{openRoomInfo=null}=useModTools();const rowRenderer=props=>{let chatlogEntry=records[0].chatlog[props.index];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"b\" /* CellMeasurer */],{cache:cache,columnIndex:0,parent:props.parent,rowIndex:props.index,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{fullHeight:false,style:props.style,gap:1,alignItems:\"center\",className:\"log-entry py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"g-col-2\",children:chatlogEntry.timestamp}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"g-col-3\",bold:true,underline:true,pointer:true,onClick:event=>CreateLinkEvent(`mod-tools/open-user-info/${chatlogEntry.userId}`),children:chatlogEntry.userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{textBreak:true,wrap:true,className:\"g-col-7\",children:chatlogEntry.message})]},props.key)},props.key);};const advancedRowRenderer=props=>{let chatlogEntry=null;let currentRecord=null;let isRoomInfo=false;let totalIndex=0;for(let i=0;i<records.length;i++){currentRecord=records[i];totalIndex++;// row for room info\ntotalIndex=totalIndex+currentRecord.chatlog.length;if(props.index>totalIndex-1)continue;if(props.index+1===totalIndex-currentRecord.chatlog.length){isRoomInfo=true;break;}const index=props.index-(totalIndex-currentRecord.chatlog.length);chatlogEntry=currentRecord.chatlog[index];break;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es[\"b\" /* CellMeasurer */],{cache:cache,columnIndex:0,parent:props.parent,rowIndex:props.index,children:[isRoomInfo&&currentRecord&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomInfo,{roomId:currentRecord.roomId,roomName:currentRecord.roomName,uniqueKey:props.key,style:props.style}),!isRoomInfo&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{fullHeight:false,style:props.style,gap:1,alignItems:\"center\",className:\"log-entry py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"g-col-2\",children:chatlogEntry.timestamp}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"g-col-3\",bold:true,underline:true,pointer:true,onClick:event=>CreateLinkEvent(`mod-tools/open-user-info/${chatlogEntry.userId}`),children:chatlogEntry.userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{textBreak:true,wrap:true,className:\"g-col-7\",children:chatlogEntry.message})]},props.key)]},props.key);};const getNumRowsForAdvanced=Object(react[\"useCallback\"])(()=>{let count=0;for(let i=0;i<records.length;i++){count++;// add room info row\ncount=count+records[i].chatlog.length;}return count;},[records]);const RoomInfo=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,alignItems:\"center\",justifyContent:\"between\",className:\"room-info bg-muted rounded p-1\",style:props.style,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:\"Room name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:props.roomName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>TryVisitRoom(props.roomId),children:\"Visit Room\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>openRoomInfo(props.roomId),children:\"Room Tools\"})]})]},props.uniqueKey);};const cache=new es[\"c\" /* CellMeasurerCache */]({defaultHeight:25,fixedWidth:true});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[records&&records.length===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomInfo,{roomId:records[0].roomId,roomName:records[0].roomName,uniqueKey:null,style:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fit:true,gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:\"Time\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:\"User\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-7\",children:\"Message\"})]})}),records&&records.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AutoSizer */],{defaultWidth:400,defaultHeight:200,children:_ref=>{let{height,width}=_ref;cache.clearAll();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* List */],{width:width,height:height,rowCount:records.length>1?getNumRowsForAdvanced():records[0].chatlog.length,rowHeight:cache.rowHeight,className:'log-entry-container',rowRenderer:records.length>1?advancedRowRenderer:rowRenderer,deferredMeasurementCache:cache});}})})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/room/ModToolsChatlogView.tsx\nconst ModToolsChatlogView=props=>{const{roomId=null,onCloseClick=null}=props;const[roomChatlog,setRoomChatlog]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"xg\" /* RoomChatlogEvent */],event=>{const parser=event.getParser();if(!parser||parser.data.roomId!==roomId)return;setRoomChatlog(parser.data);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Oc\" /* GetRoomChatlogMessageComposer */](roomId));},[roomId]);if(!roomChatlog)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:`Room Chatlog ${roomChatlog.roomName}`,onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black h-100\",children:roomChatlog&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatlogView,{records:[roomChatlog]})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/room/ModToolsRoomView.tsx\nconst ModToolsRoomView=props=>{const{roomId=null,onCloseClick=null}=props;const[infoRequested,setInfoRequested]=Object(react[\"useState\"])(false);const[loadedRoomId,setLoadedRoomId]=Object(react[\"useState\"])(null);const[name,setName]=Object(react[\"useState\"])(null);const[ownerId,setOwnerId]=Object(react[\"useState\"])(null);const[ownerName,setOwnerName]=Object(react[\"useState\"])(null);const[ownerInRoom,setOwnerInRoom]=Object(react[\"useState\"])(false);const[usersInRoom,setUsersInRoom]=Object(react[\"useState\"])(0);const[kickUsers,setKickUsers]=Object(react[\"useState\"])(false);const[lockRoom,setLockRoom]=Object(react[\"useState\"])(false);const[changeRoomName,setChangeRoomName]=Object(react[\"useState\"])(false);const[message,setMessage]=Object(react[\"useState\"])('');const handleClick=(action,value)=>{if(!action)return;switch(action){case'alert_only':if(message.trim().length===0)return;SendMessageComposer(new nitro_renderer[\"Me\" /* ModeratorActionMessageComposer */](nitro_renderer[\"Me\" /* ModeratorActionMessageComposer */].ACTION_ALERT,message,''));SendMessageComposer(new nitro_renderer[\"Le\" /* ModerateRoomMessageComposer */](roomId,lockRoom?1:0,changeRoomName?1:0,kickUsers?1:0));return;case'send_message':if(message.trim().length===0)return;SendMessageComposer(new nitro_renderer[\"Me\" /* ModeratorActionMessageComposer */](nitro_renderer[\"Me\" /* ModeratorActionMessageComposer */].ACTION_MESSAGE,message,''));SendMessageComposer(new nitro_renderer[\"Le\" /* ModerateRoomMessageComposer */](roomId,lockRoom?1:0,changeRoomName?1:0,kickUsers?1:0));return;}};useMessageEvent(nitro_renderer[\"Re\" /* ModeratorRoomInfoEvent */],event=>{const parser=event.getParser();if(!parser||parser.data.flatId!==roomId)return;setLoadedRoomId(parser.data.flatId);setName(parser.data.room.name);setOwnerId(parser.data.ownerId);setOwnerName(parser.data.ownerName);setOwnerInRoom(parser.data.ownerInRoom);setUsersInRoom(parser.data.userCount);});Object(react[\"useEffect\"])(()=>{if(infoRequested)return;SendMessageComposer(new nitro_renderer[\"Hc\" /* GetModeratorRoomInfoMessageComposer */](roomId));setInfoRequested(true);},[roomId,infoRequested,setInfoRequested]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-room\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'Room Info'+(name?': '+name:''),onCloseClick:event=>onCloseClick()}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"center\",grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,align:\"end\",className:\"col-7\",children:\"Room Owner:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{underline:true,pointer:true,truncate:true,children:ownerName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,align:\"end\",className:\"col-7\",children:\"Users in room:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:usersInRoom})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,align:\"end\",className:\"col-7\",children:\"Owner in room:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:ownerInRoom?'Yes':'No'})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>TryVisitRoom(roomId),children:\"Visit Room\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>CreateLinkEvent(`mod-tools/open-room-chatlog/${roomId}`),children:\"Chatlog\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"bg-muted rounded p-2\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:kickUsers,onChange:event=>setKickUsers(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:\"Kick everyone out\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:lockRoom,onChange:event=>setLockRoom(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:\"Enable the doorbell\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:changeRoomName,onChange:event=>setChangeRoomName(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:\"Change room name\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control\",placeholder:\"Type a mandatory message to the users in this text box...\",value:message,onChange:event=>setMessage(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:event=>handleClick('send_message'),children:\"Send Caution\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>handleClick('alert_only'),children:\"Send Alert only\"})]})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/CfhChatlogView.tsx\nconst CfhChatlogView=props=>{const{onCloseClick=null,issueId=null}=props;const[chatlogData,setChatlogData]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"ib\" /* CfhChatlogEvent */],event=>{const parser=event.getParser();if(!parser||parser.data.issueId!==issueId)return;setChatlogData(parser.data);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"vc\" /* GetCfhChatlogMessageComposer */](issueId));},[issueId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'Issue Chatlog',onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black\",children:chatlogData&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatlogView,{records:[chatlogData.chatRecord]})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsIssueInfoView.tsx\nconst ModToolsIssueInfoView=props=>{const{issueId=null,onIssueInfoClosed=null}=props;const[cfhChatlogOpen,setcfhChatlogOpen]=Object(react[\"useState\"])(false);const{tickets=[],openUserInfo=null}=useModTools();const ticket=tickets.find(issue=>issue.issueId===issueId);const releaseIssue=issueId=>{SendMessageComposer(new nitro_renderer[\"fg\" /* ReleaseIssuesMessageComposer */]([issueId]));onIssueInfoClosed(issueId);};const closeIssue=resolutionType=>{SendMessageComposer(new nitro_renderer[\"ob\" /* CloseIssuesMessageComposer */]([issueId],resolutionType));onIssueInfoClosed(issueId);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-handle-issue\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'Resolving issue '+issueId,onCloseClick:()=>onIssueInfoClosed(issueId)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontSize:4,children:\"Issue Information\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:8,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tbody\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Source\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:GetIssueCategoryName(ticket.categoryId)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Category\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"text-break\",children:LocalizeText('help.cfh.topic.'+ticket.reportedCategoryId)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Description\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"text-break\",children:ticket.message})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Caller\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,underline:true,pointer:true,onClick:event=>openUserInfo(ticket.reporterUserId),children:ticket.reporterUserName})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Reported User\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,underline:true,pointer:true,onClick:event=>openUserInfo(ticket.reportedUserId),children:ticket.reportedUserName})})]})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:4,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:()=>setcfhChatlogOpen(!cfhChatlogOpen),children:\"Chatlog\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>closeIssue(nitro_renderer[\"ob\" /* CloseIssuesMessageComposer */].RESOLUTION_USELESS),children:\"Close as useless\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:event=>closeIssue(nitro_renderer[\"ob\" /* CloseIssuesMessageComposer */].RESOLUTION_ABUSIVE),children:\"Close as abusive\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>closeIssue(nitro_renderer[\"ob\" /* CloseIssuesMessageComposer */].RESOLUTION_RESOLVED),children:\"Close as resolved\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"secondary\",onClick:event=>releaseIssue(issueId),children:\"Release\"})]})]})]})]}),cfhChatlogOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CfhChatlogView,{issueId:issueId,onCloseClick:()=>setcfhChatlogOpen(false)})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsMyIssuesTabView.tsx\nconst ModToolsMyIssuesTabView=props=>{const{myIssues=null,handleIssue=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:\"Type\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:\"Room/Player\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:\"Opened\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"auto\",className:\"striped-children\",gap:0,children:myIssues&&myIssues.length>0&&myIssues.map(issue=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:issue.categoryId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:issue.reportedUserName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:new Date(Date.now()-issue.issueAgeInMilliseconds).toLocaleTimeString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",onClick:event=>handleIssue(issue.issueId),children:\"Handle\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:event=>SendMessageComposer(new nitro_renderer[\"fg\" /* ReleaseIssuesMessageComposer */]([issue.issueId])),children:\"Release\"})})]},issue.issueId);})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsOpenIssuesTabView.tsx\nconst ModToolsOpenIssuesTabView=props=>{const{openIssues=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:\"Type\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:\"Room/Player\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-4\",children:\"Opened\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"auto\",className:\"striped-children\",gap:0,children:openIssues&&openIssues.length>0&&openIssues.map(issue=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:issue.categoryId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:issue.reportedUserName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-4\",children:new Date(Date.now()-issue.issueAgeInMilliseconds).toLocaleTimeString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>SendMessageComposer(new nitro_renderer[\"Mf\" /* PickIssuesMessageComposer */]([issue.issueId],false,0,'pick issue button')),children:\"Pick Issue\"})})]},issue.issueId);})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsPickedIssuesTabView.tsx\nconst ModToolsPickedIssuesTabView=props=>{const{pickedIssues=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:\"Type\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:\"Room/Player\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-4\",children:\"Opened\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:\"Picker\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"auto\",className:\"striped-children\",gap:0,children:pickedIssues&&pickedIssues.length>0&&pickedIssues.map(issue=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:issue.categoryId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:issue.reportedUserName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-4\",children:new Date(Date.now()-issue.issueAgeInMilliseconds).toLocaleTimeString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:issue.pickerUserName})]},issue.issueId);})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsTicketsView.tsx\nconst ModToolsTicketsView_TABS=['Open Issues','My Issues','Picked Issues'];const ModToolsTicketsView=props=>{const{onCloseClick=null}=props;const[currentTab,setCurrentTab]=Object(react[\"useState\"])(0);const[issueInfoWindows,setIssueInfoWindows]=Object(react[\"useState\"])([]);const{tickets=[]}=useModTools();const openIssues=tickets.filter(issue=>issue.state===nitro_renderer[\"le\" /* IssueMessageData */].STATE_OPEN);const myIssues=tickets.filter(issue=>issue.state===nitro_renderer[\"le\" /* IssueMessageData */].STATE_PICKED&&issue.pickerUserId===GetSessionDataManager().userId);const pickedIssues=tickets.filter(issue=>issue.state===nitro_renderer[\"le\" /* IssueMessageData */].STATE_PICKED);const closeIssue=issueId=>{setIssueInfoWindows(prevValue=>{const newValue=[...prevValue];const existingIndex=newValue.indexOf(issueId);if(existingIndex>=0)newValue.splice(existingIndex,1);return newValue;});};const handleIssue=issueId=>{setIssueInfoWindows(prevValue=>{const newValue=[...prevValue];const existingIndex=newValue.indexOf(issueId);if(existingIndex===-1)newValue.push(issueId);else newValue.splice(existingIndex,1);return newValue;});};const CurrentTabComponent=()=>{switch(currentTab){case 0:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsOpenIssuesTabView,{openIssues:openIssues});case 1:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsMyIssuesTabView,{myIssues:myIssues,handleIssue:handleIssue});case 2:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsPickedIssuesTabView,{pickedIssues:pickedIssues});}return null;};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-tickets\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'Tickets',onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView,{children:ModToolsTicketsView_TABS.map((tab,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:currentTab===index,onClick:event=>setCurrentTab(index),children:tab},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrentTabComponent,{})})]}),issueInfoWindows&&issueInfoWindows.length>0&&issueInfoWindows.map(issueId=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsIssueInfoView,{issueId:issueId,onIssueInfoClosed:closeIssue},issueId))]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserChatlogView.tsx\nconst ModToolsUserChatlogView=props=>{const{userId=null,onCloseClick=null}=props;const[userChatlog,setUserChatlog]=Object(react[\"useState\"])(null);const[username,setUsername]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"Mi\" /* UserChatlogEvent */],event=>{const parser=event.getParser();if(!parser||parser.data.userId!==userId)return;setUsername(parser.data.username);setUserChatlog(parser.data.roomChatlogs);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Sc\" /* GetUserChatlogMessageComposer */](userId));},[userId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:`User Chatlog: ${username||''}`,onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black h-100\",children:userChatlog&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatlogView,{records:userChatlog})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserModActionView.tsx\nconst MOD_ACTION_DEFINITIONS=[new ModActionDefinition(1,'Alert',ModActionDefinition.ALERT,1,0),new ModActionDefinition(2,'Mute 1h',ModActionDefinition.MUTE,2,0),new ModActionDefinition(3,'Ban 18h',ModActionDefinition.BAN,3,0),new ModActionDefinition(4,'Ban 7 days',ModActionDefinition.BAN,4,0),new ModActionDefinition(5,'Ban 30 days (step 1)',ModActionDefinition.BAN,5,0),new ModActionDefinition(7,'Ban 30 days (step 2)',ModActionDefinition.BAN,7,0),new ModActionDefinition(6,'Ban 100 years',ModActionDefinition.BAN,6,0),new ModActionDefinition(106,'Ban avatar-only 100 years',ModActionDefinition.BAN,6,0),new ModActionDefinition(101,'Kick',ModActionDefinition.KICK,0,0),new ModActionDefinition(102,'Lock trade 1 week',ModActionDefinition.TRADE_LOCK,0,168),new ModActionDefinition(104,'Lock trade permanent',ModActionDefinition.TRADE_LOCK,0,876000),new ModActionDefinition(105,'Message',ModActionDefinition.MESSAGE,0,0)];const ModToolsUserModActionView=props=>{const{user=null,onCloseClick=null}=props;const[selectedTopic,setSelectedTopic]=Object(react[\"useState\"])(-1);const[selectedAction,setSelectedAction]=Object(react[\"useState\"])(-1);const[message,setMessage]=Object(react[\"useState\"])('');const{cfhCategories=null,settings=null}=useModTools();const{simpleAlert=null}=useNotification();const topics=Object(react[\"useMemo\"])(()=>{const values=[];if(cfhCategories&&cfhCategories.length){for(const category of cfhCategories){for(const topic of category.topics)values.push(topic);}}return values;},[cfhCategories]);const sendAlert=message=>simpleAlert(message,NotificationAlertType.DEFAULT,null,null,'Error');const sendDefaultSanction=()=>{let errorMessage=null;const category=topics[selectedTopic];if(selectedTopic===-1)errorMessage='You must select a CFH topic';if(errorMessage)return sendAlert(errorMessage);const messageOrDefault=message.trim().length===0?LocalizeText(`help.cfh.topic.${category.id}`):message;SendMessageComposer(new nitro_renderer[\"Bb\" /* DefaultSanctionMessageComposer */](user.userId,selectedTopic,messageOrDefault));onCloseClick();};const sendSanction=()=>{let errorMessage=null;const category=topics[selectedTopic];const sanction=MOD_ACTION_DEFINITIONS[selectedAction];if(selectedTopic===-1||selectedAction===-1)errorMessage='You must select a CFH topic and Sanction';else if(!settings||!settings.cfhPermission)errorMessage='You do not have permission to do this';else if(!category)errorMessage='You must select a CFH topic';else if(!sanction)errorMessage='You must select a sanction';if(errorMessage){sendAlert(errorMessage);return;}const messageOrDefault=message.trim().length===0?LocalizeText(`help.cfh.topic.${category.id}`):message;switch(sanction.actionType){case ModActionDefinition.ALERT:{if(!settings.alertPermission){sendAlert('You have insufficient permissions');return;}SendMessageComposer(new nitro_renderer[\"Fe\" /* ModAlertMessageComposer */](user.userId,messageOrDefault,category.id));break;}case ModActionDefinition.MUTE:SendMessageComposer(new nitro_renderer[\"Je\" /* ModMuteMessageComposer */](user.userId,messageOrDefault,category.id));break;case ModActionDefinition.BAN:{if(!settings.banPermission){sendAlert('You have insufficient permissions');return;}SendMessageComposer(new nitro_renderer[\"Ge\" /* ModBanMessageComposer */](user.userId,messageOrDefault,category.id,selectedAction,sanction.actionId===106));break;}case ModActionDefinition.KICK:{if(!settings.kickPermission){sendAlert('You have insufficient permissions');return;}SendMessageComposer(new nitro_renderer[\"He\" /* ModKickMessageComposer */](user.userId,messageOrDefault,category.id));break;}case ModActionDefinition.TRADE_LOCK:{const numSeconds=sanction.actionLengthHours*60;SendMessageComposer(new nitro_renderer[\"Ke\" /* ModTradingLockMessageComposer */](user.userId,messageOrDefault,numSeconds,category.id));break;}case ModActionDefinition.MESSAGE:{if(message.trim().length===0){sendAlert('Please write a message to user');return;}SendMessageComposer(new nitro_renderer[\"Ie\" /* ModMessageMessageComposer */](user.userId,message,category.id));break;}}onCloseClick();};if(!user)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-user-action\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'Mod Action: '+(user?user.username:''),onCloseClick:()=>onCloseClick()}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:selectedTopic,onChange:event=>setSelectedTopic(parseInt(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:-1,disabled:true,children:\"CFH Topic\"}),topics.map((topic,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:index,children:LocalizeText('help.cfh.topic.'+topic.id)},index))]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:selectedAction,onChange:event=>setSelectedAction(parseInt(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:-1,disabled:true,children:\"Sanction Type\"}),MOD_ACTION_DEFINITIONS.map((action,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:index,children:action.name},index))]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:\"Optional message type, overrides default\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control\",value:message,onChange:event=>setMessage(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",onClick:sendDefaultSanction,children:\"Default Sanction\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:sendSanction,children:\"Sanction\"})]})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserRoomVisitsView.tsx\nconst ModToolsUserRoomVisitsView=props=>{const{userId=null,onCloseClick=null}=props;const[roomVisitData,setRoomVisitData]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"Kh\" /* RoomVisitsEvent */],event=>{const parser=event.getParser();if(parser.data.userId!==userId)return;setRoomVisitData(parser.data);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Qc\" /* GetRoomVisitsMessageComposer */](userId));},[userId]);if(!userId)return null;const RowRenderer=props=>{const item=roomVisitData.rooms[props.index];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{fullHeight:false,style:props.style,gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{className:\"g-col-2\",children:[item.enterHour.toString().padStart(2,'0'),\": \",item.enterMinute.toString().padStart(2,'0')]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"g-col-7\",children:item.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,underline:true,pointer:true,variant:\"primary\",className:\"g-col-3\",onClick:event=>TryVisitRoom(item.roomId),children:\"Visit Room\"})]},props.key);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-user-visits\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'User Visits',onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black\",gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullHeight:true,gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-2\",children:\"Time\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-7\",children:\"Room name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-3\",children:\"Visit\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:roomVisitData&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AutoSizer */],{defaultWidth:400,defaultHeight:200,children:_ref=>{let{height,width}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* List */],{width:width,height:height,rowCount:roomVisitData.rooms.length,rowHeight:25,className:'log-entry-container',rowRenderer:RowRenderer});}})})]})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserSendMessageView.tsx\nconst ModToolsUserSendMessageView=props=>{const{user=null,onCloseClick=null}=props;const[message,setMessage]=Object(react[\"useState\"])('');const{simpleAlert=null}=useNotification();if(!user)return null;const sendMessage=()=>{if(message.trim().length===0){simpleAlert('Please write a message to user.',null,null,null,'Error',null);return;}SendMessageComposer(new nitro_renderer[\"Ie\" /* ModMessageMessageComposer */](user.userId,message,-999));onCloseClick();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-user-message\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'Send Message',onCloseClick:()=>onCloseClick()}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[\"Message To: \",user.username]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control\",value:message,onChange:event=>setMessage(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:sendMessage,children:\"Send message\"})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserView.tsx\nconst ModToolsUserView=props=>{const{onCloseClick=null,userId=null}=props;const[userInfo,setUserInfo]=Object(react[\"useState\"])(null);const[sendMessageVisible,setSendMessageVisible]=Object(react[\"useState\"])(false);const[modActionVisible,setModActionVisible]=Object(react[\"useState\"])(false);const[roomVisitsVisible,setRoomVisitsVisible]=Object(react[\"useState\"])(false);const userProperties=Object(react[\"useMemo\"])(()=>{if(!userInfo)return null;return[{localeKey:'modtools.userinfo.userName',value:userInfo.userName,showOnline:true},{localeKey:'modtools.userinfo.cfhCount',value:userInfo.cfhCount.toString()},{localeKey:'modtools.userinfo.abusiveCfhCount',value:userInfo.abusiveCfhCount.toString()},{localeKey:'modtools.userinfo.cautionCount',value:userInfo.cautionCount.toString()},{localeKey:'modtools.userinfo.banCount',value:userInfo.banCount.toString()},{localeKey:'modtools.userinfo.lastSanctionTime',value:userInfo.lastSanctionTime},{localeKey:'modtools.userinfo.tradingLockCount',value:userInfo.tradingLockCount.toString()},{localeKey:'modtools.userinfo.tradingExpiryDate',value:userInfo.tradingExpiryDate},{localeKey:'modtools.userinfo.minutesSinceLastLogin',value:nitro_renderer[\"Zb\" /* FriendlyTime */].format(userInfo.minutesSinceLastLogin*60,'.ago',2)},{localeKey:'modtools.userinfo.lastPurchaseDate',value:userInfo.lastPurchaseDate},{localeKey:'modtools.userinfo.primaryEmailAddress',value:userInfo.primaryEmailAddress},{localeKey:'modtools.userinfo.identityRelatedBanCount',value:userInfo.identityRelatedBanCount.toString()},{localeKey:'modtools.userinfo.registrationAgeInMinutes',value:nitro_renderer[\"Zb\" /* FriendlyTime */].format(userInfo.registrationAgeInMinutes*60,'.ago',2)},{localeKey:'modtools.userinfo.userClassification',value:userInfo.userClassification}];},[userInfo]);useMessageEvent(nitro_renderer[\"Te\" /* ModeratorUserInfoEvent */],event=>{const parser=event.getParser();if(!parser||parser.data.userId!==userId)return;setUserInfo(parser.data);});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Ic\" /* GetModeratorUserInfoMessageComposer */](userId));},[userId]);if(!userInfo)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mod-tools-user\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('modtools.userinfo.title',['username'],[userInfo.userName]),onCloseClick:()=>onCloseClick()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:8,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:userProperties.map((property,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{scope:\"row\",children:LocalizeText(property.localeKey)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{children:[property.value,property.showOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`icon icon-pf-${userInfo.online?'online':'offline'} ms-2`})]})]},index);})})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:4,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>CreateLinkEvent(`mod-tools/open-user-chatlog/${userId}`),children:\"Room Chat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>setSendMessageVisible(!sendMessageVisible),children:\"Send Message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>setRoomVisitsVisible(!roomVisitsVisible),children:\"Room Visits\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>setModActionVisible(!modActionVisible),children:\"Mod Action\"})]})]})})]}),sendMessageVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserSendMessageView,{user:{userId:userId,username:userInfo.userName},onCloseClick:()=>setSendMessageVisible(false)}),modActionVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserModActionView,{user:{userId:userId,username:userInfo.userName},onCloseClick:()=>setModActionVisible(false)}),roomVisitsVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserRoomVisitsView,{userId:userId,onCloseClick:()=>setRoomVisitsVisible(false)})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/ModToolsView.tsx\nconst ModToolsView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[currentRoomId,setCurrentRoomId]=Object(react[\"useState\"])(-1);const[selectedUser,setSelectedUser]=Object(react[\"useState\"])(null);const[isTicketsVisible,setIsTicketsVisible]=Object(react[\"useState\"])(false);const{openRooms=[],openRoomChatlogs=[],openUserChatlogs=[],openUserInfos=[],openRoomInfo=null,closeRoomInfo=null,toggleRoomInfo=null,openRoomChatlog=null,closeRoomChatlog=null,toggleRoomChatlog=null,openUserInfo=null,closeUserInfo=null,toggleUserInfo=null,openUserChatlog=null,closeUserChatlog=null,toggleUserChatlog=null}=useModTools();const elementRef=Object(react[\"useRef\"])(null);useRoomEngineEvent([nitro_renderer[\"Eg\" /* RoomEngineEvent */].INITIALIZED,nitro_renderer[\"Eg\" /* RoomEngineEvent */].DISPOSED],event=>{if(nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;switch(event.type){case nitro_renderer[\"Eg\" /* RoomEngineEvent */].INITIALIZED:setCurrentRoomId(event.roomId);return;case nitro_renderer[\"Eg\" /* RoomEngineEvent */].DISPOSED:setCurrentRoomId(-1);return;}});useObjectSelectedEvent(event=>{if(event.category!==nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT)return;const roomSession=GetRoomSession();if(!roomSession)return;const userData=roomSession.userDataManager.getUserDataByIndex(event.id);if(!userData||userData.type!==nitro_renderer[\"ah\" /* RoomObjectType */].USER)return;setSelectedUser({userId:userData.webID,username:userData.name});});Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;case'open-room-info':openRoomInfo(Number(parts[2]));return;case'close-room-info':closeRoomInfo(Number(parts[2]));return;case'toggle-room-info':toggleRoomInfo(Number(parts[2]));return;case'open-room-chatlog':openRoomChatlog(Number(parts[2]));return;case'close-room-chatlog':closeRoomChatlog(Number(parts[2]));return;case'toggle-room-chatlog':toggleRoomChatlog(Number(parts[2]));return;case'open-user-info':openUserInfo(Number(parts[2]));return;case'close-user-info':closeUserInfo(Number(parts[2]));return;case'toggle-user-info':toggleUserInfo(Number(parts[2]));return;case'open-user-chatlog':openUserChatlog(Number(parts[2]));return;case'close-user-chatlog':closeUserChatlog(Number(parts[2]));return;case'toggle-user-chatlog':toggleUserChatlog(Number(parts[2]));return;}},eventUrlPrefix:'mod-tools/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[openRoomInfo,closeRoomInfo,toggleRoomInfo,openRoomChatlog,closeRoomChatlog,toggleRoomChatlog,openUserInfo,closeUserInfo,toggleUserInfo,openUserChatlog,closeUserChatlog,toggleUserChatlog]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"mod-tools\",className:\"nitro-mod-tools\",windowPosition:DraggableWindowPosition.TOP_LEFT,theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'Mod Tools',onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button,{gap:1,onClick:event=>CreateLinkEvent(`mod-tools/toggle-room-info/${currentRoomId}`),disabled:currentRoomId<=0,className:\"position-relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"icon icon-small-room position-absolute start-1\"}),\" Room Tool\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button,{innerRef:elementRef,gap:1,onClick:event=>CreateLinkEvent(`mod-tools/toggle-room-chatlog/${currentRoomId}`),disabled:currentRoomId<=0,className:\"position-relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"icon icon-chat-history position-absolute start-1\"}),\" Chatlog Tool\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button,{gap:1,onClick:()=>CreateLinkEvent(`mod-tools/toggle-user-info/${selectedUser.userId}`),disabled:!selectedUser,className:\"position-relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"icon icon-user position-absolute start-1\"}),\" User: \",selectedUser?selectedUser.username:'']}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button,{gap:1,onClick:()=>setIsTicketsVisible(prevValue=>!prevValue),className:\"position-relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"icon icon-tickets position-absolute start-1\"}),\" Report Tool\"]})]})]}),openRooms.length>0&&openRooms.map(roomId=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsRoomView,{roomId:roomId,onCloseClick:()=>CreateLinkEvent(`mod-tools/close-room-info/${roomId}`)},roomId)),openRoomChatlogs.length>0&&openRoomChatlogs.map(roomId=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsChatlogView,{roomId:roomId,onCloseClick:()=>CreateLinkEvent(`mod-tools/close-room-chatlog/${roomId}`)},roomId)),openUserInfos.length>0&&openUserInfos.map(userId=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserView,{userId:userId,onCloseClick:()=>CreateLinkEvent(`mod-tools/close-user-info/${userId}`)},userId)),openUserChatlogs.length>0&&openUserChatlogs.map(userId=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserChatlogView,{userId:userId,onCloseClick:()=>CreateLinkEvent(`mod-tools/close-user-chatlog/${userId}`)},userId)),isTicketsVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsTicketsView,{onCloseClick:()=>setIsTicketsVisible(false)})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/NavigatorDoorStateView.tsx\nconst VISIBLE_STATES=[DoorStateType.START_DOORBELL,DoorStateType.STATE_WAITING,DoorStateType.STATE_NO_ANSWER,DoorStateType.START_PASSWORD,DoorStateType.STATE_WRONG_PASSWORD];const DOORBELL_STATES=[DoorStateType.START_DOORBELL,DoorStateType.STATE_WAITING,DoorStateType.STATE_NO_ANSWER];const PASSWORD_STATES=[DoorStateType.START_PASSWORD,DoorStateType.STATE_WRONG_PASSWORD];const NavigatorDoorStateView=props=>{const[password,setPassword]=Object(react[\"useState\"])('');const{doorData=null,setDoorData=null}=useNavigator();const onClose=()=>{if(doorData&&doorData.state===DoorStateType.STATE_WAITING)GoToDesktop();setDoorData(null);};const ring=()=>{if(!doorData||!doorData.roomInfo)return;CreateRoomSession(doorData.roomInfo.roomId);setDoorData(prevValue=>{const newValue={...prevValue};newValue.state=DoorStateType.STATE_PENDING_SERVER;return newValue;});};const tryEntering=()=>{if(!doorData||!doorData.roomInfo)return;CreateRoomSession(doorData.roomInfo.roomId,password);setDoorData(prevValue=>{const newValue={...prevValue};newValue.state=DoorStateType.STATE_PENDING_SERVER;return newValue;});};Object(react[\"useEffect\"])(()=>{if(!doorData||doorData.state!==DoorStateType.STATE_NO_ANSWER)return;GoToDesktop();},[doorData]);if(!doorData||doorData.state===DoorStateType.NONE||VISIBLE_STATES.indexOf(doorData.state)===-1)return null;const isDoorbell=DOORBELL_STATES.indexOf(doorData.state)>=0;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-navigator-doorbell\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText(isDoorbell?'navigator.doorbell.title':'navigator.password.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:doorData&&doorData.roomInfo&&doorData.roomInfo.roomName}),doorData.state===DoorStateType.START_DOORBELL&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.doorbell.info')}),doorData.state===DoorStateType.STATE_WAITING&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.doorbell.waiting')}),doorData.state===DoorStateType.STATE_NO_ANSWER&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.doorbell.no.answer')}),doorData.state===DoorStateType.START_PASSWORD&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.password.info')}),doorData.state===DoorStateType.STATE_WRONG_PASSWORD&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.password.retryinfo')})]}),isDoorbell&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[doorData.state===DoorStateType.START_DOORBELL&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:ring,children:LocalizeText('navigator.doorbell.button.ring')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:onClose,children:LocalizeText('generic.cancel')})]}),!isDoorbell&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.password.enter')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control form-control-sm\",onChange:event=>setPassword(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:tryEntering,children:LocalizeText('navigator.password.button.try')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:onClose,children:LocalizeText('generic.cancel')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/NavigatorRoomCreatorView.tsx\n/* eslint-disable no-template-curly-in-string */const NavigatorRoomCreatorView=props=>{const[maxVisitorsList,setMaxVisitorsList]=Object(react[\"useState\"])(null);const[name,setName]=Object(react[\"useState\"])(null);const[description,setDescription]=Object(react[\"useState\"])(null);const[category,setCategory]=Object(react[\"useState\"])(null);const[visitorsCount,setVisitorsCount]=Object(react[\"useState\"])(null);const[tradesSetting,setTradesSetting]=Object(react[\"useState\"])(0);const[roomModels,setRoomModels]=Object(react[\"useState\"])([]);const[selectedModelName,setSelectedModelName]=Object(react[\"useState\"])('');const{categories=null}=useNavigator();const hcDisabled=GetConfiguration('hc.disabled',false);const getRoomModelImage=name=>GetConfiguration('images.url')+`/navigator/models/model_${name}.png`;const selectModel=(model,index)=>{if(!model||model.clubLevel>GetClubMemberLevel())return;setSelectedModelName(roomModels[index].name);};const createRoom=()=>{SendMessageComposer(new nitro_renderer[\"zb\" /* CreateFlatMessageComposer */](name,description,'model_'+selectedModelName,Number(category),Number(visitorsCount),tradesSetting));};Object(react[\"useEffect\"])(()=>{if(!maxVisitorsList){const list=[];for(let i=10;i<=100;i=i+10)list.push(i);setMaxVisitorsList(list);setVisitorsCount(list[0]);}},[maxVisitorsList]);Object(react[\"useEffect\"])(()=>{if(categories&&categories.length)setCategory(categories[0].id);},[categories]);Object(react[\"useEffect\"])(()=>{const models=GetConfiguration('navigator.room.models');if(models&&models.length){setRoomModels(models);setSelectedModelName(models[0].name);}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,gap:1,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.createroom.roomnameinfo')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:60,onChange:event=>setName(event.target.value),placeholder:LocalizeText('navigator.createroom.roomnameinfo')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.createroom.roomdescinfo')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"flex-grow-1 form-control form-control-sm w-100\",maxLength:255,onChange:event=>setDescription(event.target.value),placeholder:LocalizeText('navigator.createroom.roomdescinfo')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.category')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",onChange:event=>setCategory(Number(event.target.value)),children:categories&&categories.length>0&&categories.map(category=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:category.id,children:LocalizeText(category.name)},category.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.maxvisitors')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",onChange:event=>setVisitorsCount(Number(event.target.value)),children:maxVisitorsList&&maxVisitorsList.map(value=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:value,children:value},value);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.tradesettings')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",onChange:event=>setTradesSetting(Number(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.trade_not_allowed')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.trade_not_with_Controller')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:LocalizeText('navigator.roomsettings.trade_allowed')})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:6,gap:1,overflow:\"auto\",children:roomModels.map((model,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{fullHeight:true,onClick:()=>selectModel(model,index),itemActive:selectedModelName===model.name,overflow:\"unset\",gap:0,className:\"p-1\",disabled:GetClubMemberLevel()<model.clubLevel,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fullHeight:true,center:true,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:getRoomModelImage(model.name)})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{bold:true,children:[model.tileSize,\" \",LocalizeText('navigator.createroom.tilesize')]}),!hcDisabled&&model.clubLevel>nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].NO_CLUB&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{position:\"absolute\",className:\"top-1 end-1\",type:\"hc\"})]},model.name);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:!name||name.length<3?'danger':'success',onClick:createRoom,disabled:!name||name.length<3,children:LocalizeText('navigator.createroom.create')})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/NavigatorRoomInfoView.tsx\nclass NavigatorRoomInfoViewProps{constructor(){this.onCloseClick=void 0;}}const NavigatorRoomInfoView=props=>{const{onCloseClick=null}=props;const[isRoomPicked,setIsRoomPicked]=Object(react[\"useState\"])(false);const[isRoomMuted,setIsRoomMuted]=Object(react[\"useState\"])(false);const{navigatorData=null}=useNavigator();const hasPermission=permission=>{switch(permission){case'settings':return GetSessionDataManager().userId===navigatorData.enteredGuestRoom.ownerId||GetSessionDataManager().isModerator;case'staff_pick':return GetSessionDataManager().securityLevel>=nitro_renderer[\"Uh\" /* SecurityLevel */].COMMUNITY;default:return false;}};const processAction=(action,value)=>{if(!navigatorData||!navigatorData.enteredGuestRoom)return;switch(action){case'set_home_room':let newRoomId=-1;if(navigatorData.homeRoomId!==navigatorData.enteredGuestRoom.roomId){newRoomId=navigatorData.enteredGuestRoom.roomId;}if(newRoomId>0)SendMessageComposer(new nitro_renderer[\"Ji\" /* UpdateHomeRoomMessageComposer */](newRoomId));return;case'navigator_search_tag':return;case'open_room_thumbnail_camera':DispatchUiEvent(new RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent(RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL));return;case'open_group_info':GetGroupInformation(navigatorData.enteredGuestRoom.habboGroupId);return;case'toggle_room_link':CreateLinkEvent('navigator/toggle-room-link');return;case'open_room_settings':SendMessageComposer(new nitro_renderer[\"wh\" /* RoomSettingsComposer */](navigatorData.enteredGuestRoom.roomId));return;case'toggle_pick':setIsRoomPicked(value=>!value);SendMessageComposer(new nitro_renderer[\"gi\" /* ToggleStaffPickMessageComposer */](navigatorData.enteredGuestRoom.roomId));return;case'toggle_mute':setIsRoomMuted(value=>!value);SendMessageComposer(new nitro_renderer[\"Vg\" /* RoomMuteComposer */]());return;case'open_floorplan_editor':CreateLinkEvent('floor-editor/toggle');return;case'close':onCloseClick();return;}};Object(react[\"useEffect\"])(()=>{if(!navigatorData)return;setIsRoomPicked(navigatorData.currentRoomIsStaffPick);if(navigatorData.enteredGuestRoom)setIsRoomMuted(navigatorData.enteredGuestRoom.allInRoomMuted);},[navigatorData]);if(!navigatorData.enteredGuestRoom)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-room-info\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('navigator.roomsettings.roominfo'),onCloseClick:()=>processAction('close')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black\",children:navigatorData.enteredGuestRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomThumbnailView,{roomId:navigatorData.enteredGuestRoom.roomId,customUrl:navigatorData.enteredGuestRoom.officialRoomPicRef,children:hasPermission('settings')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-camera-small position-absolute b-0 r-0 m-1 cursor-pointer top-0\",onClick:()=>processAction('open_room_thumbnail_camera')})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{onClick:()=>processAction('set_home_room'),className:'flex-shrink-0 icon icon-house-small cursor-pointer'+classnames_default()({' gray':navigatorData.homeRoomId!==navigatorData.enteredGuestRoom.roomId})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:navigatorData.enteredGuestRoom.roomName})]}),navigatorData.enteredGuestRoom.showOwner&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"muted\",children:LocalizeText('navigator.roomownercaption')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:navigatorData.enteredGuestRoom.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:navigatorData.enteredGuestRoom.ownerName})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"muted\",children:LocalizeText('navigator.roomrating')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:navigatorData.currentRoomRating})]}),navigatorData.enteredGuestRoom.tags.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",gap:1,children:navigatorData.enteredGuestRoom.tags.map(tag=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{pointer:true,className:\"bg-muted rounded p-1\",onClick:event=>processAction('navigator_search_tag',tag),children:[\"#\",tag]},tag);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:1,children:[hasPermission('settings')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-cog cursor-pointer\",title:LocalizeText('navigator.room.popup.info.room.settings'),onClick:event=>processAction('open_room_settings')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"link\",title:LocalizeText('navigator.embed.caption'),className:\"cursor-pointer\",onClick:event=>CreateLinkEvent('navigator/toggle-room-link')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{overflow:\"auto\",style:{maxHeight:50},children:navigatorData.enteredGuestRoom.description}),navigatorData.enteredGuestRoom.habboGroupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{pointer:true,alignItems:\"center\",gap:1,onClick:()=>processAction('open_group_info'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{className:\"flex-none\",badgeCode:navigatorData.enteredGuestRoom.groupBadgeCode,isGroup:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{underline:true,children:LocalizeText('navigator.guildbase',['groupName'],[navigatorData.enteredGuestRoom.groupName])})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[hasPermission('staff_pick')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:()=>processAction('toggle_pick'),children:LocalizeText(isRoomPicked?'navigator.staffpicks.unpick':'navigator.staffpicks.pick')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",disabled:true,children:LocalizeText('help.emergency.main.report.room')}),hasPermission('settings')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:()=>processAction('toggle_mute'),children:LocalizeText(isRoomMuted?'navigator.muteall_on':'navigator.muteall_off')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:()=>processAction('open_floorplan_editor'),children:LocalizeText('open.floor.plan.editor')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/NavigatorRoomLinkView.tsx\nclass NavigatorRoomLinkViewProps{constructor(){this.onCloseClick=void 0;}}const NavigatorRoomLinkView=props=>{const{onCloseClick=null}=props;const{navigatorData=null}=useNavigator();if(!navigatorData.enteredGuestRoom)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-room-link\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('navigator.embed.title'),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{className:\"text-black d-flex align-items-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomThumbnailView,{roomId:navigatorData.enteredGuestRoom.roomId,customUrl:navigatorData.enteredGuestRoom.officialRoomPicRef}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,fontSize:5,children:LocalizeText('navigator.embed.headline')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.embed.info')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",readOnly:true,className:\"form-control form-control-sm\",value:LocalizeText('navigator.embed.src',['roomId'],[navigatorData.enteredGuestRoom.roomId.toString()]).replace('${url.prefix}',GetConfiguration('url.prefix',''))})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsAccessTabView.tsx\nconst NavigatorRoomSettingsAccessTabView=props=>{const{roomData=null,handleChange=null}=props;const[password,setPassword]=Object(react[\"useState\"])('');const[confirmPassword,setConfirmPassword]=Object(react[\"useState\"])('');const[isTryingPassword,setIsTryingPassword]=Object(react[\"useState\"])(false);const saveRoomPassword=()=>{if(!isTryingPassword||password.length<=0||confirmPassword.length<=0||password!==confirmPassword)return;handleChange('password',password);};Object(react[\"useEffect\"])(()=>{setPassword('');setConfirmPassword('');setIsTryingPassword(false);},[roomData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.roomaccess.caption')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.roomaccess.info')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.doormode')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===nitro_renderer[\"zg\" /* RoomDataParser */].OPEN_STATE&&!isTryingPassword,onChange:event=>handleChange('lock_state',nitro_renderer[\"zg\" /* RoomDataParser */].OPEN_STATE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.doormode.open')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===nitro_renderer[\"zg\" /* RoomDataParser */].DOORBELL_STATE&&!isTryingPassword,onChange:event=>handleChange('lock_state',nitro_renderer[\"zg\" /* RoomDataParser */].DOORBELL_STATE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.doormode.doorbell')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===nitro_renderer[\"zg\" /* RoomDataParser */].INVISIBLE_STATE&&!isTryingPassword,onChange:event=>handleChange('lock_state',nitro_renderer[\"zg\" /* RoomDataParser */].INVISIBLE_STATE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.doormode.invisible')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE||isTryingPassword,onChange:event=>setIsTryingPassword(event.target.checked)}),!isTryingPassword&&roomData.lockState!==nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.doormode.password')}),(isTryingPassword||roomData.lockState===nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.doormode.password')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:password,onChange:event=>setPassword(event.target.value),placeholder:LocalizeText('navigator.roomsettings.password'),onFocus:event=>setIsTryingPassword(true)}),isTryingPassword&&password.length<=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.passwordismandatory')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:confirmPassword,onChange:event=>setConfirmPassword(event.target.value),onBlur:saveRoomPassword,placeholder:LocalizeText('navigator.roomsettings.passwordconfirm')}),isTryingPassword&&password.length>0&&password!==confirmPassword&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.invalidconfirm')})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.pets')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowPets,onChange:event=>handleChange('allow_pets',event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.allowpets')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowPetsEat,onChange:event=>handleChange('allow_pets_eat',event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.allowfoodconsume')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsBasicTabView.tsx\nconst ROOM_NAME_MIN_LENGTH=3;const ROOM_NAME_MAX_LENGTH=60;const DESC_MAX_LENGTH=255;const NavigatorRoomSettingsBasicTabView=props=>{const{roomData=null,handleChange=null,onClose=null}=props;const[roomName,setRoomName]=Object(react[\"useState\"])('');const[roomDescription,setRoomDescription]=Object(react[\"useState\"])('');const{showConfirm=null}=useNotification();const{categories=null}=useNavigator();const deleteRoom=()=>{showConfirm(LocalizeText('navigator.roomsettings.deleteroom.confirm.message',['room_name'],[roomData.roomName]),()=>{SendMessageComposer(new nitro_renderer[\"Ag\" /* RoomDeleteComposer */](roomData.roomId));if(onClose)onClose();CreateLinkEvent('navigator/search/myworld_view');},null,null,null,LocalizeText('navigator.roomsettings.deleteroom.confirm.title'));};const saveRoomName=()=>{if(roomName===roomData.roomName||roomName.length<ROOM_NAME_MIN_LENGTH||roomName.length>ROOM_NAME_MAX_LENGTH)return;handleChange('name',roomName);};const saveRoomDescription=()=>{if(roomDescription===roomData.roomDescription||roomDescription.length>DESC_MAX_LENGTH)return;handleChange('description',roomDescription);};Object(react[\"useEffect\"])(()=>{setRoomName(roomData.roomName);setRoomDescription(roomData.roomDescription);},[roomData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"col-3\",children:LocalizeText('navigator.roomname')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullWidth:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",value:roomName,maxLength:ROOM_NAME_MAX_LENGTH,onChange:event=>setRoomName(event.target.value),onBlur:saveRoomName}),roomName.length<ROOM_NAME_MIN_LENGTH&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.roomnameismandatory')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"col-3\",children:LocalizeText('navigator.roomsettings.desc')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control form-control-sm\",value:roomDescription,maxLength:DESC_MAX_LENGTH,onChange:event=>setRoomDescription(event.target.value),onBlur:saveRoomDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"col-3\",children:LocalizeText('navigator.category')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.categoryId,onChange:event=>handleChange('category',event.target.value),children:categories&&categories.map(category=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:category.id,children:LocalizeText(category.name)},category.id))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"col-3\",children:LocalizeText('navigator.maxvisitors')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.userCount,onChange:event=>handleChange('max_visitors',event.target.value),children:GetMaxVisitorsList&&GetMaxVisitorsList.map(value=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:value,children:value},value))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"col-3\",children:LocalizeText('navigator.tradesettings')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.tradeState,onChange:event=>handleChange('trade_state',event.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.trade_not_allowed')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.trade_not_with_Controller')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:LocalizeText('navigator.roomsettings.trade_allowed')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"col-3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowWalkthrough,onChange:event=>handleChange('allow_walkthrough',event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.allow_walk_through')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{variant:\"danger\",underline:true,bold:true,pointer:true,className:\"d-flex justify-content-center align-items-center gap-1\",onClick:deleteRoom,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"}),LocalizeText('navigator.roomsettings.delete')]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsModTabView.tsx\nconst NavigatorRoomSettingsModTabView=props=>{var _bannedUsers$find;const{roomData=null,handleChange=null}=props;const[selectedUserId,setSelectedUserId]=Object(react[\"useState\"])(-1);const[bannedUsers,setBannedUsers]=Object(react[\"useState\"])([]);useMessageEvent(nitro_renderer[\"x\" /* BannedUsersFromRoomEvent */],event=>{const parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setBannedUsers(parser.bannedUsers);});const unBanUser=Object(react[\"useCallback\"])(userId=>{setBannedUsers(prevValue=>{const newValue=[...prevValue];const index=newValue.findIndex(value=>value.userId===userId);if(index>=0)newValue.splice(index,1);return newValue;});SendMessageComposer(new nitro_renderer[\"Ch\" /* RoomUnbanUserComposer */](userId,roomData.roomId));setSelectedUserId(-1);},[roomData]);Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"sg\" /* RoomBannedUsersComposer */](roomData.roomId));},[roomData.roomId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{bold:true,children:[LocalizeText('navigator.roomsettings.moderation.banned.users'),\" (\",bannedUsers.length,\")\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullWidth:true,overflow:\"auto\",gap:1,children:bannedUsers&&bannedUsers.length>0&&bannedUsers.map((user,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{shrink:true,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userName:user.userName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{pointer:true,grow:true,onClick:event=>setSelectedUserId(user.userId),children:[\" \",user.userName]})]},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button,{disabled:selectedUserId<=0,onClick:event=>unBanUser(selectedUserId),children:[LocalizeText('navigator.roomsettings.moderation.unban'),\" \",selectedUserId>0&&((_bannedUsers$find=bannedUsers.find(user=>user.userId===selectedUserId))===null||_bannedUsers$find===void 0?void 0:_bannedUsers$find.userName)]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.moderation.mute.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowMute===nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS,onChange:event=>handleChange('moderation_mute',event.target.checked?nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_NONE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.moderation.kick.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowKick===nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_ALL,onChange:event=>handleChange('moderation_kick',event.target.checked?nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_ALL:nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_NONE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.moderation.all')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowKick>=nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS,disabled:roomData.moderationSettings.allowKick===nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_ALL,onChange:event=>handleChange('moderation_kick',event.target.checked?nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_NONE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.moderation.ban.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowBan===nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS,onChange:event=>handleChange('moderation_ban',event.target.checked?nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:nitro_renderer[\"Ug\" /* RoomModerationSettings */].MODERATION_LEVEL_NONE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsRightsTabView.tsx\nconst NavigatorRoomSettingsRightsTabView=props=>{const{roomData=null}=props;const[usersWithRights,setUsersWithRights]=Object(react[\"useState\"])(new Map());useMessageEvent(nitro_renderer[\"Qb\" /* FlatControllersEvent */],event=>{const parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setUsersWithRights(parser.users);});useMessageEvent(nitro_renderer[\"Ob\" /* FlatControllerAddedEvent */],event=>{const parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setUsersWithRights(prevValue=>{const newValue=new Map(prevValue);newValue.set(parser.data.userId,parser.data.userName);return newValue;});});useMessageEvent(nitro_renderer[\"Pb\" /* FlatControllerRemovedEvent */],event=>{const parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setUsersWithRights(prevValue=>{const newValue=new Map(prevValue);newValue.delete(parser.userId);return newValue;});});Object(react[\"useEffect\"])(()=>{SendMessageComposer(new nitro_renderer[\"Ih\" /* RoomUsersWithRightsComposer */](roomData.roomId));},[roomData.roomId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.flatctrls.userswithrights',['displayed','total'],[usersWithRights.size.toString(),usersWithRights.size.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullWidth:true,overflow:\"auto\",gap:1,children:Array.from(usersWithRights.entries()).map((_ref,index)=>{let[id,name]=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{shrink:true,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userName:name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{pointer:true,grow:true,onClick:event=>SendMessageComposer(new nitro_renderer[\"Ah\" /* RoomTakeRightsComposer */](id)),children:[\" \",name]})]},index);})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:6,justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",disabled:!usersWithRights.size,onClick:event=>SendMessageComposer(new nitro_renderer[\"gg\" /* RemoveAllRightsMessageComposer */](roomData.roomId)),children:LocalizeText('navigator.flatctrls.clear')})})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsVipChatTabView.tsx\nconst NavigatorRoomSettingsVipChatTabView=props=>{const{roomData=null,handleChange=null}=props;const[chatDistance,setChatDistance]=Object(react[\"useState\"])(0);Object(react[\"useEffect\"])(()=>{setChatDistance(roomData.chatSettings.distance);},[roomData.chatSettings]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.vip.caption')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.vip.info')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.chat_settings')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.chat_settings.info')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.chatSettings.mode,onChange:event=>handleChange('bubble_mode',event.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_MODE_FREE_FLOW,children:LocalizeText('navigator.roomsettings.chat.mode.free.flow')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_MODE_LINE_BY_LINE,children:LocalizeText('navigator.roomsettings.chat.mode.line.by.line')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.chatSettings.weight,onChange:event=>handleChange('chat_weight',event.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_NORMAL,children:LocalizeText('navigator.roomsettings.chat.bubbles.width.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_THIN,children:LocalizeText('navigator.roomsettings.chat.bubbles.width.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_WIDE,children:LocalizeText('navigator.roomsettings.chat.bubbles.width.wide')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.chatSettings.speed,onChange:event=>handleChange('bubble_speed',event.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_FAST,children:LocalizeText('navigator.roomsettings.chat.speed.fast')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_NORMAL,children:LocalizeText('navigator.roomsettings.chat.speed.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_SLOW,children:LocalizeText('navigator.roomsettings.chat.speed.slow')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.chatSettings.protection,onChange:event=>handleChange('flood_protection',event.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].FLOOD_FILTER_LOOSE,children:LocalizeText('navigator.roomsettings.chat.flood.loose')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].FLOOD_FILTER_NORMAL,children:LocalizeText('navigator.roomsettings.chat.flood.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"vg\" /* RoomChatSettings */].FLOOD_FILTER_STRICT,children:LocalizeText('navigator.roomsettings.chat.flood.strict')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.chat_settings.hearing.distance')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",min:\"0\",className:\"form-control form-control-sm\",value:chatDistance,onChange:event=>setChatDistance(event.target.valueAsNumber),onBlur:event=>handleChange('chat_distance',chatDistance)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:6,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('navigator.roomsettings.vip_settings')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.hideWalls,onChange:event=>handleChange('hide_walls',event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('navigator.roomsettings.hide_walls')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.wallThickness,onChange:event=>handleChange('wall_thickness',event.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.wall_thickness.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.wall_thickness.thick')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"-1\",children:LocalizeText('navigator.roomsettings.wall_thickness.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"-2\",children:LocalizeText('navigator.roomsettings.wall_thickness.thinnest')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.floorThickness,onChange:event=>handleChange('floor_thickness',event.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.floor_thickness.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.floor_thickness.thick')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"-1\",children:LocalizeText('navigator.roomsettings.floor_thickness.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"-2\",children:LocalizeText('navigator.roomsettings.floor_thickness.thinnest')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsView.tsx\nconst NavigatorRoomSettingsView_TABS=['navigator.roomsettings.tab.1','navigator.roomsettings.tab.2','navigator.roomsettings.tab.3','navigator.roomsettings.tab.4','navigator.roomsettings.tab.5'];const NavigatorRoomSettingsView=props=>{const[roomData,setRoomData]=Object(react[\"useState\"])(null);const[currentTab,setCurrentTab]=Object(react[\"useState\"])(NavigatorRoomSettingsView_TABS[0]);useMessageEvent(nitro_renderer[\"xh\" /* RoomSettingsDataEvent */],event=>{const parser=event.getParser();if(!parser)return;const data=parser.data;setRoomData({roomId:data.roomId,roomName:data.name,roomDescription:data.description,categoryId:data.categoryId,userCount:data.maximumVisitorsLimit,tags:data.tags,tradeState:data.tradeMode,allowWalkthrough:data.allowWalkThrough,lockState:data.doorMode,password:null,allowPets:data.allowPets,allowPetsEat:data.allowFoodConsume,hideWalls:data.hideWalls,wallThickness:data.wallThickness,floorThickness:data.floorThickness,chatSettings:{mode:data.chatSettings.mode,weight:data.chatSettings.weight,speed:data.chatSettings.speed,distance:data.chatSettings.distance,protection:data.chatSettings.protection},moderationSettings:{allowMute:data.roomModerationSettings.allowMute,allowKick:data.roomModerationSettings.allowKick,allowBan:data.roomModerationSettings.allowBan}});SendMessageComposer(new nitro_renderer[\"sg\" /* RoomBannedUsersComposer */](data.roomId));});const onClose=()=>{setRoomData(null);setCurrentTab(NavigatorRoomSettingsView_TABS[0]);};const handleChange=(field,value)=>{setRoomData(prevValue=>{const newValue={...prevValue};switch(field){case'name':newValue.roomName=String(value);break;case'description':newValue.roomDescription=String(value);break;case'category':newValue.categoryId=Number(value);break;case'max_visitors':newValue.userCount=Number(value);break;case'trade_state':newValue.tradeState=Number(value);break;case'allow_walkthrough':newValue.allowWalkthrough=Boolean(value);break;case'allow_pets':newValue.allowPets=Boolean(value);break;case'allow_pets_eat':newValue.allowPetsEat=Boolean(value);break;case'hide_walls':newValue.hideWalls=Boolean(value);break;case'wall_thickness':newValue.wallThickness=Number(value);break;case'floor_thickness':newValue.floorThickness=Number(value);break;case'lock_state':newValue.lockState=Number(value);break;case'password':newValue.lockState=nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE;newValue.password=String(value);break;case'moderation_mute':newValue.moderationSettings.allowMute=Number(value);break;case'moderation_kick':newValue.moderationSettings.allowKick=Number(value);break;case'moderation_ban':newValue.moderationSettings.allowBan=Number(value);break;case'bubble_mode':newValue.chatSettings.mode=Number(value);break;case'chat_weight':newValue.chatSettings.weight=Number(value);break;case'bubble_speed':newValue.chatSettings.speed=Number(value);break;case'flood_protection':newValue.chatSettings.protection=Number(value);break;case'chat_distance':newValue.chatSettings.distance=Number(value);break;}SendMessageComposer(new nitro_renderer[\"Qh\" /* SaveRoomSettingsComposer */](newValue.roomId,newValue.roomName,newValue.roomDescription,newValue.lockState,newValue.password,newValue.userCount,newValue.categoryId,newValue.tags.length,newValue.tags,newValue.tradeState,newValue.allowPets,newValue.allowPetsEat,newValue.allowWalkthrough,newValue.hideWalls,newValue.wallThickness,newValue.floorThickness,newValue.moderationSettings.allowMute,newValue.moderationSettings.allowKick,newValue.moderationSettings.allowBan,newValue.chatSettings.mode,newValue.chatSettings.weight,newValue.chatSettings.speed,newValue.chatSettings.distance,newValue.chatSettings.protection));return newValue;});};if(!roomData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"nitro-room-settings\",className:\"nitro-room-settings\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('navigator.roomsettings'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView,{children:NavigatorRoomSettingsView_TABS.map(tab=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:currentTab===tab,onClick:event=>setCurrentTab(tab),children:LocalizeText(tab)},tab);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[currentTab===NavigatorRoomSettingsView_TABS[0]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsBasicTabView,{roomData:roomData,handleChange:handleChange,onClose:onClose}),currentTab===NavigatorRoomSettingsView_TABS[1]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsAccessTabView,{roomData:roomData,handleChange:handleChange}),currentTab===NavigatorRoomSettingsView_TABS[2]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsRightsTabView,{roomData:roomData,handleChange:handleChange}),currentTab===NavigatorRoomSettingsView_TABS[3]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsVipChatTabView,{roomData:roomData,handleChange:handleChange}),currentTab===NavigatorRoomSettingsView_TABS[4]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsModTabView,{roomData:roomData,handleChange:handleChange})]})]});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Overlay.js + 76 modules\nvar Overlay = __webpack_require__(87);\n\n// CONCATENATED MODULE: ./src/components/navigator/views/search/NavigatorSearchResultItemInfoView.tsx\nconst NavigatorSearchResultItemInfoView=props=>{const{roomData=null}=props;const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const elementRef=Object(react[\"useRef\"])();const getUserCounterColor=()=>{const num=100*(roomData.userCount/roomData.maxUserCount);let bg='bg-primary';if(num>=92){bg='bg-danger';}else if(num>=50){bg='bg-warning';}else if(num>0){bg='bg-success';}return bg;};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,innerRef:elementRef,className:\"icon icon-navigator-info\",onMouseOver:event=>setIsVisible(true),onMouseLeave:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Overlay[\"a\" /* default */],{show:isVisible,target:elementRef.current,placement:\"right\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{overflow:\"hidden\",className:\"room-info image-rendering-pixelated bg-transparent\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutRoomThumbnailView,{roomId:roomData.roomId,customUrl:roomData.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[roomData.habboGroupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:roomData.groupBadgeCode,isGroup:true,className:'position-absolute top-0 start-0 m-1 '}),roomData.doorMode!==nitro_renderer[\"zg\" /* RoomDataParser */].OPEN_STATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'position-absolute end-0 mb-1 me-1 icon icon-navigator-room-'+(roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].DOORBELL_STATE?'locked':roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE?'password':roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].INVISIBLE_STATE?'invisible':'')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,truncate:true,className:\"flex-grow-1\",style:{maxHeight:13},children:roomData.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{italics:true,variant:\"muted\",children:LocalizeText('navigator.roomownercaption')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:roomData.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{italics:true,children:roomData.ownerName})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{className:\"flex-grow-1\",children:roomData.description}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:'badge p-1 position-absolute m-1 bottom-0 end-0 m-2 '+getUserCounterColor(),gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"user\"}),roomData.userCount]})]})]})})})})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/search/NavigatorSearchResultItemView.tsx\nconst NavigatorSearchResultItemView=props=>{const{roomData=null,children=null,thumbnail=false,...rest}=props;const{setDoorData=null}=useNavigator();const getUserCounterColor=()=>{const num=100*(roomData.userCount/roomData.maxUserCount);let bg='bg-primary';if(num>=92){bg='bg-danger';}else if(num>=50){bg='bg-warning';}else if(num>0){bg='bg-success';}return bg;};const visitRoom=event=>{if(roomData.ownerId!==GetSessionDataManager().userId){if(roomData.habboGroupId!==0){TryVisitRoom(roomData.roomId);return;}switch(roomData.doorMode){case nitro_renderer[\"zg\" /* RoomDataParser */].DOORBELL_STATE:setDoorData(prevValue=>{const newValue={...prevValue};newValue.roomInfo=roomData;newValue.state=DoorStateType.START_DOORBELL;return newValue;});return;case nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE:setDoorData(prevValue=>{const newValue={...prevValue};newValue.roomInfo=roomData;newValue.state=DoorStateType.START_PASSWORD;return newValue;});return;}}CreateRoomSession(roomData.roomId);};if(thumbnail)return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{pointer:true,overflow:\"hidden\",alignItems:\"center\",onClick:visitRoom,gap:0,className:\"navigator-item p-1 bg-light rounded-3 small mb-1 flex-column border border-muted\",...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutRoomThumbnailView,{roomId:roomData.roomId,customUrl:roomData.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[roomData.habboGroupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:roomData.groupBadgeCode,isGroup:true,className:'position-absolute top-0 start-0 m-1'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,className:'badge p-1 position-absolute m-1 '+getUserCounterColor(),gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"user\"}),roomData.userCount]}),roomData.doorMode!==nitro_renderer[\"zg\" /* RoomDataParser */].OPEN_STATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'position-absolute end-0 mb-1 me-1 icon icon-navigator-room-'+(roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].DOORBELL_STATE?'locked':roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE?'password':roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].INVISIBLE_STATE?'invisible':'')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"w-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,className:\"flex-grow-1\",children:roomData.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{reverse:true,alignItems:\"center\",gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultItemInfoView,{roomData:roomData})}),children]})]});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{pointer:true,overflow:\"hidden\",alignItems:\"center\",onClick:visitRoom,gap:2,className:\"navigator-item px-2 py-1 small\",...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,className:'badge p-1 '+getUserCounterColor(),gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"user\"}),roomData.userCount]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,grow:true,children:roomData.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{reverse:true,alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultItemInfoView,{roomData:roomData}),roomData.habboGroupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-navigator-room-group\"}),roomData.doorMode!==nitro_renderer[\"zg\" /* RoomDataParser */].OPEN_STATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'icon icon-navigator-room-'+(roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].DOORBELL_STATE?'locked':roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].PASSWORD_STATE?'password':roomData.doorMode===nitro_renderer[\"zg\" /* RoomDataParser */].INVISIBLE_STATE?'invisible':'')})]}),children]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/search/NavigatorSearchResultView.tsx\nconst NavigatorSearchResultView=props=>{const{searchResult=null,...rest}=props;const[isExtended,setIsExtended]=Object(react[\"useState\"])(true);const[displayMode,setDisplayMode]=Object(react[\"useState\"])(0);const getResultTitle=()=>{let name=searchResult.code;if(!name||!name.length)return searchResult.data;if(name.startsWith('${'))return name.slice(2,name.length-1);return'navigator.searchcode.title.'+name;};const toggleDisplayMode=()=>{setDisplayMode(prevValue=>{if(prevValue===NavigatorSearchResultViewDisplayMode.LIST)return NavigatorSearchResultViewDisplayMode.THUMBNAILS;return NavigatorSearchResultViewDisplayMode.LIST;});};Object(react[\"useEffect\"])(()=>{if(!searchResult)return;//setIsExtended(searchResult.closed);\nsetDisplayMode(searchResult.mode);},[searchResult]);const gridHasTwoColumns=displayMode>=NavigatorSearchResultViewDisplayMode.THUMBNAILS;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"bg-white rounded border border-muted\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,alignItems:\"center\",justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{grow:true,pointer:true,alignItems:\"center\",gap:1,onClick:event=>setIsExtended(prevValue=>!prevValue),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:isExtended?'minus':'plus',className:\"text-secondary\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(getResultTitle())})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:displayMode===NavigatorSearchResultViewDisplayMode.LIST?'th':displayMode>=NavigatorSearchResultViewDisplayMode.THUMBNAILS?'bars':null,className:\"text-secondary\",onClick:toggleDisplayMode})]}),\" \",isExtended&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:gridHasTwoColumns?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{columnCount:3,...rest,columnMinWidth:110,columnMinHeight:130,className:\"mx-2\",children:searchResult.rooms.length>0&&searchResult.rooms.map((room,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultItemView,{roomData:room,thumbnail:true},index))}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{columnCount:1,className:\"navigator-grid\",gap:0,children:searchResult.rooms.length>0&&searchResult.rooms.map((room,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultItemView,{roomData:room},index))})})]})// <div className=\"nitro-navigator-search-result bg-white rounded mb-2 overflow-hidden\">\n//     <div className=\"d-flex flex-column\">\n//         <div className=\"d-flex align-items-center px-2 py-1 text-black\">\n//             <i className={ 'text-secondary fas ' + (isExtended ? 'fa-minus' : 'fa-plus') } onClick={ toggleExtended }></i>\n//             <div className=\"ms-2 flex-grow-1\">{ LocalizeText(getResultTitle()) }</div>\n//             <i className={ 'text-secondary fas ' + classNames({ 'fa-bars': (displayMode === NavigatorSearchResultViewDisplayMode.LIST), 'fa-th': displayMode >= NavigatorSearchResultViewDisplayMode.THUMBNAILS })}></i>\n//         </div>\n//         { isExtended &&\n//             <div className={ 'nitro-navigator-result-list row row-cols-' + classNames({ '1': (displayMode === NavigatorSearchResultViewDisplayMode.LIST), '2': (displayMode >= NavigatorSearchResultViewDisplayMode.THUMBNAILS) }) }>\n//                 { searchResult.rooms.length > 0 && searchResult.rooms.map((room, index) =>\n//                     {\n//                         return <NavigatorSearchResultItemView key={ index } roomData={ room } />\n//                     }) }\n//             </div> }\n//     </div>\n// </div>\n// <div className=\"nitro-navigator-result-list p-2\">\n//     <div className=\"d-flex mb-2 small cursor-pointer\" onClick={ toggleList }>\n//         <i className={ \"fas \" + classNames({ 'fa-plus': !isExtended, 'fa-minus': isExtended })}></i>\n//         <div className=\"align-self-center w-100 ml-2\">{ LocalizeText(getListCode()) }</div>\n//         <i className={ \"fas \" + classNames({ 'fa-bars': displayMode === NavigatorResultListViewDisplayMode.LIST, 'fa-th': displayMode >= NavigatorResultListViewDisplayMode.THUMBNAILS })} onClick={ toggleDisplayMode }></i>\n//     </div>\n//     <div className={ 'row mr-n2 row-cols-' + classNames({ '1': displayMode === NavigatorResultListViewDisplayMode.LIST, '2': displayMode >= NavigatorResultListViewDisplayMode.THUMBNAILS }) }>\n//         { isExtended && resultList && resultList.rooms.map((room, index) =>\n//             {\n//                 return <NavigatorResultView key={ index } result={ room } />\n//             })\n//         }\n//     </div>\n// </div>\n;};\n// CONCATENATED MODULE: ./src/components/navigator/views/search/NavigatorSearchView.tsx\nconst NavigatorSearchView=props=>{const{sendSearch=null}=props;const[searchFilterIndex,setSearchFilterIndex]=Object(react[\"useState\"])(0);const[searchValue,setSearchValue]=Object(react[\"useState\"])('');const{topLevelContext=null,searchResult=null}=useNavigator();const processSearch=()=>{if(!topLevelContext)return;let searchFilter=SearchFilterOptions[searchFilterIndex];if(!searchFilter)searchFilter=SearchFilterOptions[0];const searchQuery=(searchFilter.query?searchFilter.query+':':'')+searchValue;sendSearch(searchQuery||'',topLevelContext.code);};const handleKeyDown=event=>{if(event.key!=='Enter')return;processSearch();};Object(react[\"useEffect\"])(()=>{if(!searchResult)return;const split=searchResult.data.split(':');let filter=null;let value='';if(split.length>=2){const[query,...rest]=split;filter=SearchFilterOptions.find(option=>option.query===query);value=rest.join(':');}else{value=searchResult.data;}if(!filter)filter=SearchFilterOptions[0];setSearchFilterIndex(SearchFilterOptions.findIndex(option=>option===filter));setSearchValue(value);},[searchResult]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{shrink:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:searchFilterIndex,onChange:event=>setSearchFilterIndex(parseInt(event.target.value)),children:SearchFilterOptions.map((filter,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:index,children:LocalizeText('navigator.filter.'+filter.name)},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('navigator.filter.input.placeholder'),value:searchValue,onChange:event=>setSearchValue(event.target.value),onKeyDown:event=>handleKeyDown(event)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"primary\",onClick:processSearch,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"search\"})})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/NavigatorView.tsx\nconst NavigatorView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[isReady,setIsReady]=Object(react[\"useState\"])(false);const[isCreatorOpen,setCreatorOpen]=Object(react[\"useState\"])(false);const[isRoomInfoOpen,setRoomInfoOpen]=Object(react[\"useState\"])(false);const[isRoomLinkOpen,setRoomLinkOpen]=Object(react[\"useState\"])(false);const[isLoading,setIsLoading]=Object(react[\"useState\"])(false);const[needsInit,setNeedsInit]=Object(react[\"useState\"])(true);const[needsSearch,setNeedsSearch]=Object(react[\"useState\"])(false);const{searchResult=null,topLevelContext=null,topLevelContexts=null,navigatorData=null}=useNavigator();const pendingSearch=Object(react[\"useRef\"])(null);const elementRef=Object(react[\"useRef\"])();useRoomSessionManagerEvent(nitro_renderer[\"mh\" /* RoomSessionEvent */].CREATED,event=>{setIsVisible(false);setCreatorOpen(false);});const sendSearch=Object(react[\"useCallback\"])((searchValue,contextCode)=>{setCreatorOpen(false);SendMessageComposer(new nitro_renderer[\"af\" /* NavigatorSearchComposer */](contextCode,searchValue));setIsLoading(true);},[]);const reloadCurrentSearch=Object(react[\"useCallback\"])(()=>{if(!isReady){setNeedsSearch(true);return;}if(pendingSearch.current){sendSearch(pendingSearch.current.value,pendingSearch.current.code);pendingSearch.current=null;return;}if(searchResult){sendSearch(searchResult.data,searchResult.code);return;}if(!topLevelContext)return;sendSearch('',topLevelContext.code);},[isReady,searchResult,topLevelContext,sendSearch]);Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':{setIsVisible(true);setNeedsSearch(true);return;}case'hide':setIsVisible(false);return;case'toggle':{if(isVisible){setIsVisible(false);return;}setIsVisible(true);setNeedsSearch(true);return;}case'toggle-room-info':setRoomInfoOpen(value=>!value);return;case'toggle-room-link':setRoomLinkOpen(value=>!value);return;case'goto':if(parts.length<=2)return;switch(parts[2]){case'home':if(navigatorData.homeRoomId<=0)return;TryVisitRoom(navigatorData.homeRoomId);break;default:{const roomId=parseInt(parts[2]);TryVisitRoom(roomId);}}return;case'create':setIsVisible(true);setCreatorOpen(true);return;case'search':if(parts.length>2){const topLevelContextCode=parts[2];let searchValue='';if(parts.length>3)searchValue=parts[3];pendingSearch.current={value:searchValue,code:topLevelContextCode};setIsVisible(true);setNeedsSearch(true);}return;}},eventUrlPrefix:'navigator/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[isVisible,navigatorData]);Object(react[\"useEffect\"])(()=>{if(!searchResult)return;setIsLoading(false);if(elementRef&&elementRef.current)elementRef.current.scrollTop=0;},[searchResult]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!isReady||!needsSearch)return;reloadCurrentSearch();setNeedsSearch(false);},[isVisible,isReady,needsSearch,reloadCurrentSearch]);Object(react[\"useEffect\"])(()=>{if(isReady||!topLevelContext)return;setIsReady(true);},[isReady,topLevelContext]);Object(react[\"useEffect\"])(()=>{if(!isVisible||!needsInit)return;SendMessageComposer(new nitro_renderer[\"Xe\" /* NavigatorInitComposer */]());setNeedsInit(false);},[isVisible,needsInit]);Object(react[\"useEffect\"])(()=>{nitro_renderer[\"pe\" /* LegacyExternalInterface */].addCallback(nitro_renderer[\"ce\" /* HabboWebTools */].OPENROOM,function(k){let _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return SendMessageComposer(new nitro_renderer[\"yb\" /* ConvertGlobalRoomIdMessageComposer */](k));});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"navigator\",className:\"nitro-navigator\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText(isCreatorOpen?'navigator.createroom.title':'navigator.title'),onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardTabsView,{children:[topLevelContexts&&topLevelContexts.length>0&&topLevelContexts.map((context,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:topLevelContext===context&&!isCreatorOpen,onClick:event=>sendSearch('',context.code),children:LocalizeText('navigator.toplevelview.'+context.code)},index);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:isCreatorOpen,onClick:event=>setCreatorOpen(true),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"plus\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{position:\"relative\",children:[isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fit:true,position:\"absolute\",className:\"top-0 start-0 z-index-1 bg-muted opacity-0-5\"}),!isCreatorOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchView,{sendSearch:sendSearch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{innerRef:elementRef,overflow:\"auto\",children:searchResult&&searchResult.results.map((result,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultView,{searchResult:result},index))})]}),isCreatorOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomCreatorView,{})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorDoorStateView,{}),isRoomInfoOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomInfoView,{onCloseClick:()=>setRoomInfoOpen(false)}),isRoomLinkOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomLinkView,{onCloseClick:()=>setRoomLinkOpen(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsView,{})]});};\n// CONCATENATED MODULE: ./src/components/nitropedia/NitropediaView.tsx\nconst NEW_LINE_REGEX=/\\n\\r|\\n|\\r/mg;const NitropediaView=props=>{const[content,setContent]=Object(react[\"useState\"])(null);const[header,setHeader]=Object(react[\"useState\"])('');const[dimensions,setDimensions]=Object(react[\"useState\"])(null);const elementRef=Object(react[\"useRef\"])(null);const openPage=Object(react[\"useCallback\"])(async link=>{try{const response=await fetch(link);if(!response)return;const text=await response.text();const splitData=text.split(NEW_LINE_REGEX);const line=splitData.shift().split('|');setHeader(line[0]);setDimensions(prevValue=>{if(line[1]&&line[1].split(';').length===2){return{width:parseInt(line[1].split(';')[0]),height:parseInt(line[1].split(';')[1])};}return null;});setContent(splitData.join(''));}catch(error){nitro_renderer[\"mf\" /* NitroLogger */].error(`Failed to fetch ${link}`);}},[]);Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const value=url.split('/');if(value.length<2)return;value.shift();openPage(GetConfiguration('habbopages.url')+value.join('/'));},eventUrlPrefix:'habbopages/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[openPage]);Object(react[\"useEffect\"])(()=>{const handle=event=>{if(!(event.target instanceof HTMLAnchorElement))return;event.preventDefault();const link=event.target.href;if(!link||!link.length)return;OpenUrl(link);};document.addEventListener('click',handle);return()=>{document.removeEventListener('click',handle);};},[]);if(!content)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitropedia\",theme:\"primary-slim\",style:dimensions?{width:dimensions.width,height:dimensions.height}:{},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:header,onCloseClick:()=>setContent(null)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fit:true,innerRef:elementRef,className:\"text-black\",dangerouslySetInnerHTML:{__html:content}})})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupRoomInformationView.tsx\nconst GroupRoomInformationView=props=>{const[expectedGroupId,setExpectedGroupId]=Object(react[\"useState\"])(0);const[groupInformation,setGroupInformation]=Object(react[\"useState\"])(null);const[isOpen,setIsOpen]=Object(react[\"useState\"])(true);const{showConfirm=null}=useNotification();useMessageEvent(nitro_renderer[\"Eb\" /* DesktopViewEvent */],event=>{setExpectedGroupId(0);setGroupInformation(null);});useMessageEvent(nitro_renderer[\"Ng\" /* RoomEntryInfoMessageEvent */],event=>{setExpectedGroupId(0);setGroupInformation(null);});useMessageEvent(nitro_renderer[\"Dc\" /* GetGuestRoomResultEvent */],event=>{const parser=event.getParser();if(!parser.roomEnter)return;if(parser.data.habboGroupId>0){setExpectedGroupId(parser.data.habboGroupId);SendMessageComposer(new nitro_renderer[\"md\" /* GroupInformationComposer */](parser.data.habboGroupId,false));}else{setExpectedGroupId(0);setGroupInformation(null);}});useMessageEvent(nitro_renderer[\"Zd\" /* HabboGroupDeactivatedMessageEvent */],event=>{const parser=event.getParser();if(!groupInformation||parser.groupId!==groupInformation.id&&parser.groupId!==expectedGroupId)return;setExpectedGroupId(0);setGroupInformation(null);});useMessageEvent(nitro_renderer[\"nd\" /* GroupInformationEvent */],event=>{const parser=event.getParser();if(parser.id!==expectedGroupId)return;setGroupInformation(parser);});const leaveGroup=()=>{showConfirm(LocalizeText('group.leaveconfirm.desc'),()=>{SendMessageComposer(new nitro_renderer[\"vd\" /* GroupRemoveMemberComposer */](groupInformation.id,GetSessionDataManager().userId));},null);};const isRealOwner=groupInformation&&groupInformation.ownerName===GetSessionDataManager().userName;const getButtonText=()=>{if(isRealOwner)return'group.manage';if(groupInformation.type===GroupType.PRIVATE)return'';if(groupInformation.membershipType===GroupMembershipType.MEMBER)return'group.leave';if(groupInformation.membershipType===GroupMembershipType.NOT_MEMBER&&groupInformation.type===GroupType.REGULAR)return'group.join';if(groupInformation.membershipType===GroupMembershipType.REQUEST_PENDING)return'group.membershippending';if(groupInformation.membershipType===GroupMembershipType.NOT_MEMBER&&groupInformation.type===GroupType.EXCLUSIVE)return'group.requestmembership';};const handleButtonClick=()=>{if(isRealOwner)return GetGroupManager(groupInformation.id);if(groupInformation.type===GroupType.PRIVATE&&groupInformation.membershipType===GroupMembershipType.NOT_MEMBER)return;if(groupInformation.membershipType===GroupMembershipType.MEMBER){leaveGroup();return;}TryJoinGroup(groupInformation.id);};if(!groupInformation)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-notification-bubble rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",pointer:true,onClick:event=>setIsOpen(value=>!value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:LocalizeText('group.homeroominfo.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:isOpen?'chevron-up':'chevron-down'})]}),isOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{pointer:true,alignItems:\"center\",gap:2,onClick:event=>GetGroupInformation(groupInformation.id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:groupInformation.badge,isGroup:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:groupInformation.title})]}),(groupInformation.type!==GroupType.PRIVATE||isRealOwner)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",disabled:groupInformation.membershipType===GroupMembershipType.REQUEST_PENDING,onClick:handleButtonClick,children:LocalizeText(getButtonText())})]})]})});};\n// CONCATENATED MODULE: ./src/components/notification-center/views/alert-layouts/NitroSystemAlertView.tsx\nconst NitroSystemAlertView=props=>{const{title='Nitro',onClose=null,...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutNotificationAlertView,{title:title,onClose:onClose,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,size:5,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"object\",{data:\"https://assets.nitrodev.co/logos/nitro-n-dark.svg\",width:\"100\",height:\"100\",children:\"\\xA0\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,fontSize:4,children:\"Nitro React\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[\"v\",GetUIVersion()]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Renderer:\"}),\" v\",GetRendererVersion()]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:event=>window.open('https://discord.nitrodev.co'),children:\"Discord\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:event=>window.open('https://git.krews.org/nitro/nitro-react'),children:\"Git\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:event=>window.open('https://git.krews.org/nitro/nitro-react/-/issues'),children:\"Bug Report\"})]})]})]})]})]})});};\n// CONCATENATED MODULE: ./src/components/notification-center/views/alert-layouts/NotificationDefaultAlertView.tsx\nconst NotificationDefaultAlertView=props=>{const{item=null,title=props.item&&props.item.title||'',onClose=null,...rest}=props;const[imageFailed,setImageFailed]=Object(react[\"useState\"])(false);const visitUrl=Object(react[\"useCallback\"])(()=>{OpenUrl(item.clickUrl);onClose();},[item,onClose]);const hasFrank=item.alertType===NotificationAlertType.DEFAULT;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationAlertView,{title:title,onClose:onClose,...rest,type:hasFrank?NotificationAlertType.DEFAULT:item.alertType,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullHeight:true,overflow:\"auto\",gap:hasFrank||item.imageUrl&&!imageFailed?2:0,children:[hasFrank&&!item.imageUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"notification-frank flex-shrink-0\"}),item.imageUrl&&!imageFailed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:item.imageUrl,alt:item.title,onError:()=>{setImageFailed(true);},className:\"align-self-baseline\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{classNames:['notification-text overflow-y-auto d-flex flex-column w-100',item.clickUrl&&!hasFrank?'justify-content-center':''],children:[item.messages.length>0&&item.messages.map((message,index)=>{const htmlText=message.replace(/\\r\\n|\\r|\\n/g,'<br />');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{dangerouslySetInnerHTML:{__html:htmlText}},index);}),item.clickUrl&&item.clickUrl.length>0&&item.imageUrl&&!imageFailed&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"my-2 w-100\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:visitUrl,className:\"align-self-center px-3\",children:LocalizeText(item.clickUrlText)})]})]})]}),(!item.imageUrl||item.imageUrl&&imageFailed)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",center:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"my-2 w-100\"}),!item.clickUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:onClose,children:LocalizeText('generic.close')}),item.clickUrl&&item.clickUrl.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:visitUrl,children:LocalizeText(item.clickUrlText)})]})})]});};\n// CONCATENATED MODULE: ./src/components/notification-center/views/alert-layouts/NotificationSearchAlertView.tsx\nconst NotificationSeachAlertView=props=>{const{item=null,title=props.item&&props.item.title||'',onClose=null,...rest}=props;const[searchValue,setSearchValue]=Object(react[\"useState\"])('');const[results,setResults]=Object(react[\"useState\"])([]);const visitUrl=Object(react[\"useCallback\"])(()=>{OpenUrl(item.clickUrl);onClose();},[item,onClose]);Object(react[\"useEffect\"])(()=>{setResults(JSON.parse(item.messages[0]));},[item]);const updateSearchValue=Object(react[\"useCallback\"])(value=>{let res=JSON.parse(item.messages[0]);setResults(res.filter(val=>val.includes(value)));setSearchValue(value);},[item]);const isAction=item.clickUrl&&item.clickUrl.startsWith('event:');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationAlertView,{title:title,onClose:onClose,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fullWidth:true,alignItems:\"center\",position:\"relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:event=>updateSearchValue(event.target.value)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullHeight:true,className:\"py-1\",overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{gap:1,columnCount:1,children:results&&results.map((n,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:n},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"my-2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",center:true,gap:1,children:[!isAction&&!item.clickUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:onClose,children:LocalizeText('generic.close')}),item.clickUrl&&item.clickUrl.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:visitUrl,children:LocalizeText(item.clickUrlText)})]})]});};\n// CONCATENATED MODULE: ./src/components/notification-center/views/alert-layouts/GetAlertLayout.tsx\nconst GetAlertLayout=(item,onClose)=>{if(!item)return null;const props={key:item.id,item,onClose};switch(item.alertType){case NotificationAlertType.NITRO:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroSystemAlertView,{...props});case NotificationAlertType.SEARCH:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationSeachAlertView,{...props});default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationDefaultAlertView,{...props});}};\n// CONCATENATED MODULE: ./src/components/notification-center/views/bubble-layouts/NotificationClubGiftBubbleView.tsx\nconst NotificationClubGiftBubbleView=props=>{const{item=null,onClose=null,...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationBubbleView,{fadesOut:false,className:\"flex-column club-gift\",onClose:onClose,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center gap-2 mb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:\"hc\",className:\"flex-shrink-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"ms-1\",children:LocalizeText('notifications.text.club_gift')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center justify-content-end gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-success w-100 btn-sm\",onClick:()=>OpenUrl(item.linkUrl),children:LocalizeText('notifications.button.show_gift_list')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"text-decoration-underline cursor-pointer text-nowrap\",onClick:onClose,children:LocalizeText('notifications.button.later')})]})]});};\n// CONCATENATED MODULE: ./src/components/notification-center/views/bubble-layouts/NotificationDefaultBubbleView.tsx\nconst NotificationDefaultBubbleView=props=>{const{item=null,onClose=null,...rest}=props;const htmlText=item.message.replace(/\\r\\n|\\r|\\n/g,'<br />');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationBubbleView,{onClose:onClose,gap:2,alignItems:\"center\",onClick:event=>item.linkUrl&&item.linkUrl.length&&OpenUrl(item.linkUrl),...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"bubble-image-container\",children:item.iconUrl&&item.iconUrl.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"no-select\",src:item.iconUrl,alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{wrap:true,variant:\"white\",dangerouslySetInnerHTML:{__html:htmlText}})]});};\n// CONCATENATED MODULE: ./src/components/notification-center/views/bubble-layouts/GetBubbleLayout.tsx\nconst GetBubbleLayout=(item,onClose)=>{if(!item)return null;const props={key:item.id,item,onClose};switch(item.notificationType){case NotificationBubbleType.CLUBGIFT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationClubGiftBubbleView,{...props});default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationDefaultBubbleView,{...props});}};\n// CONCATENATED MODULE: ./src/components/notification-center/views/confirm-layouts/NotificationDefaultConfirmView.tsx\nconst NotificationDefaultConfirmView=props=>{const{item=null,onClose=null,...rest}=props;const{message=null,onConfirm=null,onCancel=null,confirmText=null,cancelText=null,title=null}=item;const confirm=()=>{if(onConfirm)onConfirm();onClose();};const cancel=()=>{if(onCancel)onCancel();onClose();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationAlertView,{title:title,onClose:onClose,...rest,type:NotificationAlertType.ALERT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{grow:true,center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:message})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"danger\",onClick:cancel,children:cancelText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:confirm,children:confirmText})]})]});};\n// CONCATENATED MODULE: ./src/components/notification-center/views/confirm-layouts/GetConfirmLayout.tsx\nconst GetConfirmLayout=(item,onClose)=>{if(!item)return null;const props={key:item.id,item,onClose};switch(item.confirmType){default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationDefaultConfirmView,{...props});}};\n// CONCATENATED MODULE: ./src/components/notification-center/NotificationCenterView.tsx\nconst NotificationCenterView=props=>{const{alerts=[],bubbleAlerts=[],confirms=[],closeAlert=null,closeBubbleAlert=null,closeConfirm=null}=useNotification();const getAlerts=Object(react[\"useMemo\"])(()=>{if(!alerts||!alerts.length)return null;const elements=[];for(const alert of alerts){const element=GetAlertLayout(alert,()=>closeAlert(alert));elements.push(element);}return elements;},[alerts,closeAlert]);const getBubbleAlerts=Object(react[\"useMemo\"])(()=>{if(!bubbleAlerts||!bubbleAlerts.length)return null;const elements=[];for(const alert of bubbleAlerts){const element=GetBubbleLayout(alert,()=>closeBubbleAlert(alert));if(alert.notificationType===NotificationBubbleType.CLUBGIFT){elements.unshift(element);continue;}elements.push(element);}return elements;},[bubbleAlerts,closeBubbleAlert]);const getConfirms=Object(react[\"useMemo\"])(()=>{if(!confirms||!confirms.length)return null;const elements=[];for(const confirm of confirms){const element=GetConfirmLayout(confirm,()=>closeConfirm(confirm));elements.push(element);}return elements;},[confirms,closeConfirm]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:getBubbleAlerts}),getConfirms,getAlerts]});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tooltip.js\nvar Tooltip = __webpack_require__(140);\n\n// CONCATENATED MODULE: ./src/components/purse/views/CurrencyView.tsx\nconst CurrencyView=props=>{const{type=-1,amount=-1,short=false}=props;const element=Object(react[\"useMemo\"])(()=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"end\",pointer:true,gap:1,className:\"nitro-purse-button rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{truncate:true,textEnd:true,variant:\"white\",grow:true,children:short?LocalizeShortNumber(amount):LocalizeFormattedNumber(amount)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:type})]});},[amount,short,type]);if(!short)return element;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OverlayTrigger[\"a\" /* default */],{placement:\"left\",overlay:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{id:`tooltip-${type}`,children:LocalizeFormattedNumber(amount)}),children:element});};\n// CONCATENATED MODULE: ./src/components/purse/views/SeasonalView.tsx\nconst SeasonalView=props=>{const{type=-1,amount=-1}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,justifyContent:\"between\",className:\"nitro-purse-seasonal-currency p-2 rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:LocalizeText(`purse.seasonal.currency.${type}`)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:LocalizeFormattedNumber(amount)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:type})]})]});};\n// CONCATENATED MODULE: ./src/components/purse/PurseView.tsx\nconst PurseView=props=>{const{purse=null,hcDisabled=false}=usePurse();const displayedCurrencies=Object(react[\"useMemo\"])(()=>GetConfiguration('system.currency.types',[]),[]);const currencyDisplayNumberShort=Object(react[\"useMemo\"])(()=>GetConfiguration('currency.display.number.short',false),[]);const getClubText=Object(react[\"useMemo\"])(()=>{if(!purse)return null;const totalDays=purse.clubPeriods*31+purse.clubDays;const minutesUntilExpiration=purse.minutesUntilExpiration;if(purse.clubLevel===nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].NO_CLUB)return LocalizeText('purse.clubdays.zero.amount.text');else if(minutesUntilExpiration>-1&&minutesUntilExpiration<60*24)return nitro_renderer[\"Zb\" /* FriendlyTime */].shortFormat(minutesUntilExpiration*60);else return nitro_renderer[\"Zb\" /* FriendlyTime */].shortFormat(totalDays*86400);},[purse]);const getCurrencyElements=Object(react[\"useCallback\"])(function(offset){let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;let seasonal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!purse||!purse.activityPoints||!purse.activityPoints.size)return null;const types=Array.from(purse.activityPoints.keys()).filter(type=>displayedCurrencies.indexOf(type)>=0);let count=0;while(count<offset){types.shift();count++;}count=0;const elements=[];for(const type of types){if(limit>-1&&count===limit)break;if(seasonal)elements.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SeasonalView,{type:type,amount:purse.activityPoints.get(type)},type));else elements.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrencyView,{type:type,amount:purse.activityPoints.get(type),short:currencyDisplayNumberShort},type));count++;}return elements;},[purse,displayedCurrencies,currencyDisplayNumberShort]);if(!purse)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"end\",className:\"nitro-purse-container\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{className:\"nitro-purse rounded-bottom p-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"center\",size:hcDisabled?10:6,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrencyView,{type:-1,amount:purse.credits,short:currencyDisplayNumberShort}),getCurrencyElements(0,2)]}),!hcDisabled&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,pointer:true,size:4,gap:1,className:\"nitro-purse-subscription rounded\",onClick:event=>CreateLinkEvent('habboUI/open/hccenter'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:\"hc\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:getClubText})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"center\",size:2,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,fullHeight:true,className:\"nitro-purse-button p-1 rounded\",onClick:event=>CreateLinkEvent('help/show'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-help\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,fullHeight:true,className:\"nitro-purse-button p-1 rounded\",onClick:event=>CreateLinkEvent('user-settings/toggle'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-cog\"})})]})]})}),getCurrencyElements(2,-1,true)]});};\n// CONCATENATED MODULE: ./src/components/right-side/RightSideView.tsx\nconst RightSideView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-right-side\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{position:\"relative\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PurseView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupRoomInformationView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationCenterView,{})]})});};\n// CONCATENATED MODULE: ./src/components/room/spectator/RoomSpectatorView.tsx\nconst RoomSpectatorView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"room-spectator\"});};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuHeaderView.tsx\nconst ContextMenuHeaderView=props=>{const{justifyContent='center',alignItems='center',classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['menu-header','p-1'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:justifyContent,alignItems:alignItems,classNames:getClassNames,...rest});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoRentableBotChatView.tsx\nconst AvatarInfoRentableBotChatView=props=>{const{chatEvent=null,onClose=null}=props;// eslint-disable-next-line no-template-curly-in-string\nconst[newText,setNewText]=Object(react[\"useState\"])(chatEvent.chat==='${bot.skill.chatter.configuration.text.placeholder}'?'':chatEvent.chat);const[automaticChat,setAutomaticChat]=Object(react[\"useState\"])(chatEvent.automaticChat);const[mixSentences,setMixSentences]=Object(react[\"useState\"])(chatEvent.mixSentences);const[chatDelay,setChatDelay]=Object(react[\"useState\"])(chatEvent.chatDelay);const getObjectLocation=Object(react[\"useMemo\"])(()=>GetRoomObjectBounds(GetRoomSession().roomId,chatEvent.objectId,chatEvent.category,1),[chatEvent]);const formatChatString=value=>value.replace(/;#;/g,' ').replace(/\\r\\n|\\r|\\n/g,'\\r');const save=()=>{const chatConfiguration=formatChatString(newText)+';#;'+automaticChat+';#;'+chatDelay+';#;'+mixSentences;SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](chatEvent.botId,BotSkillsEnum.SETUP_CHAT,chatConfiguration));onClose();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow,{windowPosition:DraggableWindowPosition.NOTHING,handleSelector:\".drag-handler\",dragStyle:{top:getObjectLocation.y,left:getObjectLocation.x},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{className:\"nitro-context-menu bot-chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{className:\"drag-handler\",children:LocalizeText('bot.skill.chatter.configuration.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.chat.text')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control form-control-sm\",placeholder:LocalizeText('bot.skill.chatter.configuration.text.placeholder'),value:newText,rows:7,onChange:e=>setNewText(e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.automatic.chat')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:automaticChat,onChange:event=>setAutomaticChat(event.target.checked)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.markov')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:mixSentences,onChange:event=>setMixSentences(event.target.checked)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.chat.delay')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:chatDelay,onChange:event=>setChatDelay(event.target.valueAsNumber)})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"primary\",onClick:onClose,children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:save,children:LocalizeText('save')})]})]})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoUseProductConfirmView.tsx\nconst _Str_5091=-1;const _Str_11906=0;const _Str_11214=1;const _Str_11733=2;const _Str_11369=3;const _Str_8759=4;const _Str_8432=5;const _Str_9653=6;const AvatarInfoUseProductConfirmView=props=>{const{item=null,onClose=null}=props;const[mode,setMode]=Object(react[\"useState\"])(_Str_5091);const[petData,setPetData]=Object(react[\"useState\"])(null);const[furniData,setFurniData]=Object(react[\"useState\"])(null);const{roomSession=null}=useRoom();const selectRoomObject=Object(react[\"useCallback\"])(()=>{if(!petData)return;GetRoomEngine().selectRoomObject(roomSession.roomId,petData.roomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);},[roomSession,petData]);const useProduct=Object(react[\"useCallback\"])(()=>{roomSession.usePetProduct(item.requestRoomObjectId,petData.webID);onClose();},[roomSession,item,petData,onClose]);const getPetImage=Object(react[\"useMemo\"])(()=>{if(!petData||!furniData)return null;const petFigureData=new nitro_renderer[\"Ff\" /* PetFigureData */](petData.figure);const customParts=furniData.customParams.split(' ');const petIndex=parseInt(customParts[0]);switch(furniData.specialType){case FurniCategory.PET_SHAMPOO:{if(customParts.length<2)return null;const currentPalette=GetRoomEngine().getPetColorResult(petIndex,petFigureData.paletteId);const possiblePalettes=GetRoomEngine().getPetColorResultsForTag(petIndex,customParts[1]);let paletteId=-1;for(const result of possiblePalettes){if(result.breed===currentPalette.breed){paletteId=parseInt(result.id);break;}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:paletteId,petColor:petFigureData.color,customParts:petFigureData.customParts,direction:2});}case FurniCategory.PET_CUSTOM_PART:{if(customParts.length<4)return null;const newCustomParts=[];const _local_6=customParts[1].split(',').map(piece=>parseInt(piece));const _local_7=customParts[2].split(',').map(piece=>parseInt(piece));const _local_8=customParts[3].split(',').map(piece=>parseInt(piece));let _local_10=0;while(_local_10<_local_6.length){const _local_13=_local_6[_local_10];const _local_15=petFigureData.getCustomPart(_local_13);let _local_12=_local_8[_local_10];if(_local_15!=null)_local_12=_local_15.paletteId;newCustomParts.push(new nitro_renderer[\"Ef\" /* PetCustomPart */](_local_13,_local_7[_local_10],_local_12));_local_10++;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:petFigureData.paletteId,petColor:petFigureData.color,customParts:newCustomParts,direction:2});}case FurniCategory.PET_CUSTOM_PART_SHAMPOO:{if(customParts.length<3)return null;const newCustomParts=[];const _local_6=customParts[1].split(',').map(piece=>parseInt(piece));const _local_8=customParts[2].split(',').map(piece=>parseInt(piece));let _local_10=0;while(_local_10<_local_6.length){const _local_13=_local_6[_local_10];const _local_15=petFigureData.getCustomPart(_local_13);let _local_14=-1;if(_local_15!=null)_local_14=_local_15.partId;newCustomParts.push(new nitro_renderer[\"Ef\" /* PetCustomPart */](_local_6[_local_10],_local_14,_local_8[_local_10]));_local_10++;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:petFigureData.paletteId,petColor:petFigureData.color,customParts:newCustomParts,direction:2});}case FurniCategory.PET_SADDLE:{if(customParts.length<4)return null;const newCustomParts=[];const _local_6=customParts[1].split(',').map(piece=>parseInt(piece));const _local_7=customParts[2].split(',').map(piece=>parseInt(piece));const _local_8=customParts[3].split(',').map(piece=>parseInt(piece));let _local_10=0;while(_local_10<_local_6.length){newCustomParts.push(new nitro_renderer[\"Ef\" /* PetCustomPart */](_local_6[_local_10],_local_7[_local_10],_local_8[_local_10]));_local_10++;}for(const _local_21 of petFigureData.customParts){if(_local_6.indexOf(_local_21.layerId)===-1){newCustomParts.push(_local_21);}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:petFigureData.paletteId,petColor:petFigureData.color,customParts:newCustomParts,direction:2});}case FurniCategory.MONSTERPLANT_REBREED:case FurniCategory.MONSTERPLANT_REVIVAL:case FurniCategory.MONSTERPLANT_FERTILIZE:{let posture='rip';const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,petData.roomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);if(roomObject){posture=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_POSTURE);if(posture==='rip'){const level=petData.petLevel;if(level<7)posture=`grw${level}`;else posture='std';}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:petFigureData.paletteId,petColor:petFigureData.color,customParts:petFigureData.customParts,posture:posture,direction:2});}}},[petData,furniData,roomSession]);Object(react[\"useEffect\"])(()=>{const userData=roomSession.userDataManager.getUserDataByIndex(item.id);setPetData(userData);const furniData=GetFurnitureDataForRoomObject(roomSession.roomId,item.requestRoomObjectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);if(!furniData)return;setFurniData(furniData);let mode=_Str_5091;switch(furniData.specialType){case FurniCategory.PET_SHAMPOO:mode=_Str_11906;break;case FurniCategory.PET_CUSTOM_PART:mode=_Str_11214;break;case FurniCategory.PET_CUSTOM_PART_SHAMPOO:mode=_Str_11733;break;case FurniCategory.PET_SADDLE:mode=_Str_11369;break;case FurniCategory.MONSTERPLANT_REVIVAL:mode=_Str_8759;break;case FurniCategory.MONSTERPLANT_REBREED:mode=_Str_8432;break;case FurniCategory.MONSTERPLANT_FERTILIZE:mode=_Str_9653;break;}setMode(mode);},[roomSession,item]);if(!petData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('useproduct.widget.title',['name'],[petData.name]),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"product-preview\",onClick:selectRoomObject,children:getPetImage})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:2,children:[mode===_Str_11906&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.shampoo',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.shampoo')})]}),mode===_Str_11214&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.custompart',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.custompart')})]}),mode===_Str_11733&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.custompartshampoo',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.custompartshampoo')})]}),mode===_Str_11369&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.saddle',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.saddle')})]}),mode===_Str_8759&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.revive_monsterplant',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.revive_monsterplant')})]}),mode===_Str_8432&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.rebreed_monsterplant',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.rebreed_monsterplant')})]}),mode===_Str_9653&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.fertilize_monsterplant',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.fertilize_monsterplant')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:onClose,children:LocalizeText('useproduct.widget.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('useproduct.widget.use')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuListItemView.tsx\nconst ContextMenuListItemView=props=>{const{disabled=false,fullWidth=true,justifyContent='center',alignItems='center',classNames=[],onClick=null,...rest}=props;const handleClick=event=>{if(disabled)return;if(onClick)onClick(event);};const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['menu-item','list-item'];if(disabled)newClassNames.push('disabled');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[disabled,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fullWidth:fullWidth,justifyContent:justifyContent,alignItems:alignItems,classNames:getClassNames,onClick:handleClick,...rest});};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuCaretView.tsx\nconst ContextMenuCaretView=props=>{const{justifyContent='center',alignItems='center',classNames=[],collapsed=true,...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['menu-footer'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:justifyContent,alignItems:alignItems,classNames:getClassNames,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:!collapsed?'caret-down':'caret-up',className:\"align-self-center\"})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuView.tsx\nconst LOCATION_STACK_SIZE=25;const BUBBLE_DROP_SPEED=3;const FADE_DELAY=5000;const FADE_LENGTH=75;const SPACE_AROUND_EDGES=10;let COLLAPSED=false;let FIXED_STACK=null;let MAX_STACK=-1000000;let FADE_TIME=1;const ContextMenuView=props=>{const{objectId=-1,category=-1,userType=-1,fades=false,onClose=null,position='absolute',classNames=[],style={},children=null,collapsable=false,...rest}=props;const[pos,setPos]=Object(react[\"useState\"])({x:null,y:null});const[opacity,setOpacity]=Object(react[\"useState\"])(1);const[isFading,setIsFading]=Object(react[\"useState\"])(false);const[isCollapsed,setIsCollapsed]=Object(react[\"useState\"])(COLLAPSED);const elementRef=Object(react[\"useRef\"])();const updateFade=Object(react[\"useCallback\"])(time=>{if(!isFading)return;FADE_TIME+=time;let newOpacity=(1-FADE_TIME/FADE_LENGTH)*1;if(newOpacity<=0){onClose();return false;}setOpacity(newOpacity);},[isFading,onClose]);const updatePosition=Object(react[\"useCallback\"])((bounds,location)=>{if(!bounds||!location||!FIXED_STACK)return;let offset=-elementRef.current.offsetHeight;if(userType>-1&&(userType===nitro_renderer[\"ah\" /* RoomObjectType */].USER||userType===nitro_renderer[\"ah\" /* RoomObjectType */].BOT||userType===nitro_renderer[\"ah\" /* RoomObjectType */].RENTABLE_BOT)){offset=offset+(bounds.height>50?15:0);}else{offset=offset-14;}FIXED_STACK.addValue(location.y-bounds.top);let maxStack=FIXED_STACK.getMax();if(maxStack<MAX_STACK-BUBBLE_DROP_SPEED)maxStack=MAX_STACK-BUBBLE_DROP_SPEED;MAX_STACK=maxStack;const deltaY=location.y-maxStack;let x=~~(location.x-elementRef.current.offsetWidth/2);let y=~~(deltaY+offset);const maxLeft=GetNitroInstance().width-elementRef.current.offsetWidth-SPACE_AROUND_EDGES;const maxTop=GetNitroInstance().height-elementRef.current.offsetHeight-SPACE_AROUND_EDGES;if(x<SPACE_AROUND_EDGES)x=SPACE_AROUND_EDGES;else if(x>maxLeft)x=maxLeft;if(y<SPACE_AROUND_EDGES)y=SPACE_AROUND_EDGES;else if(y>maxTop)y=maxTop;setPos({x,y});},[userType]);const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['nitro-context-menu'];if(isCollapsed)newClassNames.push('menu-hidden');newClassNames.push(pos.x!==null?'visible':'invisible');if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[pos,classNames,isCollapsed]);const getStyle=Object(react[\"useMemo\"])(()=>{let newStyle={};newStyle.left=pos.x||0;newStyle.top=pos.y||0;newStyle.opacity=opacity;if(Object.keys(style).length)newStyle={...newStyle,...style};return newStyle;},[pos,opacity,style]);Object(react[\"useEffect\"])(()=>{if(!elementRef.current)return;const update=time=>{if(!elementRef.current)return;updateFade(time);const bounds=GetRoomObjectBounds(GetRoomSession().roomId,objectId,category);const location=GetRoomObjectScreenLocation(GetRoomSession().roomId,objectId,category);updatePosition(bounds,location);};GetTicker().add(update);return()=>{GetTicker().remove(update);};},[objectId,category,updateFade,updatePosition]);Object(react[\"useEffect\"])(()=>{if(!fades)return;const timeout=setTimeout(()=>setIsFading(true),FADE_DELAY);return()=>clearTimeout(timeout);},[fades]);Object(react[\"useEffect\"])(()=>{COLLAPSED=isCollapsed;},[isCollapsed]);Object(react[\"useEffect\"])(()=>{FIXED_STACK=new nitro_renderer[\"Mb\" /* FixedSizeStack */](LOCATION_STACK_SIZE);MAX_STACK=-1000000;FADE_TIME=1;},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{innerRef:elementRef,position:position,classNames:getClassNames,style:getStyle,...rest,children:[!(collapsable&&COLLAPSED)&&children,collapsable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuCaretView,{onClick:()=>setIsCollapsed(!isCollapsed),collapsed:isCollapsed})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoUseProductView.tsx\nconst PRODUCT_PAGE_UKNOWN=0;const PRODUCT_PAGE_SHAMPOO=1;const PRODUCT_PAGE_CUSTOM_PART=2;const PRODUCT_PAGE_CUSTOM_PART_SHAMPOO=3;const PRODUCT_PAGE_SADDLE=4;const PRODUCT_PAGE_REVIVE=5;const PRODUCT_PAGE_REBREED=6;const PRODUCT_PAGE_FERTILIZE=7;const AvatarInfoUseProductView=props=>{const{item=null,updateConfirmingProduct=null,onClose=null}=props;const[mode,setMode]=Object(react[\"useState\"])(0);const{roomSession=null}=useRoom();Object(react[\"useEffect\"])(()=>{if(!item)return;const furniData=GetFurnitureDataForRoomObject(roomSession.roomId,item.requestRoomObjectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);if(!furniData)return;let mode=PRODUCT_PAGE_UKNOWN;switch(furniData.specialType){case FurniCategory.PET_SHAMPOO:mode=PRODUCT_PAGE_SHAMPOO;break;case FurniCategory.PET_CUSTOM_PART:mode=PRODUCT_PAGE_CUSTOM_PART;break;case FurniCategory.PET_CUSTOM_PART_SHAMPOO:mode=PRODUCT_PAGE_CUSTOM_PART_SHAMPOO;break;case FurniCategory.PET_SADDLE:mode=PRODUCT_PAGE_SADDLE;break;case FurniCategory.MONSTERPLANT_REVIVAL:mode=PRODUCT_PAGE_REVIVE;break;case FurniCategory.MONSTERPLANT_REBREED:mode=PRODUCT_PAGE_REBREED;break;case FurniCategory.MONSTERPLANT_FERTILIZE:mode=PRODUCT_PAGE_FERTILIZE;break;}setMode(mode);},[roomSession,item]);const processAction=Object(react[\"useCallback\"])(name=>{if(!name)return;switch(name){case'use_product':case'use_product_shampoo':case'use_product_custom_part':case'use_product_custom_part_shampoo':case'use_product_saddle':case'replace_product_saddle':case'revive_monsterplant':case'rebreed_monsterplant':case'fertilize_monsterplant':updateConfirmingProduct(item);break;}},[item,updateConfirmingProduct]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView,{objectId:item.id,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userType:nitro_renderer[\"ah\" /* RoomObjectType */].PET,onClose:onClose,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:item.name}),mode===PRODUCT_PAGE_UKNOWN&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_product'),children:LocalizeText('infostand.button.useproduct')}),mode===PRODUCT_PAGE_SHAMPOO&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_product_shampoo'),children:LocalizeText('infostand.button.useproduct_shampoo')}),mode===PRODUCT_PAGE_CUSTOM_PART&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_product_custom_part'),children:LocalizeText('infostand.button.useproduct_custom_part')}),mode===PRODUCT_PAGE_CUSTOM_PART_SHAMPOO&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_product_custom_part_shampoo'),children:LocalizeText('infostand.button.useproduct_custom_part_shampoo')}),mode===PRODUCT_PAGE_SADDLE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[item.replace&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('replace_product_saddle'),children:LocalizeText('infostand.button.replaceproduct_saddle')}),!item.replace&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_product_saddle'),children:LocalizeText('infostand.button.useproduct_saddle')})]}),mode===PRODUCT_PAGE_REVIVE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('revive_monsterplant'),children:LocalizeText('infostand.button.revive_monsterplant')}),mode===PRODUCT_PAGE_REBREED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('rebreed_monsterplant'),children:LocalizeText('infostand.button.rebreed_monsterplant')}),mode===PRODUCT_PAGE_FERTILIZE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('fertilize_monsterplant'),children:LocalizeText('infostand.button.fertilize_monsterplant')})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/infostand/InfoStandWidgetBotView.tsx\nconst InfoStandWidgetBotView=props=>{const{avatarInfo=null,onClose=null}=props;if(!avatarInfo)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"nitro-infostand rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:avatarInfo.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:onClose})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullWidth:true,className:\"body-image bot\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:avatarInfo.figure,direction:4})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{grow:true,center:true,gap:0,children:avatarInfo.badges.length>0&&avatarInfo.badges.map(result=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:result,showInfo:true},result);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",className:\"bg-light-dark rounded py-1 px-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fullWidth:true,wrap:true,textBreak:true,variant:\"white\",small:true,className:\"motto-content\",children:avatarInfo.motto})}),avatarInfo.carryItem>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.handitem',['item'],[LocalizeText('handitem'+avatarInfo.carryItem)])})]})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/infostand/InfoStandWidgetFurniView.tsx\nconst PICKUP_MODE_NONE=0;const PICKUP_MODE_EJECT=1;const PICKUP_MODE_FULL=2;const InfoStandWidgetFurniView=props=>{const{avatarInfo=null,onClose=null}=props;const{roomSession=null}=useRoom();const[pickupMode,setPickupMode]=Object(react[\"useState\"])(0);const[canMove,setCanMove]=Object(react[\"useState\"])(false);const[canRotate,setCanRotate]=Object(react[\"useState\"])(false);const[canUse,setCanUse]=Object(react[\"useState\"])(false);const[furniKeys,setFurniKeys]=Object(react[\"useState\"])([]);const[furniValues,setFurniValues]=Object(react[\"useState\"])([]);const[customKeys,setCustomKeys]=Object(react[\"useState\"])([]);const[customValues,setCustomValues]=Object(react[\"useState\"])([]);const[isCrackable,setIsCrackable]=Object(react[\"useState\"])(false);const[crackableHits,setCrackableHits]=Object(react[\"useState\"])(0);const[crackableTarget,setCrackableTarget]=Object(react[\"useState\"])(0);const[godMode,setGodMode]=Object(react[\"useState\"])(false);const[canSeeFurniId,setCanSeeFurniId]=Object(react[\"useState\"])(false);const[groupName,setGroupName]=Object(react[\"useState\"])(null);Object(react[\"useEffect\"])(()=>{let pickupMode=PICKUP_MODE_NONE;let canMove=false;let canRotate=false;let canUse=false;let furniKeyss=[];let furniValuess=[];let customKeyss=[];let customValuess=[];let isCrackable=false;let crackableHits=0;let crackableTarget=0;let godMode=false;let canSeeFurniId=false;const isValidController=avatarInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST;if(isValidController||avatarInfo.isOwner||avatarInfo.isRoomOwner||avatarInfo.isAnyRoomController){canMove=true;canRotate=!avatarInfo.isWallItem;if(avatarInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].MODERATOR)godMode=true;}if(avatarInfo.isAnyRoomController){canSeeFurniId=true;}if(avatarInfo.usagePolicy===nitro_renderer[\"Nh\" /* RoomWidgetFurniInfoUsagePolicyEnum */].EVERYBODY||avatarInfo.usagePolicy===nitro_renderer[\"Nh\" /* RoomWidgetFurniInfoUsagePolicyEnum */].CONTROLLER&&isValidController||avatarInfo.extraParam===nitro_renderer[\"Mh\" /* RoomWidgetEnumItemExtradataParameter */].JUKEBOX&&isValidController||avatarInfo.extraParam===nitro_renderer[\"Mh\" /* RoomWidgetEnumItemExtradataParameter */].USABLE_PRODUCT&&isValidController)canUse=true;if(avatarInfo.extraParam){if(avatarInfo.extraParam===nitro_renderer[\"Mh\" /* RoomWidgetEnumItemExtradataParameter */].CRACKABLE_FURNI){const stuffData=avatarInfo.stuffData;canUse=true;isCrackable=true;crackableHits=stuffData.hits;crackableTarget=stuffData.target;}if(godMode){const extraParam=avatarInfo.extraParam.substr(nitro_renderer[\"Mh\" /* RoomWidgetEnumItemExtradataParameter */].BRANDING_OPTIONS.length);if(extraParam){const parts=extraParam.split('\\t');for(const part of parts){const value=part.split('=');if(value&&value.length===2){furniKeyss.push(value[0]);furniValuess.push(value[1]);}}}}}if(godMode){const roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,avatarInfo.id,avatarInfo.isWallItem?nitro_renderer[\"Wg\" /* RoomObjectCategory */].WALL:nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);if(roomObject){const customVariables=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_CUSTOM_VARIABLES);const furnitureData=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FURNITURE_DATA);if(customVariables&&customVariables.length){for(const customVariable of customVariables){customKeyss.push(customVariable);customValuess.push(furnitureData[customVariable]||'');}}}}if(avatarInfo.isOwner||avatarInfo.isAnyRoomController)pickupMode=PICKUP_MODE_FULL;else if(avatarInfo.isRoomOwner||avatarInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUILD_ADMIN)pickupMode=PICKUP_MODE_EJECT;if(avatarInfo.isStickie)pickupMode=PICKUP_MODE_NONE;setPickupMode(pickupMode);setCanMove(canMove);setCanRotate(canRotate);setCanUse(canUse);setFurniKeys(furniKeyss);setFurniValues(furniValuess);setCustomKeys(customKeyss);setCustomValues(customValuess);setIsCrackable(isCrackable);setCrackableHits(crackableHits);setCrackableTarget(crackableTarget);setGodMode(godMode);setCanSeeFurniId(canSeeFurniId);setGroupName(null);if(avatarInfo.groupId)SendMessageComposer(new nitro_renderer[\"md\" /* GroupInformationComposer */](avatarInfo.groupId,false));},[roomSession,avatarInfo]);useMessageEvent(nitro_renderer[\"nd\" /* GroupInformationEvent */],event=>{const parser=event.getParser();if(!avatarInfo||avatarInfo.groupId!==parser.id||parser.flag)return;if(groupName)setGroupName(null);setGroupName(parser.title);});const onFurniSettingChange=Object(react[\"useCallback\"])((index,value)=>{const clone=Array.from(furniValues);clone[index]=value;setFurniValues(clone);},[furniValues]);const onCustomVariableChange=Object(react[\"useCallback\"])((index,value)=>{const clone=Array.from(customValues);clone[index]=value;setCustomValues(clone);},[customValues]);const getFurniSettingsAsString=Object(react[\"useCallback\"])(()=>{if(furniKeys.length===0||furniValues.length===0)return'';let data='';let i=0;while(i<furniKeys.length){const key=furniKeys[i];const value=furniValues[i];data=data+(key+'='+value+'\\t');i++;}return data;},[furniKeys,furniValues]);const processButtonAction=Object(react[\"useCallback\"])(action=>{if(!action||action==='')return;let objectData=null;switch(action){case'buy_one':CreateLinkEvent(`catalog/open/offerId/${avatarInfo.purchaseOfferId}`);return;case'move':GetRoomEngine().processRoomObjectOperation(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_MOVE);break;case'rotate':GetRoomEngine().processRoomObjectOperation(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_ROTATE_POSITIVE);break;case'pickup':if(pickupMode===PICKUP_MODE_FULL){GetRoomEngine().processRoomObjectOperation(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_PICKUP);}else{GetRoomEngine().processRoomObjectOperation(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_EJECT);}break;case'use':GetRoomEngine().useRoomObject(avatarInfo.id,avatarInfo.category);break;case'save_branding_configuration':{const mapData=new Map();const dataParts=getFurniSettingsAsString().split('\\t');if(dataParts){for(const part of dataParts){const[key,value]=part.split('=',2);mapData.set(key,value);}}GetRoomEngine().modifyRoomObjectDataWithMap(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_SAVE_STUFF_DATA,mapData);break;}case'save_custom_variables':{const map=new Map();for(let i=0;i<customKeys.length;i++){const key=customKeys[i];const value=customValues[i];if(key&&key.length&&value&&value.length)map.set(key,value);}SendMessageComposer(new nitro_renderer[\"ai\" /* SetObjectDataMessageComposer */](avatarInfo.id,map));break;}}},[avatarInfo,pickupMode,customKeys,customValues,getFurniSettingsAsString]);const getGroupBadgeCode=Object(react[\"useCallback\"])(()=>{const stringDataType=avatarInfo.stuffData;if(!stringDataType||!(stringDataType instanceof nitro_renderer[\"di\" /* StringDataType */]))return null;return stringDataType.getValue(2);},[avatarInfo]);if(!avatarInfo)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,alignItems:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"nitro-infostand rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:avatarInfo.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:onClose})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{position:\"relative\",gap:1,children:[avatarInfo.stuffData.isUnique&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute end-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionCompactPlateView,{uniqueNumber:avatarInfo.stuffData.uniqueNumber,uniqueSeries:avatarInfo.stuffData.uniqueSeries})}),avatarInfo.stuffData.rarityLevel>-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute end-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRarityLevelView,{level:avatarInfo.stuffData.rarityLevel})}),avatarInfo.image&&avatarInfo.image.src.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"d-block mx-auto\",src:avatarInfo.image.src,alt:\"\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fullWidth:true,wrap:true,textBreak:true,variant:\"white\",small:true,children:avatarInfo.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:avatarInfo.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('furni.owner',['name'],[avatarInfo.ownerName])})]}),avatarInfo.purchaseOfferId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,underline:true,pointer:true,onClick:event=>processButtonAction('buy_one'),children:LocalizeText('infostand.button.buy')})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[isCrackable&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.crackable_furni.hits_remaining',['hits','target'],[crackableHits.toString(),crackableTarget.toString()])})]}),avatarInfo.groupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{pointer:true,alignItems:\"center\",gap:2,onClick:()=>GetGroupInformation(avatarInfo.groupId),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:getGroupBadgeCode(),isGroup:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",underline:true,children:groupName})]})]}),godMode&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),canSeeFurniId&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,wrap:true,variant:\"white\",children:[\"ID: \",avatarInfo.id]}),furniKeys.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:furniKeys.map((key,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,wrap:true,align:\"end\",variant:\"white\",className:\"col-4\",children:key}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:furniValues[index],onChange:event=>onFurniSettingChange(index,event.target.value)})]},index);})})]})]}),customKeys.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 my-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:customKeys.map((key,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,wrap:true,align:\"end\",variant:\"white\",className:\"col-4\",children:key}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:customValues[index],onChange:event=>onCustomVariableChange(index,event.target.value)})]},index);})})]})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,justifyContent:\"end\",children:[canMove&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('move'),children:LocalizeText('infostand.button.move')}),canRotate&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('rotate'),children:LocalizeText('infostand.button.rotate')}),pickupMode!==PICKUP_MODE_NONE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('pickup'),children:LocalizeText(pickupMode===PICKUP_MODE_EJECT?'infostand.button.eject':'infostand.button.pickup')}),canUse&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('use'),children:LocalizeText('infostand.button.use')}),furniKeys.length>0&&furniValues.length>0&&furniKeys.length===furniValues.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:()=>processButtonAction('save_branding_configuration'),children:LocalizeText('save')}),customKeys.length>0&&customValues.length>0&&customKeys.length===customValues.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:()=>processButtonAction('save_custom_variables'),children:LocalizeText('save')})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/infostand/InfoStandWidgetPetView.tsx\nconst InfoStandWidgetPetView=props=>{const{avatarInfo=null,onClose=null}=props;const[remainingGrowTime,setRemainingGrowTime]=Object(react[\"useState\"])(0);const[remainingTimeToLive,setRemainingTimeToLive]=Object(react[\"useState\"])(0);const{roomSession=null}=useRoom();const{petRespectRemaining=0,respectPet=null}=useSessionInfo();Object(react[\"useEffect\"])(()=>{setRemainingGrowTime(avatarInfo.remainingGrowTime);setRemainingTimeToLive(avatarInfo.remainingTimeToLive);},[avatarInfo]);Object(react[\"useEffect\"])(()=>{if(avatarInfo.petType!==nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT||avatarInfo.dead)return;const interval=setInterval(()=>{setRemainingGrowTime(prevValue=>prevValue-1);setRemainingTimeToLive(prevValue=>prevValue-1);},1000);return()=>clearInterval(interval);},[avatarInfo]);if(!avatarInfo)return null;const processButtonAction=action=>{let hideMenu=true;if(!action||action=='')return;switch(action){case'respect':respectPet(avatarInfo.id);if(petRespectRemaining-1>=1)hideMenu=false;break;case'buyfood':CreateLinkEvent('catalog/open/'+GetConfiguration('catalog.links')['pets.buy_saddle']);break;case'train':// not coded\nbreak;case'treat':SendMessageComposer(new nitro_renderer[\"Kf\" /* PetRespectComposer */](avatarInfo.id));break;case'compost':roomSession===null||roomSession===void 0?void 0:roomSession.compostPlant(avatarInfo.id);break;case'pick_up':roomSession===null||roomSession===void 0?void 0:roomSession.pickupPet(avatarInfo.id);break;}if(hideMenu)onClose();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,alignItems:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"nitro-infostand rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:avatarInfo.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:onClose})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText(`pet.breed.${avatarInfo.petType}.${avatarInfo.petBreed}`)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),avatarInfo.petType===nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{figure:avatarInfo.petFigure,posture:avatarInfo.posture,direction:4}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:2,children:[!avatarInfo.dead&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{alignItems:\"center\",gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",center:true,small:true,wrap:true,children:LocalizeText('pet.level',['level','maxlevel'],[avatarInfo.level.toString(),avatarInfo.maximumLevel.toString()])})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.wellbeing')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{fullWidth:true,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fit:true,center:true,position:\"absolute\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,children:avatarInfo.dead?'00:00:00':ConvertSeconds(remainingTimeToLive==0?avatarInfo.remainingTimeToLive:remainingTimeToLive).split(':')[1]+':'+ConvertSeconds(remainingTimeToLive==null||remainingTimeToLive==undefined?0:remainingTimeToLive).split(':')[2]+':'+ConvertSeconds(remainingTimeToLive==null||remainingTimeToLive==undefined?0:remainingTimeToLive).split(':')[3]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"bg-success rounded pet-stats\",style:{width:avatarInfo.dead?'0':Math.round(avatarInfo.maximumTimeToLive*100/remainingTimeToLive).toString()}})]})]}),remainingGrowTime!=0&&remainingGrowTime>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.growth')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCounterTimeView,{className:\"top-2 end-2\",day:ConvertSeconds(remainingGrowTime).split(':')[0],hour:ConvertSeconds(remainingGrowTime).split(':')[1],minutes:ConvertSeconds(remainingGrowTime).split(':')[2],seconds:ConvertSeconds(remainingGrowTime).split(':')[3]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.raritylevel',['level'],[LocalizeText(`infostand.pet.raritylevel.${avatarInfo.rarityLevel}`)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRarityLevelView,{className:\"top-2 end-2\",level:avatarInfo.rarityLevel})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('pet.age',['age'],[avatarInfo.age.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]})]}),avatarInfo.petType!==nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullWidth:true,overflow:\"hidden\",className:\"body-image pet p-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView,{figure:avatarInfo.petFigure,posture:avatarInfo.posture,direction:4})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",center:true,small:true,wrap:true,children:LocalizeText('pet.level',['level','maxlevel'],[avatarInfo.level.toString(),avatarInfo.maximumLevel.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.happiness')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{fullWidth:true,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fit:true,center:true,position:\"absolute\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,children:avatarInfo.happyness+'/'+avatarInfo.maximumHappyness})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"bg-info rounded pet-stats\",style:{width:avatarInfo.happyness/avatarInfo.maximumHappyness*100+'%'}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.experience')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{fullWidth:true,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fit:true,center:true,position:\"absolute\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,children:avatarInfo.experience+'/'+avatarInfo.levelExperienceGoal})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"bg-purple rounded pet-stats\",style:{width:avatarInfo.experience/avatarInfo.levelExperienceGoal*100+'%'}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.energy')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{fullWidth:true,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{fit:true,center:true,position:\"absolute\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,children:avatarInfo.energy+'/'+avatarInfo.maximumEnergy})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"bg-success rounded pet-stats\",style:{width:avatarInfo.energy/avatarInfo.maximumEnergy*100+'%'}})]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[avatarInfo.petType!==nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.petrespect',['count'],[avatarInfo.respect.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('pet.age',['age'],[avatarInfo.age.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:avatarInfo.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.petowner',['name'],[avatarInfo.ownerName])})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,justifyContent:\"end\",children:[avatarInfo.petType!==nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('buyfood'),children:LocalizeText('infostand.button.buyfood')}),avatarInfo.isOwner&&avatarInfo.petType!==nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('train'),children:LocalizeText('infostand.button.train')}),!avatarInfo.dead&&avatarInfo.energy/avatarInfo.maximumEnergy<0.98&&avatarInfo.petType===nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('treat'),children:LocalizeText('infostand.button.pettreat')}),(roomSession===null||roomSession===void 0?void 0:roomSession.isRoomOwner)&&avatarInfo.petType===nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('compost'),children:LocalizeText('infostand.button.compost')}),avatarInfo.isOwner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('pick_up'),children:LocalizeText('inventory.pets.pickup')}),petRespectRemaining>0&&avatarInfo.petType!==nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:event=>processButtonAction('respect'),children:LocalizeText('infostand.button.petrespect',['count'],[petRespectRemaining.toString()])})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/infostand/InfoStandWidgetRentableBotView.tsx\nconst InfoStandWidgetRentableBotView=props=>{const{avatarInfo=null,onClose=null}=props;const canPickup=Object(react[\"useMemo\"])(()=>{if(avatarInfo.botSkills.indexOf(BotSkillsEnum.NO_PICK_UP)>=0)return false;if(!avatarInfo.amIOwner&&!avatarInfo.amIAnyRoomController)return false;return true;},[avatarInfo]);const pickupBot=()=>SendMessageComposer(new nitro_renderer[\"C\" /* BotRemoveComposer */](avatarInfo.webID));if(!avatarInfo)return;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"nitro-infostand rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:avatarInfo.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:onClose})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullWidth:true,className:\"body-image bot\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:avatarInfo.figure,direction:4})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{grow:true,center:true,gap:0,children:avatarInfo.badges.length>0&&avatarInfo.badges.map(result=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:result,showInfo:true},result);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",className:\"bg-light-dark rounded py-1 px-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fullWidth:true,wrap:true,textBreak:true,variant:\"white\",small:true,className:\"motto-content\",children:avatarInfo.motto})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:avatarInfo.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.botowner',['name'],[avatarInfo.ownerName])})]}),avatarInfo.carryItem>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.handitem',['item'],[LocalizeText('handitem'+avatarInfo.carryItem)])})]})]})]})}),canPickup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"dark\",onClick:pickupBot,children:LocalizeText('infostand.button.pickup')})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/infostand/InfoStandWidgetUserRelationshipItemView.tsx\nconst InfoStandWidgetUserRelationshipsRelationshipItemView=props=>{const{type=-1,relationship=null}=props;if(!relationship)return null;const relationshipName=nitro_renderer[\"dg\" /* RelationshipStatusEnum */].RELATIONSHIP_NAMES[type].toLocaleLowerCase();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`nitro-friends-spritesheet icon-${relationshipName}`}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",gap:0,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,variant:\"white\",onClick:event=>GetUserProfile(relationship.randomFriendId),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"u\",{children:relationship.randomFriendName}),relationship.friendCount>1&&' '+LocalizeText(`extendedprofile.relstatus.others.${relationshipName}`,['count'],[(relationship.friendCount-1).toString()])]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/infostand/InfoStandWidgetUserRelationshipsView.tsx\nconst InfoStandWidgetUserRelationshipsView=props=>{const{relationships=null}=props;if(!relationships||!relationships.relationshipStatusMap.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetUserRelationshipsRelationshipItemView,{type:nitro_renderer[\"dg\" /* RelationshipStatusEnum */].HEART,relationship:relationships.relationshipStatusMap.getValue(nitro_renderer[\"dg\" /* RelationshipStatusEnum */].HEART)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetUserRelationshipsRelationshipItemView,{type:nitro_renderer[\"dg\" /* RelationshipStatusEnum */].SMILE,relationship:relationships.relationshipStatusMap.getValue(nitro_renderer[\"dg\" /* RelationshipStatusEnum */].SMILE)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetUserRelationshipsRelationshipItemView,{type:nitro_renderer[\"dg\" /* RelationshipStatusEnum */].BOBBA,relationship:relationships.relationshipStatusMap.getValue(nitro_renderer[\"dg\" /* RelationshipStatusEnum */].BOBBA)})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/infostand/InfoStandWidgetUserView.tsx\nconst InfoStandWidgetUserView=props=>{const{avatarInfo=null,setAvatarInfo=null,onClose=null}=props;const[motto,setMotto]=Object(react[\"useState\"])(null);const[isEditingMotto,setIsEditingMotto]=Object(react[\"useState\"])(false);const[relationships,setRelationships]=Object(react[\"useState\"])(null);const{roomSession=null}=useRoom();const saveMotto=motto=>{if(!isEditingMotto||motto.length>GetConfiguration('motto.max.length',38))return;roomSession.sendMottoMessage(motto);setIsEditingMotto(false);};const onMottoBlur=event=>saveMotto(event.target.value);const onMottoKeyDown=event=>{event.stopPropagation();switch(event.key){case'Enter':saveMotto(event.target.value);return;}};useRoomSessionManagerEvent(nitro_renderer[\"sh\" /* RoomSessionUserBadgesEvent */].RSUBE_BADGES,event=>{if(!avatarInfo||avatarInfo.webID!==event.userId)return;const oldBadges=avatarInfo.badges.join('');if(oldBadges===event.badges.join(''))return;setAvatarInfo(prevValue=>{const newValue=CloneObject(prevValue);newValue.badges=event.badges;return newValue;});});useRoomSessionManagerEvent(nitro_renderer[\"uh\" /* RoomSessionUserFigureUpdateEvent */].USER_FIGURE,event=>{if(!avatarInfo||avatarInfo.roomIndex!==event.roomIndex)return;setAvatarInfo(prevValue=>{const newValue=CloneObject(prevValue);newValue.figure=event.figure;newValue.motto=event.customInfo;newValue.achievementScore=event.activityPoints;return newValue;});});useRoomSessionManagerEvent(nitro_renderer[\"nh\" /* RoomSessionFavoriteGroupUpdateEvent */].FAVOURITE_GROUP_UPDATE,event=>{if(!avatarInfo||avatarInfo.roomIndex!==event.roomIndex)return;setAvatarInfo(prevValue=>{const newValue=CloneObject(prevValue);const clearGroup=event.status===-1||event.habboGroupId<=0;newValue.groupId=clearGroup?-1:event.habboGroupId;newValue.groupName=clearGroup?null:event.habboGroupName;newValue.groupBadgeId=clearGroup?null:GetSessionDataManager().getGroupBadge(event.habboGroupId);return newValue;});});useMessageEvent(nitro_renderer[\"eg\" /* RelationshipStatusInfoEvent */],event=>{const parser=event.getParser();if(!avatarInfo||avatarInfo.webID!==parser.userId)return;setRelationships(parser);});Object(react[\"useEffect\"])(()=>{setIsEditingMotto(false);setMotto(avatarInfo.motto);SendMessageComposer(new nitro_renderer[\"aj\" /* UserRelationshipsComposer */](avatarInfo.webID));return()=>{setIsEditingMotto(false);setMotto(null);setRelationships(null);};},[avatarInfo]);if(!avatarInfo)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{className:\"nitro-infostand rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView,{userId:avatarInfo.webID}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:avatarInfo.name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:onClose})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullWidth:true,className:\"body-image\",onClick:event=>GetUserProfile(avatarInfo.webID),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:avatarInfo.figure,direction:4})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,alignItems:\"center\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"badge-image\",children:avatarInfo.badges[0]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:avatarInfo.badges[0],showInfo:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:avatarInfo.groupId>0,className:\"badge-image\",onClick:event=>GetGroupInformation(avatarInfo.groupId),children:avatarInfo.groupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:avatarInfo.groupBadgeId,isGroup:true,showInfo:true,customTitle:avatarInfo.groupName})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"badge-image\",children:avatarInfo.badges[1]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:avatarInfo.badges[1],showInfo:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"badge-image\",children:avatarInfo.badges[2]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:avatarInfo.badges[2],showInfo:true})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"badge-image\",children:avatarInfo.badges[3]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:avatarInfo.badges[3],showInfo:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"badge-image\",children:avatarInfo.badges[4]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:avatarInfo.badges[4],showInfo:true})})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",className:\"bg-light-dark rounded py-1 px-2\",children:[avatarInfo.type!==AvatarInfoUser.OWN_USER&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{grow:true,alignItems:\"center\",className:\"motto-content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fullWidth:true,pointer:true,wrap:true,textBreak:true,small:true,variant:\"white\",children:motto})}),avatarInfo.type===AvatarInfoUser.OWN_USER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{grow:true,alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"pencil-alt\",className:\"small\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{grow:true,alignItems:\"center\",className:\"motto-content\",children:[!isEditingMotto&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{fullWidth:true,pointer:true,wrap:true,textBreak:true,small:true,variant:\"white\",onClick:event=>setIsEditingMotto(true),children:[motto,\"\\xA0\"]}),isEditingMotto&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"motto-input\",maxLength:GetConfiguration('motto.max.length',38),value:motto,onChange:event=>setMotto(event.target.value),onBlur:onMottoBlur,onKeyDown:onMottoKeyDown,autoFocus:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.achievement_score')+' '+avatarInfo.achievementScore}),avatarInfo.carryItem>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.handitem',['item'],[LocalizeText('handitem'+avatarInfo.carryItem)])})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetUserRelationshipsView,{relationships:relationships})})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/menu/AvatarInfoWidgetAvatarView.tsx\nconst MODE_NORMAL=0;const MODE_MODERATE=1;const MODE_MODERATE_BAN=2;const MODE_MODERATE_MUTE=3;const MODE_AMBASSADOR=4;const MODE_AMBASSADOR_MUTE=5;const MODE_RELATIONSHIP=6;const AvatarInfoWidgetAvatarView=props=>{const{avatarInfo=null,onClose=null}=props;const[mode,setMode]=Object(react[\"useState\"])(MODE_NORMAL);const{canRequestFriend=null}=useFriends();const{report=null}=useHelp();const{roomSession=null}=useRoom();const{userRespectRemaining=0,respectUser=null}=useSessionInfo();const isShowGiveRights=Object(react[\"useMemo\"])(()=>{return avatarInfo.amIOwner&&avatarInfo.targetRoomControllerLevel<nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST&&!avatarInfo.isGuildRoom;},[avatarInfo]);const isShowRemoveRights=Object(react[\"useMemo\"])(()=>{return avatarInfo.amIOwner&&avatarInfo.targetRoomControllerLevel===nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST&&!avatarInfo.isGuildRoom;},[avatarInfo]);const moderateMenuHasContent=Object(react[\"useMemo\"])(()=>{return avatarInfo.canBeKicked||avatarInfo.canBeBanned||avatarInfo.canBeMuted||isShowGiveRights||isShowRemoveRights;},[isShowGiveRights,isShowRemoveRights,avatarInfo]);const canGiveHandItem=Object(react[\"useMemo\"])(()=>{let flag=false;const roomObject=GetOwnRoomObject();if(roomObject){const carryId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT);if(carryId>0&&carryId<999999)flag=true;}return flag;},[]);const processAction=name=>{let hideMenu=true;if(name){switch(name){case'moderate':hideMenu=false;setMode(MODE_MODERATE);break;case'ban':hideMenu=false;setMode(MODE_MODERATE_BAN);break;case'mute':hideMenu=false;setMode(MODE_MODERATE_MUTE);break;case'ambassador':hideMenu=false;setMode(MODE_AMBASSADOR);break;case'ambassador_mute':hideMenu=false;setMode(MODE_AMBASSADOR_MUTE);break;case'back_moderate':hideMenu=false;setMode(MODE_MODERATE);break;case'back_ambassador':hideMenu=false;setMode(MODE_AMBASSADOR);break;case'back':hideMenu=false;setMode(MODE_NORMAL);break;case'whisper':DispatchUiEvent(new RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent(RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.WHISPER,avatarInfo.name));break;case'friend':CreateLinkEvent(`friends/request/${avatarInfo.webID}/${avatarInfo.name}`);break;case'relationship':hideMenu=false;setMode(MODE_RELATIONSHIP);break;case'respect':{respectUser(avatarInfo.webID);if(userRespectRemaining-1>=1)hideMenu=false;break;}case'ignore':GetSessionDataManager().ignoreUser(avatarInfo.name);break;case'unignore':GetSessionDataManager().unignoreUser(avatarInfo.name);break;case'kick':roomSession.sendKickMessage(avatarInfo.webID);break;case'ban_hour':roomSession.sendBanMessage(avatarInfo.webID,'RWUAM_BAN_USER_HOUR');break;case'ban_day':roomSession.sendBanMessage(avatarInfo.webID,'RWUAM_BAN_USER_DAY');break;case'perm_ban':roomSession.sendBanMessage(avatarInfo.webID,'RWUAM_BAN_USER_PERM');break;case'mute_2min':roomSession.sendMuteMessage(avatarInfo.webID,2);break;case'mute_5min':roomSession.sendMuteMessage(avatarInfo.webID,5);break;case'mute_10min':roomSession.sendMuteMessage(avatarInfo.webID,10);break;case'give_rights':roomSession.sendGiveRightsMessage(avatarInfo.webID);break;case'remove_rights':roomSession.sendTakeRightsMessage(avatarInfo.webID);break;case'trade':SendMessageComposer(new nitro_renderer[\"wi\" /* TradingOpenComposer */](avatarInfo.roomIndex));break;case'report':report(ReportType.BULLY,{reportedUserId:avatarInfo.webID});break;case'pass_hand_item':SendMessageComposer(new nitro_renderer[\"Fh\" /* RoomUnitGiveHandItemComposer */](avatarInfo.webID));break;case'ambassador_alert':roomSession.sendAmbassadorAlertMessage(avatarInfo.webID);break;case'ambassador_kick':roomSession.sendKickMessage(avatarInfo.webID);break;case'ambassador_mute_2min':roomSession.sendMuteMessage(avatarInfo.webID,2);break;case'ambassador_mute_10min':roomSession.sendMuteMessage(avatarInfo.webID,10);break;case'ambassador_mute_60min':roomSession.sendMuteMessage(avatarInfo.webID,60);break;case'ambassador_mute_18hour':roomSession.sendMuteMessage(avatarInfo.webID,1080);break;case'rship_heart':SendMessageComposer(new nitro_renderer[\"bi\" /* SetRelationshipStatusComposer */](avatarInfo.webID,MessengerFriend.RELATIONSHIP_HEART));break;case'rship_smile':SendMessageComposer(new nitro_renderer[\"bi\" /* SetRelationshipStatusComposer */](avatarInfo.webID,MessengerFriend.RELATIONSHIP_SMILE));break;case'rship_bobba':SendMessageComposer(new nitro_renderer[\"bi\" /* SetRelationshipStatusComposer */](avatarInfo.webID,MessengerFriend.RELATIONSHIP_BOBBA));break;case'rship_none':SendMessageComposer(new nitro_renderer[\"bi\" /* SetRelationshipStatusComposer */](avatarInfo.webID,MessengerFriend.RELATIONSHIP_NONE));break;}}if(hideMenu)onClose();};Object(react[\"useEffect\"])(()=>{setMode(MODE_NORMAL);},[avatarInfo]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView,{objectId:avatarInfo.roomIndex,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userType:avatarInfo.userType,onClose:onClose,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{className:\"cursor-pointer\",onClick:event=>GetUserProfile(avatarInfo.webID),children:avatarInfo.name}),mode===MODE_NORMAL&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[canRequestFriend(avatarInfo.webID)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('friend'),children:LocalizeText('infostand.button.friend')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('trade'),children:LocalizeText('infostand.button.trade')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('whisper'),children:LocalizeText('infostand.button.whisper')}),userRespectRemaining>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('respect'),children:LocalizeText('infostand.button.respect',['count'],[userRespectRemaining.toString()])}),!canRequestFriend(avatarInfo.webID)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('relationship'),children:[LocalizeText('infostand.link.relationship'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"})]}),!avatarInfo.isIgnored&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ignore'),children:LocalizeText('infostand.button.ignore')}),avatarInfo.isIgnored&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('unignore'),children:LocalizeText('infostand.button.unignore')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('report'),children:LocalizeText('infostand.button.report')}),moderateMenuHasContent&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('moderate'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.link.moderate')]}),avatarInfo.isAmbassador&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('ambassador'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.link.ambassador')]}),canGiveHandItem&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pass_hand_item'),children:LocalizeText('avatar.widget.pass_hand_item')})]}),mode===MODE_MODERATE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('kick'),children:LocalizeText('infostand.button.kick')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('mute'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.button.mute')]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('ban'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.button.ban')]}),isShowGiveRights&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('give_rights'),children:LocalizeText('infostand.button.giverights')}),isShowRemoveRights&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('remove_rights'),children:LocalizeText('infostand.button.removerights')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_MODERATE_BAN&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ban_hour'),children:LocalizeText('infostand.button.ban_hour')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ban_day'),children:LocalizeText('infostand.button.ban_day')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('perm_ban'),children:LocalizeText('infostand.button.perm_ban')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back_moderate'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_MODERATE_MUTE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('mute_2min'),children:LocalizeText('infostand.button.mute_2min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('mute_5min'),children:LocalizeText('infostand.button.mute_5min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('mute_10min'),children:LocalizeText('infostand.button.mute_10min')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back_moderate'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_AMBASSADOR&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ambassador_alert'),children:LocalizeText('infostand.button.alert')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ambassador_kick'),children:LocalizeText('infostand.button.kick')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('ambassador_mute'),children:[LocalizeText('infostand.button.mute'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_AMBASSADOR_MUTE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ambassador_mute_2min'),children:LocalizeText('infostand.button.mute_2min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ambassador_mute_10min'),children:LocalizeText('infostand.button.mute_10min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ambassador_mute_60min'),children:LocalizeText('infostand.button.mute_60min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('ambassador_mute_18hr'),children:LocalizeText('infostand.button.mute_18hour')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back_ambassador'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_RELATIONSHIP&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('rship_heart'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-heart\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('rship_smile'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-smile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('rship_bobba'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"nitro-friends-spritesheet icon-bobba\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('rship_none'),children:LocalizeText('avatar.widget.clear_relationship')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuListView.tsx\nconst ContextMenuListView=props=>{const{classNames=[],...rest}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['menu-list'];if(classNames.length)newClassNames.push(...classNames);return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{classNames:getClassNames,...rest});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/menu/AvatarInfoWidgetDecorateView.tsx\nconst AvatarInfoWidgetDecorateView=props=>{const{userId=-1,userName='',roomIndex=-1,setIsDecorating=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuView,{objectId:roomIndex,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,onClose:null,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>setIsDecorating(false),children:LocalizeText('widget.avatar.stop_decorating')})})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/menu/AvatarInfoWidgetFurniView.tsx\nconst AvatarInfoWidgetFurniView=props=>{const{avatarInfo=null,onClose=null}=props;const processAction=name=>{let hideMenu=true;if(name){switch(name){case'move':ProcessRoomObjectOperation(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_MOVE);break;case'rotate':ProcessRoomObjectOperation(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_ROTATE_POSITIVE);break;case'pickup':ProcessRoomObjectOperation(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_PICKUP);break;case'eject':ProcessRoomObjectOperation(avatarInfo.id,avatarInfo.category,nitro_renderer[\"Yg\" /* RoomObjectOperationType */].OBJECT_EJECT);break;}}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView,{objectId:avatarInfo.id,category:avatarInfo.category,onClose:onClose,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:avatarInfo.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('move'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrows-up-down-left-right\",className:\"center\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('rotate'),disabled:avatarInfo.isWallItem,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"rotate\",className:\"center\"})}),(avatarInfo.isOwner||avatarInfo.isAnyRoomController)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pickup'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"trash-arrow-up\",className:\"center\"})}),!avatarInfo.isOwner&&!avatarInfo.isAnyRoomController&&(avatarInfo.isRoomOwner||avatarInfo.roomControllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUILD_ADMIN)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('eject'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"trash-arrow-up\",className:\"center\"})})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/menu/AvatarInfoWidgetNameView.tsx\nconst AvatarInfoWidgetNameView=props=>{const{nameInfo=null,onClose=null}=props;const getClassNames=Object(react[\"useMemo\"])(()=>{const newClassNames=['name-only'];if(nameInfo.isFriend)newClassNames.push('is-friend');return newClassNames;},[nameInfo]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuView,{objectId:nameInfo.roomIndex,category:nameInfo.category,userType:nameInfo.userType,fades:nameInfo.id!==GetSessionDataManager().userId,classNames:getClassNames,onClose:onClose,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-shadow\",children:nameInfo.name})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/menu/AvatarInfoWidgetOwnAvatarView.tsx\nconst AvatarInfoWidgetOwnAvatarView_MODE_NORMAL=0;const MODE_CLUB_DANCES=1;const MODE_NAME_CHANGE=2;const MODE_EXPRESSIONS=3;const MODE_SIGNS=4;const AvatarInfoWidgetOwnAvatarView=props=>{const{avatarInfo=null,isDancing=false,setIsDecorating=null,onClose=null}=props;const[mode,setMode]=Object(react[\"useState\"])(isDancing&&HasHabboClub()?MODE_CLUB_DANCES:AvatarInfoWidgetOwnAvatarView_MODE_NORMAL);const{roomSession=null}=useRoom();const processAction=name=>{let hideMenu=true;if(name){if(name.startsWith('sign_')){const sign=parseInt(name.split('_')[1]);roomSession.sendSignMessage(sign);}else{switch(name){case'decorate':setIsDecorating(true);break;case'change_name':DispatchUiEvent(new HelpNameChangeEvent_HelpNameChangeEvent(HelpNameChangeEvent_HelpNameChangeEvent.INIT));break;case'change_looks':CreateLinkEvent('avatar-editor/show');break;case'expressions':hideMenu=false;setMode(MODE_EXPRESSIONS);break;case'sit':roomSession.sendPostureMessage(PostureTypeEnum.POSTURE_SIT);break;case'stand':roomSession.sendPostureMessage(PostureTypeEnum.POSTURE_STAND);break;case'wave':roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].WAVE.ordinal);break;case'blow':roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].BLOW.ordinal);break;case'laugh':roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].LAUGH.ordinal);break;case'idle':roomSession.sendExpressionMessage(nitro_renderer[\"o\" /* AvatarExpressionEnum */].IDLE.ordinal);break;case'dance_menu':hideMenu=false;setMode(MODE_CLUB_DANCES);break;case'dance':roomSession.sendDanceMessage(1);break;case'dance_stop':roomSession.sendDanceMessage(0);break;case'dance_1':case'dance_2':case'dance_3':case'dance_4':roomSession.sendDanceMessage(parseInt(name.charAt(name.length-1)));break;case'signs':hideMenu=false;setMode(MODE_SIGNS);break;case'back':hideMenu=false;setMode(AvatarInfoWidgetOwnAvatarView_MODE_NORMAL);break;case'drop_carry_item':SendMessageComposer(new nitro_renderer[\"Eh\" /* RoomUnitDropHandItemComposer */]());break;}}}if(hideMenu)onClose();};const isShowDecorate=()=>avatarInfo.amIOwner||avatarInfo.amIAnyRoomController||avatarInfo.roomControllerLevel>nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST;const isRidingHorse=IsRidingHorse();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView,{objectId:avatarInfo.roomIndex,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userType:avatarInfo.userType,onClose:onClose,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{className:\"cursor-pointer\",onClick:event=>GetUserProfile(avatarInfo.webID),children:avatarInfo.name}),mode===AvatarInfoWidgetOwnAvatarView_MODE_NORMAL&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[avatarInfo.allowNameChange&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('change_name'),children:LocalizeText('widget.avatar.change_name')}),isShowDecorate()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('decorate'),children:LocalizeText('widget.avatar.decorate')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('change_looks'),children:LocalizeText('widget.memenu.myclothes')}),HasHabboClub()&&!isRidingHorse&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('dance_menu'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('widget.memenu.dance')]}),!isDancing&&!HasHabboClub()&&!isRidingHorse&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dance'),children:LocalizeText('widget.memenu.dance')}),isDancing&&!HasHabboClub()&&!isRidingHorse&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dance_stop'),children:LocalizeText('widget.memenu.dance.stop')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('expressions'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.link.expressions')]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('signs'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.show.signs')]}),avatarInfo.carryItem>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('drop_carry_item'),children:LocalizeText('avatar.widget.drop_hand_item')})]}),mode===MODE_CLUB_DANCES&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isDancing&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dance_stop'),children:LocalizeText('widget.memenu.dance.stop')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dance_1'),children:LocalizeText('widget.memenu.dance1')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dance_2'),children:LocalizeText('widget.memenu.dance2')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dance_3'),children:LocalizeText('widget.memenu.dance3')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dance_4'),children:LocalizeText('widget.memenu.dance4')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_EXPRESSIONS&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[GetOwnPosture()===nitro_renderer[\"l\" /* AvatarAction */].POSTURE_STAND&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sit'),children:LocalizeText('widget.memenu.sit')}),GetCanStandUp()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('stand'),children:LocalizeText('widget.memenu.stand')}),GetCanUseExpression()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('wave'),children:LocalizeText('widget.memenu.wave')}),GetCanUseExpression()&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{disabled:!HasHabboVip(),onClick:event=>processAction('laugh'),children:[!HasHabboVip()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:\"hc\"}),LocalizeText('widget.memenu.laugh')]}),GetCanUseExpression()&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{disabled:!HasHabboVip(),onClick:event=>processAction('blow'),children:[!HasHabboVip()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{type:\"hc\"}),LocalizeText('widget.memenu.blow')]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('idle'),children:LocalizeText('widget.memenu.idle')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_SIGNS&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_1'),children:\"1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_2'),children:\"2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_3'),children:\"3\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_4'),children:\"4\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_5'),children:\"5\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_6'),children:\"6\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_7'),children:\"7\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_8'),children:\"8\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_9'),children:\"9\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_10'),children:\"10\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_11'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-heart\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_12'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-skull\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_0'),children:\"0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_13'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-exclamation\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_15'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-smile\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_14'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-soccer\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_17'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-yellow\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('sign_16'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-red\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('back'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/menu/AvatarInfoWidgetOwnPetView.tsx\nconst AvatarInfoWidgetOwnPetView_MODE_NORMAL=0;const MODE_SADDLED_UP=1;const MODE_RIDING=2;const MODE_MONSTER_PLANT=3;const AvatarInfoWidgetOwnPetView=props=>{const{avatarInfo=null,onClose=null}=props;const[mode,setMode]=Object(react[\"useState\"])(AvatarInfoWidgetOwnPetView_MODE_NORMAL);const{roomSession=null}=useRoom();const{petRespectRemaining=0,respectPet=null}=useSessionInfo();const canGiveHandItem=Object(react[\"useMemo\"])(()=>{let flag=false;const roomObject=GetOwnRoomObject();if(roomObject){const carryId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT);if(carryId>0&&carryId<999999)flag=true;}return flag;},[]);const processAction=name=>{let hideMenu=true;if(name){switch(name){case'respect':respectPet(avatarInfo.id);if(petRespectRemaining-1>=1)hideMenu=false;break;case'treat':SendMessageComposer(new nitro_renderer[\"Kf\" /* PetRespectComposer */](avatarInfo.id));break;case'pass_handitem':SendMessageComposer(new nitro_renderer[\"Gh\" /* RoomUnitGiveHandItemPetComposer */](avatarInfo.id));break;case'train'://this.widget._Str_23877();\nbreak;case'pick_up':roomSession.pickupPet(avatarInfo.id);break;case'mount':roomSession.mountPet(avatarInfo.id);break;case'toggle_riding_permission':roomSession.togglePetRiding(avatarInfo.id);break;case'toggle_breeding_permission':roomSession.togglePetBreeding(avatarInfo.id);break;case'dismount':roomSession.dismountPet(avatarInfo.id);break;case'saddle_off':roomSession.removePetSaddle(avatarInfo.id);break;case'breed':if(mode===AvatarInfoWidgetOwnPetView_MODE_NORMAL){// _local_7 = RoomWidgetPetCommandMessage._Str_16282;\n// _local_8 = (\"pet.command.\" + _local_7);\n// _local_9 = _Str_2268.catalog.localization.getLocalization(_local_8);\n// _local_4 = new RoomWidgetPetCommandMessage(RoomWidgetPetCommandMessage.RWPCM_PET_COMMAND, this._Str_594.id, ((this._Str_594.name + \" \") + _local_9));\n}else if(mode===MODE_MONSTER_PLANT){// messageType = RoomWidgetUserActionMessage.REQUEST_BREED_PET;\n}break;case'harvest':roomSession.harvestPet(avatarInfo.id);break;case'revive'://\nbreak;case'compost':roomSession.compostPlant(avatarInfo.id);break;case'buy_saddle':CreateLinkEvent('catalog/open/'+GetConfiguration('catalog.links')['pets.buy_saddle']);break;}}if(hideMenu)onClose();};Object(react[\"useEffect\"])(()=>{setMode(prevValue=>{if(avatarInfo.petType===nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT)return MODE_MONSTER_PLANT;else if(avatarInfo.saddle&&!avatarInfo.rider)return MODE_SADDLED_UP;else if(avatarInfo.rider)return MODE_RIDING;return AvatarInfoWidgetOwnPetView_MODE_NORMAL;});},[avatarInfo]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView,{objectId:avatarInfo.roomIndex,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userType:nitro_renderer[\"ah\" /* RoomObjectType */].PET,onClose:onClose,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:avatarInfo.name}),mode===AvatarInfoWidgetOwnPetView_MODE_NORMAL&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[petRespectRemaining>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('respect'),children:LocalizeText('infostand.button.petrespect',['count'],[petRespectRemaining.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('train'),children:LocalizeText('infostand.button.train')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pick_up'),children:LocalizeText('infostand.button.pickup')}),avatarInfo.petType===nitro_renderer[\"Lf\" /* PetType */].HORSE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('buy_saddle'),children:LocalizeText('infostand.button.buy_saddle')}),[nitro_renderer[\"Lf\" /* PetType */].BEAR,nitro_renderer[\"Lf\" /* PetType */].TERRIER,nitro_renderer[\"Lf\" /* PetType */].CAT,nitro_renderer[\"Lf\" /* PetType */].DOG,nitro_renderer[\"Lf\" /* PetType */].PIG].indexOf(avatarInfo.petType)>-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('breed'),children:LocalizeText('infostand.button.breed')})]}),mode===MODE_SADDLED_UP&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('mount'),children:LocalizeText('infostand.button.mount')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('toggle_riding_permission'),gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",checked:!!avatarInfo.publiclyRideable,readOnly:true}),LocalizeText('infostand.button.toggle_riding_permission')]}),petRespectRemaining>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('respect'),children:LocalizeText('infostand.button.petrespect',['count'],[petRespectRemaining.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('train'),children:LocalizeText('infostand.button.train')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pick_up'),children:LocalizeText('infostand.button.pickup')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('saddle_off'),children:LocalizeText('infostand.button.saddleoff')})]}),mode===MODE_RIDING&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dismount'),children:LocalizeText('infostand.button.dismount')}),petRespectRemaining>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('respect'),children:LocalizeText('infostand.button.petrespect',['count'],[petRespectRemaining.toString()])})]}),mode===MODE_MONSTER_PLANT&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pick_up'),children:LocalizeText('infostand.button.pickup')}),avatarInfo.dead&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('revive'),children:LocalizeText('infostand.button.revive')}),roomSession.isRoomOwner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('compost'),children:LocalizeText('infostand.button.compost')}),!avatarInfo.dead&&avatarInfo.energy/avatarInfo.maximumEnergy<0.98&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('treat'),children:LocalizeText('infostand.button.pettreat')}),!avatarInfo.dead&&avatarInfo.level===avatarInfo.maximumLevel&&avatarInfo.breedable&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView,{onClick:event=>processAction('toggle_breeding_permission'),gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",checked:avatarInfo.publiclyBreedable,readOnly:true}),LocalizeText('infostand.button.toggle_breeding_permission')]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('breed'),children:LocalizeText('infostand.button.breed')})]})]}),canGiveHandItem&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pass_hand_item'),children:LocalizeText('infostand.button.pass_hand_item')})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/menu/AvatarInfoWidgetPetView.tsx\nconst AvatarInfoWidgetPetView_MODE_NORMAL=0;const AvatarInfoWidgetPetView_MODE_SADDLED_UP=1;const AvatarInfoWidgetPetView_MODE_RIDING=2;const AvatarInfoWidgetPetView_MODE_MONSTER_PLANT=3;const AvatarInfoWidgetPetView=props=>{const{avatarInfo=null,onClose=null}=props;const[mode,setMode]=Object(react[\"useState\"])(AvatarInfoWidgetPetView_MODE_NORMAL);const{roomSession=null}=useRoom();const{petRespectRemaining=0,respectPet=null}=useSessionInfo();const canPickUp=Object(react[\"useMemo\"])(()=>{return roomSession.isRoomOwner||roomSession.controllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator;},[roomSession]);const canGiveHandItem=Object(react[\"useMemo\"])(()=>{let flag=false;const roomObject=GetOwnRoomObject();if(roomObject){const carryId=roomObject.model.getValue(nitro_renderer[\"ch\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT);if(carryId>0&&carryId<999999)flag=true;}return flag;},[]);const processAction=name=>{let hideMenu=true;if(name){switch(name){case'respect':respectPet(avatarInfo.id);if(petRespectRemaining-1>=1)hideMenu=false;break;case'treat':SendMessageComposer(new nitro_renderer[\"Kf\" /* PetRespectComposer */](avatarInfo.id));break;case'pass_handitem':SendMessageComposer(new nitro_renderer[\"Gh\" /* RoomUnitGiveHandItemPetComposer */](avatarInfo.id));break;case'pick_up':roomSession.pickupPet(avatarInfo.id);break;case'mount':roomSession.mountPet(avatarInfo.id);break;case'dismount':roomSession.dismountPet(avatarInfo.id);break;}}if(hideMenu)onClose();};Object(react[\"useEffect\"])(()=>{setMode(prevValue=>{if(avatarInfo.petType===nitro_renderer[\"Lf\" /* PetType */].MONSTERPLANT)return AvatarInfoWidgetPetView_MODE_MONSTER_PLANT;else if(avatarInfo.saddle&&!avatarInfo.rider)return AvatarInfoWidgetPetView_MODE_SADDLED_UP;else if(avatarInfo.rider)return AvatarInfoWidgetPetView_MODE_RIDING;return AvatarInfoWidgetPetView_MODE_NORMAL;});},[avatarInfo]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView,{objectId:avatarInfo.roomIndex,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userType:nitro_renderer[\"ah\" /* RoomObjectType */].PET,onClose:onClose,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:avatarInfo.name}),mode===AvatarInfoWidgetPetView_MODE_NORMAL&&petRespectRemaining>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('respect'),children:LocalizeText('infostand.button.petrespect',['count'],[petRespectRemaining.toString()])}),mode===AvatarInfoWidgetPetView_MODE_SADDLED_UP&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!avatarInfo.publiclyRideable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('mount'),children:LocalizeText('infostand.button.mount')}),petRespectRemaining>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('respect'),children:LocalizeText('infostand.button.petrespect',['count'],[petRespectRemaining.toString()])})]}),mode===AvatarInfoWidgetPetView_MODE_RIDING&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dismount'),children:LocalizeText('infostand.button.dismount')}),petRespectRemaining>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('respect'),children:LocalizeText('infostand.button.petrespect',['count'],[petRespectRemaining.toString()])})]}),mode===AvatarInfoWidgetPetView_MODE_MONSTER_PLANT&&!avatarInfo.dead&&avatarInfo.energy/avatarInfo.maximumEnergy<0.98&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('treat'),children:LocalizeText('infostand.button.pettreat')}),canPickUp&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pick_up'),children:LocalizeText('infostand.button.pickup')}),canGiveHandItem&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pass_hand_item'),children:LocalizeText('infostand.button.pass_hand_item')})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/menu/AvatarInfoWidgetRentableBotView.tsx\nconst AvatarInfoWidgetRentableBotView_MODE_NORMAL=0;const MODE_CHANGE_NAME=1;const MODE_CHANGE_MOTTO=2;const AvatarInfoWidgetRentableBotView=props=>{const{avatarInfo=null,onClose=null}=props;const[mode,setMode]=Object(react[\"useState\"])(AvatarInfoWidgetRentableBotView_MODE_NORMAL);const[newName,setNewName]=Object(react[\"useState\"])('');const[newMotto,setNewMotto]=Object(react[\"useState\"])('');useMessageEvent(nitro_renderer[\"A\" /* BotCommandConfigurationEvent */],event=>{const parser=event.getParser();if(parser.botId!==avatarInfo.webID)return;switch(parser.commandId){case BotSkillsEnum.CHANGE_BOT_NAME:setNewName(parser.data);setMode(MODE_CHANGE_NAME);return;case BotSkillsEnum.CHANGE_BOT_MOTTO:setNewMotto(parser.data);setMode(MODE_CHANGE_MOTTO);return;case BotSkillsEnum.SETUP_CHAT:{const data=parser.data;const pieces=data.split(data.indexOf(';#;')===-1?';':';#;');if(pieces.length===3||pieces.length===4){DispatchUiEvent(new RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent(avatarInfo.roomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,avatarInfo.webID,pieces[0],pieces[1].toLowerCase()==='true'||pieces[1]==='1',parseInt(pieces[2]),pieces[3]?pieces[3].toLowerCase()==='true'||pieces[3]==='1':false));onClose();}return;}}});const requestBotCommandConfiguration=skillType=>SendMessageComposer(new nitro_renderer[\"kg\" /* RequestBotCommandConfigurationComposer */](avatarInfo.webID,skillType));const processAction=name=>{let hideMenu=true;if(name){switch(name){case'donate_to_all':requestBotCommandConfiguration(BotSkillsEnum.DONATE_TO_ALL);SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](avatarInfo.webID,BotSkillsEnum.DONATE_TO_ALL,''));break;case'donate_to_user':requestBotCommandConfiguration(BotSkillsEnum.DONATE_TO_USER);SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](avatarInfo.webID,BotSkillsEnum.DONATE_TO_USER,''));break;case'change_bot_name':requestBotCommandConfiguration(BotSkillsEnum.CHANGE_BOT_NAME);hideMenu=false;break;case'save_bot_name':SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](avatarInfo.webID,BotSkillsEnum.CHANGE_BOT_NAME,newName));break;case'change_bot_motto':requestBotCommandConfiguration(BotSkillsEnum.CHANGE_BOT_MOTTO);hideMenu=false;break;case'save_bot_motto':SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](avatarInfo.webID,BotSkillsEnum.CHANGE_BOT_MOTTO,newMotto));break;case'dress_up':SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](avatarInfo.webID,BotSkillsEnum.DRESS_UP,''));break;case'random_walk':SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](avatarInfo.webID,BotSkillsEnum.RANDOM_WALK,''));break;case'setup_chat':requestBotCommandConfiguration(BotSkillsEnum.SETUP_CHAT);hideMenu=false;break;case'dance':SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](avatarInfo.webID,BotSkillsEnum.DANCE,''));break;case'nux_take_tour':GetNitroInstance().createLinkEvent('help/tour');SendMessageComposer(new nitro_renderer[\"E\" /* BotSkillSaveComposer */](avatarInfo.webID,BotSkillsEnum.NUX_TAKE_TOUR,''));break;case'pick':SendMessageComposer(new nitro_renderer[\"C\" /* BotRemoveComposer */](avatarInfo.webID));break;default:break;}}if(hideMenu)onClose();};Object(react[\"useEffect\"])(()=>{setMode(AvatarInfoWidgetRentableBotView_MODE_NORMAL);},[avatarInfo]);const canControl=avatarInfo.amIOwner||avatarInfo.amIAnyRoomController;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView,{objectId:avatarInfo.roomIndex,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,userType:nitro_renderer[\"ah\" /* RoomObjectType */].RENTABLE_BOT,onClose:onClose,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:avatarInfo.name}),mode===AvatarInfoWidgetRentableBotView_MODE_NORMAL&&canControl&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[avatarInfo.botSkills.indexOf(BotSkillsEnum.DONATE_TO_ALL)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('donate_to_all'),children:LocalizeText('avatar.widget.donate_to_all')}),avatarInfo.botSkills.indexOf(BotSkillsEnum.DONATE_TO_USER)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('donate_to_user'),children:LocalizeText('avatar.widget.donate_to_user')}),avatarInfo.botSkills.indexOf(BotSkillsEnum.CHANGE_BOT_NAME)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('change_bot_name'),children:LocalizeText('avatar.widget.change_bot_name')}),avatarInfo.botSkills.indexOf(BotSkillsEnum.CHANGE_BOT_MOTTO)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('change_bot_motto'),children:LocalizeText('avatar.widget.change_bot_motto')}),avatarInfo.botSkills.indexOf(BotSkillsEnum.DRESS_UP)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dress_up'),children:LocalizeText('avatar.widget.dress_up')}),avatarInfo.botSkills.indexOf(BotSkillsEnum.RANDOM_WALK)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('random_walk'),children:LocalizeText('avatar.widget.random_walk')}),avatarInfo.botSkills.indexOf(BotSkillsEnum.SETUP_CHAT)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('setup_chat'),children:LocalizeText('avatar.widget.setup_chat')}),avatarInfo.botSkills.indexOf(BotSkillsEnum.DANCE)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('dance'),children:LocalizeText('avatar.widget.dance')}),avatarInfo.botSkills.indexOf(BotSkillsEnum.NO_PICK_UP)===-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('pick'),children:LocalizeText('avatar.widget.pick_up')})]}),mode===MODE_CHANGE_NAME&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"menu-item\",onClick:null,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:LocalizeText('bot.skill.name.configuration.new.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:newName,maxLength:GetConfiguration('bot.name.max.length',15),onChange:event=>setNewName(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"secondary\",onClick:event=>processAction(null),children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:event=>processAction('save_bot_name'),children:LocalizeText('save')})]})]}),mode===MODE_CHANGE_MOTTO&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"menu-item\",onClick:null,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:LocalizeText('bot.skill.name.configuration.new.motto')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:newMotto,maxLength:GetConfiguration('motto.max.length',38),onChange:event=>setNewMotto(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"secondary\",onClick:event=>processAction(null),children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:event=>processAction('save_bot_motto'),children:LocalizeText('save')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetView.tsx\nconst AvatarInfoWidgetView=props=>{const[isGameMode,setGameMode]=Object(react[\"useState\"])(false);const[isDancing,setIsDancing]=Object(react[\"useState\"])(false);const[rentableBotChatEvent,setRentableBotChatEvent]=Object(react[\"useState\"])(null);const{avatarInfo=null,setAvatarInfo=null,activeNameBubble=null,setActiveNameBubble=null,nameBubbles=[],removeNameBubble=null,productBubbles=[],confirmingProduct=null,updateConfirmingProduct=null,removeProductBubble=null,isDecorating=false,setIsDecorating=null}=useAvatarInfoWidget();const{roomSession=null}=useRoom();useRoomEngineEvent(nitro_renderer[\"Eg\" /* RoomEngineEvent */].NORMAL_MODE,event=>{if(isGameMode)setGameMode(false);});useRoomEngineEvent(nitro_renderer[\"Eg\" /* RoomEngineEvent */].GAME_MODE,event=>{if(!isGameMode)setGameMode(true);});useRoomSessionManagerEvent(nitro_renderer[\"ih\" /* RoomSessionDanceEvent */].RSDE_DANCE,event=>{if(event.roomIndex!==roomSession.ownRoomIndex)return;setIsDancing(event.danceId!==0);});useUiEvent(RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent.UPDATE_CHAT,event=>setRentableBotChatEvent(event));const getMenuView=()=>{if(!roomSession||isGameMode)return null;if(activeNameBubble)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetNameView,{nameInfo:activeNameBubble,onClose:()=>setActiveNameBubble(null)});if(avatarInfo){switch(avatarInfo.type){case AvatarInfoFurni.FURNI:{const info=avatarInfo;if(!isDecorating)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetFurniView,{avatarInfo:info,onClose:()=>setAvatarInfo(null)});}case AvatarInfoUser.OWN_USER:case AvatarInfoUser.PEER:{const info=avatarInfo;if(info.isSpectatorMode)return null;if(info.isOwnUser){if(nitro_renderer[\"Kg\" /* RoomEnterEffect */].isRunning())return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetOwnAvatarView,{avatarInfo:info,isDancing:isDancing,setIsDecorating:setIsDecorating,onClose:()=>setAvatarInfo(null)});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetAvatarView,{avatarInfo:info,onClose:()=>setAvatarInfo(null)});}case AvatarInfoPet.PET_INFO:{const info=avatarInfo;if(info.isOwner)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetOwnPetView,{avatarInfo:info,onClose:()=>setAvatarInfo(null)});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetPetView,{avatarInfo:info,onClose:()=>setAvatarInfo(null)});}case AvatarInfoRentableBot.RENTABLE_BOT:{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetRentableBotView,{avatarInfo:avatarInfo,onClose:()=>setAvatarInfo(null)});}}}return null;};const getInfostandView=()=>{if(!avatarInfo)return null;switch(avatarInfo.type){case AvatarInfoFurni.FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetFurniView,{avatarInfo:avatarInfo,onClose:()=>setAvatarInfo(null)});case AvatarInfoUser.OWN_USER:case AvatarInfoUser.PEER:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetUserView,{avatarInfo:avatarInfo,setAvatarInfo:setAvatarInfo,onClose:()=>setAvatarInfo(null)});case AvatarInfoUser.BOT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetBotView,{avatarInfo:avatarInfo,onClose:()=>setAvatarInfo(null)});case AvatarInfoRentableBot.RENTABLE_BOT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetRentableBotView,{avatarInfo:avatarInfo,onClose:()=>setAvatarInfo(null)});case AvatarInfoPet.PET_INFO:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetPetView,{avatarInfo:avatarInfo,onClose:()=>setAvatarInfo(null)});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isDecorating&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetDecorateView,{userId:GetSessionDataManager().userId,userName:GetSessionDataManager().userName,roomIndex:roomSession.ownRoomIndex,setIsDecorating:setIsDecorating}),getMenuView(),avatarInfo&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{alignItems:\"end\",className:\"nitro-infostand-container\",children:getInfostandView()}),nameBubbles.length>0&&nameBubbles.map((name,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetNameView,{nameInfo:name,onClose:()=>removeNameBubble(index)},index)),productBubbles.length>0&&productBubbles.map((item,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoUseProductView,{item:item,updateConfirmingProduct:updateConfirmingProduct,onClose:()=>removeProductBubble(index)},item.id);}),rentableBotChatEvent&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoRentableBotChatView,{chatEvent:rentableBotChatEvent,onClose:()=>setRentableBotChatEvent(null)}),confirmingProduct&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoUseProductConfirmView,{item:confirmingProduct,onClose:()=>updateConfirmingProduct(null)})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat-input/ChatInputStyleSelectorView.tsx\nconst ChatInputStyleSelectorView=props=>{const{chatStyleId=0,chatStyleIds=null,selectChatStyleId=null}=props;const[target,setTarget]=Object(react[\"useState\"])(null);const[selectorVisible,setSelectorVisible]=Object(react[\"useState\"])(false);const selectStyle=styleId=>{selectChatStyleId(styleId);setSelectorVisible(false);};const toggleSelector=event=>{let visible=false;setSelectorVisible(prevValue=>{visible=!prevValue;return visible;});if(visible)setTarget(event.target);};Object(react[\"useEffect\"])(()=>{if(selectorVisible)return;setTarget(null);},[selectorVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"icon chatstyles-icon\",onClick:toggleSelector}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Overlay[\"a\" /* default */],{show:selectorVisible,target:target,placement:\"top\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],{className:\"nitro-chat-style-selector-container image-rendering-pixelated\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{overflow:\"hidden\",className:\"bg-transparent\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{columnCount:3,overflow:\"auto\",children:chatStyleIds&&chatStyleIds.length>0&&chatStyleIds.map(styleId=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:\"bubble-parent-container\",onClick:event=>selectStyle(styleId),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"bubble-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:`chat-bubble bubble-${styleId}`,children:\"\\xA0\"})},styleId)},styleId);})})})})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat-input/ChatInputView.tsx\nconst ChatInputView=props=>{const[chatValue,setChatValue]=Object(react[\"useState\"])('');const{chatStyleId=0,updateChatStyleId=null}=useSessionInfo();const{selectedUsername='',floodBlocked=false,floodBlockedSeconds=0,setIsTyping=null,setIsIdle=null,sendChat=null}=useChatInputWidget();const inputRef=Object(react[\"useRef\"])();const chatModeIdWhisper=Object(react[\"useMemo\"])(()=>LocalizeText('widgets.chatinput.mode.whisper'),[]);const chatModeIdShout=Object(react[\"useMemo\"])(()=>LocalizeText('widgets.chatinput.mode.shout'),[]);const chatModeIdSpeak=Object(react[\"useMemo\"])(()=>LocalizeText('widgets.chatinput.mode.speak'),[]);const maxChatLength=Object(react[\"useMemo\"])(()=>GetConfiguration('chat.input.maxlength',100),[]);const anotherInputHasFocus=Object(react[\"useCallback\"])(()=>{const activeElement=document.activeElement;if(!activeElement)return false;if(inputRef&&inputRef.current===activeElement)return false;if(!(activeElement instanceof HTMLInputElement)&&!(activeElement instanceof HTMLTextAreaElement))return false;return true;},[inputRef]);const setInputFocus=Object(react[\"useCallback\"])(()=>{inputRef.current.focus();inputRef.current.setSelectionRange(inputRef.current.value.length*2,inputRef.current.value.length*2);},[inputRef]);const checkSpecialKeywordForInput=Object(react[\"useCallback\"])(()=>{setChatValue(prevValue=>{if(prevValue!==chatModeIdWhisper||!selectedUsername.length)return prevValue;return`${prevValue} ${selectedUsername}`;});},[selectedUsername,chatModeIdWhisper]);const sendChatValue=Object(react[\"useCallback\"])(function(value){let shiftKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!value||value==='')return;let chatType=shiftKey?ChatMessageTypeEnum.CHAT_SHOUT:ChatMessageTypeEnum.CHAT_DEFAULT;let text=value;const parts=text.split(' ');let recipientName='';let append='';switch(parts[0]){case chatModeIdWhisper:chatType=ChatMessageTypeEnum.CHAT_WHISPER;recipientName=parts[1];append=chatModeIdWhisper+' '+recipientName+' ';parts.shift();parts.shift();break;case chatModeIdShout:chatType=ChatMessageTypeEnum.CHAT_SHOUT;parts.shift();break;case chatModeIdSpeak:chatType=ChatMessageTypeEnum.CHAT_DEFAULT;parts.shift();break;}text=parts.join(' ');setIsTyping(false);setIsIdle(false);if(text.length<=maxChatLength){if(/%CC%/g.test(encodeURIComponent(text))){setChatValue('');}else{setChatValue('');sendChat(text,chatType,recipientName,chatStyleId);}}setChatValue(append);},[chatModeIdWhisper,chatModeIdShout,chatModeIdSpeak,maxChatLength,chatStyleId,setIsTyping,setIsIdle,sendChat]);const updateChatInput=Object(react[\"useCallback\"])(value=>{if(!value||!value.length){setIsTyping(false);}else{setIsTyping(true);setIsIdle(true);}setChatValue(value);},[setIsTyping,setIsIdle]);const onKeyDownEvent=Object(react[\"useCallback\"])(event=>{if(floodBlocked||!inputRef.current||anotherInputHasFocus())return;if(document.activeElement!==inputRef.current)setInputFocus();const value=event.target.value;switch(event.key){case' ':case'Space':checkSpecialKeywordForInput();return;case'NumpadEnter':case'Enter':sendChatValue(value,event.shiftKey);return;case'Backspace':if(value){const parts=value.split(' ');if(parts[0]===chatModeIdWhisper&&parts.length===3&&parts[2]===''){setChatValue('');}}return;}},[floodBlocked,inputRef,chatModeIdWhisper,anotherInputHasFocus,setInputFocus,checkSpecialKeywordForInput,sendChatValue]);useUiEvent(RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.CHAT_INPUT_CONTENT,event=>{switch(event.chatMode){case RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.WHISPER:{setChatValue(`${chatModeIdWhisper} ${event.userName} `);return;}case RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.SHOUT:return;}});const chatStyleIds=Object(react[\"useMemo\"])(()=>{let styleIds=[];const styles=GetConfiguration('chat.styles');for(const style of styles){if(!style)continue;if(style.minRank>0){if(GetSessionDataManager().hasSecurity(style.minRank))styleIds.push(style.styleId);continue;}if(style.isSystemStyle){if(GetSessionDataManager().hasSecurity(nitro_renderer[\"yg\" /* RoomControllerLevel */].MODERATOR)){styleIds.push(style.styleId);continue;}}if(GetConfiguration('chat.styles.disabled').indexOf(style.styleId)>=0)continue;if(style.isHcOnly&&GetClubMemberLevel()>=nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].CLUB){styleIds.push(style.styleId);continue;}if(style.isAmbassadorOnly&&GetSessionDataManager().isAmbassador){styleIds.push(style.styleId);continue;}if(!style.isHcOnly&&!style.isAmbassadorOnly)styleIds.push(style.styleId);}return styleIds;},[]);Object(react[\"useEffect\"])(()=>{document.body.addEventListener('keydown',onKeyDownEvent);return()=>{document.body.removeEventListener('keydown',onKeyDownEvent);};},[onKeyDownEvent]);Object(react[\"useEffect\"])(()=>{if(!inputRef.current)return;inputRef.current.parentElement.dataset.value=chatValue;},[chatValue]);if(GetRoomSession().isSpectator)return null;return/*#__PURE__*/Object(react_dom[\"createPortal\"])(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nitro-chat-input-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-sizer align-items-center\",children:[!floodBlocked&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{ref:inputRef,type:\"text\",className:\"chat-input\",placeholder:LocalizeText('widgets.chatinput.default'),value:chatValue,maxLength:maxChatLength,onChange:event=>updateChatInput(event.target.value),onMouseDown:event=>setInputFocus()}),floodBlocked&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{variant:\"danger\",children:[LocalizeText('chat.input.alert.flood',['time'],[floodBlockedSeconds.toString()]),\" \"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatInputStyleSelectorView,{chatStyleId:chatStyleId,chatStyleIds:chatStyleIds,selectChatStyleId:updateChatStyleId})]}),document.getElementById('toolbar-chat-input-container'));};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat/ChatWidgetMessageView.tsx\nconst ChatWidgetMessageView=props=>{const{chat=null,makeRoom=null,bubbleWidth=nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_NORMAL}=props;const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const elementRef=Object(react[\"useRef\"])();const getBubbleWidth=Object(react[\"useMemo\"])(()=>{switch(bubbleWidth){case nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_NORMAL:return 350;case nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_THIN:return 240;case nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_WIDE:return 2000;}},[bubbleWidth]);Object(react[\"useEffect\"])(()=>{const element=elementRef.current;if(!element)return;const width=element.offsetWidth;const height=element.offsetHeight;chat.width=width;chat.height=height;chat.elementRef=element;let left=chat.left;let top=chat.top;if(!left&&!top){left=chat.location.x-width/2;top=element.parentElement.offsetHeight-height;chat.left=left;chat.top=top;}if(!chat.visible){makeRoom(chat);chat.visible=true;}return()=>{chat.elementRef=null;};},[elementRef,chat,makeRoom]);Object(react[\"useEffect\"])(()=>setIsVisible(chat.visible),[chat.visible]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{ref:elementRef,className:`bubble-container ${isVisible?'visible':'invisible'}`,onClick:event=>GetRoomEngine().selectRoomObject(chat.roomId,chat.senderId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT),children:[chat.styleId===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-container-bg\",style:{backgroundColor:chat.color}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:`chat-bubble bubble-${chat.styleId} type-${chat.type}`,style:{maxWidth:getBubbleWidth},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-container\",children:chat.imageUrl&&chat.imageUrl.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-image\",style:{backgroundImage:`url(${chat.imageUrl})`}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{className:\"username mr-1\",dangerouslySetInnerHTML:{__html:`${chat.username}: `}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message\",dangerouslySetInnerHTML:{__html:`${chat.formattedText}`}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"pointer\"})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat/ChatWidgetView.tsx\nlet TIMER_TRACKER=0;const ChatWidgetView=props=>{const[timerId,setTimerId]=Object(react[\"useState\"])(TIMER_TRACKER++);const{chatMessages=[],setChatMessages=null,chatSettings=null,getScrollSpeed=6000,removeHiddenChats=null,moveAllChatsUp=null}=useChatWidget();const elementRef=Object(react[\"useRef\"])();const checkOverlappingChats=(chat,moved,tempChats)=>{const totalChats=chatMessages.length;if(!totalChats)return;for(let i=totalChats-1;i>=0;i--){const collides=chatMessages[i];if(!collides||chat===collides||tempChats.indexOf(collides)>=0||collides.top+collides.height-moved>chat.top+chat.height)continue;chat.skipMovement=true;if(DoChatsOverlap(chat,collides,-moved,0)){const amount=Math.abs(collides.top+collides.height-chat.top);tempChats.push(collides);collides.top-=amount;collides.skipMovement=true;checkOverlappingChats(collides,amount,tempChats);}}};const makeRoom=chat=>{if(chatSettings.mode===nitro_renderer[\"vg\" /* RoomChatSettings */].CHAT_MODE_FREE_FLOW){chat.skipMovement=true;checkOverlappingChats(chat,0,[chat]);removeHiddenChats();}else{const lowestPoint=chat.top+chat.height;const requiredSpace=chat.height;const spaceAvailable=elementRef.current.offsetHeight-lowestPoint;const amount=requiredSpace-spaceAvailable;if(spaceAvailable<requiredSpace){chatMessages.forEach(existingChat=>{if(existingChat===chat)return;existingChat.top-=amount;});removeHiddenChats();}}};Object(react[\"useEffect\"])(()=>{const resize=function(){let event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!elementRef||!elementRef.current)return;const currentHeight=elementRef.current.offsetHeight;const newHeight=Math.round(document.body.offsetHeight*GetConfiguration('chat.viewer.height.percentage'));elementRef.current.style.height=`${newHeight}px`;setChatMessages(prevValue=>{if(prevValue){prevValue.forEach(chat=>chat.top-=currentHeight-newHeight);}return prevValue;});};window.addEventListener('resize',resize);resize();return()=>{window.removeEventListener('resize',resize);};},[setChatMessages]);Object(react[\"useEffect\"])(()=>{const workerTracker={workerMessageReceived:message=>{switch(message.type){case'MOVE_CHATS':moveAllChatsUp(15);return;}}};AddWorkerEventTracker(workerTracker);SendWorkerEvent({type:'CREATE_INTERVAL',time:getScrollSpeed,timerId:timerId,response:{type:'MOVE_CHATS'}});return()=>{SendWorkerEvent({type:'REMOVE_INTERVAL',timerId});RemoveWorkerEventTracker(workerTracker);};},[timerId,getScrollSpeed,moveAllChatsUp]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:elementRef,className:\"nitro-chat-widget\",children:chatMessages.map(chat=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatWidgetMessageView,{chat:chat,makeRoom:makeRoom,bubbleWidth:chatSettings.weight},chat.id))});};\n// CONCATENATED MODULE: ./src/components/room/widgets/choosers/ChooserWidgetView.tsx\nconst ChooserWidgetView=props=>{const{title=null,items=[],selectItem=null,onClose=null}=props;const[selectedItem,setSelectedItem]=Object(react[\"useState\"])(null);const[searchValue,setSearchValue]=Object(react[\"useState\"])('');const canSeeId=GetSessionDataManager().isModerator;const filteredItems=Object(react[\"useMemo\"])(()=>{const value=searchValue.toLocaleLowerCase();return items.filter(item=>item.name.toLocaleLowerCase().includes(value));},[items,searchValue]);const rowRenderer=props=>{const item=filteredItems[props.index];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",position:\"absolute\",className:'rounded px-1'+(selectedItem===item?' bg-muted':''),pointer:true,style:props.style,onClick:event=>setSelectedItem(item),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{truncate:true,children:[item.name,\" \",canSeeId&&' - '+item.id]})},props.key);};Object(react[\"useEffect\"])(()=>{if(!selectedItem)return;selectItem(selectedItem);},[selectedItem,selectItem]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-chooser-widget\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:title,onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:event=>setSearchValue(event.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullHeight:true,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AutoSizer */],{defaultWidth:0,defaultHeight:0,children:_ref=>{let{width,height}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* List */],{width:width,height:height,rowCount:filteredItems.length,rowHeight:20,rowRenderer:rowRenderer});}})})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/choosers/FurniChooserWidgetView.tsx\nconst FurniChooserWidgetView=props=>{const{items=null,onClose=null,selectItem=null,populateChooser=null}=useFurniChooserWidget();Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');populateChooser();},eventUrlPrefix:'furni-chooser/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[populateChooser]);if(!items)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChooserWidgetView,{title:LocalizeText('widget.chooser.furni.title'),items:items,selectItem:selectItem,onClose:onClose});};\n// CONCATENATED MODULE: ./src/components/room/widgets/choosers/UserChooserWidgetView.tsx\nconst UserChooserWidgetView=props=>{const{items=null,onClose=null,selectItem=null,populateChooser=null}=useUserChooserWidget();Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');populateChooser();},eventUrlPrefix:'user-chooser/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[populateChooser]);if(!items)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChooserWidgetView,{title:LocalizeText('widget.chooser.user.title'),items:items,selectItem:selectItem,onClose:onClose});};\n// CONCATENATED MODULE: ./src/components/room/widgets/doorbell/DoorbellWidgetView.tsx\nconst DoorbellWidgetView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{users=[],answer=null}=useDoorbellWidget();Object(react[\"useEffect\"])(()=>{setIsVisible(!!users.length);},[users]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-widget-doorbell\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('navigator.doorbell.title'),onCloseClick:event=>setIsVisible(false)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{overflow:\"hidden\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,className:\"text-black fw-bold border-bottom px-1 pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-6\",children:LocalizeText('generic.username')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-6\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"auto\",className:\"striped-children\",gap:0,children:users&&users.length>0&&users.map(userName=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{gap:1,alignItems:\"center\",className:\"text-black border-bottom p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-6\",children:userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"g-col-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:()=>answer(userName,true),children:LocalizeText('generic.accept')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:()=>answer(userName,false),children:LocalizeText('generic.deny')})]})})]},userName);})})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/object-location/ObjectLocationView.tsx\nconst ObjectLocationView=props=>{const{objectId=-1,category=-1,noFollow=false,position='absolute',...rest}=props;const[pos,setPos]=Object(react[\"useState\"])({x:-1,y:-1});const elementRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(()=>{let remove=false;const getObjectLocation=()=>{const roomSession=GetRoomSession();const objectBounds=GetRoomObjectBounds(roomSession.roomId,objectId,category,1);return objectBounds;};const updatePosition=()=>{const bounds=getObjectLocation();if(!bounds||!elementRef.current)return;setPos({x:Math.round(bounds.left+bounds.width/2-elementRef.current.offsetWidth/2),y:Math.round(bounds.top-elementRef.current.offsetHeight+10)});};if(noFollow){updatePosition();}else{remove=true;GetNitroInstance().ticker.add(updatePosition);}return()=>{if(remove)GetNitroInstance().ticker.remove(updatePosition);};},[objectId,category,noFollow]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{innerRef:elementRef,position:position,visible:pos.x+(elementRef.current?elementRef.current.offsetWidth:0)>-1,className:\"object-location\",style:{left:pos.x,top:pos.y},...rest});};\n// CONCATENATED MODULE: ./src/components/room/widgets/friend-request/FriendRequestDialogView.tsx\nconst FriendRequestDialogView=props=>{const{roomIndex=-1,request=null,hideFriendRequest=null,requestResponse=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ObjectLocationView,{objectId:roomIndex,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"nitro-friend-request-dialog nitro-context-menu p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",fontSize:6,children:LocalizeText('widget.friendrequest.from',['username'],[request.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:event=>hideFriendRequest(request.requesterUserId)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:event=>requestResponse(request.requesterUserId,false),children:LocalizeText('widget.friendrequest.decline')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>requestResponse(request.requesterUserId,true),children:LocalizeText('widget.friendrequest.accept')})]})]})})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/friend-request/FriendRequestWidgetView.tsx\nconst FriendRequestWidgetView=props=>{const{displayedRequests=[],hideFriendRequest=null}=useFriendRequestWidget();const{requestResponse=null}=useFriends();if(!displayedRequests.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:displayedRequests.map((request,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendRequestDialogView,{roomIndex:request.roomIndex,request:request.request,hideFriendRequest:hideFriendRequest,requestResponse:requestResponse},index))});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/context-menu/EffectBoxConfirmView.tsx\nconst EffectBoxConfirmView=props=>{const{objectId=-1,onClose=null}=props;const{roomSession=null}=useRoom();const useProduct=()=>{roomSession.useMultistateItem(objectId);onClose();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('effectbox.header.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('effectbox.header.description')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:onClose,children:LocalizeText('generic.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('generic.ok')})]})]})})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/context-menu/MonsterPlantSeedConfirmView.tsx\nconst MODE_DEFAULT=-1;const MODE_MONSTERPLANT_SEED=0;const MonsterPlantSeedConfirmView=props=>{const{objectId=-1,onClose=null}=props;const[furniData,setFurniData]=Object(react[\"useState\"])(null);const[mode,setMode]=Object(react[\"useState\"])(MODE_DEFAULT);const{roomSession=null}=useRoom();const useProduct=()=>{roomSession.useMultistateItem(objectId);onClose();};Object(react[\"useEffect\"])(()=>{if(!roomSession||objectId===-1)return;const furniData=GetFurnitureDataForRoomObject(roomSession.roomId,objectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);if(!furniData)return;setFurniData(furniData);let mode=MODE_DEFAULT;switch(furniData.specialType){case FurniCategory.MONSTERPLANT_SEED:mode=MODE_MONSTERPLANT_SEED;break;}if(mode===MODE_DEFAULT){onClose();return;}setMode(mode);},[roomSession,objectId,onClose]);if(mode===MODE_DEFAULT)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('useproduct.widget.title.plant_seed',['name'],[furniData.name]),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"product-preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"monsterplant-image\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.plant_seed',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.plant_seed')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:onClose,children:LocalizeText('useproduct.widget.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('widget.monsterplant_seed.button.use')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/context-menu/PurchasableClothingConfirmView.tsx\nconst PurchasableClothingConfirmView_MODE_DEFAULT=-1;const MODE_PURCHASABLE_CLOTHING=0;const PurchasableClothingConfirmView=props=>{const{objectId=-1,onClose=null}=props;const[mode,setMode]=Object(react[\"useState\"])(PurchasableClothingConfirmView_MODE_DEFAULT);const[gender,setGender]=Object(react[\"useState\"])(FigureData_FigureData.MALE);const[newFigure,setNewFigure]=Object(react[\"useState\"])(null);const{roomSession=null}=useRoom();const useProduct=()=>{GetConnection().send(new nitro_renderer[\"ag\" /* RedeemItemClothingComposer */](objectId));GetConnection().send(new nitro_renderer[\"Ti\" /* UserFigureComposer */](gender,newFigure));onClose();};Object(react[\"useEffect\"])(()=>{let mode=PurchasableClothingConfirmView_MODE_DEFAULT;const figure=GetSessionDataManager().figure;const gender=GetSessionDataManager().gender;const validSets=[];if(roomSession&&objectId>=0){const furniData=GetFurnitureDataForRoomObject(roomSession.roomId,objectId,nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR);if(furniData){switch(furniData.specialType){case FurniCategory.FIGURE_PURCHASABLE_SET:mode=MODE_PURCHASABLE_CLOTHING;const setIds=furniData.customParams.split(',').map(part=>parseInt(part));for(const setId of setIds){if(GetAvatarRenderManager().isValidFigureSetForGender(setId,gender))validSets.push(setId);}break;}}}if(mode===PurchasableClothingConfirmView_MODE_DEFAULT){onClose();return;}setGender(gender);setNewFigure(GetAvatarRenderManager().getFigureStringWithFigureIds(figure,gender,validSets));// if owns clothing, change to it\nsetMode(mode);},[roomSession,objectId,onClose]);if(mode===PurchasableClothingConfirmView_MODE_DEFAULT)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('useproduct.widget.title.bind_clothing'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"mannequin-preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:newFigure,direction:2})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.text.bind_clothing')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('useproduct.widget.info.bind_clothing')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:onClose,children:LocalizeText('useproduct.widget.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('useproduct.widget.bind_clothing')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/context-menu/FurnitureContextMenuView.tsx\nconst FurnitureContextMenuView_MONSTERPLANT_SEED_CONFIRMATION='MONSTERPLANT_SEED_CONFIRMATION';const FurnitureContextMenuView_PURCHASABLE_CLOTHING_CONFIRMATION='PURCHASABLE_CLOTHING_CONFIRMATION';const FurnitureContextMenuView_GROUP_FURNITURE='GROUP_FURNITURE';const FurnitureContextMenuView_EFFECTBOX_OPEN='EFFECTBOX_OPEN';const FurnitureContextMenuView=props=>{const{closeConfirm=null,processAction=null,onClose=null,objectId=-1,mode=null,confirmMode=null,confirmingObjectId=-1,groupData=null,isGroupMember=false}=useFurnitureContextMenuWidget();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[confirmMode===FurnitureContextMenuView_MONSTERPLANT_SEED_CONFIRMATION&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MonsterPlantSeedConfirmView,{objectId:confirmingObjectId,onClose:closeConfirm}),confirmMode===FurnitureContextMenuView_PURCHASABLE_CLOTHING_CONFIRMATION&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PurchasableClothingConfirmView,{objectId:confirmingObjectId,onClose:closeConfirm}),confirmMode===FurnitureContextMenuView_EFFECTBOX_OPEN&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EffectBoxConfirmView,{objectId:confirmingObjectId,onClose:closeConfirm}),objectId>=0&&mode&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView,{objectId:objectId,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR,onClose:onClose,fades:true,children:[mode===nitro_renderer[\"wb\" /* ContextMenuEnum */].FRIEND_FURNITURE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:LocalizeText('friendfurni.context.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_friend_furni'),children:LocalizeText('friendfurni.context.use')})]}),mode===nitro_renderer[\"wb\" /* ContextMenuEnum */].MONSTERPLANT_SEED&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:LocalizeText('furni.mnstr_seed.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_monsterplant_seed'),children:LocalizeText('widget.monsterplant_seed.button.use')})]}),mode===nitro_renderer[\"wb\" /* ContextMenuEnum */].RANDOM_TELEPORT&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:LocalizeText('furni.random_teleport.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_random_teleport'),children:LocalizeText('widget.random_teleport.button.use')})]}),mode===nitro_renderer[\"wb\" /* ContextMenuEnum */].PURCHASABLE_CLOTHING&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:LocalizeText('furni.generic_usable.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('use_purchaseable_clothing'),children:LocalizeText('widget.generic_usable.button.use')})]}),mode===FurnitureContextMenuView_GROUP_FURNITURE&&groupData&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{className:\"cursor-pointer text-truncate\",onClick:()=>GetGroupInformation(groupData.guildId),children:groupData.guildName}),!isGroupMember&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('join_group'),children:LocalizeText('widget.furniture.button.join.group')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('go_to_group_homeroom'),children:LocalizeText('widget.furniture.button.go.to.group.home.room')}),groupData.guildHasReadableForum&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView,{onClick:event=>processAction('open_forum'),children:LocalizeText('widget.furniture.button.open_group_forum')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureBackgroundColorView.tsx\nconst FurnitureBackgroundColorView=props=>{const{objectId=-1,hue=0,setHue=null,saturation=0,setSaturation=null,lightness=0,setLightness=null,applyToner=null,toggleToner=null,onClose=null}=useFurnitureBackgroundColorWidget();if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{theme:\"primary-slim\",className:\"nitro-room-widget-toner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('widget.backgroundcolor.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{overflow:\"hidden\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"auto\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('widget.backgroundcolor.hue')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:360,value:hue,onChange:event=>setHue(event),thumbClassName:'thumb degree',renderThumb:(props,state)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{...props,children:state.valueNow})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('widget.backgroundcolor.saturation')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:100,value:saturation,onChange:event=>setSaturation(event),thumbClassName:'thumb percent',renderThumb:(props,state)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{...props,children:state.valueNow})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('widget.backgroundcolor.lightness')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:100,value:lightness,onChange:event=>setLightness(event),thumbClassName:'thumb percent',renderThumb:(props,state)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{...props,children:state.valueNow})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"primary\",onClick:toggleToner,children:LocalizeText('widget.backgroundcolor.button.on')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"primary\",onClick:applyToner,children:LocalizeText('widget.backgroundcolor.button.apply')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureBadgeDisplayView.tsx\nconst FurnitureBadgeDisplayView=props=>{const{objectId=-1,color='1',badgeName='',badgeDesc='',date='',senderName='',onClose=null}=useFurnitureBadgeDisplayWidget();if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutTrophyView,{color:color,message:badgeDesc,date:date,senderName:senderName,customTitle:badgeName,onCloseClick:onClose});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureDimmerView.tsx\nconst FurnitureDimmerView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{presets=[],dimmerState=0,selectedPresetId=0,color=0xFFFFFF,brightness=0xFF,effectId=0,selectedColor=0,setSelectedColor=null,selectedBrightness=0,setSelectedBrightness=null,selectedEffectId=0,setSelectedEffectId=null,selectPresetId=null,applyChanges}=useFurnitureDimmerWidget();const onClose=()=>{FurnitureDimmerUtilities_FurnitureDimmerUtilities.previewDimmer(color,brightness,effectId===2);setIsVisible(false);};useRoomEngineEvent(nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REMOVE_DIMMER,event=>setIsVisible(false));Object(react[\"useEffect\"])(()=>{if(!presets||!presets.length)return;setIsVisible(true);},[presets]);const isFreeColorMode=Object(react[\"useMemo\"])(()=>GetConfiguration('widget.dimmer.colorwheel',false),[]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-room-widget-dimmer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('widget.dimmer.title'),onCloseClick:onClose}),dimmerState===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView,{children:presets.map(preset=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView,{isActive:selectedPresetId===preset.id,onClick:event=>selectPresetId(preset.id),children:LocalizeText(`widget.dimmer.tab.${preset.id}`)},preset.id))}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[dimmerState===0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"dimmer-banner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,className:\"bg-muted rounded p-1\",children:LocalizeText('widget.dimmer.info.off')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:()=>FurnitureDimmerUtilities_FurnitureDimmerUtilities.changeState(),children:LocalizeText('widget.dimmer.button.on')})]}),dimmerState===1&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:LocalizeText('widget.backgroundcolor.hue')}),isFreeColorMode&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"color\",className:\"form-control\",value:ColorUtils.makeColorNumberHex(selectedColor),onChange:event=>setSelectedColor(ColorUtils.convertFromHex(event.target.value))}),!isFreeColorMode&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{gap:1,columnCount:7,children:FurnitureDimmerUtilities_FurnitureDimmerUtilities.AVAILABLE_COLORS.map((color,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{fullWidth:true,pointer:true,className:'color-swatch rounded'+classnames_default()({' active':color===selectedColor}),onClick:()=>setSelectedColor(color),style:{backgroundColor:FurnitureDimmerUtilities_FurnitureDimmerUtilities.HTML_COLORS[index]}},index);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:LocalizeText('widget.backgroundcolor.lightness')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:\"nitro-slider\",min:FurnitureDimmerUtilities_FurnitureDimmerUtilities.MIN_BRIGHTNESS,max:FurnitureDimmerUtilities_FurnitureDimmerUtilities.MAX_BRIGHTNESS,value:selectedBrightness,onChange:value=>setSelectedBrightness(value),thumbClassName:'thumb percent',renderThumb:(props,state)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{...props,children:FurnitureDimmerUtilities_FurnitureDimmerUtilities.scaleBrightness(state.valueNow)})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:selectedEffectId===2,onChange:event=>setSelectedEffectId(event.target.checked?2:1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('widget.dimmer.type.checkbox')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"danger\",onClick:()=>FurnitureDimmerUtilities_FurnitureDimmerUtilities.changeState(),children:LocalizeText('widget.dimmer.button.off')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:applyChanges,children:LocalizeText('widget.dimmer.button.apply')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureExchangeCreditView.tsx\nconst FurnitureExchangeCreditView=props=>{const{objectId=-1,value=0,onClose=null,redeem=null}=useFurnitureExchangeWidget();if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-widget-exchange-credit\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('catalog.redeem.dialog.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{overflow:\"hidden\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"exchange-image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,justifyContent:\"between\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{fontWeight:\"bold\",children:LocalizeText('creditfurni.description',['credits'],[value.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('creditfurni.prompt')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:redeem,children:LocalizeText('catalog.redeem.dialog.button.exchange')})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureExternalImageView.tsx\nconst FurnitureExternalImageView=props=>{const{objectId=-1,photoData=null,onClose=null}=useFurnitureExternalImageWidget();if(objectId===-1||!photoData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-external-image-widget\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:\"\",onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"picture-preview border border-black\",style:photoData.w?{backgroundImage:'url('+photoData.w+')'}:{},children:!photoData.w&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('camera.loading')})}),photoData.m&&photoData.m.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,children:photoData.m}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:photoData.n||''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:new Date(photoData.t*1000).toLocaleDateString()})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureFriendFurniView.tsx\nconst FurnitureFriendFurniView=props=>{const{objectId=-1,type=0,stage=0,usernames=[],figures=[],date=null,onClose=null,respond=null}=useFurnitureFriendFurniWidget();if(objectId===-1)return null;if(stage>0){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-engraving-lock\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('friend.furniture.confirm.lock.caption'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"text-black text-center fw-bold mt-2 mb-2\",children:LocalizeText('friend.furniture.confirm.lock.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex justify-content-center mb-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:`engraving-lock-stage-${stage}`})}),stage===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-small text-black text-center mb-2\",children:LocalizeText('friend.furniture.confirm.lock.other.locked')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:event=>respond(false),children:LocalizeText('friend.furniture.confirm.lock.button.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:event=>respond(true),children:LocalizeText('friend.furniture.confirm.lock.button.confirm')})]})]})]});}if(usernames.length>0){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow,{handleSelector:\".nitro-engraving-lock-view\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:`nitro-engraving-lock-view engraving-lock-${type}`,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"engraving-lock-close\",onClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"engraving-lock-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:figures[0],direction:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"engraving-lock-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:figures[1],direction:4})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{justifyContent:\"between\",className:\"mt-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{alignItems:\"center\",justifyContent:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[type===0&&LocalizeText('lovelock.engraving.caption'),type===3&&LocalizeText('wildwest.engraving.caption')]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:date})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"center\",gap:4,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:usernames[0]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:usernames[1]})]})]})]})});}};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureGiftOpeningView.tsx\nconst FurnitureGiftOpeningView=props=>{const{objectId=-1,classId=-1,itemType=null,text=null,isOwnerOfFurniture=false,senderName=null,senderFigure=null,placedItemId=-1,placedItemType=null,placedInRoom=false,imageUrl=null,openPresent=null,onClose=null}=useFurniturePresentWidget();const{groupItems=[]}=useInventoryFurni();if(objectId===-1)return null;const place=itemId=>{const groupItem=groupItems.find(group=>{var _group$getItemById;return((_group$getItemById=group.getItemById(itemId))===null||_group$getItemById===void 0?void 0:_group$getItemById.id)===itemId;});if(groupItem)attemptItemPlacement(groupItem);onClose();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-gift-opening\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText(senderName?'widget.furni.present.window.title_from':'widget.furni.present.window.title',['name'],[senderName]),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[placedItemId===-1&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGiftTagView,{userName:senderName,figure:senderFigure,message:text})}),isOwnerOfFurniture&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[senderName&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:event=>CreateLinkEvent('catalog/open'),children:LocalizeText('widget.furni.present.give_gift',['name'],[senderName])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:openPresent,children:LocalizeText('widget.furni.present.open_gift')})]})]}),placedItemId>-1&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,className:\"p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage,{imageUrl:imageUrl})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{wrap:true,small:true,children:LocalizeText('widget.furni.present.message_opened')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,fontSize:5,children:text})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[placedInRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:null,children:LocalizeText('widget.furni.present.put_in_inventory')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:event=>place(placedItemId),children:LocalizeText(placedInRoom?'widget.furni.present.keep_in_room':'widget.furni.present.place_in_room')})]}),senderName&&senderName.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,onClick:event=>CreateLinkEvent('catalog/open'),children:LocalizeText('widget.furni.present.give_gift',['name'],[senderName])})]})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureHighScoreView.tsx\nconst FurnitureHighScoreView=props=>{const{stuffDatas=null,getScoreType=null,getClearType=null}=useFurnitureHighScoreWidget();if(!stuffDatas||!stuffDatas.size)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:Array.from(stuffDatas.entries()).map((_ref,index)=>{let[objectId,stuffData]=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ObjectLocationView,{objectId:objectId,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].FLOOR,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"nitro-widget-high-score nitro-context-menu\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView,{children:LocalizeText('high.score.display.caption',['scoretype','cleartype'],[LocalizeText(`high.score.display.scoretype.${getScoreType(stuffData.scoreType)}`),LocalizeText(`high.score.display.cleartype.${getClearType(stuffData.clearType)}`)])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListView,{overflow:\"hidden\",gap:1,className:\"h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,bold:true,variant:\"white\",className:\"col-8\",children:LocalizeText('high.score.display.users.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,bold:true,variant:\"white\",className:\"col-4\",children:LocalizeText('high.score.display.score.header')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{overflow:\"auto\",gap:1,className:\"overflow-y-scroll\",children:stuffData.entries.map((entry,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,variant:\"white\",className:\"col-8\",children:entry.users.join(', ')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,variant:\"white\",className:\"col-4\",children:entry.score})]},index);})})]})]})},index);})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureInternalLinkView.tsx\nconst FurnitureInternalLinkView=props=>{const{}=useFurnitureInternalLinkWidget();return null;};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureMannequinView.tsx\nconst FurnitureMannequinView_MODE_NONE=-1;const MODE_CONTROLLER=0;const MODE_UPDATE=1;const MODE_PEER=2;const MODE_NO_CLUB=3;const MODE_WRONG_GENDER=4;const FurnitureMannequinView=props=>{const[renderedFigure,setRenderedFigure]=Object(react[\"useState\"])(null);const[mode,setMode]=Object(react[\"useState\"])(FurnitureMannequinView_MODE_NONE);const{objectId=-1,figure=null,gender=null,clubLevel=nitro_renderer[\"Xd\" /* HabboClubLevelEnum */].NO_CLUB,name=null,setName=null,saveFigure=null,wearFigure=null,saveName=null,onClose=null}=useFurnitureMannequinWidget();Object(react[\"useEffect\"])(()=>{if(objectId===-1)return;const roomSession=GetRoomSession();if(roomSession.isRoomOwner||roomSession.controllerLevel>=nitro_renderer[\"yg\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator){setMode(MODE_CONTROLLER);return;}if(GetSessionDataManager().gender.toLowerCase()!==gender.toLowerCase()){setMode(MODE_WRONG_GENDER);return;}if(GetClubMemberLevel()<clubLevel){setMode(MODE_NO_CLUB);return;}setMode(MODE_PEER);},[objectId,gender,clubLevel]);Object(react[\"useEffect\"])(()=>{switch(mode){case MODE_CONTROLLER:case MODE_WRONG_GENDER:{const figureContainer=GetAvatarRenderManager().createFigureContainer(figure);MannequinUtilities_MannequinUtilities.transformAsMannequinFigure(figureContainer);setRenderedFigure(figureContainer.getFigureString());break;}case MODE_UPDATE:{const figureContainer=GetAvatarRenderManager().createFigureContainer(GetSessionDataManager().figure);MannequinUtilities_MannequinUtilities.transformAsMannequinFigure(figureContainer);setRenderedFigure(figureContainer.getFigureString());break;}case MODE_PEER:case MODE_NO_CLUB:{const figureContainer=MannequinUtilities_MannequinUtilities.getMergedMannequinFigureContainer(GetSessionDataManager().figure,figure);setRenderedFigure(figureContainer.getFigureString());break;}}},[mode,figure,clubLevel]);if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-mannequin no-resize\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('mannequin.widget.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{position:\"relative\",className:\"mannequin-preview\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{position:\"absolute\",figure:renderedFigure,direction:2}),clubLevel>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon,{className:\"position-absolute end-2 bottom-2\",type:\"hc\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,justifyContent:\"between\",overflow:\"auto\",children:[mode===MODE_CONTROLLER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:name,onChange:event=>setName(event.target.value),onBlur:saveName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:event=>setMode(MODE_UPDATE),children:LocalizeText('mannequin.widget.style')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:wearFigure,children:LocalizeText('mannequin.widget.wear')})]})]}),mode===MODE_UPDATE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{wrap:true,children:LocalizeText('mannequin.widget.savetext')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{underline:true,pointer:true,onClick:event=>setMode(MODE_CONTROLLER),children:LocalizeText('mannequin.widget.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:saveFigure,children:LocalizeText('mannequin.widget.save')})]})]}),mode===MODE_PEER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('mannequin.widget.weartext')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:wearFigure,children:LocalizeText('mannequin.widget.wear')})]}),mode===MODE_NO_CLUB&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,grow:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('mannequin.widget.clubnotification')})}),mode===MODE_WRONG_GENDER&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('mannequin.widget.wronggender')})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureRoomLinkView.tsx\nconst FurnitureRoomLinkView=props=>{const{}=useFurnitureRoomLinkWidget();return null;};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureSpamWallPostItView.tsx\nconst STICKIE_COLORS=['9CCEFF','FF9CFF','9CFF9C','FFFF33'];const STICKIE_COLOR_NAMES=['blue','pink','green','yellow'];const getStickieColorName=color=>{let index=STICKIE_COLORS.indexOf(color);if(index===-1)index=0;return STICKIE_COLOR_NAMES[index];};const FurnitureSpamWallPostItView=props=>{const{objectId=-1,color='0',setColor=null,text='',setText=null,canModify=false,onClose=null}=useFurnitureSpamWallPostItWidget();if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow,{handleSelector:\".drag-handler\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:'nitro-stickie nitro-stickie-image stickie-'+getStickieColorName(color),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center stickie-header drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex align-items-center flex-grow-1 h-100\",children:canModify&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-stickie-image stickie-trash header-trash\",onClick:onClose}),STICKIE_COLORS.map(color=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stickie-color ms-1\",onClick:event=>setColor(color),style:{backgroundColor:ColorUtils.makeColorHex(color)}},color);})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex align-items-center nitro-stickie-image stickie-close header-close\",onClick:onClose})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stickie-context\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"context-text\",value:text,onChange:event=>setText(event.target.value),tabIndex:0,autoFocus:true})})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureStackHeightView.tsx\nconst FurnitureStackHeightView=props=>{const{objectId=-1,height=0,maxHeight=40,onClose=null,updateHeight=null}=useFurnitureStackHeightWidget();const[tempHeight,setTempHeight]=Object(react[\"useState\"])('');const updateTempHeight=value=>{setTempHeight(value);const newValue=parseFloat(value);if(isNaN(newValue)||newValue===height)return;updateHeight(newValue);};Object(react[\"useEffect\"])(()=>{setTempHeight(height.toString());},[height]);if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"nitro-widget-custom-stack-height\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('widget.custom.stack.height.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('widget.custom.stack.height.text')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:\"nitro-slider\",min:0,max:maxHeight,step:0.01,value:height,onChange:event=>updateHeight(event),renderThumb:(props,state)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{...props,children:state.valueNow})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"show-number-arrows\",style:{width:50},type:\"number\",min:0,max:maxHeight,value:tempHeight,onChange:event=>updateTempHeight(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>SendMessageComposer(new nitro_renderer[\"nc\" /* FurnitureStackHeightComposer */](objectId,-100)),children:LocalizeText('furniture.above.stack')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>SendMessageComposer(new nitro_renderer[\"nc\" /* FurnitureStackHeightComposer */](objectId,0)),children:LocalizeText('furniture.floor.level')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureStickieView.tsx\nconst FurnitureStickieView_STICKIE_COLORS=['9CCEFF','FF9CFF','9CFF9C','FFFF33'];const FurnitureStickieView_STICKIE_COLOR_NAMES=['blue','pink','green','yellow'];const STICKIE_TYPES=['post_it','post_it_shakesp','post_it_dreams','post_it_xmas','post_it_vd','post_it_juninas'];const STICKIE_TYPE_NAMES=['post_it','shakesp','dreams','christmas','heart','juninas'];const FurnitureStickieView_getStickieColorName=color=>{let index=FurnitureStickieView_STICKIE_COLORS.indexOf(color);if(index===-1)index=0;return FurnitureStickieView_STICKIE_COLOR_NAMES[index];};const getStickieTypeName=type=>{let index=STICKIE_TYPES.indexOf(type);if(index===-1)index=0;return STICKIE_TYPE_NAMES[index];};const FurnitureStickieView=props=>{const{objectId=-1,color='0',text='',type='',canModify=false,updateColor=null,updateText=null,trash=null,onClose=null}=useFurnitureStickieWidget();const[isEditing,setIsEditing]=Object(react[\"useState\"])(false);Object(react[\"useEffect\"])(()=>{setIsEditing(false);},[objectId,color,text,type]);if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow,{handleSelector:\".drag-handler\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:'nitro-stickie nitro-stickie-image stickie-'+(type=='post_it'?FurnitureStickieView_getStickieColorName(color):getStickieTypeName(type)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center stickie-header drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex align-items-center flex-grow-1 h-100\",children:canModify&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-stickie-image stickie-trash header-trash\",onClick:trash}),type=='post_it'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:FurnitureStickieView_STICKIE_COLORS.map(color=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stickie-color ms-1\",onClick:event=>updateColor(color),style:{backgroundColor:ColorUtils.makeColorHex(color)}},color);})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex align-items-center nitro-stickie-image stickie-close header-close\",onClick:onClose})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stickie-context\",children:!isEditing||!canModify?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"context-text\",onClick:event=>canModify&&setIsEditing(true),children:text}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"context-text\",defaultValue:text,tabIndex:0,onBlur:event=>updateText(event.target.value),autoFocus:true})})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureTrophyView.tsx\nconst FurnitureTrophyView=props=>{const{objectId=-1,color='1',senderName='',date='',message='',onClose=null}=useFurnitureTrophyWidget();if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutTrophyView,{color:color,message:message,date:date,senderName:senderName,onCloseClick:onClose});};\n// EXTERNAL MODULE: ./node_modules/react-youtube/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(83);\n\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureYoutubeDisplayView.tsx\nconst FurnitureYoutubeDisplayView=props=>{const[player,setPlayer]=Object(react[\"useState\"])(null);const{objectId=-1,videoId=null,videoStart=0,videoEnd=0,currentVideoState=null,selectedVideo=null,playlists=[],onClose=null,previous=null,next=null,pause=null,play=null,selectVideo=null}=useFurnitureYoutubeWidget();const onStateChange=Object(react[\"useCallback\"])(event=>{setPlayer(event.target);if(objectId===-1)return;switch(event.target.getPlayerState()){case-1:case 1:if(currentVideoState===2){//event.target.pauseVideo();\n}if(currentVideoState!==1)play();return;case 2:if(currentVideoState!==2)pause();}},[objectId,currentVideoState,play,pause]);Object(react[\"useEffect\"])(()=>{if(currentVideoState===null||!player)return;if(currentVideoState===YoutubeVideoPlaybackStateEnum.PLAYING&&player.getPlayerState()!==YoutubeVideoPlaybackStateEnum.PLAYING){player.playVideo();return;}if(currentVideoState===YoutubeVideoPlaybackStateEnum.PAUSED&&player.getPlayerState()!==YoutubeVideoPlaybackStateEnum.PAUSED){player.pauseVideo();return;}},[currentVideoState,player]);if(objectId===-1)return null;const youtubeOptions={height:'375',width:'500',playerVars:{autoplay:1,disablekb:1,controls:0,origin:window.origin,modestbranding:1,start:videoStart,end:videoEnd}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{className:\"youtube-tv-widget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:'',onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row w-100 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"youtube-video-container col-9\",children:[videoId&&videoId.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_index_esm[\"a\" /* default */],{videoId:videoId,opts:youtubeOptions,onReady:event=>setPlayer(event.target),onStateChange:onStateChange,containerClassName:'youtubeContainer'}),(!videoId||videoId.length===0)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"empty-video w-100 h-100 justify-content-center align-items-center d-flex\",children:LocalizeText('widget.furni.video_viewer.no_videos')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"playlist-container col-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"playlist-controls justify-content-center d-flex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-youtube-prev cursor-pointer\",onClick:previous}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-youtube-next cursor-pointer\",onClick:next})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mb-1\",children:LocalizeText('widget.furni.video_viewer.playlists')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{columnCount:1,className:\"playlist-grid\",children:playlists&&playlists.map((entry,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{onClick:event=>selectVideo(entry.video),itemActive:entry.video===selectedVideo,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:entry.title}),\" - \",entry.description]},index);})})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureWidgetsView.tsx\nconst FurnitureWidgetsView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{fit:true,position:\"absolute\",className:\"nitro-room-widgets top-0 start-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureBackgroundColorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureBadgeDisplayView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureDimmerView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureExchangeCreditView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureExternalImageView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureFriendFurniView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureGiftOpeningView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureHighScoreView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureInternalLinkView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureMannequinView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureRoomLinkView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureSpamWallPostItView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureStackHeightView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureStickieView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureTrophyView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureContextMenuView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureYoutubeDisplayView,{})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/room-thumbnail/RoomThumbnailWidgetView.tsx\nconst RoomThumbnailWidgetView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const{roomSession=null}=useRoom();const onNitroEvent=Object(react[\"useCallback\"])(event=>{switch(event.type){case RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.SHOW_THUMBNAIL:setIsVisible(true);return;case RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.HIDE_THUMBNAIL:setIsVisible(false);return;case RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL:setIsVisible(value=>!value);return;}},[]);useUiEvent(RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.SHOW_THUMBNAIL,onNitroEvent);useUiEvent(RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.HIDE_THUMBNAIL,onNitroEvent);useUiEvent(RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL,onNitroEvent);const receiveTexture=Object(react[\"useCallback\"])(texture=>{GetRoomEngine().saveTextureAsScreenshot(texture,true);setIsVisible(false);},[]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutMiniCameraView,{roomId:roomSession.roomId,textureReceiver:receiveTexture,onClose:()=>setIsVisible(false)});};\n// CONCATENATED MODULE: ./src/components/room/widgets/room-tools/RoomToolsWidgetView.tsx\nconst RoomToolsWidgetView=props=>{const[isZoomedIn,setIsZoomedIn]=Object(react[\"useState\"])(false);const[roomName,setRoomName]=Object(react[\"useState\"])(null);const[roomOwner,setRoomOwner]=Object(react[\"useState\"])(null);const[roomTags,setRoomTags]=Object(react[\"useState\"])(null);const[isOpen,setIsOpen]=Object(react[\"useState\"])(false);const{navigatorData=null}=useNavigator();const{roomSession=null}=useRoom();const handleToolClick=action=>{switch(action){case'settings':CreateLinkEvent('navigator/toggle-room-info');return;case'zoom':setIsZoomedIn(prevValue=>{let scale=GetRoomEngine().getRoomInstanceRenderingCanvasScale(roomSession.roomId,1);if(!prevValue)scale/=2;else scale*=2;GetRoomEngine().setRoomInstanceRenderingCanvasScale(roomSession.roomId,1,scale);return!prevValue;});return;case'chat_history':CreateLinkEvent('chat-history/toggle');return;case'like_room':SendMessageComposer(new nitro_renderer[\"Zf\" /* RateFlatMessageComposer */](1));return;case'toggle_room_link':CreateLinkEvent('navigator/toggle-room-link');return;}};useMessageEvent(nitro_renderer[\"Dc\" /* GetGuestRoomResultEvent */],event=>{const parser=event.getParser();if(!parser.roomEnter||parser.data.roomId!==roomSession.roomId)return;if(roomName!==parser.data.roomName)setRoomName(parser.data.roomName);if(roomOwner!==parser.data.ownerName)setRoomOwner(parser.data.ownerName);if(roomTags!==parser.data.tags)setRoomTags(parser.data.tags);});Object(react[\"useEffect\"])(()=>{setIsOpen(true);const timeout=setTimeout(()=>setIsOpen(false),5000);return()=>clearTimeout(timeout);},[roomName,roomOwner,roomTags]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{className:\"nitro-room-tools-container\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{center:true,className:\"nitro-room-tools p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,title:LocalizeText('room.settings.button.text'),className:\"icon icon-cog\",onClick:()=>handleToolClick('settings')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,title:LocalizeText('room.zoom.button.text'),onClick:()=>handleToolClick('zoom'),className:'icon '+classnames_default()({'icon-zoom-less':!isZoomedIn,'icon-zoom-more':isZoomedIn})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,title:LocalizeText('room.chathistory.button.text'),onClick:()=>handleToolClick('chat_history'),className:\"icon icon-chat-history\"}),navigatorData.canRate&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,title:LocalizeText('room.like.button.text'),onClick:()=>handleToolClick('like_room'),className:\"icon icon-like-room\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{justifyContent:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation,{type:TransitionAnimationTypes.SLIDE_LEFT,inProp:isOpen,timeout:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{className:\"nitro-room-tools-info rounded py-2 px-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{wrap:true,variant:\"white\",fontSize:4,children:roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"muted\",fontSize:5,children:roomOwner})]}),roomTags&&roomTags.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{gap:2,children:roomTags.map((tag,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,variant:\"white\",className:\"rounded bg-primary p-1\",children:[\"#\",tag]},index))})]})})})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/word-quiz/WordQuizQuestionView.tsx\nconst WordQuizQuestionView=props=>{const{question=null,canVote=null,vote=null,noVotes=null,yesVotes=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:2,className:\"wordquiz-question p-2\",children:[!canVote&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:\"bg-danger rounded p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:noVotes})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",center:true,textBreak:true,children:question}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:\"bg-success rounded p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",children:yesVotes})})]}),canVote&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{variant:\"white\",center:true,textBreak:true,children:question}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,justifyContent:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:\"bg-danger rounded p-1\",onClick:event=>vote(VALUE_KEY_DISLIKE),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"word-quiz-dislike\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:\"bg-success rounded p-1\",onClick:event=>vote(VALUE_KEY_LIKE),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"word-quiz-like\"})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/word-quiz/WordQuizVoteView.tsx\nconst WordQuizVoteView=props=>{const{userIndex=null,vote=null,...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ObjectLocationView,{objectId:userIndex,category:nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT,...rest,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,pointer:true,className:`bg-${vote===VALUE_KEY_DISLIKE?'danger':'success'} rounded p-1`,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:`word-quiz-${vote===VALUE_KEY_DISLIKE?'dislike':'like'}-sm`})})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/word-quiz/WordQuizWidgetView.tsx\nconst WordQuizWidgetView=props=>{const{question=null,answerSent=false,answerCounts=null,userAnswers=null,vote=null}=useWordQuizWidget();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[question&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WordQuizQuestionView,{question:question.content,canVote:!answerSent,vote:vote,noVotes:answerCounts.get(VALUE_KEY_DISLIKE)||0,yesVotes:answerCounts.get(VALUE_KEY_LIKE)||0}),userAnswers&&Array.from(userAnswers.entries()).map((_ref,index)=>{let[key,value]=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WordQuizVoteView,{userIndex:key,vote:value.value},index);})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/RoomWidgetsView.tsx\nconst RoomWidgetsView=props=>{const{roomSession=null}=useRoom();const{simpleAlert=null}=useNotification();useRoomEngineEvent(nitro_renderer[\"Oh\" /* RoomZoomEvent */].ROOM_ZOOM,event=>GetRoomEngine().setRoomInstanceRenderingCanvasScale(event.roomId,1,event.level,null,null,false,event.asDelta));useRoomEngineEvent([nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TEASER,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ECOTRONBOX,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_CLOTHING_CHANGE,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PLAYLIST_EDITOR,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET,nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET,nitro_renderer[\"Hg\" /* RoomEngineRoomAdEvent */].FURNI_CLICK,nitro_renderer[\"Hg\" /* RoomEngineRoomAdEvent */].FURNI_DOUBLE_CLICK,nitro_renderer[\"Hg\" /* RoomEngineRoomAdEvent */].TOOLTIP_SHOW,nitro_renderer[\"Hg\" /* RoomEngineRoomAdEvent */].TOOLTIP_HIDE],event=>{if(!roomSession)return;const objectId=event.objectId;const category=event.category;let updateEvent=null;switch(event.type){case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TEASER://widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage.REQUEST_TEASER, objectId, category, event.roomId));\nbreak;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ECOTRONBOX://widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage.REQUEST_ECOTRONBOX, objectId, category, event.roomId));\nbreak;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PLACEHOLDER://widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage.REQUEST_PLACEHOLDER, objectId, category, event.roomId));\nbreak;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_CLOTHING_CHANGE://widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage.REQUEST_CLOTHING_CHANGE, objectId, category, event.roomId));\nbreak;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PLAYLIST_EDITOR://widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage.REQUEST_PLAYLIST_EDITOR, objectId, category, event.roomId));\nbreak;case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET:case nitro_renderer[\"Ig\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET:case nitro_renderer[\"Jg\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_ROOM://widgetHandler.processEvent(event);\nbreak;case nitro_renderer[\"Hg\" /* RoomEngineRoomAdEvent */].FURNI_CLICK:case nitro_renderer[\"Hg\" /* RoomEngineRoomAdEvent */].FURNI_DOUBLE_CLICK://handleRoomAdClick(event);\nbreak;case nitro_renderer[\"Hg\" /* RoomEngineRoomAdEvent */].TOOLTIP_SHOW:case nitro_renderer[\"Hg\" /* RoomEngineRoomAdEvent */].TOOLTIP_HIDE://handleRoomAdTooltip(event);\nbreak;}if(!updateEvent)return;let dispatchEvent=true;if(nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(updateEvent.roomId))return;if(updateEvent instanceof RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent)dispatchEvent=!nitro_renderer[\"Rg\" /* RoomId */].isRoomPreviewerId(updateEvent.roomId);if(dispatchEvent)DispatchUiEvent(updateEvent);});useRoomSessionManagerEvent([nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_KICKED,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_PETS_FORBIDDEN_IN_HOTEL,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_PETS_FORBIDDEN_IN_FLAT,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_MAX_PETS,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_MAX_NUMBER_OF_OWN_PETS,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_NO_FREE_TILES_FOR_PET,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_SELECTED_TILE_NOT_FREE_FOR_PET,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_BOTS_FORBIDDEN_IN_HOTEL,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_BOTS_FORBIDDEN_IN_FLAT,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_BOT_LIMIT_REACHED,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT,nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_BOT_NAME_NOT_ACCEPTED],event=>{let errorTitle=LocalizeText('error.title');let errorMessage='';switch(event.type){case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_MAX_PETS:errorMessage=LocalizeText('room.error.max_pets');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_MAX_NUMBER_OF_OWN_PETS:errorMessage=LocalizeText('room.error.max_own_pets');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_KICKED:errorMessage=LocalizeText('room.error.kicked');errorTitle=LocalizeText('generic.alert.title');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_PETS_FORBIDDEN_IN_HOTEL:errorMessage=LocalizeText('room.error.pets.forbidden_in_hotel');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_PETS_FORBIDDEN_IN_FLAT:errorMessage=LocalizeText('room.error.pets.forbidden_in_flat');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_NO_FREE_TILES_FOR_PET:errorMessage=LocalizeText('room.error.pets.no_free_tiles');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_SELECTED_TILE_NOT_FREE_FOR_PET:errorMessage=LocalizeText('room.error.pets.selected_tile_not_free');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_BOTS_FORBIDDEN_IN_HOTEL:errorMessage=LocalizeText('room.error.bots.forbidden_in_hotel');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_BOTS_FORBIDDEN_IN_FLAT:errorMessage=LocalizeText('room.error.bots.forbidden_in_flat');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_BOT_LIMIT_REACHED:errorMessage=LocalizeText('room.error.max_bots');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT:errorMessage=LocalizeText('room.error.bots.selected_tile_not_free');break;case nitro_renderer[\"lh\" /* RoomSessionErrorMessageEvent */].RSEME_BOT_NAME_NOT_ACCEPTED:errorMessage=LocalizeText('room.error.bots.name.not.accepted');break;default:return;}simpleAlert(errorMessage,NotificationAlertType.DEFAULT,null,null,errorTitle);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatInputView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DoorbellWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureWidgetsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomToolsWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomThumbnailWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurniChooserWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserChooserWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WordQuizWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendRequestWidgetView,{})]});};\n// CONCATENATED MODULE: ./src/components/room/RoomView.tsx\nconst RoomView=props=>{const{roomSession=null}=useRoom();const elementRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(()=>{const canvas=GetNitroInstance().renderer.view;if(!canvas)return;canvas.onclick=event=>DispatchMouseEvent(event);canvas.onmousemove=event=>DispatchMouseEvent(event);canvas.onmousedown=event=>DispatchMouseEvent(event);canvas.onmouseup=event=>DispatchMouseEvent(event);canvas.ontouchstart=event=>DispatchTouchEvent(event);canvas.ontouchmove=event=>DispatchTouchEvent(event);canvas.ontouchend=event=>DispatchTouchEvent(event);canvas.ontouchcancel=event=>DispatchTouchEvent(event);const element=elementRef.current;if(!element)return;element.appendChild(canvas);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{fit:true,innerRef:elementRef,className:!roomSession&&'d-none',children:roomSession&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomWidgetsView,{}),roomSession.isSpectator&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomSpectatorView,{})]})});};\n// CONCATENATED MODULE: ./src/components/toolbar/ToolbarMeView.tsx\nconst ToolbarMeView=props=>{const{useGuideTool=false,unseenAchievementCount=0,setMeExpanded=null,children=null,...rest}=props;const elementRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(()=>{const roomSession=GetRoomSession();if(!roomSession)return;GetRoomEngine().selectRoomObject(roomSession.roomId,roomSession.ownRoomIndex,nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT);},[]);Object(react[\"useEffect\"])(()=>{const onClick=event=>setMeExpanded(false);document.addEventListener('click',onClick);return()=>document.removeEventListener(nitro_renderer[\"Ve\" /* MouseEventType */].MOUSE_CLICK,onClick);},[setMeExpanded]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{innerRef:elementRef,alignItems:\"center\",className:\"nitro-toolbar-me p-2\",gap:2,children:[useGuideTool&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-me-helper-tool\",onClick:event=>DispatchUiEvent(new GuideToolEvent_GuideToolEvent(GuideToolEvent_GuideToolEvent.TOGGLE_GUIDE_TOOL))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-me-achievements\",onClick:event=>CreateLinkEvent('achievements/toggle'),children:unseenAchievementCount>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView,{count:unseenAchievementCount})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-me-profile\",onClick:event=>GetUserProfile(GetSessionDataManager().userId)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-me-rooms\",onClick:event=>CreateLinkEvent('navigator/search/myworld_view')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-me-clothing\",onClick:event=>CreateLinkEvent('avatar-editor/toggle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-me-settings\",onClick:event=>CreateLinkEvent('user-settings/toggle')}),children]});};\n// CONCATENATED MODULE: ./src/components/toolbar/ToolbarView.tsx\nconst ToolbarView=props=>{const{isInRoom}=props;const[isMeExpanded,setMeExpanded]=Object(react[\"useState\"])(false);const[useGuideTool,setUseGuideTool]=Object(react[\"useState\"])(false);const{userFigure=null}=useSessionInfo();const{getFullCount=0}=useInventoryUnseenTracker();const{getTotalUnseen=0}=useAchievements();const{requests=[]}=useFriends();const{iconState=MessengerIconState.HIDDEN}=useMessenger();const isMod=GetSessionDataManager().isModerator;useMessageEvent(nitro_renderer[\"Bf\" /* PerkAllowancesMessageEvent */],event=>{const parser=event.getParser();setUseGuideTool(parser.isAllowed(nitro_renderer[\"Cf\" /* PerkEnum */].USE_GUIDE_TOOL));});const animationIconToToolbar=Object(react[\"useCallback\"])((iconName,image,x,y)=>{const target=document.body.getElementsByClassName(iconName)[0];if(!target)return;image.className='toolbar-icon-animation';image.style.visibility='visible';image.style.left=x+'px';image.style.top=y+'px';document.body.append(image);const targetBounds=target.getBoundingClientRect();const imageBounds=image.getBoundingClientRect();const left=imageBounds.x-targetBounds.x;const top=imageBounds.y-targetBounds.y;const squared=Math.sqrt(left*left+top*top);const wait=500-Math.abs(1/squared*100*500*0.5);const height=20;const motionName=`ToolbarBouncing[${iconName}]`;if(!nitro_renderer[\"Ue\" /* Motions */].getMotionByTag(motionName)){nitro_renderer[\"Ue\" /* Motions */].runMotion(new nitro_renderer[\"Yf\" /* Queue */](new nitro_renderer[\"nj\" /* Wait */](wait+8),new nitro_renderer[\"Hb\" /* DropBounce */](target,400,12))).tag=motionName;}const motion=new nitro_renderer[\"Yf\" /* Queue */](new nitro_renderer[\"Ib\" /* EaseOut */](new nitro_renderer[\"ne\" /* JumpBy */](image,wait,targetBounds.x-imageBounds.x+height,targetBounds.y-imageBounds.y,100,1),1),new nitro_renderer[\"Fb\" /* Dispose */](image));nitro_renderer[\"Ue\" /* Motions */].runMotion(motion);},[]);useRoomEngineEvent(nitro_renderer[\"uf\" /* NitroToolbarAnimateIconEvent */].ANIMATE_ICON,event=>{animationIconToToolbar('icon-inventory',event.image,event.x,event.y);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation,{type:TransitionAnimationTypes.FADE_IN,inProp:isMeExpanded,timeout:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToolbarMeView,{useGuideTool:useGuideTool,unseenAchievementCount:getTotalUnseen,setMeExpanded:setMeExpanded})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:2,className:\"nitro-toolbar py-1 px-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,pointer:true,className:'navigation-item item-avatar '+(isMeExpanded?'active ':''),onClick:event=>setMeExpanded(!isMeExpanded),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:userFigure,direction:2,position:\"absolute\"}),getTotalUnseen>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView,{count:getTotalUnseen})]}),isInRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-habbo\",onClick:event=>VisitDesktop()}),!isInRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-house\",onClick:event=>CreateLinkEvent('navigator/goto/home')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-rooms\",onClick:event=>CreateLinkEvent('navigator/toggle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-catalog\",onClick:event=>CreateLinkEvent('catalog/toggle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-inventory\",onClick:event=>CreateLinkEvent('inventory/toggle'),children:getFullCount>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView,{count:getFullCount})}),isInRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-camera\",onClick:event=>CreateLinkEvent('camera/toggle')}),isMod&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-modtools\",onClick:event=>CreateLinkEvent('mod-tools/toggle')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",id:\"toolbar-chat-input-container\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:\"navigation-item icon icon-friendall\",onClick:event=>CreateLinkEvent('friends/toggle'),children:requests.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView,{count:requests.length})}),(iconState===MessengerIconState.SHOW||iconState===MessengerIconState.UNREAD)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{pointer:true,className:`navigation-item icon icon-message ${iconState===MessengerIconState.UNREAD&&'is-unseen'}`,onClick:event=>OpenMessengerChat()})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{id:\"toolbar-friend-bar-container\",className:\"d-none d-lg-block\"})]})]})]});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/BadgesContainerView.tsx\nconst BadgesContainerView=props=>{const{badges=null,gap=1,justifyContent='between',...rest}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:badges&&badges.length>0&&badges.map((badge,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:badge},badge)},badge);})});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/RelationshipsContainerView.tsx\nconst RelationshipsContainerView=props=>{const{relationships=null}=props;const RelationshipComponent=_ref=>{let{type}=_ref;const relationshipInfo=relationships&&relationships.relationshipStatusMap.hasKey(type)?relationships.relationshipStatusMap.getValue(type):null;const relationshipName=nitro_renderer[\"dg\" /* RelationshipStatusEnum */].RELATIONSHIP_NAMES[type].toLocaleLowerCase();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,className:\"user-relationship\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`nitro-friends-spritesheet icon-${relationshipName}`})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",justifyContent:\"between\",className:\"bg-white rounded px-2 py-1 user-relationship\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,underline:true,pointer:true,onClick:event=>relationshipInfo&&relationshipInfo.randomFriendId>=1&&GetUserProfile(relationshipInfo.randomFriendId),children:[(!relationshipInfo||relationshipInfo.friendCount===0)&&LocalizeText('extendedprofile.add.friends'),relationshipInfo&&relationshipInfo.friendCount>=1&&relationshipInfo.randomFriendName]}),relationshipInfo&&relationshipInfo.friendCount>=1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{center:true,position:\"relative\",className:\"avatar-image-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:relationshipInfo.randomFriendFigure,headOnly:true,direction:4})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,italics:true,className:\"user-relationship-count\",children:[(!relationshipInfo||relationshipInfo.friendCount===0)&&LocalizeText('extendedprofile.no.friends.in.this.category'),relationshipInfo&&relationshipInfo.friendCount>1&&LocalizeText(`extendedprofile.relstatus.others.${relationshipName}`,['count'],[(relationshipInfo.friendCount-1).toString()]),\"\\xA0\"]})]})]});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"dg\" /* RelationshipStatusEnum */].HEART}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"dg\" /* RelationshipStatusEnum */].SMILE}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"dg\" /* RelationshipStatusEnum */].BOBBA})]});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/FriendsContainerView.tsx\nconst FriendsContainerView=props=>{const{relationships=null,friendsCount=null}=props;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:LocalizeText('extendedprofile.friends.count')}),\" \",friendsCount]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,small:true,children:LocalizeText('extendedprofile.relstatus')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipsContainerView,{relationships:relationships})})]});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/GroupsContainerView.tsx\nconst GroupsContainerView=props=>{const{itsMe=null,groups=null,onLeaveGroup=null,overflow='hidden',gap=2,...rest}=props;const[selectedGroupId,setSelectedGroupId]=Object(react[\"useState\"])(null);const[groupInformation,setGroupInformation]=Object(react[\"useState\"])(null);useMessageEvent(nitro_renderer[\"nd\" /* GroupInformationEvent */],event=>{const parser=event.getParser();if(!selectedGroupId||selectedGroupId!==parser.id||parser.flag)return;setGroupInformation(parser);});Object(react[\"useEffect\"])(()=>{if(!selectedGroupId)return;SendMessageComposer(new nitro_renderer[\"md\" /* GroupInformationComposer */](selectedGroupId,false));},[selectedGroupId]);Object(react[\"useEffect\"])(()=>{setGroupInformation(null);if(groups.length>0){setSelectedGroupId(prevValue=>{if(prevValue===groups[0].groupId){SendMessageComposer(new nitro_renderer[\"md\" /* GroupInformationComposer */](groups[0].groupId,false));}return groups[0].groupId;});}},[groups]);if(!groups||!groups.length){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,fullHeight:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"no-group-spritesheet image-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"no-group-spritesheet image-2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{className:\"no-group-spritesheet image-3\"})]})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{overflow:overflow,gap:2,...rest,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{alignItems:\"center\",size:2,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid,{overflow:null,columnCount:1,columnMinHeight:50,className:\"user-groups-container\",children:groups.map((group,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem,{overflow:\"unset\",itemActive:selectedGroupId===group.groupId,onClick:()=>setSelectedGroupId(group.groupId),className:\"p-1\",children:[itsMe&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'position-absolute end-0 top-0 z-index-1 icon icon-group-'+(group.favourite?'favorite':'not-favorite'),onClick:()=>ToggleFavoriteGroup(group)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView,{badgeCode:group.badgeCode,isGroup:true})]},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:10,overflow:\"hidden\",children:groupInformation&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupInformationView,{groupInformation:groupInformation,onClose:onLeaveGroup})})]});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/UserContainerView.tsx\nconst UserContainerView=props=>{const{userProfile=null}=props;const[requestSent,setRequestSent]=Object(react[\"useState\"])(userProfile.requestSent);const isOwnProfile=userProfile.id===GetSessionDataManager().userId;const canSendFriendRequest=!requestSent&&!isOwnProfile&&!userProfile.isMyFriend&&!userProfile.requestSent;const addFriend=()=>{setRequestSent(true);SendMessageComposer(new nitro_renderer[\"mg\" /* RequestFriendComposer */](userProfile.username));};Object(react[\"useEffect\"])(()=>{setRequestSent(userProfile.requestSent);},[userProfile]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{center:true,className:\"avatar-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:userProfile.figure,direction:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:userProfile.username}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{italics:true,textBreak:true,small:true,children:[userProfile.motto,\"\\xA0\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:LocalizeText('extendedprofile.created')}),\" \",userProfile.registration]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:LocalizeText('extendedprofile.last.login')}),\" \",nitro_renderer[\"Zb\" /* FriendlyTime */].format(userProfile.secondsSinceLastVisit,'.ago',2)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{small:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:LocalizeText('extendedprofile.achievementscore')}),\" \",userProfile.achievementPoints]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[userProfile.isOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-pf-online\"}),!userProfile.isOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-pf-offline\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[canSendFriendRequest&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,underline:true,pointer:true,onClick:addFriend,children:LocalizeText('extendedprofile.addasafriend')}),!canSendFriendRequest&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-pf-tick\"}),isOwnProfile&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('extendedprofile.me')}),userProfile.isMyFriend&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('extendedprofile.friend')}),(requestSent||userProfile.requestSent)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('extendedprofile.friendrequestsent')})]})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/user-profile/UserProfileView.tsx\nconst UserProfileView=props=>{const[userProfile,setUserProfile]=Object(react[\"useState\"])(null);const[userBadges,setUserBadges]=Object(react[\"useState\"])([]);const[userRelationships,setUserRelationships]=Object(react[\"useState\"])(null);const onClose=()=>{setUserProfile(null);setUserBadges([]);setUserRelationships(null);};const onLeaveGroup=Object(react[\"useCallback\"])(()=>{if(!userProfile||userProfile.id!==GetSessionDataManager().userId)return;GetUserProfile(userProfile.id);},[userProfile]);useMessageEvent(nitro_renderer[\"Ri\" /* UserCurrentBadgesEvent */],event=>{const parser=event.getParser();if(!userProfile||parser.userId!==userProfile.id)return;setUserBadges(parser.badges);});useMessageEvent(nitro_renderer[\"eg\" /* RelationshipStatusInfoEvent */],event=>{const parser=event.getParser();if(!userProfile||parser.userId!==userProfile.id)return;setUserRelationships(parser);});useMessageEvent(nitro_renderer[\"Zi\" /* UserProfileEvent */],event=>{const parser=event.getParser();let isSameProfile=false;setUserProfile(prevValue=>{if(prevValue&&prevValue.id)isSameProfile=prevValue.id===parser.id;return parser;});if(!isSameProfile){setUserBadges([]);setUserRelationships(null);}SendMessageComposer(new nitro_renderer[\"Qi\" /* UserCurrentBadgesComposer */](parser.id));SendMessageComposer(new nitro_renderer[\"aj\" /* UserRelationshipsComposer */](parser.id));});useRoomEngineEvent(nitro_renderer[\"Fg\" /* RoomEngineObjectEvent */].SELECTED,event=>{if(!userProfile)return;if(event.category!==nitro_renderer[\"Wg\" /* RoomObjectCategory */].UNIT)return;const userData=GetRoomSession().userDataManager.getUserDataByIndex(event.objectId);if(userData.type!==nitro_renderer[\"ah\" /* RoomObjectType */].USER)return;GetUserProfile(userData.webID);});if(!userProfile)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"nitro-user-profile\",theme:\"primary-slim\",className:\"user-profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('extendedprofile.caption'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid,{fullHeight:false,gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{size:7,gap:1,className:\"user-container pe-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserContainerView,{userProfile:userProfile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{columnCount:5,fullHeight:true,className:\"bg-muted rounded px-2 py-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BadgesContainerView,{fullWidth:true,center:true,badges:userBadges})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{size:5,children:userRelationships&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsContainerView,{relationships:userRelationships,friendsCount:userProfile.friendsCount})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{alignItems:\"center\",className:\"rooms-button-container px-2 py-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,onClick:event=>CreateLinkEvent(`navigator/search/hotel_view/owner:${userProfile.username}`),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-rooms\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,underline:true,pointer:true,children:LocalizeText('extendedprofile.rooms')})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupsContainerView,{fullWidth:true,itsMe:userProfile.id===GetSessionDataManager().userId,groups:userProfile.groups,onLeaveGroup:onLeaveGroup})]})]});};\n// CONCATENATED MODULE: ./src/components/user-settings/UserSettingsView.tsx\nconst UserSettingsView=props=>{const[isVisible,setIsVisible]=Object(react[\"useState\"])(false);const[userSettings,setUserSettings]=Object(react[\"useState\"])(null);const[catalogPlaceMultipleObjects,setCatalogPlaceMultipleObjects]=useCatalogPlaceMultipleItems();const[catalogSkipPurchaseConfirmation,setCatalogSkipPurchaseConfirmation]=useCatalogSkipPurchaseConfirmation();const processAction=Object(react[\"useCallback\"])((type,value)=>{let doUpdate=true;const clone=userSettings.clone();switch(type){case'close_view':setIsVisible(false);doUpdate=false;return;case'oldchat':clone.oldChat=value;SendMessageComposer(new nitro_renderer[\"dj\" /* UserSettingsOldChatComposer */](clone.oldChat));break;case'room_invites':clone.roomInvites=value;SendMessageComposer(new nitro_renderer[\"ej\" /* UserSettingsRoomInvitesComposer */](clone.roomInvites));break;case'camera_follow':clone.cameraFollow=value;SendMessageComposer(new nitro_renderer[\"bj\" /* UserSettingsCameraFollowComposer */](clone.cameraFollow));break;case'system_volume':clone.volumeSystem=value;clone.volumeSystem=Math.max(0,clone.volumeSystem);clone.volumeSystem=Math.min(100,clone.volumeSystem);break;case'furni_volume':clone.volumeFurni=value;clone.volumeFurni=Math.max(0,clone.volumeFurni);clone.volumeFurni=Math.min(100,clone.volumeFurni);break;case'trax_volume':clone.volumeTrax=value;clone.volumeTrax=Math.max(0,clone.volumeTrax);clone.volumeTrax=Math.min(100,clone.volumeTrax);break;}if(doUpdate)setUserSettings(clone);DispatchMainEvent(clone);},[userSettings]);const saveRangeSlider=Object(react[\"useCallback\"])(type=>{switch(type){case'volume':SendMessageComposer(new nitro_renderer[\"fj\" /* UserSettingsSoundComposer */](Math.round(userSettings.volumeSystem),Math.round(userSettings.volumeFurni),Math.round(userSettings.volumeTrax)));break;}},[userSettings]);useMessageEvent(nitro_renderer[\"cj\" /* UserSettingsEvent */],event=>{const parser=event.getParser();const settingsEvent=new nitro_renderer[\"pf\" /* NitroSettingsEvent */]();settingsEvent.volumeSystem=parser.volumeSystem;settingsEvent.volumeFurni=parser.volumeFurni;settingsEvent.volumeTrax=parser.volumeTrax;settingsEvent.oldChat=parser.oldChat;settingsEvent.roomInvites=parser.roomInvites;settingsEvent.cameraFollow=parser.cameraFollow;settingsEvent.flags=parser.flags;settingsEvent.chatType=parser.chatType;setUserSettings(settingsEvent);DispatchMainEvent(settingsEvent);});Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(prevValue=>!prevValue);return;}},eventUrlPrefix:'user-settings/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);Object(react[\"useEffect\"])(()=>{if(!userSettings)return;DispatchUiEvent(userSettings);},[userSettings]);if(!isVisible||!userSettings)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"user-settings\",className:\"user-settings-window\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('widget.memenu.settings.title'),onCloseClick:event=>processAction('close_view')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:userSettings.oldChat,onChange:event=>processAction('oldchat',event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('memenu.settings.chat.prefer.old.chat')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:userSettings.roomInvites,onChange:event=>processAction('room_invites',event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('memenu.settings.other.ignore.room.invites')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:userSettings.cameraFollow,onChange:event=>processAction('camera_follow',event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('memenu.settings.other.disable.room.camera.follow')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:catalogPlaceMultipleObjects,onChange:event=>setCatalogPlaceMultipleObjects(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('memenu.settings.other.place.multiple.objects')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:catalogSkipPurchaseConfirmation,onChange:event=>setCatalogSkipPurchaseConfirmation(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('memenu.settings.other.skip.purchase.confirmation')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('widget.memenu.settings.volume')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('widget.memenu.settings.volume.ui')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:userSettings.volumeSystem===0?'volume-mute':userSettings.volumeSystem>0?'volume-down':null,className:userSettings.volumeSystem>=50?'text-muted':''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeSystem\",value:userSettings.volumeSystem,onChange:event=>processAction('system_volume',event.target.value),onMouseUp:()=>saveRangeSlider('volume')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"volume-up\",className:userSettings.volumeSystem<50?'text-muted':''})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('widget.memenu.settings.volume.furni')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:userSettings.volumeFurni===0?'volume-mute':userSettings.volumeFurni>0?'volume-down':null,className:userSettings.volumeFurni>=50?'text-muted':''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeFurni\",value:userSettings.volumeFurni,onChange:event=>processAction('furni_volume',event.target.value),onMouseUp:()=>saveRangeSlider('volume')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"volume-up\",className:userSettings.volumeFurni<50?'text-muted':''})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('widget.memenu.settings.volume.trax')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:userSettings.volumeTrax===0?'volume-mute':userSettings.volumeTrax>0?'volume-down':null,className:userSettings.volumeTrax>=50?'text-muted':''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeTrax\",value:userSettings.volumeTrax,onChange:event=>processAction('trax_volume',event.target.value),onMouseUp:()=>saveRangeSlider('volume')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"volume-up\",className:userSettings.volumeTrax<50?'text-muted':''})]})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/WiredFurniSelectorView.tsx\nconst WiredFurniSelectorView=props=>{const{trigger=null,furniIds=[]}=useWired();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.pickfurnis.caption',['count','limit'],[furniIds.length.toString(),trigger.maximumItemSelectionCount.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:LocalizeText('wiredfurni.pickfurnis.desc')})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/WiredBaseView.tsx\nconst WiredBaseView=props=>{const{wiredType='',requiresFurni=WiredFurniType.STUFF_SELECTION_OPTION_NONE,save=null,validate=null,children=null,hasSpecialInput=false}=props;const[wiredName,setWiredName]=Object(react[\"useState\"])(null);const[wiredDescription,setWiredDescription]=Object(react[\"useState\"])(null);const[needsSave,setNeedsSave]=Object(react[\"useState\"])(false);const{trigger=null,setTrigger=null,setIntParams=null,setStringParam=null,setFurniIds=null,setAllowsFurni=null,saveWired=null}=useWired();const onClose=()=>setTrigger(null);const onSave=()=>{if(validate&&!validate())return;if(save)save();setNeedsSave(true);};Object(react[\"useEffect\"])(()=>{if(!needsSave)return;saveWired();setNeedsSave(false);},[needsSave,saveWired]);Object(react[\"useEffect\"])(()=>{if(!trigger)return;const spriteId=trigger.spriteId||-1;const furniData=GetSessionDataManager().getFloorItemData(spriteId);if(!furniData){setWiredName('NAME: '+spriteId);setWiredDescription('NAME: '+spriteId);}else{setWiredName(furniData.name);setWiredDescription(furniData.description);}if(hasSpecialInput){setIntParams(trigger.intData);setStringParam(trigger.stringData);}if(requiresFurni>WiredFurniType.STUFF_SELECTION_OPTION_NONE){setFurniIds(prevValue=>{if(prevValue&&prevValue.length)WiredSelectionVisualizer_WiredSelectionVisualizer.clearSelectionShaderFromFurni(prevValue);if(trigger.selectedItems&&trigger.selectedItems.length){WiredSelectionVisualizer_WiredSelectionVisualizer.applySelectionShaderToFurni(trigger.selectedItems);return trigger.selectedItems;}return[];});}},[trigger,hasSpecialInput,requiresFurni,setIntParams,setStringParam,setFurniIds]);Object(react[\"useEffect\"])(()=>{setAllowsFurni(requiresFurni);},[requiresFurni,setAllowsFurni]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView,{uniqueKey:\"nitro-wired\",className:\"nitro-wired\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView,{headerText:LocalizeText('wiredfurni.title'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`icon icon-wired-${wiredType}`}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:wiredName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:wiredDescription})]}),!!children&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),children,requiresFurni>WiredFurniType.STUFF_SELECTION_OPTION_NONE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredFurniSelectorView,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"success\",onClick:onSave,children:LocalizeText('wiredfurni.ready')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{fullWidth:true,variant:\"secondary\",onClick:onClose,children:LocalizeText('cancel')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBaseView.tsx\nconst WiredActionBaseView=props=>{const{requiresFurni=WiredFurniType.STUFF_SELECTION_OPTION_NONE,save=null,hasSpecialInput=false,children=null}=props;const{trigger=null,actionDelay=0,setActionDelay=null}=useWired();Object(react[\"useEffect\"])(()=>{setActionDelay(trigger.delayInPulses);},[trigger,setActionDelay]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredBaseView,{wiredType:\"action\",requiresFurni:requiresFurni,save:save,hasSpecialInput:hasSpecialInput,children:[children,!!children&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.delay',['seconds'],[GetWiredTimeLocale(actionDelay)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:20,value:actionDelay,onChange:event=>setActionDelay(event)})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotChangeFigureView.tsx\nconst DEFAULT_FIGURE='hd-180-1.ch-210-66.lg-270-82.sh-290-81';const WiredActionBotChangeFigureView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const[figure,setFigure]=Object(react[\"useState\"])('');const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(botName+WIRED_STRING_DELIMETER+figure);Object(react[\"useEffect\"])(()=>{const data=trigger.stringData.split(WIRED_STRING_DELIMETER);if(data.length>0)setBotName(data[0]);if(data.length>1)setFigure(data[1].length>0?data[1]:DEFAULT_FIGURE);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{center:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView,{figure:figure,direction:4}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:event=>setFigure(GetSessionDataManager().figure),children:LocalizeText('wiredfurni.params.capture.figure')})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotFollowAvatarView.tsx\nconst WiredActionBotFollowAvatarView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const[followMode,setFollowMode]=Object(react[\"useState\"])(-1);const{trigger=null,setStringParam=null,setIntParams=null}=useWired();const save=()=>{setStringParam(botName);setIntParams([followMode]);};Object(react[\"useEffect\"])(()=>{setBotName(trigger.stringData);setFollowMode(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"followMode\",id:\"followMode1\",checked:followMode===1,onChange:event=>setFollowMode(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.start.following')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"followMode\",id:\"followMode2\",checked:followMode===0,onChange:event=>setFollowMode(0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.stop.following')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotGiveHandItemView.tsx\nconst ALLOWED_HAND_ITEM_IDS=[2,5,7,8,9,10,27];const WiredActionBotGiveHandItemView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const[handItemId,setHandItemId]=Object(react[\"useState\"])(-1);const{trigger=null,setStringParam=null,setIntParams=null}=useWired();const save=()=>{setStringParam(botName);setIntParams([handItemId]);};Object(react[\"useEffect\"])(()=>{setBotName(trigger.stringData);setHandItemId(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.handitem')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:handItemId,onChange:event=>setHandItemId(parseInt(event.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:\"------\"}),ALLOWED_HAND_ITEM_IDS.map(value=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:value,children:LocalizeText(`handitem${value}`)},value))]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotMoveView.tsx\nconst WiredActionBotMoveView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(botName);Object(react[\"useEffect\"])(()=>{setBotName(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotTalkToAvatarView.tsx\nconst WiredActionBotTalkToAvatarView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const[message,setMessage]=Object(react[\"useState\"])('');const[talkMode,setTalkMode]=Object(react[\"useState\"])(-1);const{trigger=null,setStringParam=null,setIntParams=null}=useWired();const save=()=>{setStringParam(botName+WIRED_STRING_DELIMETER+message);setIntParams([talkMode]);};Object(react[\"useEffect\"])(()=>{const data=trigger.stringData.split(WIRED_STRING_DELIMETER);if(data.length>0)setBotName(data[0]);if(data.length>1)setMessage(data[1].length>0?data[1]:'');setTalkMode(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:GetConfiguration('wired.action.bot.talk.to.avatar.max.length',64),value:message,onChange:event=>setMessage(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode1\",checked:talkMode===0,onChange:event=>setTalkMode(0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.talk')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode2\",checked:talkMode===1,onChange:event=>setTalkMode(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.whisper')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotTalkView.tsx\nconst WiredActionBotTalkView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const[message,setMessage]=Object(react[\"useState\"])('');const[talkMode,setTalkMode]=Object(react[\"useState\"])(-1);const{trigger=null,setStringParam=null,setIntParams=null}=useWired();const save=()=>{setStringParam(botName+WIRED_STRING_DELIMETER+message);setIntParams([talkMode]);};Object(react[\"useEffect\"])(()=>{const data=trigger.stringData.split(WIRED_STRING_DELIMETER);if(data.length>0)setBotName(data[0]);if(data.length>1)setMessage(data[1].length>0?data[1]:'');setTalkMode(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:GetConfiguration('wired.action.bot.talk.max.length',64),value:message,onChange:event=>setMessage(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode1\",checked:talkMode===0,onChange:event=>setTalkMode(0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.talk')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode2\",checked:talkMode===1,onChange:event=>setTalkMode(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.shout')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotTeleportView.tsx\nconst WiredActionBotTeleportView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(botName);Object(react[\"useEffect\"])(()=>{setBotName(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionCallAnotherStackView.tsx\nconst WiredActionCallAnotherStackView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionChaseView.tsx\nconst WiredActionChaseView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionChatView.tsx\nconst WiredActionChatView=props=>{const[message,setMessage]=Object(react[\"useState\"])('');const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(message);Object(react[\"useEffect\"])(()=>{setMessage(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:message,onChange:event=>setMessage(event.target.value),maxLength:GetConfiguration('wired.action.chat.max.length',100)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionFleeView.tsx\nconst WiredActionFleeView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionGiveRewardView.tsx\nconst WiredActionGiveRewardView=props=>{const[limitEnabled,setLimitEnabled]=Object(react[\"useState\"])(false);const[rewardTime,setRewardTime]=Object(react[\"useState\"])(1);const[uniqueRewards,setUniqueRewards]=Object(react[\"useState\"])(false);const[rewardsLimit,setRewardsLimit]=Object(react[\"useState\"])(1);const[limitationInterval,setLimitationInterval]=Object(react[\"useState\"])(1);const[rewards,setRewards]=Object(react[\"useState\"])([]);const{trigger=null,setIntParams=null,setStringParam=null}=useWired();const addReward=Object(react[\"useCallback\"])(()=>{setRewards(rewards=>[...rewards,{isBadge:false,itemCode:'',probability:null}]);},[setRewards]);const removeReward=Object(react[\"useCallback\"])(index=>{setRewards(prevValue=>{const newValues=Array.from(prevValue);newValues.splice(index,1);return newValues;});},[setRewards]);const updateReward=Object(react[\"useCallback\"])((index,isBadge,itemCode,probability)=>{const rewardsClone=Array.from(rewards);const reward=rewardsClone[index];if(!reward)return;reward.isBadge=isBadge;reward.itemCode=itemCode;reward.probability=probability;setRewards(rewardsClone);},[rewards,setRewards]);const save=Object(react[\"useCallback\"])(()=>{let stringRewards=[];for(const reward of rewards){if(!reward.itemCode)continue;const rewardsString=[reward.isBadge?'0':'1',reward.itemCode,reward.probability.toString()];stringRewards.push(rewardsString.join(','));}if(stringRewards.length>0){setStringParam(stringRewards.join(';'));setIntParams([rewardTime,uniqueRewards?1:0,rewardsLimit,limitationInterval]);}},[rewardTime,uniqueRewards,rewardsLimit,limitationInterval,rewards,setIntParams,setStringParam]);Object(react[\"useEffect\"])(()=>{const readRewards=[];if(trigger.stringData.length>0&&trigger.stringData.includes(';')){const splittedRewards=trigger.stringData.split(';');for(const rawReward of splittedRewards){const reward=rawReward.split(',');if(reward.length!==3)continue;readRewards.push({isBadge:reward[0]==='0',itemCode:reward[1],probability:Number(reward[2])});}}if(readRewards.length===0)readRewards.push({isBadge:false,itemCode:'',probability:null});setRewardTime(trigger.intData.length>0?trigger.intData[0]:0);setUniqueRewards(trigger.intData.length>1?trigger.intData[1]===1:false);setRewardsLimit(trigger.intData.length>2?trigger.intData[2]:0);setLimitationInterval(trigger.intData.length>3?trigger.intData[3]:0);setLimitEnabled(trigger.intData.length>3?trigger.intData[3]>0:false);setRewards(readRewards);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"limitEnabled\",onChange:event=>setLimitEnabled(event.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.prizelimit',['amount'],[limitEnabled?rewardsLimit.toString():''])})]}),!limitEnabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,small:true,className:\"bg-muted rounded p-1\",children:\"Reward limit not set. Make sure rewards are badges or non-tradeable items.\"}),limitEnabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1000,value:rewardsLimit,onChange:event=>setRewardsLimit(event)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:\"How often can a user be rewarded?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm w-100\",value:rewardTime,onChange:e=>setRewardTime(Number(e.target.value)),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:\"Once\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:\"3\",children:[\"Once every \",limitationInterval,\" minutes\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:\"2\",children:[\"Once every \",limitationInterval,\" hours\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:\"1\",children:[\"Once every \",limitationInterval,\" days\"]})]}),rewardTime>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:limitationInterval,onChange:event=>setLimitationInterval(Number(event.target.value))})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"uniqueRewards\",checked:uniqueRewards,onChange:e=>setUniqueRewards(e.target.checked)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:\"Unique rewards\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{center:true,small:true,className:\"bg-muted rounded p-1\",children:\"If checked each reward will be given once to each user. This will disable the probabilities option.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:\"Rewards\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"success\",onClick:addReward,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"plus\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column,{gap:1,children:rewards&&rewards.map((reward,index)=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:reward.isBadge,onChange:e=>updateReward(index,e.target.checked,reward.itemCode,reward.probability)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{small:true,children:\"Badge?\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:reward.itemCode,onChange:e=>updateReward(index,reward.isBadge,e.target.value,reward.probability),placeholder:\"Item Code\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:reward.probability,onChange:e=>updateReward(index,reward.isBadge,reward.itemCode,Number(e.target.value)),placeholder:\"Probability\"}),index>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{variant:\"danger\",onClick:event=>removeReward(index),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"trash\"})})]},index);})})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionGiveScoreToPredefinedTeamView.tsx\nconst WiredActionGiveScoreToPredefinedTeamView=props=>{const[points,setPoints]=Object(react[\"useState\"])(1);const[time,setTime]=Object(react[\"useState\"])(1);const[selectedTeam,setSelectedTeam]=Object(react[\"useState\"])(1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([points,time,selectedTeam]);Object(react[\"useEffect\"])(()=>{if(trigger.intData.length>=2){setPoints(trigger.intData[0]);setTime(trigger.intData[1]);setSelectedTeam(trigger.intData[2]);}else{setPoints(1);setTime(1);setSelectedTeam(1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.setpoints',['points'],[points.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:100,value:points,onChange:event=>setPoints(event)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.settimesingame',['times'],[time.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:10,value:time,onChange:event=>setTime(event)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.team')}),[1,2,3,4].map(value=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:`selectedTeam${value}`,checked:selectedTeam===value,onChange:event=>setSelectedTeam(value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.team.'+value)})]},value);})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionGiveScoreView.tsx\nconst WiredActionGiveScoreView=props=>{const[points,setPoints]=Object(react[\"useState\"])(1);const[time,setTime]=Object(react[\"useState\"])(1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([points,time]);Object(react[\"useEffect\"])(()=>{if(trigger.intData.length>=2){setPoints(trigger.intData[0]);setTime(trigger.intData[1]);}else{setPoints(1);setTime(1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.setpoints',['points'],[points.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:100,value:points,onChange:event=>setPoints(event)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.settimesingame',['times'],[time.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:10,value:time,onChange:event=>setTime(event)})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionJoinTeamView.tsx\nconst WiredActionJoinTeamView=props=>{const[selectedTeam,setSelectedTeam]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([selectedTeam]);Object(react[\"useEffect\"])(()=>{setSelectedTeam(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.team')}),[1,2,3,4].map(team=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:`selectedTeam${team}`,checked:selectedTeam===team,onChange:event=>setSelectedTeam(team)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(`wiredfurni.params.team.${team}`)})]},team);})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionKickFromRoomView.tsx\nconst WiredActionKickFromRoomView=props=>{const[message,setMessage]=Object(react[\"useState\"])('');const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(message);Object(react[\"useEffect\"])(()=>{setMessage(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:message,onChange:event=>setMessage(event.target.value),maxLength:GetConfiguration('wired.action.kick.from.room.max.length',100)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionLeaveTeamView.tsx\nconst WiredActionLeaveTeamView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionMoveAndRotateFurniView.tsx\nconst directionOptions=[{value:0,icon:'ne'},{value:2,icon:'se'},{value:4,icon:'sw'},{value:6,icon:'nw'}];const rotationOptions=[0,1,2,3,4,5,6];const WiredActionMoveAndRotateFurniView=props=>{const[movement,setMovement]=Object(react[\"useState\"])(-1);const[rotation,setRotation]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([movement,rotation]);Object(react[\"useEffect\"])(()=>{if(trigger.intData.length>=2){setMovement(trigger.intData[0]);setRotation(trigger.intData[1]);}else{setMovement(-1);setRotation(-1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.startdir')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{gap:1,children:directionOptions.map(option=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:`movement${option.value}`,checked:movement===option.value,onChange:event=>setMovement(option.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`icon icon-${option.icon}`})})]},option.value);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.turn')}),rotationOptions.map(option=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"rotation\",id:`rotation${option}`,checked:rotation===option,onChange:event=>setRotation(option)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(`wiredfurni.params.turn.${option}`)})]},option);})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionMoveFurniToView.tsx\nconst WiredActionMoveFurniToView_directionOptions=[{value:0,icon:'ne'},{value:2,icon:'se'},{value:4,icon:'sw'},{value:6,icon:'nw'}];const WiredActionMoveFurniToView=props=>{const[spacing,setSpacing]=Object(react[\"useState\"])(-1);const[movement,setMovement]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([movement,spacing]);Object(react[\"useEffect\"])(()=>{if(trigger.intData.length>=2){setSpacing(trigger.intData[1]);setMovement(trigger.intData[0]);}else{setSpacing(-1);setMovement(-1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.emptytiles',['tiles'],[spacing.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:5,value:spacing,onChange:event=>setSpacing(event)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.startdir')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex,{gap:1,children:WiredActionMoveFurniToView_directionOptions.map(value=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:`movement${value.value}`,checked:movement===value.value,onChange:event=>setMovement(value.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`icon icon-${value.icon}`})})]},value.value);})})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionMoveFurniView.tsx\nconst WiredActionMoveFurniView_directionOptions=[{value:4,icon:'ne'},{value:5,icon:'se'},{value:6,icon:'sw'},{value:7,icon:'nw'},{value:2,icon:'mv-2'},{value:3,icon:'mv-3'},{value:1,icon:'mv-1'}];const WiredActionMoveFurniView_rotationOptions=[0,1,2,3];const WiredActionMoveFurniView=props=>{const[movement,setMovement]=Object(react[\"useState\"])(-1);const[rotation,setRotation]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([movement,rotation]);Object(react[\"useEffect\"])(()=>{if(trigger.intData.length>=2){setMovement(trigger.intData[0]);setRotation(trigger.intData[1]);}else{setMovement(-1);setRotation(-1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.movefurni')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"movement0\",checked:movement===0,onChange:event=>setMovement(0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.movefurni.0')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,children:[WiredActionMoveFurniView_directionOptions.map(option=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:`movement${option.value}`,checked:movement===option.value,onChange:event=>setMovement(option.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`icon icon-${option.icon}`})]},option.value);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.rotatefurni')}),WiredActionMoveFurniView_rotationOptions.map(option=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"rotation\",id:`rotation${option}`,checked:rotation===option,onChange:event=>setRotation(option)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text,{children:[[1,2].includes(option)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:`icon icon-rot-${option}`}),LocalizeText(`wiredfurni.params.rotatefurni.${option}`)]})]},option);})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionMuteUserView.tsx\nconst WiredActionMuteUserView=props=>{const[time,setTime]=Object(react[\"useState\"])(-1);const[message,setMessage]=Object(react[\"useState\"])('');const{trigger=null,setIntParams=null,setStringParam=null}=useWired();const save=()=>{setIntParams([time]);setStringParam(message);};Object(react[\"useEffect\"])(()=>{setTime(trigger.intData.length>0?trigger.intData[0]:0);setMessage(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.length.minutes',['minutes'],[time.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:10,value:time,onChange:event=>setTime(event)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:message,onChange:event=>setMessage(event.target.value),maxLength:GetConfiguration('wired.action.mute.user.max.length',100)})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionResetView.tsx\nconst WiredActionResetView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionSetFurniStateToView.tsx\nconst WiredActionSetFurniStateToView=props=>{const[stateFlag,setStateFlag]=Object(react[\"useState\"])(0);const[directionFlag,setDirectionFlag]=Object(react[\"useState\"])(0);const[positionFlag,setPositionFlag]=Object(react[\"useState\"])(0);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([stateFlag,directionFlag,positionFlag]);Object(react[\"useEffect\"])(()=>{setStateFlag(trigger.getBoolean(0)?1:0);setDirectionFlag(trigger.getBoolean(1)?1:0);setPositionFlag(trigger.getBoolean(2)?1:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.conditions')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"stateFlag\",checked:!!stateFlag,onChange:event=>setStateFlag(event.target.checked?1:0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.condition.state')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"directionFlag\",checked:!!directionFlag,onChange:event=>setDirectionFlag(event.target.checked?1:0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.condition.direction')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"positionFlag\",checked:!!positionFlag,onChange:event=>setPositionFlag(event.target.checked?1:0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.condition.position')})]})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionTeleportView.tsx\nconst WiredActionTeleportView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionToggleFurniStateView.tsx\nconst WiredActionToggleFurniStateView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionLayoutView.tsx\nconst WiredActionLayoutView=code=>{switch(code){case WiredActionLayoutCode.BOT_CHANGE_FIGURE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotChangeFigureView,{});case WiredActionLayoutCode.BOT_FOLLOW_AVATAR:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotFollowAvatarView,{});case WiredActionLayoutCode.BOT_GIVE_HAND_ITEM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotGiveHandItemView,{});case WiredActionLayoutCode.BOT_MOVE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotMoveView,{});case WiredActionLayoutCode.BOT_TALK:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotTalkView,{});case WiredActionLayoutCode.BOT_TALK_DIRECT_TO_AVTR:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotTalkToAvatarView,{});case WiredActionLayoutCode.BOT_TELEPORT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotTeleportView,{});case WiredActionLayoutCode.CALL_ANOTHER_STACK:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionCallAnotherStackView,{});case WiredActionLayoutCode.CHASE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionChaseView,{});case WiredActionLayoutCode.CHAT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionChatView,{});case WiredActionLayoutCode.FLEE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionFleeView,{});case WiredActionLayoutCode.GIVE_REWARD:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionGiveRewardView,{});case WiredActionLayoutCode.GIVE_SCORE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionGiveScoreView,{});case WiredActionLayoutCode.GIVE_SCORE_TO_PREDEFINED_TEAM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionGiveScoreToPredefinedTeamView,{});case WiredActionLayoutCode.JOIN_TEAM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionJoinTeamView,{});case WiredActionLayoutCode.KICK_FROM_ROOM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionKickFromRoomView,{});case WiredActionLayoutCode.LEAVE_TEAM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionLeaveTeamView,{});case WiredActionLayoutCode.MOVE_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionMoveFurniView,{});case WiredActionLayoutCode.MOVE_AND_ROTATE_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionMoveAndRotateFurniView,{});case WiredActionLayoutCode.MOVE_FURNI_TO:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionMoveFurniToView,{});case WiredActionLayoutCode.MUTE_USER:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionMuteUserView,{});case WiredActionLayoutCode.RESET:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionResetView,{});case WiredActionLayoutCode.SET_FURNI_STATE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionSetFurniStateToView,{});case WiredActionLayoutCode.TELEPORT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionTeleportView,{});case WiredActionLayoutCode.TOGGLE_FURNI_STATE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionToggleFurniStateView,{});}return null;};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionBaseView.tsx\nconst WiredConditionBaseView=props=>{const{requiresFurni=WiredFurniType.STUFF_SELECTION_OPTION_NONE,save=null,hasSpecialInput=false,children=null}=props;const onSave=()=>save&&save();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredBaseView,{wiredType:\"condition\",requiresFurni:requiresFurni,hasSpecialInput:hasSpecialInput,save:onSave,children:children});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorHasHandItem.tsx\nconst WiredConditionActorHasHandItem_ALLOWED_HAND_ITEM_IDS=[2,5,7,8,9,10,27];const WiredConditionActorHasHandItemView=props=>{const[handItemId,setHandItemId]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([handItemId]);Object(react[\"useEffect\"])(()=>{setHandItemId(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.handitem')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:handItemId,onChange:event=>setHandItemId(parseInt(event.target.value)),children:WiredConditionActorHasHandItem_ALLOWED_HAND_ITEM_IDS.map(value=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:value,children:LocalizeText(`handitem${value}`)},value);})})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsGroupMemberView.tsx\nconst WiredConditionActorIsGroupMemberView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsOnFurniView.tsx\nconst WiredConditionActorIsOnFurniView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsTeamMemberView.tsx\nconst teamIds=[1,2,3,4];const WiredConditionActorIsTeamMemberView=props=>{const[selectedTeam,setSelectedTeam]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([selectedTeam]);Object(react[\"useEffect\"])(()=>{setSelectedTeam(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.team')}),teamIds.map(value=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{gap:1,alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:`selectedTeam${value}`,checked:selectedTeam===value,onChange:event=>setSelectedTeam(value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(`wiredfurni.params.team.${value}`)})]},value);})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsWearingBadgeView.tsx\nconst WiredConditionActorIsWearingBadgeView=props=>{const[badge,setBadge]=Object(react[\"useState\"])('');const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(badge);Object(react[\"useEffect\"])(()=>{setBadge(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.badgecode')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:badge,onChange:event=>setBadge(event.target.value)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsWearingEffectView.tsx\nconst WiredConditionActorIsWearingEffectView=props=>{const[effect,setEffect]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([effect]);Object(react[\"useEffect\"])(()=>{setEffect(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.effectid')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:effect,onChange:event=>setEffect(parseInt(event.target.value))})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionDateRangeView.tsx\nconst WiredConditionDateRangeView=props=>{const[startDate,setStartDate]=Object(react[\"useState\"])('');const[endDate,setEndDate]=Object(react[\"useState\"])('');const{trigger=null,setIntParams=null}=useWired();const save=()=>{let startDateMili=0;let endDateMili=0;const startDateInstance=new Date(startDate);const endDateInstance=new Date(endDate);if(startDateInstance&&endDateInstance){startDateMili=startDateInstance.getTime()/1000;endDateMili=endDateInstance.getTime()/1000;}setIntParams([startDateMili,endDateMili]);};Object(react[\"useEffect\"])(()=>{if(trigger.intData.length>=2){let startDate=new Date();let endDate=new Date();if(trigger.intData[0]>0)startDate=new Date(trigger.intData[0]*1000);if(trigger.intData[1]>0)endDate=new Date(trigger.intData[1]*1000);setStartDate(WiredDateToString(startDate));setEndDate(WiredDateToString(endDate));}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.startdate')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:startDate,onChange:e=>setStartDate(e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.enddate')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:endDate,onChange:e=>setEndDate(e.target.value)})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniHasAvatarOnView.tsx\nconst WiredConditionFurniHasAvatarOnView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniHasFurniOnView.tsx\nconst WiredConditionFurniHasFurniOnView=props=>{const[requireAll,setRequireAll]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([requireAll]);Object(react[\"useEffect\"])(()=>{setRequireAll(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.requireall')}),[0,1].map(value=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"requireAll\",id:`requireAll${value}`,checked:requireAll===value,onChange:event=>setRequireAll(value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.requireall.'+value)})]},value);})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniHasNotFurniOnView.tsx\nconst WiredConditionFurniHasNotFurniOnView=props=>{const[requireAll,setRequireAll]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([requireAll]);Object(react[\"useEffect\"])(()=>{setRequireAll(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.not_requireall')}),[0,1].map(value=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"requireAll\",id:`requireAll${value}`,checked:requireAll===value,onChange:event=>setRequireAll(value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText(`wiredfurni.params.not_requireall.${value}`)})]},value);})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniIsOfTypeView.tsx\nconst WiredConditionFurniIsOfTypeView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniMatchesSnapshotView.tsx\nconst WiredConditionFurniMatchesSnapshotView=props=>{const[stateFlag,setStateFlag]=Object(react[\"useState\"])(0);const[directionFlag,setDirectionFlag]=Object(react[\"useState\"])(0);const[positionFlag,setPositionFlag]=Object(react[\"useState\"])(0);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([stateFlag,directionFlag,positionFlag]);Object(react[\"useEffect\"])(()=>{setStateFlag(trigger.getBoolean(0)?1:0);setDirectionFlag(trigger.getBoolean(1)?1:0);setPositionFlag(trigger.getBoolean(2)?1:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.conditions')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"stateFlag\",checked:!!stateFlag,onChange:event=>setStateFlag(event.target.checked?1:0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.condition.state')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"directionFlag\",checked:!!directionFlag,onChange:event=>setDirectionFlag(event.target.checked?1:0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.condition.direction')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"positionFlag\",checked:!!positionFlag,onChange:event=>setPositionFlag(event.target.checked?1:0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.condition.position')})]})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionTimeElapsedLessView.tsx\nconst WiredConditionTimeElapsedLessView=props=>{const[time,setTime]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([time]);Object(react[\"useEffect\"])(()=>{setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.allowbefore',['seconds'],[GetWiredTimeLocale(time)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1200,value:time,onChange:event=>setTime(event)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionTimeElapsedMoreView.tsx\nconst WiredConditionTimeElapsedMoreView=props=>{const[time,setTime]=Object(react[\"useState\"])(-1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([time]);Object(react[\"useEffect\"])(()=>{setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.allowafter',['seconds'],[GetWiredTimeLocale(time)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1200,value:time,onChange:event=>setTime(event)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionUserCountInRoomView.tsx\nconst WiredConditionUserCountInRoomView=props=>{const[min,setMin]=Object(react[\"useState\"])(1);const[max,setMax]=Object(react[\"useState\"])(1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([min,max]);Object(react[\"useEffect\"])(()=>{if(trigger.intData.length>=2){setMin(trigger.intData[0]);setMax(trigger.intData[1]);}else{setMin(1);setMax(1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredConditionBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.usercountmin',['value'],[min.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:50,value:min,onChange:event=>setMin(event)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.usercountmax',['value'],[max.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:50,value:max,onChange:event=>setMax(event)})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionLayoutView.tsx\nconst WiredConditionLayoutView=code=>{switch(code){case WiredConditionlayout.ACTOR_HAS_HANDITEM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorHasHandItemView,{});case WiredConditionlayout.ACTOR_IS_GROUP_MEMBER:case WiredConditionlayout.NOT_ACTOR_IN_GROUP:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsGroupMemberView,{});case WiredConditionlayout.ACTOR_IS_ON_FURNI:case WiredConditionlayout.NOT_ACTOR_ON_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsOnFurniView,{});case WiredConditionlayout.ACTOR_IS_IN_TEAM:case WiredConditionlayout.NOT_ACTOR_IN_TEAM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsTeamMemberView,{});case WiredConditionlayout.ACTOR_IS_WEARING_BADGE:case WiredConditionlayout.NOT_ACTOR_WEARS_BADGE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsWearingBadgeView,{});case WiredConditionlayout.ACTOR_IS_WEARING_EFFECT:case WiredConditionlayout.NOT_ACTOR_WEARING_EFFECT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsWearingEffectView,{});case WiredConditionlayout.DATE_RANGE_ACTIVE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionDateRangeView,{});case WiredConditionlayout.FURNIS_HAVE_AVATARS:case WiredConditionlayout.FURNI_NOT_HAVE_HABBO:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniHasAvatarOnView,{});case WiredConditionlayout.HAS_STACKED_FURNIS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniHasFurniOnView,{});case WiredConditionlayout.NOT_HAS_STACKED_FURNIS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniHasNotFurniOnView,{});case WiredConditionlayout.STUFF_TYPE_MATCHES:case WiredConditionlayout.NOT_FURNI_IS_OF_TYPE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniIsOfTypeView,{});case WiredConditionlayout.STATES_MATCH:case WiredConditionlayout.NOT_STATES_MATCH:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniMatchesSnapshotView,{});case WiredConditionlayout.TIME_ELAPSED_LESS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionTimeElapsedLessView,{});case WiredConditionlayout.TIME_ELAPSED_MORE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionTimeElapsedMoreView,{});case WiredConditionlayout.USER_COUNT_IN:case WiredConditionlayout.NOT_USER_COUNT_IN:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionUserCountInRoomView,{});}return null;};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerBaseView.tsx\nconst WiredTriggerBaseView=props=>{const{requiresFurni=WiredFurniType.STUFF_SELECTION_OPTION_NONE,save=null,hasSpecialInput=false,children=null}=props;const onSave=()=>save&&save();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredBaseView,{wiredType:\"trigger\",requiresFurni:requiresFurni,hasSpecialInput:hasSpecialInput,save:onSave,children:children});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerAvatarEnterRoomView.tsx\nconst WiredTriggerAvatarEnterRoomView=props=>{const[username,setUsername]=Object(react[\"useState\"])('');const[avatarMode,setAvatarMode]=Object(react[\"useState\"])(0);const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(avatarMode===1?username:'');Object(react[\"useEffect\"])(()=>{setUsername(trigger.stringData);setAvatarMode(trigger.stringData?1:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.picktriggerer')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"avatarMode\",id:\"avatarMode0\",checked:avatarMode===0,onChange:event=>setAvatarMode(0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.anyavatar')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"avatarMode\",id:\"avatarMode1\",checked:avatarMode===1,onChange:event=>setAvatarMode(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.certainavatar')})]}),avatarMode===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:username,onChange:event=>setUsername(event.target.value)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerAvatarSaysSomethingView.tsx\nconst WiredTriggerAvatarSaysSomethingView=props=>{const[message,setMessage]=Object(react[\"useState\"])('');const[triggererAvatar,setTriggererAvatar]=Object(react[\"useState\"])(-1);const{trigger=null,setStringParam=null,setIntParams=null}=useWired();const save=()=>{setStringParam(message);setIntParams([triggererAvatar]);};Object(react[\"useEffect\"])(()=>{setMessage(trigger.stringData);setTriggererAvatar(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.whatissaid')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:message,onChange:event=>setMessage(event.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.picktriggerer')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"triggererAvatar\",id:\"triggererAvatar0\",checked:triggererAvatar===0,onChange:event=>setTriggererAvatar(0)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:LocalizeText('wiredfurni.params.anyavatar')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"triggererAvatar\",id:\"triggererAvatar1\",checked:triggererAvatar===1,onChange:event=>setTriggererAvatar(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{children:GetSessionDataManager().userName})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerAvatarWalksOffFurniView.tsx\nconst WiredTriggerAvatarWalksOffFurniView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerAvatarWalksOnFurni.tsx\nconst WiredTriggerAvatarWalksOnFurniView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerBotReachedAvatarView.tsx\nconst WiredTriggerBotReachedAvatarView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(botName);Object(react[\"useEffect\"])(()=>{setBotName(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerBotReachedStuffView.tsx\nconst WiredTriggerBotReachedStuffView=props=>{const[botName,setBotName]=Object(react[\"useState\"])('');const{trigger=null,setStringParam=null}=useWired();const save=()=>setStringParam(botName);Object(react[\"useEffect\"])(()=>{setBotName(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:event=>setBotName(event.target.value)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerCollisionView.tsx\nconst WiredTriggerCollisionView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerExecuteOnceView.tsx\nconst WiredTriggeExecuteOnceView=props=>{const[time,setTime]=Object(react[\"useState\"])(1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([time]);Object(react[\"useEffect\"])(()=>{setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.settime',['seconds'],[GetWiredTimeLocale(time)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1200,value:time,onChange:event=>setTime(event)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerExecutePeriodicallyLongView.tsx\nconst WiredTriggeExecutePeriodicallyLongView=props=>{const[time,setTime]=Object(react[\"useState\"])(1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([time]);Object(react[\"useEffect\"])(()=>{setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.setlongtime',['time'],[nitro_renderer[\"Zb\" /* FriendlyTime */].format(time*5).toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:120,value:time,onChange:event=>setTime(event)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerExecutePeriodicallyView.tsx\nconst WiredTriggeExecutePeriodicallyView=props=>{const[time,setTime]=Object(react[\"useState\"])(1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([time]);Object(react[\"useEffect\"])(()=>{setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.settime',['seconds'],[GetWiredTimeLocale(time)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:60,value:time,onChange:event=>setTime(event)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerGameEndsView.tsx\nconst WiredTriggerGameEndsView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerGameStartsView.tsx\nconst WiredTriggerGameStartsView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerScoreAchievedView.tsx\nconst WiredTriggeScoreAchievedView=props=>{const[points,setPoints]=Object(react[\"useState\"])(1);const{trigger=null,setIntParams=null}=useWired();const save=()=>setIntParams([points]);Object(react[\"useEffect\"])(()=>{setPoints(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{bold:true,children:LocalizeText('wiredfurni.params.setscore',['points'],[points.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1000,value:points,onChange:event=>setPoints(event)})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerToggleFurniView.tsx\nconst WiredTriggerToggleFurniView=props=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView,{requiresFurni:WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerLayoutView.tsx\nconst WiredTriggerLayoutView=code=>{switch(code){case WiredTriggerLayout.AVATAR_ENTERS_ROOM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerAvatarEnterRoomView,{});case WiredTriggerLayout.AVATAR_SAYS_SOMETHING:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerAvatarSaysSomethingView,{});case WiredTriggerLayout.AVATAR_WALKS_OFF_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerAvatarWalksOffFurniView,{});case WiredTriggerLayout.AVATAR_WALKS_ON_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerAvatarWalksOnFurniView,{});case WiredTriggerLayout.BOT_REACHED_AVATAR:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBotReachedAvatarView,{});case WiredTriggerLayout.BOT_REACHED_STUFF:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBotReachedStuffView,{});case WiredTriggerLayout.COLLISION:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerCollisionView,{});case WiredTriggerLayout.EXECUTE_ONCE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggeExecuteOnceView,{});case WiredTriggerLayout.EXECUTE_PERIODICALLY:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggeExecutePeriodicallyView,{});case WiredTriggerLayout.EXECUTE_PERIODICALLY_LONG:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggeExecutePeriodicallyLongView,{});case WiredTriggerLayout.GAME_ENDS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerGameEndsView,{});case WiredTriggerLayout.GAME_STARTS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerGameStartsView,{});case WiredTriggerLayout.SCORE_ACHIEVED:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggeScoreAchievedView,{});case WiredTriggerLayout.TOGGLE_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerToggleFurniView,{});}return null;};\n// CONCATENATED MODULE: ./src/components/wired/WiredView.tsx\nconst WiredView=props=>{const{trigger=null}=useWired();if(!trigger)return null;if(trigger instanceof nitro_renderer[\"pj\" /* WiredActionDefinition */])return WiredActionLayoutView(trigger.code);if(trigger instanceof nitro_renderer[\"Ci\" /* TriggerDefinition */])return WiredTriggerLayoutView(trigger.code);if(trigger instanceof nitro_renderer[\"ub\" /* ConditionDefinition */])return WiredConditionLayoutView(trigger.code);return null;};\n// CONCATENATED MODULE: ./src/components/main/MainView.tsx\nconst MainView=props=>{const[isReady,setIsReady]=Object(react[\"useState\"])(false);const[landingViewVisible,setLandingViewVisible]=Object(react[\"useState\"])(true);useRoomSessionManagerEvent(nitro_renderer[\"mh\" /* RoomSessionEvent */].CREATED,event=>setLandingViewVisible(false));useRoomSessionManagerEvent(nitro_renderer[\"mh\" /* RoomSessionEvent */].ENDED,event=>setLandingViewVisible(event.openLandingView));Object(react[\"useEffect\"])(()=>{setIsReady(true);GetCommunication().connection.onReady();},[]);Object(react[\"useEffect\"])(()=>{const linkTracker={linkReceived:url=>{const parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'open':if(parts.length>2){switch(parts[2]){case'credits'://HabboWebTools.openWebPageAndMinimizeClient(this._windowManager.getProperty(ExternalVariables.WEB_SHOP_RELATIVE_URL));\nbreak;default:{const name=parts[2];nitro_renderer[\"ce\" /* HabboWebTools */].openHabblet(name);}}}return;}},eventUrlPrefix:'habblet/'};AddEventLinkTracker(linkTracker);return()=>RemoveLinkEventTracker(linkTracker);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{fit:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation,{type:TransitionAnimationTypes.FADE_IN,inProp:landingViewVisible,timeout:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HotelView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToolbarView,{isInRoom:!landingViewVisible}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatHistoryView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RightSideView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserSettingsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HelpView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanEditorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitropediaView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HcCenterView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CampaignView,{})]});};\n// CONCATENATED MODULE: ./src/workers/IntervalWebWorker.ts\n/* harmony default export */ var IntervalWebWorker = (()=>{const intervals=[];// eslint-disable-next-line no-restricted-globals\nself.onmessage=message=>{if(!message)return;const data=message.data;switch(data.type){case'CREATE_INTERVAL':{const id=data.timerId;const time=data.time;const response=data.response;const interval=setInterval(()=>postMessage(response),time);intervals.push({id,interval});return;}case'REMOVE_INTERVAL':{const id=data.timerId;const i=0;while(i<intervals.length){const interval=intervals[i];if(interval.id===id){clearInterval(interval.interval);intervals.splice(i,1);return;}}}}};});\n// CONCATENATED MODULE: ./src/workers/WorkerBuilder.ts\nclass WorkerBuilder extends Worker{constructor(worker){const code=worker.toString();const blob=new Blob([`(${code})()`]);super(URL.createObjectURL(blob));}}\n// CONCATENATED MODULE: ./src/App.tsx\nnitro_renderer[\"vf\" /* NitroVersion */].UI_VERSION=GetUIVersion();const App=props=>{const[isReady,setIsReady]=Object(react[\"useState\"])(false);const[isError,setIsError]=Object(react[\"useState\"])(false);const[message,setMessage]=Object(react[\"useState\"])('Getting Ready');const[percent,setPercent]=Object(react[\"useState\"])(0);const[imageRendering,setImageRendering]=Object(react[\"useState\"])(true);if(!GetNitroInstance()){//@ts-ignore\nif(!NitroConfig)throw new Error('NitroConfig is not defined!');nitro_renderer[\"ef\" /* Nitro */].bootstrap();const worker=new WorkerBuilder(IntervalWebWorker);nitro_renderer[\"ef\" /* Nitro */].instance.setWorker(worker);}const handler=Object(react[\"useCallback\"])(event=>{switch(event.type){case nitro_renderer[\"vb\" /* ConfigurationEvent */].LOADED:GetNitroInstance().localization.init();setPercent(prevValue=>prevValue+20);return;case nitro_renderer[\"vb\" /* ConfigurationEvent */].FAILED:setIsError(true);setMessage('Configuration Failed');return;case nitro_renderer[\"ef\" /* Nitro */].WEBGL_UNAVAILABLE:setIsError(true);setMessage('WebGL Required');return;case nitro_renderer[\"ef\" /* Nitro */].WEBGL_CONTEXT_LOST:setIsError(true);setMessage('WebGL Context Lost - Reloading');setTimeout(()=>window.location.reload(),1500);return;case nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_HANDSHAKING:setPercent(prevValue=>prevValue+20);return;case nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_HANDSHAKE_FAILED:setIsError(true);setMessage('Handshake Failed');return;case nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_AUTHENTICATED:setPercent(prevValue=>prevValue+20);GetNitroInstance().init();if(nitro_renderer[\"pe\" /* LegacyExternalInterface */].available)nitro_renderer[\"pe\" /* LegacyExternalInterface */].call('legacyTrack','authentication','authok',[]);return;case nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_ERROR:setIsError(true);setMessage('Connection Error');return;case nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_CLOSED://if(GetNitroInstance().roomEngine) GetNitroInstance().roomEngine.dispose();\n//setIsError(true);\nsetMessage('Connection Error');nitro_renderer[\"ce\" /* HabboWebTools */].send(-1,'client.init.handshake.fail');return;case nitro_renderer[\"Eg\" /* RoomEngineEvent */].ENGINE_INITIALIZED:setPercent(prevValue=>prevValue+20);setTimeout(()=>setIsReady(true),300);return;case nitro_renderer[\"lf\" /* NitroLocalizationEvent */].LOADED:{const assetUrls=GetConfiguration('preload.assets.urls');const urls=[];if(assetUrls&&assetUrls.length)for(const url of assetUrls)urls.push(GetNitroInstance().core.configuration.interpolate(url));GetNitroInstance().core.asset.downloadAssets(urls,status=>{if(status){GetCommunication().init();setPercent(prevValue=>prevValue+20);}else{setIsError(true);setMessage('Assets Failed');}});return;}}},[]);useMainEvent(nitro_renderer[\"ef\" /* Nitro */].WEBGL_UNAVAILABLE,handler);useMainEvent(nitro_renderer[\"ef\" /* Nitro */].WEBGL_CONTEXT_LOST,handler);useMainEvent(nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_HANDSHAKING,handler);useMainEvent(nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_HANDSHAKE_FAILED,handler);useMainEvent(nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_AUTHENTICATED,handler);useMainEvent(nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_ERROR,handler);useMainEvent(nitro_renderer[\"hf\" /* NitroCommunicationDemoEvent */].CONNECTION_CLOSED,handler);useRoomEngineEvent(nitro_renderer[\"Eg\" /* RoomEngineEvent */].ENGINE_INITIALIZED,handler);useLocalizationEvent(nitro_renderer[\"lf\" /* NitroLocalizationEvent */].LOADED,handler);useConfigurationEvent(nitro_renderer[\"vb\" /* ConfigurationEvent */].LOADED,handler);useConfigurationEvent(nitro_renderer[\"vb\" /* ConfigurationEvent */].FAILED,handler);Object(react[\"useEffect\"])(()=>{if(!nitro_renderer[\"oj\" /* WebGL */].isWebGLAvailable()){DispatchUiEvent(new nitro_renderer[\"jf\" /* NitroEvent */](nitro_renderer[\"ef\" /* Nitro */].WEBGL_UNAVAILABLE));}else{GetNitroInstance().core.configuration.init();}const resize=event=>setImageRendering(!(window.devicePixelRatio%1));window.addEventListener('resize',resize);resize(null);return()=>{window.removeEventListener('resize',resize);};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base,{fit:true,overflow:\"hidden\",className:imageRendering&&'image-rendering-pixelated',children:[(!isReady||isError)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingView,{isError:isError,message:message,percent:percent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation,{type:TransitionAnimationTypes.FADE_IN,inProp:isReady,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{id:\"draggable-windows-container\"})]});};\n// EXTERNAL MODULE: ./src/index.scss\nvar src = __webpack_require__(133);\n\n// CONCATENATED MODULE: ./src/index.tsx\n//@ts-ignore\nindex_es[\"b\" /* library */].add(free_solid_svg_icons_index_es[\"a\" /* fas */]);Object(client[\"createRoot\"])(document.getElementById('root')).render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{}));\n\n/***/ })\n\n},[[134,2,1,3]]]);","inputSourceMap":null}