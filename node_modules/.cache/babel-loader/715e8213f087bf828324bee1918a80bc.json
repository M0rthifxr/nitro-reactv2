{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ChiiO\\\\Desktop\\\\nitro-reactdev\\\\src\\\\components\\\\help\\\\HelpView.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { AddEventLinkTracker, LocalizeText, RemoveLinkEventTracker, ReportState } from '../../api';\nimport { Base, Column, Grid, NitroCardContentView, NitroCardHeaderView, NitroCardView } from '../../common';\nimport { useHelp } from '../../hooks';\nimport { DescribeReportView } from './views/DescribeReportView';\nimport { HelpIndexView } from './views/HelpIndexView';\nimport { NameChangeView } from './views/name-change/NameChangeView';\nimport { ReportSummaryView } from './views/ReportSummaryView';\nimport { SanctionSatusView } from './views/SanctionStatusView';\nimport { SelectReportedChatsView } from './views/SelectReportedChatsView';\nimport { SelectReportedUserView } from './views/SelectReportedUserView';\nimport { SelectTopicView } from './views/SelectTopicView';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const HelpView = props => {\n  _s();\n\n  const [isVisible, setIsVisible] = useState(false);\n  const {\n    activeReport = null,\n    setActiveReport = null,\n    report = null\n  } = useHelp();\n\n  const onClose = () => {\n    setActiveReport(null);\n    setIsVisible(false);\n  };\n\n  useEffect(() => {\n    const linkTracker = {\n      linkReceived: url => {\n        const parts = url.split('/');\n        if (parts.length < 2) return;\n\n        switch (parts[1]) {\n          case 'show':\n            setIsVisible(true);\n            return;\n\n          case 'hide':\n            setIsVisible(false);\n            return;\n\n          case 'toggle':\n            setIsVisible(prevValue => !prevValue);\n            return;\n\n          case 'tour':\n            // todo: launch tour\n            return;\n\n          case 'report':\n            if (parts.length >= 5 && parts[2] === 'room') {\n              const roomId = parseInt(parts[3]);\n              const unknown = unescape(parts.splice(4).join('/')); //this.reportRoom(roomId, unknown, \"\");\n            }\n\n            return;\n        }\n      },\n      eventUrlPrefix: 'help/'\n    };\n    AddEventLinkTracker(linkTracker);\n    return () => RemoveLinkEventTracker(linkTracker);\n  }, []);\n  useEffect(() => {\n    if (!activeReport) return;\n    setIsVisible(true);\n  }, [activeReport]);\n\n  const CurrentStepView = () => {\n    if (activeReport) {\n      switch (activeReport.currentStep) {\n        case ReportState.SELECT_USER:\n          return /*#__PURE__*/_jsxDEV(SelectReportedUserView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 28\n          }, this);\n\n        case ReportState.SELECT_CHATS:\n          return /*#__PURE__*/_jsxDEV(SelectReportedChatsView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 28\n          }, this);\n\n        case ReportState.SELECT_TOPICS:\n          return /*#__PURE__*/_jsxDEV(SelectTopicView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 28\n          }, this);\n\n        case ReportState.INPUT_REPORT_MESSAGE:\n          return /*#__PURE__*/_jsxDEV(DescribeReportView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 28\n          }, this);\n\n        case ReportState.REPORT_SUMMARY:\n          return /*#__PURE__*/_jsxDEV(ReportSummaryView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 28\n          }, this);\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(HelpIndexView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 16\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isVisible && /*#__PURE__*/_jsxDEV(NitroCardView, {\n      className: \"nitro-help\",\n      theme: \"primary-slim\",\n      children: [/*#__PURE__*/_jsxDEV(NitroCardHeaderView, {\n        headerText: LocalizeText('help.button.cfh'),\n        onCloseClick: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(NitroCardContentView, {\n        className: \"text-black\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            center: true,\n            size: 5,\n            overflow: \"hidden\",\n            children: /*#__PURE__*/_jsxDEV(Base, {\n              className: \"index-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            justifyContent: \"between\",\n            size: 7,\n            overflow: \"hidden\",\n            children: /*#__PURE__*/_jsxDEV(CurrentStepView, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(SanctionSatusView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NameChangeView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(HelpView, \"YGtzTROCiaxIKDeZazxckvDUGhY=\", false, function () {\n  return [useHelp];\n});\n\n_c = HelpView;\n\nvar _c;\n\n$RefreshReg$(_c, \"HelpView\");","map":{"version":3,"names":["useEffect","useState","AddEventLinkTracker","LocalizeText","RemoveLinkEventTracker","ReportState","Base","Column","Grid","NitroCardContentView","NitroCardHeaderView","NitroCardView","useHelp","DescribeReportView","HelpIndexView","NameChangeView","ReportSummaryView","SanctionSatusView","SelectReportedChatsView","SelectReportedUserView","SelectTopicView","HelpView","props","isVisible","setIsVisible","activeReport","setActiveReport","report","onClose","linkTracker","linkReceived","url","parts","split","length","prevValue","roomId","parseInt","unknown","unescape","splice","join","eventUrlPrefix","CurrentStepView","currentStep","SELECT_USER","SELECT_CHATS","SELECT_TOPICS","INPUT_REPORT_MESSAGE","REPORT_SUMMARY"],"sources":["C:/Users/ChiiO/Desktop/nitro-reactdev/src/components/help/HelpView.tsx"],"sourcesContent":["import { ILinkEventTracker } from '@nitrots/nitro-renderer';\r\nimport { FC, useEffect, useState } from 'react';\r\nimport { AddEventLinkTracker, LocalizeText, RemoveLinkEventTracker, ReportState } from '../../api';\r\nimport { Base, Column, Grid, NitroCardContentView, NitroCardHeaderView, NitroCardView } from '../../common';\r\nimport { useHelp } from '../../hooks';\r\nimport { DescribeReportView } from './views/DescribeReportView';\r\nimport { HelpIndexView } from './views/HelpIndexView';\r\nimport { NameChangeView } from './views/name-change/NameChangeView';\r\nimport { ReportSummaryView } from './views/ReportSummaryView';\r\nimport { SanctionSatusView } from './views/SanctionStatusView';\r\nimport { SelectReportedChatsView } from './views/SelectReportedChatsView';\r\nimport { SelectReportedUserView } from './views/SelectReportedUserView';\r\nimport { SelectTopicView } from './views/SelectTopicView';\r\n\r\nexport const HelpView: FC<{}> = props =>\r\n{\r\n    const [ isVisible, setIsVisible ] = useState(false);\r\n    const { activeReport = null, setActiveReport = null, report = null } = useHelp();\r\n\r\n    const onClose = () =>\r\n    {\r\n        setActiveReport(null);\r\n        setIsVisible(false);\r\n    }\r\n\r\n    useEffect(() =>\r\n    {\r\n        const linkTracker: ILinkEventTracker = {\r\n            linkReceived: (url: string) =>\r\n            {\r\n                const parts = url.split('/');\r\n        \r\n                if(parts.length < 2) return;\r\n        \r\n                switch(parts[1])\r\n                {\r\n                    case 'show':\r\n                        setIsVisible(true);\r\n                        return;\r\n                    case 'hide':\r\n                        setIsVisible(false);\r\n                        return;\r\n                    case 'toggle':\r\n                        setIsVisible(prevValue => !prevValue);\r\n                        return;\r\n                    case 'tour':\r\n                        // todo: launch tour\r\n                        return;\r\n                    case 'report':\r\n                        if((parts.length >= 5) && (parts[2] === 'room'))\r\n                        {\r\n                            const roomId = parseInt(parts[3]);\r\n                            const unknown = unescape(parts.splice(4).join('/'));\r\n                            //this.reportRoom(roomId, unknown, \"\");\r\n                        }\r\n                        return;\r\n                }\r\n            },\r\n            eventUrlPrefix: 'help/'\r\n        };\r\n\r\n        AddEventLinkTracker(linkTracker);\r\n\r\n        return () => RemoveLinkEventTracker(linkTracker);\r\n    }, []);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(!activeReport) return;\r\n\r\n        setIsVisible(true);\r\n    }, [ activeReport ]);\r\n    \r\n    const CurrentStepView = () =>\r\n    {\r\n        if(activeReport)\r\n        {\r\n            switch(activeReport.currentStep)\r\n            {\r\n                case ReportState.SELECT_USER:\r\n                    return <SelectReportedUserView />;\r\n                case ReportState.SELECT_CHATS:\r\n                    return <SelectReportedChatsView />;\r\n                case ReportState.SELECT_TOPICS:\r\n                    return <SelectTopicView />;\r\n                case ReportState.INPUT_REPORT_MESSAGE:\r\n                    return <DescribeReportView />;\r\n                case ReportState.REPORT_SUMMARY:\r\n                    return <ReportSummaryView />;\r\n            }\r\n        }\r\n\r\n        return <HelpIndexView />;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            { isVisible &&\r\n                <NitroCardView className=\"nitro-help\" theme=\"primary-slim\">\r\n                    <NitroCardHeaderView headerText={ LocalizeText('help.button.cfh') } onCloseClick={ onClose } />\r\n                    <NitroCardContentView className=\"text-black\">\r\n                        <Grid>\r\n                            <Column center size={ 5 } overflow=\"hidden\">\r\n                                <Base className=\"index-image\" />\r\n                            </Column>\r\n                            <Column justifyContent=\"between\" size={ 7 } overflow=\"hidden\">\r\n                                <CurrentStepView />\r\n                            </Column>\r\n                        </Grid>\r\n                    </NitroCardContentView>\r\n                </NitroCardView> }\r\n            <SanctionSatusView />\r\n            <NameChangeView />\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}