{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ChiiO\\\\Desktop\\\\nitro-reactdev\\\\src\\\\components\\\\groups\\\\GroupsView.tsx\",\n    _s = $RefreshSig$();\n\nimport { GroupPurchasedEvent, GroupSettingsComposer } from '@nitrots/nitro-renderer';\nimport { useEffect, useState } from 'react';\nimport { AddEventLinkTracker, RemoveLinkEventTracker, SendMessageComposer, TryVisitRoom } from '../../api';\nimport { useGroup, useMessageEvent } from '../../hooks';\nimport { GroupCreatorView } from './views/GroupCreatorView';\nimport { GroupInformationStandaloneView } from './views/GroupInformationStandaloneView';\nimport { GroupManagerView } from './views/GroupManagerView';\nimport { GroupMembersView } from './views/GroupMembersView';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const GroupsView = props => {\n  _s();\n\n  const [isCreatorVisible, setCreatorVisible] = useState(false);\n  const {} = useGroup();\n  useMessageEvent(GroupPurchasedEvent, event => {\n    const parser = event.getParser();\n    setCreatorVisible(false);\n    TryVisitRoom(parser.roomId);\n  });\n  useEffect(() => {\n    const linkTracker = {\n      linkReceived: url => {\n        const parts = url.split('/');\n        if (parts.length < 2) return;\n\n        switch (parts[1]) {\n          case 'create':\n            setCreatorVisible(true);\n            return;\n\n          case 'manage':\n            if (!parts[2]) return;\n            setCreatorVisible(false);\n            SendMessageComposer(new GroupSettingsComposer(Number(parts[2])));\n            return;\n        }\n      },\n      eventUrlPrefix: 'groups/'\n    };\n    AddEventLinkTracker(linkTracker);\n    return () => RemoveLinkEventTracker(linkTracker);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isCreatorVisible && /*#__PURE__*/_jsxDEV(GroupCreatorView, {\n      onClose: () => setCreatorVisible(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this), !isCreatorVisible && /*#__PURE__*/_jsxDEV(GroupManagerView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(GroupMembersView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GroupInformationStandaloneView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(GroupsView, \"s3l03wSuf8Lda53pIpINLCZOBnQ=\", false, function () {\n  return [useGroup, useMessageEvent];\n});\n\n_c = GroupsView;\n\nvar _c;\n\n$RefreshReg$(_c, \"GroupsView\");","map":{"version":3,"names":["GroupPurchasedEvent","GroupSettingsComposer","useEffect","useState","AddEventLinkTracker","RemoveLinkEventTracker","SendMessageComposer","TryVisitRoom","useGroup","useMessageEvent","GroupCreatorView","GroupInformationStandaloneView","GroupManagerView","GroupMembersView","GroupsView","props","isCreatorVisible","setCreatorVisible","event","parser","getParser","roomId","linkTracker","linkReceived","url","parts","split","length","Number","eventUrlPrefix"],"sources":["C:/Users/ChiiO/Desktop/nitro-reactdev/src/components/groups/GroupsView.tsx"],"sourcesContent":["import { GroupPurchasedEvent, GroupSettingsComposer, ILinkEventTracker } from '@nitrots/nitro-renderer';\r\nimport { FC, useEffect, useState } from 'react';\r\nimport { AddEventLinkTracker, RemoveLinkEventTracker, SendMessageComposer, TryVisitRoom } from '../../api';\r\nimport { useGroup, useMessageEvent } from '../../hooks';\r\nimport { GroupCreatorView } from './views/GroupCreatorView';\r\nimport { GroupInformationStandaloneView } from './views/GroupInformationStandaloneView';\r\nimport { GroupManagerView } from './views/GroupManagerView';\r\nimport { GroupMembersView } from './views/GroupMembersView';\r\n\r\nexport const GroupsView: FC<{}> = props =>\r\n{\r\n    const [ isCreatorVisible, setCreatorVisible ] = useState<boolean>(false);\r\n    const {} = useGroup();\r\n\r\n    useMessageEvent<GroupPurchasedEvent>(GroupPurchasedEvent, event =>\r\n    {\r\n        const parser = event.getParser();\r\n\r\n        setCreatorVisible(false);\r\n        TryVisitRoom(parser.roomId);\r\n    });\r\n\r\n    useEffect(() =>\r\n    {\r\n        const linkTracker: ILinkEventTracker = {\r\n            linkReceived: (url: string) =>\r\n            {\r\n                const parts = url.split('/');\r\n        \r\n                if(parts.length < 2) return;\r\n        \r\n                switch(parts[1])\r\n                {\r\n                    case 'create':\r\n                        setCreatorVisible(true);\r\n                        return;\r\n                    case 'manage':\r\n                        if(!parts[2]) return;\r\n        \r\n                        setCreatorVisible(false);\r\n                        SendMessageComposer(new GroupSettingsComposer(Number(parts[2])));\r\n                        return;\r\n                }\r\n            },\r\n            eventUrlPrefix: 'groups/'\r\n        };\r\n\r\n        AddEventLinkTracker(linkTracker);\r\n\r\n        return () => RemoveLinkEventTracker(linkTracker);\r\n    }, []);\r\n    \r\n    return (\r\n        <>\r\n            { isCreatorVisible &&\r\n                <GroupCreatorView onClose={ () => setCreatorVisible(false) } /> }\r\n            { !isCreatorVisible &&\r\n                <GroupManagerView /> }\r\n            <GroupMembersView />\r\n            <GroupInformationStandaloneView />\r\n        </>\r\n    );\r\n};\r\n"],"mappings":";;;AAAA,SAASA,mBAAT,EAA8BC,qBAA9B,QAA8E,yBAA9E;AACA,SAAaC,SAAb,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,SAASC,mBAAT,EAA8BC,sBAA9B,EAAsDC,mBAAtD,EAA2EC,YAA3E,QAA+F,WAA/F;AACA,SAASC,QAAT,EAAmBC,eAAnB,QAA0C,aAA1C;AACA,SAASC,gBAAT,QAAiC,0BAAjC;AACA,SAASC,8BAAT,QAA+C,wCAA/C;AACA,SAASC,gBAAT,QAAiC,0BAAjC;AACA,SAASC,gBAAT,QAAiC,0BAAjC;;;AAEA,OAAO,MAAMC,UAAkB,GAAGC,KAAK,IACvC;EAAA;;EACI,MAAM,CAAEC,gBAAF,EAAoBC,iBAApB,IAA0Cd,QAAQ,CAAU,KAAV,CAAxD;EACA,MAAM,KAAKK,QAAQ,EAAnB;EAEAC,eAAe,CAAsBT,mBAAtB,EAA2CkB,KAAK,IAC/D;IACI,MAAMC,MAAM,GAAGD,KAAK,CAACE,SAAN,EAAf;IAEAH,iBAAiB,CAAC,KAAD,CAAjB;IACAV,YAAY,CAACY,MAAM,CAACE,MAAR,CAAZ;EACH,CANc,CAAf;EAQAnB,SAAS,CAAC,MACV;IACI,MAAMoB,WAA8B,GAAG;MACnCC,YAAY,EAAGC,GAAD,IACd;QACI,MAAMC,KAAK,GAAGD,GAAG,CAACE,KAAJ,CAAU,GAAV,CAAd;QAEA,IAAGD,KAAK,CAACE,MAAN,GAAe,CAAlB,EAAqB;;QAErB,QAAOF,KAAK,CAAC,CAAD,CAAZ;UAEI,KAAK,QAAL;YACIR,iBAAiB,CAAC,IAAD,CAAjB;YACA;;UACJ,KAAK,QAAL;YACI,IAAG,CAACQ,KAAK,CAAC,CAAD,CAAT,EAAc;YAEdR,iBAAiB,CAAC,KAAD,CAAjB;YACAX,mBAAmB,CAAC,IAAIL,qBAAJ,CAA0B2B,MAAM,CAACH,KAAK,CAAC,CAAD,CAAN,CAAhC,CAAD,CAAnB;YACA;QAVR;MAYH,CAnBkC;MAoBnCI,cAAc,EAAE;IApBmB,CAAvC;IAuBAzB,mBAAmB,CAACkB,WAAD,CAAnB;IAEA,OAAO,MAAMjB,sBAAsB,CAACiB,WAAD,CAAnC;EACH,CA5BQ,EA4BN,EA5BM,CAAT;EA8BA,oBACI;IAAA,WACMN,gBAAgB,iBACd,QAAC,gBAAD;MAAkB,OAAO,EAAG,MAAMC,iBAAiB,CAAC,KAAD;IAAnD;MAAA;MAAA;MAAA;IAAA,QAFR,EAGM,CAACD,gBAAD,iBACE,QAAC,gBAAD;MAAA;MAAA;MAAA;IAAA,QAJR,eAKI,QAAC,gBAAD;MAAA;MAAA;MAAA;IAAA,QALJ,eAMI,QAAC,8BAAD;MAAA;MAAA;MAAA;IAAA,QANJ;EAAA,gBADJ;AAUH,CArDM;;GAAMF,U;UAGEN,Q,EAEXC,e;;;KALSK,U"},"metadata":{},"sourceType":"module"}