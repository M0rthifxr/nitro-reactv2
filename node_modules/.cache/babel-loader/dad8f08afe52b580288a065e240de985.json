{"ast":null,"code":"import{MouseEventType,RoomObjectCategory}from'@nitrots/nitro-renderer';import{useEffect,useRef}from'react';import{CreateLinkEvent,DispatchUiEvent,GetRoomEngine,GetRoomSession,GetSessionDataManager,GetUserProfile}from'../../api';import{Base,Flex,LayoutItemCountView}from'../../common';import{GuideToolEvent}from'../../events';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const ToolbarMeView=props=>{const{useGuideTool=false,unseenAchievementCount=0,setMeExpanded=null,children=null,...rest}=props;const elementRef=useRef();useEffect(()=>{const roomSession=GetRoomSession();if(!roomSession)return;GetRoomEngine().selectRoomObject(roomSession.roomId,roomSession.ownRoomIndex,RoomObjectCategory.UNIT);},[]);useEffect(()=>{const onClick=event=>setMeExpanded(false);document.addEventListener('click',onClick);return()=>document.removeEventListener(MouseEventType.MOUSE_CLICK,onClick);},[setMeExpanded]);return/*#__PURE__*/_jsxs(Flex,{innerRef:elementRef,alignItems:\"center\",className:\"nitro-toolbar-me p-2\",gap:2,children:[useGuideTool&&/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-helper-tool\",onClick:event=>DispatchUiEvent(new GuideToolEvent(GuideToolEvent.TOGGLE_GUIDE_TOOL))}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-achievements\",onClick:event=>CreateLinkEvent('achievements/toggle'),children:unseenAchievementCount>0&&/*#__PURE__*/_jsx(LayoutItemCountView,{count:unseenAchievementCount})}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-profile\",onClick:event=>GetUserProfile(GetSessionDataManager().userId)}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-rooms\",onClick:event=>CreateLinkEvent('navigator/search/myworld_view')}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-clothing\",onClick:event=>CreateLinkEvent('avatar-editor/toggle')}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-settings\",onClick:event=>CreateLinkEvent('user-settings/toggle')}),children]});};","map":null,"metadata":{},"sourceType":"module"}