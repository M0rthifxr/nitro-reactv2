{"ast":null,"code":"import{attemptItemPlacement,CreateLinkEvent,LocalizeText}from'../../../../api';import{Button,Column,Flex,LayoutGiftTagView,LayoutImage,NitroCardContentView,NitroCardHeaderView,NitroCardView,Text}from'../../../../common';import{useFurniturePresentWidget,useInventoryFurni}from'../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const FurnitureGiftOpeningView=props=>{const{objectId=-1,classId=-1,itemType=null,text=null,isOwnerOfFurniture=false,senderName=null,senderFigure=null,placedItemId=-1,placedItemType=null,placedInRoom=false,imageUrl=null,openPresent=null,onClose=null}=useFurniturePresentWidget();const{groupItems=[]}=useInventoryFurni();if(objectId===-1)return null;const place=itemId=>{const groupItem=groupItems.find(group=>{var _group$getItemById;return((_group$getItemById=group.getItemById(itemId))===null||_group$getItemById===void 0?void 0:_group$getItemById.id)===itemId;});if(groupItem)attemptItemPlacement(groupItem);onClose();};return/*#__PURE__*/_jsxs(NitroCardView,{className:\"nitro-gift-opening\",theme:\"primary-slim\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:LocalizeText(senderName?'widget.furni.present.window.title_from':'widget.furni.present.window.title',['name'],[senderName]),onCloseClick:onClose}),/*#__PURE__*/_jsxs(NitroCardContentView,{children:[placedItemId===-1&&/*#__PURE__*/_jsxs(Column,{overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Flex,{center:true,overflow:\"auto\",children:/*#__PURE__*/_jsx(LayoutGiftTagView,{userName:senderName,figure:senderFigure,message:text})}),isOwnerOfFurniture&&/*#__PURE__*/_jsxs(Flex,{gap:1,children:[senderName&&/*#__PURE__*/_jsx(Button,{fullWidth:true,onClick:event=>CreateLinkEvent('catalog/open'),children:LocalizeText('widget.furni.present.give_gift',['name'],[senderName])}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"success\",onClick:openPresent,children:LocalizeText('widget.furni.present.open_gift')})]})]}),placedItemId>-1&&/*#__PURE__*/_jsxs(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Column,{center:true,className:\"p-2\",children:/*#__PURE__*/_jsx(LayoutImage,{imageUrl:imageUrl})}),/*#__PURE__*/_jsxs(Column,{grow:true,children:[/*#__PURE__*/_jsxs(Column,{center:true,gap:1,children:[/*#__PURE__*/_jsx(Text,{wrap:true,small:true,children:LocalizeText('widget.furni.present.message_opened')}),/*#__PURE__*/_jsx(Text,{bold:true,fontSize:5,children:text})]}),/*#__PURE__*/_jsxs(Column,{grow:true,gap:1,children:[/*#__PURE__*/_jsxs(Flex,{gap:1,children:[placedInRoom&&/*#__PURE__*/_jsx(Button,{fullWidth:true,onClick:null,children:LocalizeText('widget.furni.present.put_in_inventory')}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"success\",onClick:event=>place(placedItemId),children:LocalizeText(placedInRoom?'widget.furni.present.keep_in_room':'widget.furni.present.place_in_room')})]}),senderName&&senderName.length&&/*#__PURE__*/_jsx(Button,{fullWidth:true,onClick:event=>CreateLinkEvent('catalog/open'),children:LocalizeText('widget.furni.present.give_gift',['name'],[senderName])})]})]})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}