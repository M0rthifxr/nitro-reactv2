{"ast":null,"code":"import{useCallback,useEffect,useState}from'react';import YouTube from'react-youtube';import{LocalizeText,YoutubeVideoPlaybackStateEnum}from'../../../../api';import{Grid,LayoutGridItem,NitroCardContentView,NitroCardHeaderView,NitroCardView}from'../../../../common';import{useFurnitureYoutubeWidget}from'../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const FurnitureYoutubeDisplayView=props=>{const[player,setPlayer]=useState(null);const{objectId=-1,videoId=null,videoStart=0,videoEnd=0,currentVideoState=null,selectedVideo=null,playlists=[],onClose=null,previous=null,next=null,pause=null,play=null,selectVideo=null}=useFurnitureYoutubeWidget();const onStateChange=useCallback(event=>{setPlayer(event.target);if(objectId===-1)return;switch(event.target.getPlayerState()){case-1:case 1:if(currentVideoState===2){//event.target.pauseVideo();\n}if(currentVideoState!==1)play();return;case 2:if(currentVideoState!==2)pause();}},[objectId,currentVideoState,play,pause]);useEffect(()=>{if(currentVideoState===null||!player)return;if(currentVideoState===YoutubeVideoPlaybackStateEnum.PLAYING&&player.getPlayerState()!==YoutubeVideoPlaybackStateEnum.PLAYING){player.playVideo();return;}if(currentVideoState===YoutubeVideoPlaybackStateEnum.PAUSED&&player.getPlayerState()!==YoutubeVideoPlaybackStateEnum.PAUSED){player.pauseVideo();return;}},[currentVideoState,player]);if(objectId===-1)return null;const youtubeOptions={height:'375',width:'500',playerVars:{autoplay:1,disablekb:1,controls:0,origin:window.origin,modestbranding:1,start:videoStart,end:videoEnd}};return/*#__PURE__*/_jsxs(NitroCardView,{className:\"youtube-tv-widget\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:'',onCloseClick:onClose}),/*#__PURE__*/_jsx(NitroCardContentView,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row w-100 h-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"youtube-video-container col-9\",children:[videoId&&videoId.length>0&&/*#__PURE__*/_jsx(YouTube,{videoId:videoId,opts:youtubeOptions,onReady:event=>setPlayer(event.target),onStateChange:onStateChange,containerClassName:'youtubeContainer'}),(!videoId||videoId.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"empty-video w-100 h-100 justify-content-center align-items-center d-flex\",children:LocalizeText('widget.furni.video_viewer.no_videos')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"playlist-container col-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"playlist-controls justify-content-center d-flex\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-youtube-prev cursor-pointer\",onClick:previous}),/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-youtube-next cursor-pointer\",onClick:next})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:LocalizeText('widget.furni.video_viewer.playlists')}),/*#__PURE__*/_jsx(Grid,{columnCount:1,className:\"playlist-grid\",children:playlists&&playlists.map((entry,index)=>{return/*#__PURE__*/_jsxs(LayoutGridItem,{onClick:event=>selectVideo(entry.video),itemActive:entry.video===selectedVideo,children:[/*#__PURE__*/_jsx(\"b\",{children:entry.title}),\" - \",entry.description]},index);})})]})]})})]});};","map":null,"metadata":{},"sourceType":"module"}