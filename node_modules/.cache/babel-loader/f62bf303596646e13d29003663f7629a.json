{"ast":null,"code":"import{useEffect,useState}from'react';import{ColorUtils}from'../../../../api';import{DraggableWindow,DraggableWindowPosition}from'../../../../common';import{useFurnitureStickieWidget}from'../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const STICKIE_COLORS=['9CCEFF','FF9CFF','9CFF9C','FFFF33'];const STICKIE_COLOR_NAMES=['blue','pink','green','yellow'];const STICKIE_TYPES=['post_it','post_it_shakesp','post_it_dreams','post_it_xmas','post_it_vd','post_it_juninas'];const STICKIE_TYPE_NAMES=['post_it','shakesp','dreams','christmas','heart','juninas'];const getStickieColorName=color=>{let index=STICKIE_COLORS.indexOf(color);if(index===-1)index=0;return STICKIE_COLOR_NAMES[index];};const getStickieTypeName=type=>{let index=STICKIE_TYPES.indexOf(type);if(index===-1)index=0;return STICKIE_TYPE_NAMES[index];};export const FurnitureStickieView=props=>{const{objectId=-1,color='0',text='',type='',canModify=false,updateColor=null,updateText=null,trash=null,onClose=null}=useFurnitureStickieWidget();const[isEditing,setIsEditing]=useState(false);useEffect(()=>{setIsEditing(false);},[objectId,color,text,type]);if(objectId===-1)return null;return/*#__PURE__*/_jsx(DraggableWindow,{handleSelector:\".drag-handler\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:/*#__PURE__*/_jsxs(\"div\",{className:'nitro-stickie nitro-stickie-image stickie-'+(type=='post_it'?getStickieColorName(color):getStickieTypeName(type)),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center stickie-header drag-handler\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center flex-grow-1 h-100\",children:canModify&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"nitro-stickie-image stickie-trash header-trash\",onClick:trash}),type=='post_it'&&/*#__PURE__*/_jsx(_Fragment,{children:STICKIE_COLORS.map(color=>{return/*#__PURE__*/_jsx(\"div\",{className:\"stickie-color ms-1\",onClick:event=>updateColor(color),style:{backgroundColor:ColorUtils.makeColorHex(color)}},color);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center nitro-stickie-image stickie-close header-close\",onClick:onClose})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stickie-context\",children:!isEditing||!canModify?/*#__PURE__*/_jsx(\"div\",{className:\"context-text\",onClick:event=>canModify&&setIsEditing(true),children:text}):/*#__PURE__*/_jsx(\"textarea\",{className:\"context-text\",defaultValue:text,tabIndex:0,onBlur:event=>updateText(event.target.value),autoFocus:true})})]})});};","map":null,"metadata":{},"sourceType":"module"}