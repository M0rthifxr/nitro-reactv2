{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ChiiO\\\\Desktop\\\\nitro-reactdev\\\\src\\\\components\\\\navigator\\\\NavigatorView.tsx\",\n    _s = $RefreshSig$();\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { ConvertGlobalRoomIdMessageComposer, HabboWebTools, LegacyExternalInterface, NavigatorInitComposer, NavigatorSearchComposer, RoomSessionEvent } from '@nitrots/nitro-renderer';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { AddEventLinkTracker, LocalizeText, RemoveLinkEventTracker, SendMessageComposer, TryVisitRoom } from '../../api';\nimport { Base, Column, NitroCardContentView, NitroCardHeaderView, NitroCardTabsItemView, NitroCardTabsView, NitroCardView } from '../../common';\nimport { useNavigator, useRoomSessionManagerEvent } from '../../hooks';\nimport { NavigatorDoorStateView } from './views/NavigatorDoorStateView';\nimport { NavigatorRoomCreatorView } from './views/NavigatorRoomCreatorView';\nimport { NavigatorRoomInfoView } from './views/NavigatorRoomInfoView';\nimport { NavigatorRoomLinkView } from './views/NavigatorRoomLinkView';\nimport { NavigatorRoomSettingsView } from './views/room-settings/NavigatorRoomSettingsView';\nimport { NavigatorSearchResultView } from './views/search/NavigatorSearchResultView';\nimport { NavigatorSearchView } from './views/search/NavigatorSearchView';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const NavigatorView = props => {\n  _s();\n\n  const [isVisible, setIsVisible] = useState(false);\n  const [isReady, setIsReady] = useState(false);\n  const [isCreatorOpen, setCreatorOpen] = useState(false);\n  const [isRoomInfoOpen, setRoomInfoOpen] = useState(false);\n  const [isRoomLinkOpen, setRoomLinkOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [needsInit, setNeedsInit] = useState(true);\n  const [needsSearch, setNeedsSearch] = useState(false);\n  const {\n    searchResult = null,\n    topLevelContext = null,\n    topLevelContexts = null,\n    navigatorData = null\n  } = useNavigator();\n  const pendingSearch = useRef(null);\n  const elementRef = useRef();\n  useRoomSessionManagerEvent(RoomSessionEvent.CREATED, event => {\n    setIsVisible(false);\n    setCreatorOpen(false);\n  });\n  const sendSearch = useCallback((searchValue, contextCode) => {\n    setCreatorOpen(false);\n    SendMessageComposer(new NavigatorSearchComposer(contextCode, searchValue));\n    setIsLoading(true);\n  }, []);\n  const reloadCurrentSearch = useCallback(() => {\n    if (!isReady) {\n      setNeedsSearch(true);\n      return;\n    }\n\n    if (pendingSearch.current) {\n      sendSearch(pendingSearch.current.value, pendingSearch.current.code);\n      pendingSearch.current = null;\n      return;\n    }\n\n    if (searchResult) {\n      sendSearch(searchResult.data, searchResult.code);\n      return;\n    }\n\n    if (!topLevelContext) return;\n    sendSearch('', topLevelContext.code);\n  }, [isReady, searchResult, topLevelContext, sendSearch]);\n  useEffect(() => {\n    const linkTracker = {\n      linkReceived: url => {\n        const parts = url.split('/');\n        if (parts.length < 2) return;\n\n        switch (parts[1]) {\n          case 'show':\n            {\n              setIsVisible(true);\n              setNeedsSearch(true);\n              return;\n            }\n\n          case 'hide':\n            setIsVisible(false);\n            return;\n\n          case 'toggle':\n            {\n              if (isVisible) {\n                setIsVisible(false);\n                return;\n              }\n\n              setIsVisible(true);\n              setNeedsSearch(true);\n              return;\n            }\n\n          case 'toggle-room-info':\n            setRoomInfoOpen(value => !value);\n            return;\n\n          case 'toggle-room-link':\n            setRoomLinkOpen(value => !value);\n            return;\n\n          case 'goto':\n            if (parts.length <= 2) return;\n\n            switch (parts[2]) {\n              case 'home':\n                if (navigatorData.homeRoomId <= 0) return;\n                TryVisitRoom(navigatorData.homeRoomId);\n                break;\n\n              default:\n                {\n                  const roomId = parseInt(parts[2]);\n                  TryVisitRoom(roomId);\n                }\n            }\n\n            return;\n\n          case 'create':\n            setIsVisible(true);\n            setCreatorOpen(true);\n            return;\n\n          case 'search':\n            if (parts.length > 2) {\n              const topLevelContextCode = parts[2];\n              let searchValue = '';\n              if (parts.length > 3) searchValue = parts[3];\n              pendingSearch.current = {\n                value: searchValue,\n                code: topLevelContextCode\n              };\n              setIsVisible(true);\n              setNeedsSearch(true);\n            }\n\n            return;\n        }\n      },\n      eventUrlPrefix: 'navigator/'\n    };\n    AddEventLinkTracker(linkTracker);\n    return () => RemoveLinkEventTracker(linkTracker);\n  }, [isVisible, navigatorData]);\n  useEffect(() => {\n    if (!searchResult) return;\n    setIsLoading(false);\n    if (elementRef && elementRef.current) elementRef.current.scrollTop = 0;\n  }, [searchResult]);\n  useEffect(() => {\n    if (!isVisible || !isReady || !needsSearch) return;\n    reloadCurrentSearch();\n    setNeedsSearch(false);\n  }, [isVisible, isReady, needsSearch, reloadCurrentSearch]);\n  useEffect(() => {\n    if (isReady || !topLevelContext) return;\n    setIsReady(true);\n  }, [isReady, topLevelContext]);\n  useEffect(() => {\n    if (!isVisible || !needsInit) return;\n    SendMessageComposer(new NavigatorInitComposer());\n    setNeedsInit(false);\n  }, [isVisible, needsInit]);\n  useEffect(() => {\n    LegacyExternalInterface.addCallback(HabboWebTools.OPENROOM, function (k) {\n      let _arg_2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      let _arg_3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      return SendMessageComposer(new ConvertGlobalRoomIdMessageComposer(k));\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isVisible && /*#__PURE__*/_jsxDEV(NitroCardView, {\n      uniqueKey: \"navigator\",\n      className: \"nitro-navigator\",\n      children: [/*#__PURE__*/_jsxDEV(NitroCardHeaderView, {\n        headerText: LocalizeText(isCreatorOpen ? 'navigator.createroom.title' : 'navigator.title'),\n        onCloseClick: event => setIsVisible(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(NitroCardTabsView, {\n        children: [topLevelContexts && topLevelContexts.length > 0 && topLevelContexts.map((context, index) => {\n          return /*#__PURE__*/_jsxDEV(NitroCardTabsItemView, {\n            isActive: topLevelContext === context && !isCreatorOpen,\n            onClick: event => sendSearch('', context.code),\n            children: LocalizeText('navigator.toplevelview.' + context.code)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 33\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(NitroCardTabsItemView, {\n          isActive: isCreatorOpen,\n          onClick: event => setCreatorOpen(true),\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: \"plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(NitroCardContentView, {\n        position: \"relative\",\n        children: [isLoading && /*#__PURE__*/_jsxDEV(Base, {\n          fit: true,\n          position: \"absolute\",\n          className: \"top-0 start-0 z-index-1 bg-muted opacity-0-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 29\n        }, this), !isCreatorOpen && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(NavigatorSearchView, {\n            sendSearch: sendSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            innerRef: elementRef,\n            overflow: \"auto\",\n            children: searchResult && searchResult.results.map((result, index) => /*#__PURE__*/_jsxDEV(NavigatorSearchResultView, {\n              searchResult: result\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 100\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true), isCreatorOpen && /*#__PURE__*/_jsxDEV(NavigatorRoomCreatorView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(NavigatorDoorStateView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), isRoomInfoOpen && /*#__PURE__*/_jsxDEV(NavigatorRoomInfoView, {\n      onCloseClick: () => setRoomInfoOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 33\n    }, this), isRoomLinkOpen && /*#__PURE__*/_jsxDEV(NavigatorRoomLinkView, {\n      onCloseClick: () => setRoomLinkOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 33\n    }, this), /*#__PURE__*/_jsxDEV(NavigatorRoomSettingsView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(NavigatorView, \"Orhw7FHRV8xnFusKYq/SOuHo1L0=\", false, function () {\n  return [useNavigator, useRoomSessionManagerEvent];\n});\n\n_c = NavigatorView;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavigatorView\");","map":{"version":3,"names":["FontAwesomeIcon","ConvertGlobalRoomIdMessageComposer","HabboWebTools","LegacyExternalInterface","NavigatorInitComposer","NavigatorSearchComposer","RoomSessionEvent","useCallback","useEffect","useRef","useState","AddEventLinkTracker","LocalizeText","RemoveLinkEventTracker","SendMessageComposer","TryVisitRoom","Base","Column","NitroCardContentView","NitroCardHeaderView","NitroCardTabsItemView","NitroCardTabsView","NitroCardView","useNavigator","useRoomSessionManagerEvent","NavigatorDoorStateView","NavigatorRoomCreatorView","NavigatorRoomInfoView","NavigatorRoomLinkView","NavigatorRoomSettingsView","NavigatorSearchResultView","NavigatorSearchView","NavigatorView","props","isVisible","setIsVisible","isReady","setIsReady","isCreatorOpen","setCreatorOpen","isRoomInfoOpen","setRoomInfoOpen","isRoomLinkOpen","setRoomLinkOpen","isLoading","setIsLoading","needsInit","setNeedsInit","needsSearch","setNeedsSearch","searchResult","topLevelContext","topLevelContexts","navigatorData","pendingSearch","elementRef","CREATED","event","sendSearch","searchValue","contextCode","reloadCurrentSearch","current","value","code","data","linkTracker","linkReceived","url","parts","split","length","homeRoomId","roomId","parseInt","topLevelContextCode","eventUrlPrefix","scrollTop","addCallback","OPENROOM","k","_arg_2","_arg_3","map","context","index","results","result"],"sources":["C:/Users/ChiiO/Desktop/nitro-reactdev/src/components/navigator/NavigatorView.tsx"],"sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ConvertGlobalRoomIdMessageComposer, HabboWebTools, ILinkEventTracker, LegacyExternalInterface, NavigatorInitComposer, NavigatorSearchComposer, RoomSessionEvent } from '@nitrots/nitro-renderer';\r\nimport { FC, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { AddEventLinkTracker, LocalizeText, RemoveLinkEventTracker, SendMessageComposer, TryVisitRoom } from '../../api';\r\nimport { Base, Column, NitroCardContentView, NitroCardHeaderView, NitroCardTabsItemView, NitroCardTabsView, NitroCardView } from '../../common';\r\nimport { useNavigator, useRoomSessionManagerEvent } from '../../hooks';\r\nimport { NavigatorDoorStateView } from './views/NavigatorDoorStateView';\r\nimport { NavigatorRoomCreatorView } from './views/NavigatorRoomCreatorView';\r\nimport { NavigatorRoomInfoView } from './views/NavigatorRoomInfoView';\r\nimport { NavigatorRoomLinkView } from './views/NavigatorRoomLinkView';\r\nimport { NavigatorRoomSettingsView } from './views/room-settings/NavigatorRoomSettingsView';\r\nimport { NavigatorSearchResultView } from './views/search/NavigatorSearchResultView';\r\nimport { NavigatorSearchView } from './views/search/NavigatorSearchView';\r\n\r\nexport const NavigatorView: FC<{}> = props =>\r\n{\r\n    const [ isVisible, setIsVisible ] = useState(false);\r\n    const [ isReady, setIsReady ] = useState(false);\r\n    const [ isCreatorOpen, setCreatorOpen ] = useState(false);\r\n    const [ isRoomInfoOpen, setRoomInfoOpen ] = useState(false);\r\n    const [ isRoomLinkOpen, setRoomLinkOpen ] = useState(false);\r\n    const [ isLoading, setIsLoading ] = useState(false);\r\n    const [ needsInit, setNeedsInit ] = useState(true);\r\n    const [ needsSearch, setNeedsSearch ] = useState(false);\r\n    const { searchResult = null, topLevelContext = null, topLevelContexts = null, navigatorData = null } = useNavigator();\r\n    const pendingSearch = useRef<{ value: string, code: string }>(null);\r\n    const elementRef = useRef<HTMLDivElement>();\r\n\r\n    useRoomSessionManagerEvent<RoomSessionEvent>(RoomSessionEvent.CREATED, event =>\r\n    {\r\n        setIsVisible(false);\r\n        setCreatorOpen(false);\r\n    });\r\n\r\n    const sendSearch = useCallback((searchValue: string, contextCode: string) =>\r\n    {\r\n        setCreatorOpen(false);\r\n\r\n        SendMessageComposer(new NavigatorSearchComposer(contextCode, searchValue));\r\n\r\n        setIsLoading(true);\r\n    }, []);\r\n\r\n    const reloadCurrentSearch = useCallback(() =>\r\n    {\r\n        if(!isReady)\r\n        {\r\n            setNeedsSearch(true);\r\n\r\n            return;\r\n        }\r\n\r\n        if(pendingSearch.current)\r\n        {\r\n            sendSearch(pendingSearch.current.value, pendingSearch.current.code);\r\n\r\n            pendingSearch.current = null;\r\n\r\n            return;\r\n        }\r\n\r\n        if(searchResult)\r\n        {\r\n            sendSearch(searchResult.data, searchResult.code);\r\n\r\n            return;\r\n        }\r\n\r\n        if(!topLevelContext) return;\r\n\r\n        sendSearch('', topLevelContext.code);\r\n    }, [ isReady, searchResult, topLevelContext, sendSearch ]);\r\n\r\n    useEffect(() =>\r\n    {\r\n        const linkTracker: ILinkEventTracker = {\r\n            linkReceived: (url: string) =>\r\n            {\r\n                const parts = url.split('/');\r\n        \r\n                if(parts.length < 2) return;\r\n        \r\n                switch(parts[1])\r\n                {\r\n                    case 'show': {\r\n                        setIsVisible(true);\r\n                        setNeedsSearch(true);\r\n                        return;\r\n                    }\r\n                    case 'hide':\r\n                        setIsVisible(false);\r\n                        return;\r\n                    case 'toggle': {\r\n                        if(isVisible)\r\n                        {\r\n                            setIsVisible(false);\r\n        \r\n                            return;\r\n                        }\r\n        \r\n                        setIsVisible(true);\r\n                        setNeedsSearch(true);\r\n                        return;\r\n                    }\r\n                    case 'toggle-room-info':\r\n                        setRoomInfoOpen(value => !value);\r\n                        return;\r\n                    case 'toggle-room-link':\r\n                        setRoomLinkOpen(value => !value);\r\n                        return;\r\n                    case 'goto':\r\n                        if(parts.length <= 2) return;\r\n        \r\n                        switch(parts[2])\r\n                        {\r\n                            case 'home':\r\n                                if(navigatorData.homeRoomId <= 0) return;\r\n        \r\n                                TryVisitRoom(navigatorData.homeRoomId);\r\n                                break;\r\n                            default: {\r\n                                const roomId = parseInt(parts[2]);\r\n        \r\n                                TryVisitRoom(roomId);\r\n                            }\r\n                        }\r\n                        return;\r\n                    case 'create':\r\n                        setIsVisible(true);\r\n                        setCreatorOpen(true);\r\n                        return;\r\n                    case 'search':\r\n                        if(parts.length > 2)\r\n                        {\r\n                            const topLevelContextCode = parts[2];\r\n        \r\n                            let searchValue = '';\r\n        \r\n                            if(parts.length > 3) searchValue = parts[3];\r\n        \r\n                            pendingSearch.current = { value: searchValue, code: topLevelContextCode };\r\n        \r\n                            setIsVisible(true);\r\n                            setNeedsSearch(true);\r\n                        }\r\n                        return;\r\n                }\r\n            },\r\n            eventUrlPrefix: 'navigator/'\r\n        };\r\n\r\n        AddEventLinkTracker(linkTracker);\r\n\r\n        return () => RemoveLinkEventTracker(linkTracker);\r\n    }, [ isVisible, navigatorData ]);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(!searchResult) return;\r\n\r\n        setIsLoading(false);\r\n\r\n        if(elementRef && elementRef.current) elementRef.current.scrollTop = 0;\r\n    }, [ searchResult ]);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(!isVisible || !isReady || !needsSearch) return;\r\n\r\n        reloadCurrentSearch();\r\n\r\n        setNeedsSearch(false);\r\n    }, [ isVisible, isReady, needsSearch, reloadCurrentSearch ]);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(isReady || !topLevelContext) return;\r\n\r\n        setIsReady(true);\r\n    }, [ isReady, topLevelContext ]);\r\n\r\n    useEffect(() =>\r\n    {\r\n        if(!isVisible || !needsInit) return;\r\n\r\n        SendMessageComposer(new NavigatorInitComposer());\r\n\r\n        setNeedsInit(false);\r\n    }, [ isVisible, needsInit ]);\r\n\r\n    useEffect(() =>\r\n    {\r\n        LegacyExternalInterface.addCallback(HabboWebTools.OPENROOM, (k: string, _arg_2: boolean = false, _arg_3: string = null) => SendMessageComposer(new ConvertGlobalRoomIdMessageComposer(k)));\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            { isVisible &&\r\n                <NitroCardView uniqueKey=\"navigator\" className=\"nitro-navigator\">\r\n                    <NitroCardHeaderView headerText={ LocalizeText(isCreatorOpen ? 'navigator.createroom.title' : 'navigator.title') } onCloseClick={ event => setIsVisible(false) } />\r\n                    <NitroCardTabsView>\r\n                        { topLevelContexts && (topLevelContexts.length > 0) && topLevelContexts.map((context, index) =>\r\n                        {\r\n                            return (\r\n                                <NitroCardTabsItemView key={ index } isActive={ ((topLevelContext === context) && !isCreatorOpen) } onClick={ event => sendSearch('', context.code) }>\r\n                                    { LocalizeText(('navigator.toplevelview.' + context.code)) }\r\n                                </NitroCardTabsItemView>\r\n                            );\r\n                        }) }\r\n                        <NitroCardTabsItemView isActive={ isCreatorOpen } onClick={ event => setCreatorOpen(true) }>\r\n                            <FontAwesomeIcon icon=\"plus\" />\r\n                        </NitroCardTabsItemView>\r\n                    </NitroCardTabsView>\r\n                    <NitroCardContentView position=\"relative\">\r\n                        { isLoading &&\r\n                            <Base fit position=\"absolute\" className=\"top-0 start-0 z-index-1 bg-muted opacity-0-5\" /> }\r\n                        { !isCreatorOpen &&\r\n                            <>\r\n                                <NavigatorSearchView sendSearch={ sendSearch } />\r\n                                <Column innerRef={ elementRef } overflow=\"auto\">\r\n                                    { (searchResult && searchResult.results.map((result, index) => <NavigatorSearchResultView key={ index } searchResult={ result } />)) }\r\n                                </Column>\r\n                            </> }\r\n                        { isCreatorOpen && <NavigatorRoomCreatorView /> }\r\n                    </NitroCardContentView>\r\n                </NitroCardView> }\r\n            <NavigatorDoorStateView />\r\n            { isRoomInfoOpen && <NavigatorRoomInfoView onCloseClick={ () => setRoomInfoOpen(false) } /> }\r\n            { isRoomLinkOpen && <NavigatorRoomLinkView onCloseClick={ () => setRoomLinkOpen(false) } /> }\r\n            <NavigatorRoomSettingsView />\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}