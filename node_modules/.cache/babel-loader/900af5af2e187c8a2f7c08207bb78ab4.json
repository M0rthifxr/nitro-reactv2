{"ast":null,"code":"import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{RedeemVoucherMessageComposer,VoucherRedeemErrorMessageEvent,VoucherRedeemOkMessageEvent}from'@nitrots/nitro-renderer';import{useState}from'react';import{LocalizeText,SendMessageComposer}from'../../../../../api';import{Button,Flex}from'../../../../../common';import{useMessageEvent,useNotification}from'../../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const CatalogRedeemVoucherView=props=>{const{text=null}=props;const[voucher,setVoucher]=useState('');const[isWaiting,setIsWaiting]=useState(false);const{simpleAlert=null}=useNotification();const redeemVoucher=()=>{if(!voucher||!voucher.length||isWaiting)return;SendMessageComposer(new RedeemVoucherMessageComposer(voucher));setIsWaiting(true);};useMessageEvent(VoucherRedeemOkMessageEvent,event=>{const parser=event.getParser();let message=LocalizeText('catalog.alert.voucherredeem.ok.description');if(parser.productName)message=LocalizeText('catalog.alert.voucherredeem.ok.description.furni',['productName','productDescription'],[parser.productName,parser.productDescription]);simpleAlert(message,null,null,null,LocalizeText('catalog.alert.voucherredeem.ok.title'));setIsWaiting(false);setVoucher('');});useMessageEvent(VoucherRedeemErrorMessageEvent,event=>{const parser=event.getParser();simpleAlert(LocalizeText(`catalog.alert.voucherredeem.error.description.${parser.errorCode}`),null,null,null,LocalizeText('catalog.alert.voucherredeem.error.title'));setIsWaiting(false);});return/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:text,value:voucher,onChange:event=>setVoucher(event.target.value)}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:redeemVoucher,disabled:isWaiting,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"tag\"})})]});};","map":null,"metadata":{},"sourceType":"module"}