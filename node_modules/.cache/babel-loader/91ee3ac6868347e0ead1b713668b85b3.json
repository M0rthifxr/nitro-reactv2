{"ast":null,"code":"import{useEffect,useRef}from'react';import{DispatchMouseEvent,DispatchTouchEvent,GetNitroInstance}from'../../api';import{Base}from'../../common';import{useRoom}from'../../hooks';import{RoomSpectatorView}from'./spectator/RoomSpectatorView';import{RoomWidgetsView}from'./widgets/RoomWidgetsView';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const RoomView=props=>{const{roomSession=null}=useRoom();const elementRef=useRef();useEffect(()=>{const canvas=GetNitroInstance().renderer.view;if(!canvas)return;canvas.onclick=event=>DispatchMouseEvent(event);canvas.onmousemove=event=>DispatchMouseEvent(event);canvas.onmousedown=event=>DispatchMouseEvent(event);canvas.onmouseup=event=>DispatchMouseEvent(event);canvas.ontouchstart=event=>DispatchTouchEvent(event);canvas.ontouchmove=event=>DispatchTouchEvent(event);canvas.ontouchend=event=>DispatchTouchEvent(event);canvas.ontouchcancel=event=>DispatchTouchEvent(event);const element=elementRef.current;if(!element)return;element.appendChild(canvas);},[]);return/*#__PURE__*/_jsx(Base,{fit:true,innerRef:elementRef,className:!roomSession&&'d-none',children:roomSession&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RoomWidgetsView,{}),roomSession.isSpectator&&/*#__PURE__*/_jsx(RoomSpectatorView,{})]})});};","map":null,"metadata":{},"sourceType":"module"}